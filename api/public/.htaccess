<IfModule mod_negotiation.c>
    Options -MultiViews -Indexes
</IfModule>

<IfModule mod_rewrite.c>
    RewriteEngine On

    # Serve existing files/directories as-is (except the document root itself)
    RewriteCond %{REQUEST_FILENAME} -f [OR]
    RewriteCond %{REQUEST_FILENAME} -d
    RewriteCond %{REQUEST_URI} !^/$
    RewriteRule ^ - [L]

    # Route framework endpoints and non-GET/HEAD verbs to Laravel
    RewriteCond %{REQUEST_METHOD} !^(GET|HEAD)$ [OR]
    RewriteCond %{REQUEST_URI} ^/(api|sanctum|broadcasting|oauth|_ignition|inertia|telescope) [NC]
    RewriteRule ^ index.php [L,END,QSA]

    # Fallback to the SPA entrypoint for all other requests
    RewriteCond %{REQUEST_URI} !^/index\.html$
    RewriteRule ^ index.html [L,END]
</IfModule>

DirectoryIndex index.html index.php
