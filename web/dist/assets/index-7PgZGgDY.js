function cg(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in t)){const o=Object.getOwnPropertyDescriptor(i,a);o&&Object.defineProperty(t,a,o.get?o:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function nd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var xu={exports:{}},ya={},bu={exports:{}},He={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var im;function sx(){if(im)return He;im=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function x(S){return S===null||typeof S!="object"?null:(S=v&&S[v]||S["@@iterator"],typeof S=="function"?S:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,j={};function C(S,F,ee){this.props=S,this.context=F,this.refs=j,this.updater=ee||_}C.prototype.isReactComponent={},C.prototype.setState=function(S,F){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,F,"setState")},C.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function T(){}T.prototype=C.prototype;function P(S,F,ee){this.props=S,this.context=F,this.refs=j,this.updater=ee||_}var B=P.prototype=new T;B.constructor=P,k(B,C.prototype),B.isPureReactComponent=!0;var z=Array.isArray,H=Object.prototype.hasOwnProperty,q={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function L(S,F,ee){var ae,ce={},de=null,De=null;if(F!=null)for(ae in F.ref!==void 0&&(De=F.ref),F.key!==void 0&&(de=""+F.key),F)H.call(F,ae)&&!N.hasOwnProperty(ae)&&(ce[ae]=F[ae]);var ke=arguments.length-2;if(ke===1)ce.children=ee;else if(1<ke){for(var Ve=Array(ke),Ze=0;Ze<ke;Ze++)Ve[Ze]=arguments[Ze+2];ce.children=Ve}if(S&&S.defaultProps)for(ae in ke=S.defaultProps,ke)ce[ae]===void 0&&(ce[ae]=ke[ae]);return{$$typeof:t,type:S,key:de,ref:De,props:ce,_owner:q.current}}function V(S,F){return{$$typeof:t,type:S.type,key:F,ref:S.ref,props:S.props,_owner:S._owner}}function A(S){return typeof S=="object"&&S!==null&&S.$$typeof===t}function D(S){var F={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(ee){return F[ee]})}var Y=/\/+/g;function X(S,F){return typeof S=="object"&&S!==null&&S.key!=null?D(""+S.key):F.toString(36)}function ne(S,F,ee,ae,ce){var de=typeof S;(de==="undefined"||de==="boolean")&&(S=null);var De=!1;if(S===null)De=!0;else switch(de){case"string":case"number":De=!0;break;case"object":switch(S.$$typeof){case t:case e:De=!0}}if(De)return De=S,ce=ce(De),S=ae===""?"."+X(De,0):ae,z(ce)?(ee="",S!=null&&(ee=S.replace(Y,"$&/")+"/"),ne(ce,F,ee,"",function(Ze){return Ze})):ce!=null&&(A(ce)&&(ce=V(ce,ee+(!ce.key||De&&De.key===ce.key?"":(""+ce.key).replace(Y,"$&/")+"/")+S)),F.push(ce)),1;if(De=0,ae=ae===""?".":ae+":",z(S))for(var ke=0;ke<S.length;ke++){de=S[ke];var Ve=ae+X(de,ke);De+=ne(de,F,ee,Ve,ce)}else if(Ve=x(S),typeof Ve=="function")for(S=Ve.call(S),ke=0;!(de=S.next()).done;)de=de.value,Ve=ae+X(de,ke++),De+=ne(de,F,ee,Ve,ce);else if(de==="object")throw F=String(S),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.");return De}function oe(S,F,ee){if(S==null)return S;var ae=[],ce=0;return ne(S,ae,"","",function(de){return F.call(ee,de,ce++)}),ae}function fe(S){if(S._status===-1){var F=S._result;F=F(),F.then(function(ee){(S._status===0||S._status===-1)&&(S._status=1,S._result=ee)},function(ee){(S._status===0||S._status===-1)&&(S._status=2,S._result=ee)}),S._status===-1&&(S._status=0,S._result=F)}if(S._status===1)return S._result.default;throw S._result}var pe={current:null},J={transition:null},se={ReactCurrentDispatcher:pe,ReactCurrentBatchConfig:J,ReactCurrentOwner:q};function M(){throw Error("act(...) is not supported in production builds of React.")}return He.Children={map:oe,forEach:function(S,F,ee){oe(S,function(){F.apply(this,arguments)},ee)},count:function(S){var F=0;return oe(S,function(){F++}),F},toArray:function(S){return oe(S,function(F){return F})||[]},only:function(S){if(!A(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},He.Component=C,He.Fragment=n,He.Profiler=a,He.PureComponent=P,He.StrictMode=i,He.Suspense=f,He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=se,He.act=M,He.cloneElement=function(S,F,ee){if(S==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+S+".");var ae=k({},S.props),ce=S.key,de=S.ref,De=S._owner;if(F!=null){if(F.ref!==void 0&&(de=F.ref,De=q.current),F.key!==void 0&&(ce=""+F.key),S.type&&S.type.defaultProps)var ke=S.type.defaultProps;for(Ve in F)H.call(F,Ve)&&!N.hasOwnProperty(Ve)&&(ae[Ve]=F[Ve]===void 0&&ke!==void 0?ke[Ve]:F[Ve])}var Ve=arguments.length-2;if(Ve===1)ae.children=ee;else if(1<Ve){ke=Array(Ve);for(var Ze=0;Ze<Ve;Ze++)ke[Ze]=arguments[Ze+2];ae.children=ke}return{$$typeof:t,type:S.type,key:ce,ref:de,props:ae,_owner:De}},He.createContext=function(S){return S={$$typeof:c,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},S.Provider={$$typeof:o,_context:S},S.Consumer=S},He.createElement=L,He.createFactory=function(S){var F=L.bind(null,S);return F.type=S,F},He.createRef=function(){return{current:null}},He.forwardRef=function(S){return{$$typeof:u,render:S}},He.isValidElement=A,He.lazy=function(S){return{$$typeof:g,_payload:{_status:-1,_result:S},_init:fe}},He.memo=function(S,F){return{$$typeof:m,type:S,compare:F===void 0?null:F}},He.startTransition=function(S){var F=J.transition;J.transition={};try{S()}finally{J.transition=F}},He.unstable_act=M,He.useCallback=function(S,F){return pe.current.useCallback(S,F)},He.useContext=function(S){return pe.current.useContext(S)},He.useDebugValue=function(){},He.useDeferredValue=function(S){return pe.current.useDeferredValue(S)},He.useEffect=function(S,F){return pe.current.useEffect(S,F)},He.useId=function(){return pe.current.useId()},He.useImperativeHandle=function(S,F,ee){return pe.current.useImperativeHandle(S,F,ee)},He.useInsertionEffect=function(S,F){return pe.current.useInsertionEffect(S,F)},He.useLayoutEffect=function(S,F){return pe.current.useLayoutEffect(S,F)},He.useMemo=function(S,F){return pe.current.useMemo(S,F)},He.useReducer=function(S,F,ee){return pe.current.useReducer(S,F,ee)},He.useRef=function(S){return pe.current.useRef(S)},He.useState=function(S){return pe.current.useState(S)},He.useSyncExternalStore=function(S,F,ee){return pe.current.useSyncExternalStore(S,F,ee)},He.useTransition=function(){return pe.current.useTransition()},He.version="18.3.1",He}var sm;function rd(){return sm||(sm=1,bu.exports=sx()),bu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var am;function ax(){if(am)return ya;am=1;var t=rd(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(u,f,m){var g,v={},x=null,_=null;m!==void 0&&(x=""+m),f.key!==void 0&&(x=""+f.key),f.ref!==void 0&&(_=f.ref);for(g in f)i.call(f,g)&&!o.hasOwnProperty(g)&&(v[g]=f[g]);if(u&&u.defaultProps)for(g in f=u.defaultProps,f)v[g]===void 0&&(v[g]=f[g]);return{$$typeof:e,type:u,key:x,ref:_,props:v,_owner:a.current}}return ya.Fragment=n,ya.jsx=c,ya.jsxs=c,ya}var om;function ox(){return om||(om=1,xu.exports=ax()),xu.exports}var h=ox(),w=rd();const Tl=nd(w),lx=cg({__proto__:null,default:Tl},[w]);var Vo={},_u={exports:{}},wn={},wu={exports:{}},Su={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lm;function cx(){return lm||(lm=1,(function(t){function e(J,se){var M=J.length;J.push(se);e:for(;0<M;){var S=M-1>>>1,F=J[S];if(0<a(F,se))J[S]=se,J[M]=F,M=S;else break e}}function n(J){return J.length===0?null:J[0]}function i(J){if(J.length===0)return null;var se=J[0],M=J.pop();if(M!==se){J[0]=M;e:for(var S=0,F=J.length,ee=F>>>1;S<ee;){var ae=2*(S+1)-1,ce=J[ae],de=ae+1,De=J[de];if(0>a(ce,M))de<F&&0>a(De,ce)?(J[S]=De,J[de]=M,S=de):(J[S]=ce,J[ae]=M,S=ae);else if(de<F&&0>a(De,M))J[S]=De,J[de]=M,S=de;else break e}}return se}function a(J,se){var M=J.sortIndex-se.sortIndex;return M!==0?M:J.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,u=c.now();t.unstable_now=function(){return c.now()-u}}var f=[],m=[],g=1,v=null,x=3,_=!1,k=!1,j=!1,C=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(J){for(var se=n(m);se!==null;){if(se.callback===null)i(m);else if(se.startTime<=J)i(m),se.sortIndex=se.expirationTime,e(f,se);else break;se=n(m)}}function z(J){if(j=!1,B(J),!k)if(n(f)!==null)k=!0,fe(H);else{var se=n(m);se!==null&&pe(z,se.startTime-J)}}function H(J,se){k=!1,j&&(j=!1,T(L),L=-1),_=!0;var M=x;try{for(B(se),v=n(f);v!==null&&(!(v.expirationTime>se)||J&&!D());){var S=v.callback;if(typeof S=="function"){v.callback=null,x=v.priorityLevel;var F=S(v.expirationTime<=se);se=t.unstable_now(),typeof F=="function"?v.callback=F:v===n(f)&&i(f),B(se)}else i(f);v=n(f)}if(v!==null)var ee=!0;else{var ae=n(m);ae!==null&&pe(z,ae.startTime-se),ee=!1}return ee}finally{v=null,x=M,_=!1}}var q=!1,N=null,L=-1,V=5,A=-1;function D(){return!(t.unstable_now()-A<V)}function Y(){if(N!==null){var J=t.unstable_now();A=J;var se=!0;try{se=N(!0,J)}finally{se?X():(q=!1,N=null)}}else q=!1}var X;if(typeof P=="function")X=function(){P(Y)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,oe=ne.port2;ne.port1.onmessage=Y,X=function(){oe.postMessage(null)}}else X=function(){C(Y,0)};function fe(J){N=J,q||(q=!0,X())}function pe(J,se){L=C(function(){J(t.unstable_now())},se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_continueExecution=function(){k||_||(k=!0,fe(H))},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(J){switch(x){case 1:case 2:case 3:var se=3;break;default:se=x}var M=x;x=se;try{return J()}finally{x=M}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(J,se){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var M=x;x=J;try{return se()}finally{x=M}},t.unstable_scheduleCallback=function(J,se,M){var S=t.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?S+M:S):M=S,J){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=M+F,J={id:g++,callback:se,priorityLevel:J,startTime:M,expirationTime:F,sortIndex:-1},M>S?(J.sortIndex=M,e(m,J),n(f)===null&&J===n(m)&&(j?(T(L),L=-1):j=!0,pe(z,M-S))):(J.sortIndex=F,e(f,J),k||_||(k=!0,fe(H))),J},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(J){var se=x;return function(){var M=x;x=se;try{return J.apply(this,arguments)}finally{x=M}}}})(Su)),Su}var cm;function ux(){return cm||(cm=1,wu.exports=cx()),wu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var um;function dx(){if(um)return wn;um=1;var t=rd(),e=ux();function n(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,a={};function o(r,s){c(r,s),c(r+"Capture",s)}function c(r,s){for(a[r]=s,r=0;r<s.length;r++)i.add(s[r])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},v={};function x(r){return f.call(v,r)?!0:f.call(g,r)?!1:m.test(r)?v[r]=!0:(g[r]=!0,!1)}function _(r,s,l,d){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function k(r,s,l,d){if(s===null||typeof s>"u"||_(r,s,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function j(r,s,l,d,p,y,b){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=d,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=r,this.type=s,this.sanitizeURL=y,this.removeEmptyString=b}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){C[r]=new j(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];C[s]=new j(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){C[r]=new j(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){C[r]=new j(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){C[r]=new j(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){C[r]=new j(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){C[r]=new j(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){C[r]=new j(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){C[r]=new j(r,5,!1,r.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function P(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(T,P);C[s]=new j(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(T,P);C[s]=new j(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(T,P);C[s]=new j(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){C[r]=new j(r,1,!1,r.toLowerCase(),null,!1,!1)}),C.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){C[r]=new j(r,1,!1,r.toLowerCase(),null,!0,!0)});function B(r,s,l,d){var p=C.hasOwnProperty(s)?C[s]:null;(p!==null?p.type!==0:d||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(k(s,l,p,d)&&(l=null),d||p===null?x(s)&&(l===null?r.removeAttribute(s):r.setAttribute(s,""+l)):p.mustUseProperty?r[p.propertyName]=l===null?p.type===3?!1:"":l:(s=p.attributeName,d=p.attributeNamespace,l===null?r.removeAttribute(s):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,d?r.setAttributeNS(d,s,l):r.setAttribute(s,l))))}var z=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,H=Symbol.for("react.element"),q=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),D=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),oe=Symbol.for("react.memo"),fe=Symbol.for("react.lazy"),pe=Symbol.for("react.offscreen"),J=Symbol.iterator;function se(r){return r===null||typeof r!="object"?null:(r=J&&r[J]||r["@@iterator"],typeof r=="function"?r:null)}var M=Object.assign,S;function F(r){if(S===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);S=s&&s[1]||""}return`
`+S+r}var ee=!1;function ae(r,s){if(!r||ee)return"";ee=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(K){var d=K}Reflect.construct(r,[],s)}else{try{s.call()}catch(K){d=K}r.call(s.prototype)}else{try{throw Error()}catch(K){d=K}r()}}catch(K){if(K&&d&&typeof K.stack=="string"){for(var p=K.stack.split(`
`),y=d.stack.split(`
`),b=p.length-1,E=y.length-1;1<=b&&0<=E&&p[b]!==y[E];)E--;for(;1<=b&&0<=E;b--,E--)if(p[b]!==y[E]){if(b!==1||E!==1)do if(b--,E--,0>E||p[b]!==y[E]){var O=`
`+p[b].replace(" at new "," at ");return r.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",r.displayName)),O}while(1<=b&&0<=E);break}}}finally{ee=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?F(r):""}function ce(r){switch(r.tag){case 5:return F(r.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return r=ae(r.type,!1),r;case 11:return r=ae(r.type.render,!1),r;case 1:return r=ae(r.type,!0),r;default:return""}}function de(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case N:return"Fragment";case q:return"Portal";case V:return"Profiler";case L:return"StrictMode";case X:return"Suspense";case ne:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case D:return(r.displayName||"Context")+".Consumer";case A:return(r._context.displayName||"Context")+".Provider";case Y:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case oe:return s=r.displayName||null,s!==null?s:de(r.type)||"Memo";case fe:s=r._payload,r=r._init;try{return de(r(s))}catch{}}return null}function De(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return de(s);case 8:return s===L?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function ke(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ve(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ze(r){var s=Ve(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),d=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,y=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return p.call(this)},set:function(b){d=""+b,y.call(this,b)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(b){d=""+b},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function It(r){r._valueTracker||(r._valueTracker=Ze(r))}function lt(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),d="";return r&&(d=Ve(r)?r.checked?"true":"false":r.value),r=d,r!==l?(s.setValue(r),!0):!1}function tt(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Lt(r,s){var l=s.checked;return M({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function On(r,s){var l=s.defaultValue==null?"":s.defaultValue,d=s.checked!=null?s.checked:s.defaultChecked;l=ke(s.value!=null?s.value:l),r._wrapperState={initialChecked:d,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function sn(r,s){s=s.checked,s!=null&&B(r,"checked",s,!1)}function gn(r,s){sn(r,s);var l=ke(s.value),d=s.type;if(l!=null)d==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(d==="submit"||d==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?jt(r,s.type,l):s.hasOwnProperty("defaultValue")&&jt(r,s.type,ke(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function tn(r,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var d=s.type;if(!(d!=="submit"&&d!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,l||s===r.value||(r.value=s),r.defaultValue=s}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function jt(r,s,l){(s!=="number"||tt(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var Xt=Array.isArray;function ct(r,s,l,d){if(r=r.options,s){s={};for(var p=0;p<l.length;p++)s["$"+l[p]]=!0;for(l=0;l<r.length;l++)p=s.hasOwnProperty("$"+r[l].value),r[l].selected!==p&&(r[l].selected=p),p&&d&&(r[l].defaultSelected=!0)}else{for(l=""+ke(l),s=null,p=0;p<r.length;p++){if(r[p].value===l){r[p].selected=!0,d&&(r[p].defaultSelected=!0);return}s!==null||r[p].disabled||(s=r[p])}s!==null&&(s.selected=!0)}}function me(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(n(91));return M({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Me(r,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(n(92));if(Xt(l)){if(1<l.length)throw Error(n(93));l=l[0]}s=l}s==null&&(s=""),l=s}r._wrapperState={initialValue:ke(l)}}function Ue(r,s){var l=ke(s.value),d=ke(s.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),s.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),d!=null&&(r.defaultValue=""+d)}function bt(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function Ct(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function an(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?Ct(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var rt,ut=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,d,p){MSApp.execUnsafeLocalFunction(function(){return r(s,l,d,p)})}:r})(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(rt=rt||document.createElement("div"),rt.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=rt.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function Qt(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var Et={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Kn=["Webkit","ms","Moz","O"];Object.keys(Et).forEach(function(r){Kn.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Et[s]=Et[r]})});function G(r,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||Et.hasOwnProperty(r)&&Et[r]?(""+s).trim():s+"px"}function Ne(r,s){r=r.style;for(var l in s)if(s.hasOwnProperty(l)){var d=l.indexOf("--")===0,p=G(l,s[l],d);l==="float"&&(l="cssFloat"),d?r.setProperty(l,p):r[l]=p}}var nt=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _t(r,s){if(s){if(nt[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(n(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(n(61))}if(s.style!=null&&typeof s.style!="object")throw Error(n(62))}}function Tt(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zt=null;function Ut(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var pt=null,on=null,ln=null;function $r(r){if(r=na(r)){if(typeof pt!="function")throw Error(n(280));var s=r.stateNode;s&&(s=so(s),pt(r.stateNode,r.type,s))}}function Hr(r){on?ln?ln.push(r):ln=[r]:on=r}function ki(){if(on){var r=on,s=ln;if(ln=on=null,$r(r),s)for(r=0;r<s.length;r++)$r(s[r])}}function Wr(r,s){return r(s)}function br(){}var Nn=!1;function ji(r,s,l){if(Nn)return r(s,l);Nn=!0;try{return Wr(r,s,l)}finally{Nn=!1,(on!==null||ln!==null)&&(br(),ki())}}function ar(r,s){var l=r.stateNode;if(l===null)return null;var d=so(l);if(d===null)return null;l=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(n(231,s,typeof l));return l}var R=!1;if(u)try{var U={};Object.defineProperty(U,"passive",{get:function(){R=!0}}),window.addEventListener("test",U,U),window.removeEventListener("test",U,U)}catch{R=!1}function Q(r,s,l,d,p,y,b,E,O){var K=Array.prototype.slice.call(arguments,3);try{s.apply(l,K)}catch(ie){this.onError(ie)}}var te=!1,he=null,Ce=!1,Re=null,be={onError:function(r){te=!0,he=r}};function we(r,s,l,d,p,y,b,E,O){te=!1,he=null,Q.apply(be,arguments)}function xe(r,s,l,d,p,y,b,E,O){if(we.apply(this,arguments),te){if(te){var K=he;te=!1,he=null}else throw Error(n(198));Ce||(Ce=!0,Re=K)}}function ge(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function Le(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function ze(r){if(ge(r)!==r)throw Error(n(188))}function Nt(r){var s=r.alternate;if(!s){if(s=ge(r),s===null)throw Error(n(188));return s!==r?null:r}for(var l=r,d=s;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(d=p.return,d!==null){l=d;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return ze(p),r;if(y===d)return ze(p),s;y=y.sibling}throw Error(n(188))}if(l.return!==d.return)l=p,d=y;else{for(var b=!1,E=p.child;E;){if(E===l){b=!0,l=p,d=y;break}if(E===d){b=!0,d=p,l=y;break}E=E.sibling}if(!b){for(E=y.child;E;){if(E===l){b=!0,l=y,d=p;break}if(E===d){b=!0,d=y,l=p;break}E=E.sibling}if(!b)throw Error(n(189))}}if(l.alternate!==d)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?r:s}function Je(r){return r=Nt(r),r!==null?Ye(r):null}function Ye(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=Ye(r);if(s!==null)return s;r=r.sibling}return null}var dt=e.unstable_scheduleCallback,Xn=e.unstable_cancelCallback,or=e.unstable_shouldYield,Mn=e.unstable_requestPaint,Ke=e.unstable_now,Ci=e.unstable_getCurrentPriorityLevel,Qn=e.unstable_ImmediatePriority,Fn=e.unstable_UserBlockingPriority,Gn=e.unstable_NormalPriority,qn=e.unstable_LowPriority,We=e.unstable_IdlePriority,it=null,Wt=null;function Vr(r){if(Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(it,r,void 0,(r.current.flags&128)===128)}catch{}}var Xe=Math.clz32?Math.clz32:Be,Z=Math.log,ve=Math.LN2;function Be(r){return r>>>=0,r===0?32:31-(Z(r)/ve|0)|0}var Fe=64,Ae=4194304;function $e(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function wt(r,s){var l=r.pendingLanes;if(l===0)return 0;var d=0,p=r.suspendedLanes,y=r.pingedLanes,b=l&268435455;if(b!==0){var E=b&~p;E!==0?d=$e(E):(y&=b,y!==0&&(d=$e(y)))}else b=l&~p,b!==0?d=$e(b):y!==0&&(d=$e(y));if(d===0)return 0;if(s!==0&&s!==d&&(s&p)===0&&(p=d&-d,y=s&-s,p>=y||p===16&&(y&4194240)!==0))return s;if((d&4)!==0&&(d|=l&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=d;0<s;)l=31-Xe(s),p=1<<l,d|=r[l],s&=~p;return d}function hn(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yr(r,s){for(var l=r.suspendedLanes,d=r.pingedLanes,p=r.expirationTimes,y=r.pendingLanes;0<y;){var b=31-Xe(y),E=1<<b,O=p[b];O===-1?((E&l)===0||(E&d)!==0)&&(p[b]=hn(E,s)):O<=s&&(r.expiredLanes|=E),y&=~E}}function _r(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Ji(){var r=Fe;return Fe<<=1,(Fe&4194240)===0&&(Fe=64),r}function Bl(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function zs(r,s,l){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-Xe(s),r[s]=l}function Cy(r,s){var l=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var d=r.eventTimes;for(r=r.expirationTimes;0<l;){var p=31-Xe(l),y=1<<p;s[p]=0,d[p]=-1,r[p]=-1,l&=~y}}function $l(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var d=31-Xe(l),p=1<<d;p&s|r[d]&s&&(r[d]|=s),l&=~p}}var st=0;function Ad(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Od,Hl,Fd,Id,zd,Wl=!1,Wa=[],Kr=null,Xr=null,Qr=null,Us=new Map,Bs=new Map,Gr=[],Ey="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ud(r,s){switch(r){case"focusin":case"focusout":Kr=null;break;case"dragenter":case"dragleave":Xr=null;break;case"mouseover":case"mouseout":Qr=null;break;case"pointerover":case"pointerout":Us.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bs.delete(s.pointerId)}}function $s(r,s,l,d,p,y){return r===null||r.nativeEvent!==y?(r={blockedOn:s,domEventName:l,eventSystemFlags:d,nativeEvent:y,targetContainers:[p]},s!==null&&(s=na(s),s!==null&&Hl(s)),r):(r.eventSystemFlags|=d,s=r.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),r)}function Ny(r,s,l,d,p){switch(s){case"focusin":return Kr=$s(Kr,r,s,l,d,p),!0;case"dragenter":return Xr=$s(Xr,r,s,l,d,p),!0;case"mouseover":return Qr=$s(Qr,r,s,l,d,p),!0;case"pointerover":var y=p.pointerId;return Us.set(y,$s(Us.get(y)||null,r,s,l,d,p)),!0;case"gotpointercapture":return y=p.pointerId,Bs.set(y,$s(Bs.get(y)||null,r,s,l,d,p)),!0}return!1}function Bd(r){var s=Ei(r.target);if(s!==null){var l=ge(s);if(l!==null){if(s=l.tag,s===13){if(s=Le(l),s!==null){r.blockedOn=s,zd(r.priority,function(){Fd(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Va(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=Yl(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var d=new l.constructor(l.type,l);zt=d,l.target.dispatchEvent(d),zt=null}else return s=na(l),s!==null&&Hl(s),r.blockedOn=l,!1;s.shift()}return!0}function $d(r,s,l){Va(r)&&l.delete(s)}function My(){Wl=!1,Kr!==null&&Va(Kr)&&(Kr=null),Xr!==null&&Va(Xr)&&(Xr=null),Qr!==null&&Va(Qr)&&(Qr=null),Us.forEach($d),Bs.forEach($d)}function Hs(r,s){r.blockedOn===s&&(r.blockedOn=null,Wl||(Wl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,My)))}function Ws(r){function s(p){return Hs(p,r)}if(0<Wa.length){Hs(Wa[0],r);for(var l=1;l<Wa.length;l++){var d=Wa[l];d.blockedOn===r&&(d.blockedOn=null)}}for(Kr!==null&&Hs(Kr,r),Xr!==null&&Hs(Xr,r),Qr!==null&&Hs(Qr,r),Us.forEach(s),Bs.forEach(s),l=0;l<Gr.length;l++)d=Gr[l],d.blockedOn===r&&(d.blockedOn=null);for(;0<Gr.length&&(l=Gr[0],l.blockedOn===null);)Bd(l),l.blockedOn===null&&Gr.shift()}var es=z.ReactCurrentBatchConfig,Ya=!0;function Ry(r,s,l,d){var p=st,y=es.transition;es.transition=null;try{st=1,Vl(r,s,l,d)}finally{st=p,es.transition=y}}function Ty(r,s,l,d){var p=st,y=es.transition;es.transition=null;try{st=4,Vl(r,s,l,d)}finally{st=p,es.transition=y}}function Vl(r,s,l,d){if(Ya){var p=Yl(r,s,l,d);if(p===null)cc(r,s,d,Ka,l),Ud(r,d);else if(Ny(p,r,s,l,d))d.stopPropagation();else if(Ud(r,d),s&4&&-1<Ey.indexOf(r)){for(;p!==null;){var y=na(p);if(y!==null&&Od(y),y=Yl(r,s,l,d),y===null&&cc(r,s,d,Ka,l),y===p)break;p=y}p!==null&&d.stopPropagation()}else cc(r,s,d,null,l)}}var Ka=null;function Yl(r,s,l,d){if(Ka=null,r=Ut(d),r=Ei(r),r!==null)if(s=ge(r),s===null)r=null;else if(l=s.tag,l===13){if(r=Le(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Ka=r,null}function Hd(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ci()){case Qn:return 1;case Fn:return 4;case Gn:case qn:return 16;case We:return 536870912;default:return 16}default:return 16}}var qr=null,Kl=null,Xa=null;function Wd(){if(Xa)return Xa;var r,s=Kl,l=s.length,d,p="value"in qr?qr.value:qr.textContent,y=p.length;for(r=0;r<l&&s[r]===p[r];r++);var b=l-r;for(d=1;d<=b&&s[l-d]===p[y-d];d++);return Xa=p.slice(r,1<d?1-d:void 0)}function Qa(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Ga(){return!0}function Vd(){return!1}function Rn(r){function s(l,d,p,y,b){this._reactName=l,this._targetInst=p,this.type=d,this.nativeEvent=y,this.target=b,this.currentTarget=null;for(var E in r)r.hasOwnProperty(E)&&(l=r[E],this[E]=l?l(y):y[E]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Ga:Vd,this.isPropagationStopped=Vd,this}return M(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ga)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ga)},persist:function(){},isPersistent:Ga}),s}var ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xl=Rn(ts),Vs=M({},ts,{view:0,detail:0}),Py=Rn(Vs),Ql,Gl,Ys,qa=M({},Vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zl,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ys&&(Ys&&r.type==="mousemove"?(Ql=r.screenX-Ys.screenX,Gl=r.screenY-Ys.screenY):Gl=Ql=0,Ys=r),Ql)},movementY:function(r){return"movementY"in r?r.movementY:Gl}}),Yd=Rn(qa),Dy=M({},qa,{dataTransfer:0}),Ly=Rn(Dy),Ay=M({},Vs,{relatedTarget:0}),ql=Rn(Ay),Oy=M({},ts,{animationName:0,elapsedTime:0,pseudoElement:0}),Fy=Rn(Oy),Iy=M({},ts,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),zy=Rn(Iy),Uy=M({},ts,{data:0}),Kd=Rn(Uy),By={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$y={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wy(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Hy[r])?!!s[r]:!1}function Zl(){return Wy}var Vy=M({},Vs,{key:function(r){if(r.key){var s=By[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Qa(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?$y[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zl,charCode:function(r){return r.type==="keypress"?Qa(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Qa(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Yy=Rn(Vy),Ky=M({},qa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xd=Rn(Ky),Xy=M({},Vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zl}),Qy=Rn(Xy),Gy=M({},ts,{propertyName:0,elapsedTime:0,pseudoElement:0}),qy=Rn(Gy),Zy=M({},qa,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Jy=Rn(Zy),ev=[9,13,27,32],Jl=u&&"CompositionEvent"in window,Ks=null;u&&"documentMode"in document&&(Ks=document.documentMode);var tv=u&&"TextEvent"in window&&!Ks,Qd=u&&(!Jl||Ks&&8<Ks&&11>=Ks),Gd=" ",qd=!1;function Zd(r,s){switch(r){case"keyup":return ev.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jd(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ns=!1;function nv(r,s){switch(r){case"compositionend":return Jd(s);case"keypress":return s.which!==32?null:(qd=!0,Gd);case"textInput":return r=s.data,r===Gd&&qd?null:r;default:return null}}function rv(r,s){if(ns)return r==="compositionend"||!Jl&&Zd(r,s)?(r=Wd(),Xa=Kl=qr=null,ns=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Qd&&s.locale!=="ko"?null:s.data;default:return null}}var iv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ef(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!iv[r.type]:s==="textarea"}function tf(r,s,l,d){Hr(d),s=no(s,"onChange"),0<s.length&&(l=new Xl("onChange","change",null,l,d),r.push({event:l,listeners:s}))}var Xs=null,Qs=null;function sv(r){bf(r,0)}function Za(r){var s=os(r);if(lt(s))return r}function av(r,s){if(r==="change")return s}var nf=!1;if(u){var ec;if(u){var tc="oninput"in document;if(!tc){var rf=document.createElement("div");rf.setAttribute("oninput","return;"),tc=typeof rf.oninput=="function"}ec=tc}else ec=!1;nf=ec&&(!document.documentMode||9<document.documentMode)}function sf(){Xs&&(Xs.detachEvent("onpropertychange",af),Qs=Xs=null)}function af(r){if(r.propertyName==="value"&&Za(Qs)){var s=[];tf(s,Qs,r,Ut(r)),ji(sv,s)}}function ov(r,s,l){r==="focusin"?(sf(),Xs=s,Qs=l,Xs.attachEvent("onpropertychange",af)):r==="focusout"&&sf()}function lv(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Za(Qs)}function cv(r,s){if(r==="click")return Za(s)}function uv(r,s){if(r==="input"||r==="change")return Za(s)}function dv(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Zn=typeof Object.is=="function"?Object.is:dv;function Gs(r,s){if(Zn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),d=Object.keys(s);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var p=l[d];if(!f.call(s,p)||!Zn(r[p],s[p]))return!1}return!0}function of(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function lf(r,s){var l=of(r);r=0;for(var d;l;){if(l.nodeType===3){if(d=r+l.textContent.length,r<=s&&d>=s)return{node:l,offset:s-r};r=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=of(l)}}function cf(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?cf(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function uf(){for(var r=window,s=tt();s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=tt(r.document)}return s}function nc(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function fv(r){var s=uf(),l=r.focusedElem,d=r.selectionRange;if(s!==l&&l&&l.ownerDocument&&cf(l.ownerDocument.documentElement,l)){if(d!==null&&nc(l)){if(s=d.start,r=d.end,r===void 0&&(r=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(r,l.value.length);else if(r=(s=l.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var p=l.textContent.length,y=Math.min(d.start,p);d=d.end===void 0?y:Math.min(d.end,p),!r.extend&&y>d&&(p=d,d=y,y=p),p=lf(l,y);var b=lf(l,d);p&&b&&(r.rangeCount!==1||r.anchorNode!==p.node||r.anchorOffset!==p.offset||r.focusNode!==b.node||r.focusOffset!==b.offset)&&(s=s.createRange(),s.setStart(p.node,p.offset),r.removeAllRanges(),y>d?(r.addRange(s),r.extend(b.node,b.offset)):(s.setEnd(b.node,b.offset),r.addRange(s)))}}for(s=[],r=l;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)r=s[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var hv=u&&"documentMode"in document&&11>=document.documentMode,rs=null,rc=null,qs=null,ic=!1;function df(r,s,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;ic||rs==null||rs!==tt(d)||(d=rs,"selectionStart"in d&&nc(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),qs&&Gs(qs,d)||(qs=d,d=no(rc,"onSelect"),0<d.length&&(s=new Xl("onSelect","select",null,s,l),r.push({event:s,listeners:d}),s.target=rs)))}function Ja(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var is={animationend:Ja("Animation","AnimationEnd"),animationiteration:Ja("Animation","AnimationIteration"),animationstart:Ja("Animation","AnimationStart"),transitionend:Ja("Transition","TransitionEnd")},sc={},ff={};u&&(ff=document.createElement("div").style,"AnimationEvent"in window||(delete is.animationend.animation,delete is.animationiteration.animation,delete is.animationstart.animation),"TransitionEvent"in window||delete is.transitionend.transition);function eo(r){if(sc[r])return sc[r];if(!is[r])return r;var s=is[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in ff)return sc[r]=s[l];return r}var hf=eo("animationend"),mf=eo("animationiteration"),pf=eo("animationstart"),gf=eo("transitionend"),yf=new Map,vf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zr(r,s){yf.set(r,s),o(s,[r])}for(var ac=0;ac<vf.length;ac++){var oc=vf[ac],mv=oc.toLowerCase(),pv=oc[0].toUpperCase()+oc.slice(1);Zr(mv,"on"+pv)}Zr(hf,"onAnimationEnd"),Zr(mf,"onAnimationIteration"),Zr(pf,"onAnimationStart"),Zr("dblclick","onDoubleClick"),Zr("focusin","onFocus"),Zr("focusout","onBlur"),Zr(gf,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zs));function xf(r,s,l){var d=r.type||"unknown-event";r.currentTarget=l,xe(d,s,void 0,r),r.currentTarget=null}function bf(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var d=r[l],p=d.event;d=d.listeners;e:{var y=void 0;if(s)for(var b=d.length-1;0<=b;b--){var E=d[b],O=E.instance,K=E.currentTarget;if(E=E.listener,O!==y&&p.isPropagationStopped())break e;xf(p,E,K),y=O}else for(b=0;b<d.length;b++){if(E=d[b],O=E.instance,K=E.currentTarget,E=E.listener,O!==y&&p.isPropagationStopped())break e;xf(p,E,K),y=O}}}if(Ce)throw r=Re,Ce=!1,Re=null,r}function gt(r,s){var l=s[pc];l===void 0&&(l=s[pc]=new Set);var d=r+"__bubble";l.has(d)||(_f(s,r,2,!1),l.add(d))}function lc(r,s,l){var d=0;s&&(d|=4),_f(l,r,d,s)}var to="_reactListening"+Math.random().toString(36).slice(2);function Js(r){if(!r[to]){r[to]=!0,i.forEach(function(l){l!=="selectionchange"&&(gv.has(l)||lc(l,!1,r),lc(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[to]||(s[to]=!0,lc("selectionchange",!1,s))}}function _f(r,s,l,d){switch(Hd(s)){case 1:var p=Ry;break;case 4:p=Ty;break;default:p=Vl}l=p.bind(null,s,l,r),p=void 0,!R||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),d?p!==void 0?r.addEventListener(s,l,{capture:!0,passive:p}):r.addEventListener(s,l,!0):p!==void 0?r.addEventListener(s,l,{passive:p}):r.addEventListener(s,l,!1)}function cc(r,s,l,d,p){var y=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var b=d.tag;if(b===3||b===4){var E=d.stateNode.containerInfo;if(E===p||E.nodeType===8&&E.parentNode===p)break;if(b===4)for(b=d.return;b!==null;){var O=b.tag;if((O===3||O===4)&&(O=b.stateNode.containerInfo,O===p||O.nodeType===8&&O.parentNode===p))return;b=b.return}for(;E!==null;){if(b=Ei(E),b===null)return;if(O=b.tag,O===5||O===6){d=y=b;continue e}E=E.parentNode}}d=d.return}ji(function(){var K=y,ie=Ut(l),le=[];e:{var re=yf.get(r);if(re!==void 0){var ye=Xl,Se=r;switch(r){case"keypress":if(Qa(l)===0)break e;case"keydown":case"keyup":ye=Yy;break;case"focusin":Se="focus",ye=ql;break;case"focusout":Se="blur",ye=ql;break;case"beforeblur":case"afterblur":ye=ql;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=Yd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=Ly;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=Qy;break;case hf:case mf:case pf:ye=Fy;break;case gf:ye=qy;break;case"scroll":ye=Py;break;case"wheel":ye=Jy;break;case"copy":case"cut":case"paste":ye=zy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=Xd}var je=(s&4)!==0,At=!je&&r==="scroll",$=je?re!==null?re+"Capture":null:re;je=[];for(var I=K,W;I!==null;){W=I;var ue=W.stateNode;if(W.tag===5&&ue!==null&&(W=ue,$!==null&&(ue=ar(I,$),ue!=null&&je.push(ea(I,ue,W)))),At)break;I=I.return}0<je.length&&(re=new ye(re,Se,null,l,ie),le.push({event:re,listeners:je}))}}if((s&7)===0){e:{if(re=r==="mouseover"||r==="pointerover",ye=r==="mouseout"||r==="pointerout",re&&l!==zt&&(Se=l.relatedTarget||l.fromElement)&&(Ei(Se)||Se[wr]))break e;if((ye||re)&&(re=ie.window===ie?ie:(re=ie.ownerDocument)?re.defaultView||re.parentWindow:window,ye?(Se=l.relatedTarget||l.toElement,ye=K,Se=Se?Ei(Se):null,Se!==null&&(At=ge(Se),Se!==At||Se.tag!==5&&Se.tag!==6)&&(Se=null)):(ye=null,Se=K),ye!==Se)){if(je=Yd,ue="onMouseLeave",$="onMouseEnter",I="mouse",(r==="pointerout"||r==="pointerover")&&(je=Xd,ue="onPointerLeave",$="onPointerEnter",I="pointer"),At=ye==null?re:os(ye),W=Se==null?re:os(Se),re=new je(ue,I+"leave",ye,l,ie),re.target=At,re.relatedTarget=W,ue=null,Ei(ie)===K&&(je=new je($,I+"enter",Se,l,ie),je.target=W,je.relatedTarget=At,ue=je),At=ue,ye&&Se)t:{for(je=ye,$=Se,I=0,W=je;W;W=ss(W))I++;for(W=0,ue=$;ue;ue=ss(ue))W++;for(;0<I-W;)je=ss(je),I--;for(;0<W-I;)$=ss($),W--;for(;I--;){if(je===$||$!==null&&je===$.alternate)break t;je=ss(je),$=ss($)}je=null}else je=null;ye!==null&&wf(le,re,ye,je,!1),Se!==null&&At!==null&&wf(le,At,Se,je,!0)}}e:{if(re=K?os(K):window,ye=re.nodeName&&re.nodeName.toLowerCase(),ye==="select"||ye==="input"&&re.type==="file")var Ee=av;else if(ef(re))if(nf)Ee=uv;else{Ee=lv;var Te=ov}else(ye=re.nodeName)&&ye.toLowerCase()==="input"&&(re.type==="checkbox"||re.type==="radio")&&(Ee=cv);if(Ee&&(Ee=Ee(r,K))){tf(le,Ee,l,ie);break e}Te&&Te(r,re,K),r==="focusout"&&(Te=re._wrapperState)&&Te.controlled&&re.type==="number"&&jt(re,"number",re.value)}switch(Te=K?os(K):window,r){case"focusin":(ef(Te)||Te.contentEditable==="true")&&(rs=Te,rc=K,qs=null);break;case"focusout":qs=rc=rs=null;break;case"mousedown":ic=!0;break;case"contextmenu":case"mouseup":case"dragend":ic=!1,df(le,l,ie);break;case"selectionchange":if(hv)break;case"keydown":case"keyup":df(le,l,ie)}var Pe;if(Jl)e:{switch(r){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else ns?Zd(r,l)&&(Oe="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Oe="onCompositionStart");Oe&&(Qd&&l.locale!=="ko"&&(ns||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&ns&&(Pe=Wd()):(qr=ie,Kl="value"in qr?qr.value:qr.textContent,ns=!0)),Te=no(K,Oe),0<Te.length&&(Oe=new Kd(Oe,r,null,l,ie),le.push({event:Oe,listeners:Te}),Pe?Oe.data=Pe:(Pe=Jd(l),Pe!==null&&(Oe.data=Pe)))),(Pe=tv?nv(r,l):rv(r,l))&&(K=no(K,"onBeforeInput"),0<K.length&&(ie=new Kd("onBeforeInput","beforeinput",null,l,ie),le.push({event:ie,listeners:K}),ie.data=Pe))}bf(le,s)})}function ea(r,s,l){return{instance:r,listener:s,currentTarget:l}}function no(r,s){for(var l=s+"Capture",d=[];r!==null;){var p=r,y=p.stateNode;p.tag===5&&y!==null&&(p=y,y=ar(r,l),y!=null&&d.unshift(ea(r,y,p)),y=ar(r,s),y!=null&&d.push(ea(r,y,p))),r=r.return}return d}function ss(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function wf(r,s,l,d,p){for(var y=s._reactName,b=[];l!==null&&l!==d;){var E=l,O=E.alternate,K=E.stateNode;if(O!==null&&O===d)break;E.tag===5&&K!==null&&(E=K,p?(O=ar(l,y),O!=null&&b.unshift(ea(l,O,E))):p||(O=ar(l,y),O!=null&&b.push(ea(l,O,E)))),l=l.return}b.length!==0&&r.push({event:s,listeners:b})}var yv=/\r\n?/g,vv=/\u0000|\uFFFD/g;function Sf(r){return(typeof r=="string"?r:""+r).replace(yv,`
`).replace(vv,"")}function ro(r,s,l){if(s=Sf(s),Sf(r)!==s&&l)throw Error(n(425))}function io(){}var uc=null,dc=null;function fc(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var hc=typeof setTimeout=="function"?setTimeout:void 0,xv=typeof clearTimeout=="function"?clearTimeout:void 0,kf=typeof Promise=="function"?Promise:void 0,bv=typeof queueMicrotask=="function"?queueMicrotask:typeof kf<"u"?function(r){return kf.resolve(null).then(r).catch(_v)}:hc;function _v(r){setTimeout(function(){throw r})}function mc(r,s){var l=s,d=0;do{var p=l.nextSibling;if(r.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(d===0){r.removeChild(p),Ws(s);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=p}while(l);Ws(s)}function Jr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function jf(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}var as=Math.random().toString(36).slice(2),lr="__reactFiber$"+as,ta="__reactProps$"+as,wr="__reactContainer$"+as,pc="__reactEvents$"+as,wv="__reactListeners$"+as,Sv="__reactHandles$"+as;function Ei(r){var s=r[lr];if(s)return s;for(var l=r.parentNode;l;){if(s=l[wr]||l[lr]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=jf(r);r!==null;){if(l=r[lr])return l;r=jf(r)}return s}r=l,l=r.parentNode}return null}function na(r){return r=r[lr]||r[wr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function os(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function so(r){return r[ta]||null}var gc=[],ls=-1;function ei(r){return{current:r}}function yt(r){0>ls||(r.current=gc[ls],gc[ls]=null,ls--)}function ht(r,s){ls++,gc[ls]=r.current,r.current=s}var ti={},cn=ei(ti),yn=ei(!1),Ni=ti;function cs(r,s){var l=r.type.contextTypes;if(!l)return ti;var d=r.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===s)return d.__reactInternalMemoizedMaskedChildContext;var p={},y;for(y in l)p[y]=s[y];return d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=p),p}function vn(r){return r=r.childContextTypes,r!=null}function ao(){yt(yn),yt(cn)}function Cf(r,s,l){if(cn.current!==ti)throw Error(n(168));ht(cn,s),ht(yn,l)}function Ef(r,s,l){var d=r.stateNode;if(s=s.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var p in d)if(!(p in s))throw Error(n(108,De(r)||"Unknown",p));return M({},l,d)}function oo(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||ti,Ni=cn.current,ht(cn,r),ht(yn,yn.current),!0}function Nf(r,s,l){var d=r.stateNode;if(!d)throw Error(n(169));l?(r=Ef(r,s,Ni),d.__reactInternalMemoizedMergedChildContext=r,yt(yn),yt(cn),ht(cn,r)):yt(yn),ht(yn,l)}var Sr=null,lo=!1,yc=!1;function Mf(r){Sr===null?Sr=[r]:Sr.push(r)}function kv(r){lo=!0,Mf(r)}function ni(){if(!yc&&Sr!==null){yc=!0;var r=0,s=st;try{var l=Sr;for(st=1;r<l.length;r++){var d=l[r];do d=d(!0);while(d!==null)}Sr=null,lo=!1}catch(p){throw Sr!==null&&(Sr=Sr.slice(r+1)),dt(Qn,ni),p}finally{st=s,yc=!1}}return null}var us=[],ds=0,co=null,uo=0,In=[],zn=0,Mi=null,kr=1,jr="";function Ri(r,s){us[ds++]=uo,us[ds++]=co,co=r,uo=s}function Rf(r,s,l){In[zn++]=kr,In[zn++]=jr,In[zn++]=Mi,Mi=r;var d=kr;r=jr;var p=32-Xe(d)-1;d&=~(1<<p),l+=1;var y=32-Xe(s)+p;if(30<y){var b=p-p%5;y=(d&(1<<b)-1).toString(32),d>>=b,p-=b,kr=1<<32-Xe(s)+p|l<<p|d,jr=y+r}else kr=1<<y|l<<p|d,jr=r}function vc(r){r.return!==null&&(Ri(r,1),Rf(r,1,0))}function xc(r){for(;r===co;)co=us[--ds],us[ds]=null,uo=us[--ds],us[ds]=null;for(;r===Mi;)Mi=In[--zn],In[zn]=null,jr=In[--zn],In[zn]=null,kr=In[--zn],In[zn]=null}var Tn=null,Pn=null,St=!1,Jn=null;function Tf(r,s){var l=Hn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=r,s=r.deletions,s===null?(r.deletions=[l],r.flags|=16):s.push(l)}function Pf(r,s){switch(r.tag){case 5:var l=r.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,Tn=r,Pn=Jr(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,Tn=r,Pn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=Mi!==null?{id:kr,overflow:jr}:null,r.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=Hn(18,null,null,0),l.stateNode=s,l.return=r,r.child=l,Tn=r,Pn=null,!0):!1;default:return!1}}function bc(r){return(r.mode&1)!==0&&(r.flags&128)===0}function _c(r){if(St){var s=Pn;if(s){var l=s;if(!Pf(r,s)){if(bc(r))throw Error(n(418));s=Jr(l.nextSibling);var d=Tn;s&&Pf(r,s)?Tf(d,l):(r.flags=r.flags&-4097|2,St=!1,Tn=r)}}else{if(bc(r))throw Error(n(418));r.flags=r.flags&-4097|2,St=!1,Tn=r}}}function Df(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Tn=r}function fo(r){if(r!==Tn)return!1;if(!St)return Df(r),St=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!fc(r.type,r.memoizedProps)),s&&(s=Pn)){if(bc(r))throw Lf(),Error(n(418));for(;s;)Tf(r,s),s=Jr(s.nextSibling)}if(Df(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(s===0){Pn=Jr(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}r=r.nextSibling}Pn=null}}else Pn=Tn?Jr(r.stateNode.nextSibling):null;return!0}function Lf(){for(var r=Pn;r;)r=Jr(r.nextSibling)}function fs(){Pn=Tn=null,St=!1}function wc(r){Jn===null?Jn=[r]:Jn.push(r)}var jv=z.ReactCurrentBatchConfig;function ra(r,s,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(n(309));var d=l.stateNode}if(!d)throw Error(n(147,r));var p=d,y=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===y?s.ref:(s=function(b){var E=p.refs;b===null?delete E[y]:E[y]=b},s._stringRef=y,s)}if(typeof r!="string")throw Error(n(284));if(!l._owner)throw Error(n(290,r))}return r}function ho(r,s){throw r=Object.prototype.toString.call(s),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Af(r){var s=r._init;return s(r._payload)}function Of(r){function s($,I){if(r){var W=$.deletions;W===null?($.deletions=[I],$.flags|=16):W.push(I)}}function l($,I){if(!r)return null;for(;I!==null;)s($,I),I=I.sibling;return null}function d($,I){for($=new Map;I!==null;)I.key!==null?$.set(I.key,I):$.set(I.index,I),I=I.sibling;return $}function p($,I){return $=ui($,I),$.index=0,$.sibling=null,$}function y($,I,W){return $.index=W,r?(W=$.alternate,W!==null?(W=W.index,W<I?($.flags|=2,I):W):($.flags|=2,I)):($.flags|=1048576,I)}function b($){return r&&$.alternate===null&&($.flags|=2),$}function E($,I,W,ue){return I===null||I.tag!==6?(I=hu(W,$.mode,ue),I.return=$,I):(I=p(I,W),I.return=$,I)}function O($,I,W,ue){var Ee=W.type;return Ee===N?ie($,I,W.props.children,ue,W.key):I!==null&&(I.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===fe&&Af(Ee)===I.type)?(ue=p(I,W.props),ue.ref=ra($,I,W),ue.return=$,ue):(ue=Fo(W.type,W.key,W.props,null,$.mode,ue),ue.ref=ra($,I,W),ue.return=$,ue)}function K($,I,W,ue){return I===null||I.tag!==4||I.stateNode.containerInfo!==W.containerInfo||I.stateNode.implementation!==W.implementation?(I=mu(W,$.mode,ue),I.return=$,I):(I=p(I,W.children||[]),I.return=$,I)}function ie($,I,W,ue,Ee){return I===null||I.tag!==7?(I=Ii(W,$.mode,ue,Ee),I.return=$,I):(I=p(I,W),I.return=$,I)}function le($,I,W){if(typeof I=="string"&&I!==""||typeof I=="number")return I=hu(""+I,$.mode,W),I.return=$,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case H:return W=Fo(I.type,I.key,I.props,null,$.mode,W),W.ref=ra($,null,I),W.return=$,W;case q:return I=mu(I,$.mode,W),I.return=$,I;case fe:var ue=I._init;return le($,ue(I._payload),W)}if(Xt(I)||se(I))return I=Ii(I,$.mode,W,null),I.return=$,I;ho($,I)}return null}function re($,I,W,ue){var Ee=I!==null?I.key:null;if(typeof W=="string"&&W!==""||typeof W=="number")return Ee!==null?null:E($,I,""+W,ue);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case H:return W.key===Ee?O($,I,W,ue):null;case q:return W.key===Ee?K($,I,W,ue):null;case fe:return Ee=W._init,re($,I,Ee(W._payload),ue)}if(Xt(W)||se(W))return Ee!==null?null:ie($,I,W,ue,null);ho($,W)}return null}function ye($,I,W,ue,Ee){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return $=$.get(W)||null,E(I,$,""+ue,Ee);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case H:return $=$.get(ue.key===null?W:ue.key)||null,O(I,$,ue,Ee);case q:return $=$.get(ue.key===null?W:ue.key)||null,K(I,$,ue,Ee);case fe:var Te=ue._init;return ye($,I,W,Te(ue._payload),Ee)}if(Xt(ue)||se(ue))return $=$.get(W)||null,ie(I,$,ue,Ee,null);ho(I,ue)}return null}function Se($,I,W,ue){for(var Ee=null,Te=null,Pe=I,Oe=I=0,Zt=null;Pe!==null&&Oe<W.length;Oe++){Pe.index>Oe?(Zt=Pe,Pe=null):Zt=Pe.sibling;var et=re($,Pe,W[Oe],ue);if(et===null){Pe===null&&(Pe=Zt);break}r&&Pe&&et.alternate===null&&s($,Pe),I=y(et,I,Oe),Te===null?Ee=et:Te.sibling=et,Te=et,Pe=Zt}if(Oe===W.length)return l($,Pe),St&&Ri($,Oe),Ee;if(Pe===null){for(;Oe<W.length;Oe++)Pe=le($,W[Oe],ue),Pe!==null&&(I=y(Pe,I,Oe),Te===null?Ee=Pe:Te.sibling=Pe,Te=Pe);return St&&Ri($,Oe),Ee}for(Pe=d($,Pe);Oe<W.length;Oe++)Zt=ye(Pe,$,Oe,W[Oe],ue),Zt!==null&&(r&&Zt.alternate!==null&&Pe.delete(Zt.key===null?Oe:Zt.key),I=y(Zt,I,Oe),Te===null?Ee=Zt:Te.sibling=Zt,Te=Zt);return r&&Pe.forEach(function(di){return s($,di)}),St&&Ri($,Oe),Ee}function je($,I,W,ue){var Ee=se(W);if(typeof Ee!="function")throw Error(n(150));if(W=Ee.call(W),W==null)throw Error(n(151));for(var Te=Ee=null,Pe=I,Oe=I=0,Zt=null,et=W.next();Pe!==null&&!et.done;Oe++,et=W.next()){Pe.index>Oe?(Zt=Pe,Pe=null):Zt=Pe.sibling;var di=re($,Pe,et.value,ue);if(di===null){Pe===null&&(Pe=Zt);break}r&&Pe&&di.alternate===null&&s($,Pe),I=y(di,I,Oe),Te===null?Ee=di:Te.sibling=di,Te=di,Pe=Zt}if(et.done)return l($,Pe),St&&Ri($,Oe),Ee;if(Pe===null){for(;!et.done;Oe++,et=W.next())et=le($,et.value,ue),et!==null&&(I=y(et,I,Oe),Te===null?Ee=et:Te.sibling=et,Te=et);return St&&Ri($,Oe),Ee}for(Pe=d($,Pe);!et.done;Oe++,et=W.next())et=ye(Pe,$,Oe,et.value,ue),et!==null&&(r&&et.alternate!==null&&Pe.delete(et.key===null?Oe:et.key),I=y(et,I,Oe),Te===null?Ee=et:Te.sibling=et,Te=et);return r&&Pe.forEach(function(ix){return s($,ix)}),St&&Ri($,Oe),Ee}function At($,I,W,ue){if(typeof W=="object"&&W!==null&&W.type===N&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case H:e:{for(var Ee=W.key,Te=I;Te!==null;){if(Te.key===Ee){if(Ee=W.type,Ee===N){if(Te.tag===7){l($,Te.sibling),I=p(Te,W.props.children),I.return=$,$=I;break e}}else if(Te.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===fe&&Af(Ee)===Te.type){l($,Te.sibling),I=p(Te,W.props),I.ref=ra($,Te,W),I.return=$,$=I;break e}l($,Te);break}else s($,Te);Te=Te.sibling}W.type===N?(I=Ii(W.props.children,$.mode,ue,W.key),I.return=$,$=I):(ue=Fo(W.type,W.key,W.props,null,$.mode,ue),ue.ref=ra($,I,W),ue.return=$,$=ue)}return b($);case q:e:{for(Te=W.key;I!==null;){if(I.key===Te)if(I.tag===4&&I.stateNode.containerInfo===W.containerInfo&&I.stateNode.implementation===W.implementation){l($,I.sibling),I=p(I,W.children||[]),I.return=$,$=I;break e}else{l($,I);break}else s($,I);I=I.sibling}I=mu(W,$.mode,ue),I.return=$,$=I}return b($);case fe:return Te=W._init,At($,I,Te(W._payload),ue)}if(Xt(W))return Se($,I,W,ue);if(se(W))return je($,I,W,ue);ho($,W)}return typeof W=="string"&&W!==""||typeof W=="number"?(W=""+W,I!==null&&I.tag===6?(l($,I.sibling),I=p(I,W),I.return=$,$=I):(l($,I),I=hu(W,$.mode,ue),I.return=$,$=I),b($)):l($,I)}return At}var hs=Of(!0),Ff=Of(!1),mo=ei(null),po=null,ms=null,Sc=null;function kc(){Sc=ms=po=null}function jc(r){var s=mo.current;yt(mo),r._currentValue=s}function Cc(r,s,l){for(;r!==null;){var d=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),r===l)break;r=r.return}}function ps(r,s){po=r,Sc=ms=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(xn=!0),r.firstContext=null)}function Un(r){var s=r._currentValue;if(Sc!==r)if(r={context:r,memoizedValue:s,next:null},ms===null){if(po===null)throw Error(n(308));ms=r,po.dependencies={lanes:0,firstContext:r}}else ms=ms.next=r;return s}var Ti=null;function Ec(r){Ti===null?Ti=[r]:Ti.push(r)}function If(r,s,l,d){var p=s.interleaved;return p===null?(l.next=l,Ec(s)):(l.next=p.next,p.next=l),s.interleaved=l,Cr(r,d)}function Cr(r,s){r.lanes|=s;var l=r.alternate;for(l!==null&&(l.lanes|=s),l=r,r=r.return;r!==null;)r.childLanes|=s,l=r.alternate,l!==null&&(l.childLanes|=s),l=r,r=r.return;return l.tag===3?l.stateNode:null}var ri=!1;function Nc(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zf(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Er(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function ii(r,s,l){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(Qe&2)!==0){var p=d.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),d.pending=s,Cr(r,l)}return p=d.interleaved,p===null?(s.next=s,Ec(d)):(s.next=p.next,p.next=s),d.interleaved=s,Cr(r,l)}function go(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var d=s.lanes;d&=r.pendingLanes,l|=d,s.lanes=l,$l(r,l)}}function Uf(r,s){var l=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var b={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?p=y=b:y=y.next=b,l=l.next}while(l!==null);y===null?p=y=s:y=y.next=s}else p=y=s;l={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:d.shared,effects:d.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}function yo(r,s,l,d){var p=r.updateQueue;ri=!1;var y=p.firstBaseUpdate,b=p.lastBaseUpdate,E=p.shared.pending;if(E!==null){p.shared.pending=null;var O=E,K=O.next;O.next=null,b===null?y=K:b.next=K,b=O;var ie=r.alternate;ie!==null&&(ie=ie.updateQueue,E=ie.lastBaseUpdate,E!==b&&(E===null?ie.firstBaseUpdate=K:E.next=K,ie.lastBaseUpdate=O))}if(y!==null){var le=p.baseState;b=0,ie=K=O=null,E=y;do{var re=E.lane,ye=E.eventTime;if((d&re)===re){ie!==null&&(ie=ie.next={eventTime:ye,lane:0,tag:E.tag,payload:E.payload,callback:E.callback,next:null});e:{var Se=r,je=E;switch(re=s,ye=l,je.tag){case 1:if(Se=je.payload,typeof Se=="function"){le=Se.call(ye,le,re);break e}le=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=je.payload,re=typeof Se=="function"?Se.call(ye,le,re):Se,re==null)break e;le=M({},le,re);break e;case 2:ri=!0}}E.callback!==null&&E.lane!==0&&(r.flags|=64,re=p.effects,re===null?p.effects=[E]:re.push(E))}else ye={eventTime:ye,lane:re,tag:E.tag,payload:E.payload,callback:E.callback,next:null},ie===null?(K=ie=ye,O=le):ie=ie.next=ye,b|=re;if(E=E.next,E===null){if(E=p.shared.pending,E===null)break;re=E,E=re.next,re.next=null,p.lastBaseUpdate=re,p.shared.pending=null}}while(!0);if(ie===null&&(O=le),p.baseState=O,p.firstBaseUpdate=K,p.lastBaseUpdate=ie,s=p.shared.interleaved,s!==null){p=s;do b|=p.lane,p=p.next;while(p!==s)}else y===null&&(p.shared.lanes=0);Li|=b,r.lanes=b,r.memoizedState=le}}function Bf(r,s,l){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var d=r[s],p=d.callback;if(p!==null){if(d.callback=null,d=l,typeof p!="function")throw Error(n(191,p));p.call(d)}}}var ia={},cr=ei(ia),sa=ei(ia),aa=ei(ia);function Pi(r){if(r===ia)throw Error(n(174));return r}function Mc(r,s){switch(ht(aa,s),ht(sa,r),ht(cr,ia),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:an(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=an(s,r)}yt(cr),ht(cr,s)}function gs(){yt(cr),yt(sa),yt(aa)}function $f(r){Pi(aa.current);var s=Pi(cr.current),l=an(s,r.type);s!==l&&(ht(sa,r),ht(cr,l))}function Rc(r){sa.current===r&&(yt(cr),yt(sa))}var Mt=ei(0);function vo(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Tc=[];function Pc(){for(var r=0;r<Tc.length;r++)Tc[r]._workInProgressVersionPrimary=null;Tc.length=0}var xo=z.ReactCurrentDispatcher,Dc=z.ReactCurrentBatchConfig,Di=0,Rt=null,Vt=null,Gt=null,bo=!1,oa=!1,la=0,Cv=0;function un(){throw Error(n(321))}function Lc(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!Zn(r[l],s[l]))return!1;return!0}function Ac(r,s,l,d,p,y){if(Di=y,Rt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,xo.current=r===null||r.memoizedState===null?Rv:Tv,r=l(d,p),oa){y=0;do{if(oa=!1,la=0,25<=y)throw Error(n(301));y+=1,Gt=Vt=null,s.updateQueue=null,xo.current=Pv,r=l(d,p)}while(oa)}if(xo.current=So,s=Vt!==null&&Vt.next!==null,Di=0,Gt=Vt=Rt=null,bo=!1,s)throw Error(n(300));return r}function Oc(){var r=la!==0;return la=0,r}function ur(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?Rt.memoizedState=Gt=r:Gt=Gt.next=r,Gt}function Bn(){if(Vt===null){var r=Rt.alternate;r=r!==null?r.memoizedState:null}else r=Vt.next;var s=Gt===null?Rt.memoizedState:Gt.next;if(s!==null)Gt=s,Vt=r;else{if(r===null)throw Error(n(310));Vt=r,r={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},Gt===null?Rt.memoizedState=Gt=r:Gt=Gt.next=r}return Gt}function ca(r,s){return typeof s=="function"?s(r):s}function Fc(r){var s=Bn(),l=s.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var d=Vt,p=d.baseQueue,y=l.pending;if(y!==null){if(p!==null){var b=p.next;p.next=y.next,y.next=b}d.baseQueue=p=y,l.pending=null}if(p!==null){y=p.next,d=d.baseState;var E=b=null,O=null,K=y;do{var ie=K.lane;if((Di&ie)===ie)O!==null&&(O=O.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),d=K.hasEagerState?K.eagerState:r(d,K.action);else{var le={lane:ie,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};O===null?(E=O=le,b=d):O=O.next=le,Rt.lanes|=ie,Li|=ie}K=K.next}while(K!==null&&K!==y);O===null?b=d:O.next=E,Zn(d,s.memoizedState)||(xn=!0),s.memoizedState=d,s.baseState=b,s.baseQueue=O,l.lastRenderedState=d}if(r=l.interleaved,r!==null){p=r;do y=p.lane,Rt.lanes|=y,Li|=y,p=p.next;while(p!==r)}else p===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function Ic(r){var s=Bn(),l=s.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var d=l.dispatch,p=l.pending,y=s.memoizedState;if(p!==null){l.pending=null;var b=p=p.next;do y=r(y,b.action),b=b.next;while(b!==p);Zn(y,s.memoizedState)||(xn=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),l.lastRenderedState=y}return[y,d]}function Hf(){}function Wf(r,s){var l=Rt,d=Bn(),p=s(),y=!Zn(d.memoizedState,p);if(y&&(d.memoizedState=p,xn=!0),d=d.queue,zc(Kf.bind(null,l,d,r),[r]),d.getSnapshot!==s||y||Gt!==null&&Gt.memoizedState.tag&1){if(l.flags|=2048,ua(9,Yf.bind(null,l,d,p,s),void 0,null),qt===null)throw Error(n(349));(Di&30)!==0||Vf(l,s,p)}return p}function Vf(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=Rt.updateQueue,s===null?(s={lastEffect:null,stores:null},Rt.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function Yf(r,s,l,d){s.value=l,s.getSnapshot=d,Xf(s)&&Qf(r)}function Kf(r,s,l){return l(function(){Xf(s)&&Qf(r)})}function Xf(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!Zn(r,l)}catch{return!0}}function Qf(r){var s=Cr(r,1);s!==null&&rr(s,r,1,-1)}function Gf(r){var s=ur();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ca,lastRenderedState:r},s.queue=r,r=r.dispatch=Mv.bind(null,Rt,r),[s.memoizedState,r]}function ua(r,s,l,d){return r={tag:r,create:s,destroy:l,deps:d,next:null},s=Rt.updateQueue,s===null?(s={lastEffect:null,stores:null},Rt.updateQueue=s,s.lastEffect=r.next=r):(l=s.lastEffect,l===null?s.lastEffect=r.next=r:(d=l.next,l.next=r,r.next=d,s.lastEffect=r)),r}function qf(){return Bn().memoizedState}function _o(r,s,l,d){var p=ur();Rt.flags|=r,p.memoizedState=ua(1|s,l,void 0,d===void 0?null:d)}function wo(r,s,l,d){var p=Bn();d=d===void 0?null:d;var y=void 0;if(Vt!==null){var b=Vt.memoizedState;if(y=b.destroy,d!==null&&Lc(d,b.deps)){p.memoizedState=ua(s,l,y,d);return}}Rt.flags|=r,p.memoizedState=ua(1|s,l,y,d)}function Zf(r,s){return _o(8390656,8,r,s)}function zc(r,s){return wo(2048,8,r,s)}function Jf(r,s){return wo(4,2,r,s)}function eh(r,s){return wo(4,4,r,s)}function th(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function nh(r,s,l){return l=l!=null?l.concat([r]):null,wo(4,4,th.bind(null,s,r),l)}function Uc(){}function rh(r,s){var l=Bn();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&Lc(s,d[1])?d[0]:(l.memoizedState=[r,s],r)}function ih(r,s){var l=Bn();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&Lc(s,d[1])?d[0]:(r=r(),l.memoizedState=[r,s],r)}function sh(r,s,l){return(Di&21)===0?(r.baseState&&(r.baseState=!1,xn=!0),r.memoizedState=l):(Zn(l,s)||(l=Ji(),Rt.lanes|=l,Li|=l,r.baseState=!0),s)}function Ev(r,s){var l=st;st=l!==0&&4>l?l:4,r(!0);var d=Dc.transition;Dc.transition={};try{r(!1),s()}finally{st=l,Dc.transition=d}}function ah(){return Bn().memoizedState}function Nv(r,s,l){var d=li(r);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},oh(r))lh(s,l);else if(l=If(r,s,l,d),l!==null){var p=pn();rr(l,r,d,p),ch(l,s,d)}}function Mv(r,s,l){var d=li(r),p={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(oh(r))lh(s,p);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var b=s.lastRenderedState,E=y(b,l);if(p.hasEagerState=!0,p.eagerState=E,Zn(E,b)){var O=s.interleaved;O===null?(p.next=p,Ec(s)):(p.next=O.next,O.next=p),s.interleaved=p;return}}catch{}finally{}l=If(r,s,p,d),l!==null&&(p=pn(),rr(l,r,d,p),ch(l,s,d))}}function oh(r){var s=r.alternate;return r===Rt||s!==null&&s===Rt}function lh(r,s){oa=bo=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function ch(r,s,l){if((l&4194240)!==0){var d=s.lanes;d&=r.pendingLanes,l|=d,s.lanes=l,$l(r,l)}}var So={readContext:Un,useCallback:un,useContext:un,useEffect:un,useImperativeHandle:un,useInsertionEffect:un,useLayoutEffect:un,useMemo:un,useReducer:un,useRef:un,useState:un,useDebugValue:un,useDeferredValue:un,useTransition:un,useMutableSource:un,useSyncExternalStore:un,useId:un,unstable_isNewReconciler:!1},Rv={readContext:Un,useCallback:function(r,s){return ur().memoizedState=[r,s===void 0?null:s],r},useContext:Un,useEffect:Zf,useImperativeHandle:function(r,s,l){return l=l!=null?l.concat([r]):null,_o(4194308,4,th.bind(null,s,r),l)},useLayoutEffect:function(r,s){return _o(4194308,4,r,s)},useInsertionEffect:function(r,s){return _o(4,2,r,s)},useMemo:function(r,s){var l=ur();return s=s===void 0?null:s,r=r(),l.memoizedState=[r,s],r},useReducer:function(r,s,l){var d=ur();return s=l!==void 0?l(s):s,d.memoizedState=d.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},d.queue=r,r=r.dispatch=Nv.bind(null,Rt,r),[d.memoizedState,r]},useRef:function(r){var s=ur();return r={current:r},s.memoizedState=r},useState:Gf,useDebugValue:Uc,useDeferredValue:function(r){return ur().memoizedState=r},useTransition:function(){var r=Gf(!1),s=r[0];return r=Ev.bind(null,r[1]),ur().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,l){var d=Rt,p=ur();if(St){if(l===void 0)throw Error(n(407));l=l()}else{if(l=s(),qt===null)throw Error(n(349));(Di&30)!==0||Vf(d,s,l)}p.memoizedState=l;var y={value:l,getSnapshot:s};return p.queue=y,Zf(Kf.bind(null,d,y,r),[r]),d.flags|=2048,ua(9,Yf.bind(null,d,y,l,s),void 0,null),l},useId:function(){var r=ur(),s=qt.identifierPrefix;if(St){var l=jr,d=kr;l=(d&~(1<<32-Xe(d)-1)).toString(32)+l,s=":"+s+"R"+l,l=la++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=Cv++,s=":"+s+"r"+l.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},Tv={readContext:Un,useCallback:rh,useContext:Un,useEffect:zc,useImperativeHandle:nh,useInsertionEffect:Jf,useLayoutEffect:eh,useMemo:ih,useReducer:Fc,useRef:qf,useState:function(){return Fc(ca)},useDebugValue:Uc,useDeferredValue:function(r){var s=Bn();return sh(s,Vt.memoizedState,r)},useTransition:function(){var r=Fc(ca)[0],s=Bn().memoizedState;return[r,s]},useMutableSource:Hf,useSyncExternalStore:Wf,useId:ah,unstable_isNewReconciler:!1},Pv={readContext:Un,useCallback:rh,useContext:Un,useEffect:zc,useImperativeHandle:nh,useInsertionEffect:Jf,useLayoutEffect:eh,useMemo:ih,useReducer:Ic,useRef:qf,useState:function(){return Ic(ca)},useDebugValue:Uc,useDeferredValue:function(r){var s=Bn();return Vt===null?s.memoizedState=r:sh(s,Vt.memoizedState,r)},useTransition:function(){var r=Ic(ca)[0],s=Bn().memoizedState;return[r,s]},useMutableSource:Hf,useSyncExternalStore:Wf,useId:ah,unstable_isNewReconciler:!1};function er(r,s){if(r&&r.defaultProps){s=M({},s),r=r.defaultProps;for(var l in r)s[l]===void 0&&(s[l]=r[l]);return s}return s}function Bc(r,s,l,d){s=r.memoizedState,l=l(d,s),l=l==null?s:M({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var ko={isMounted:function(r){return(r=r._reactInternals)?ge(r)===r:!1},enqueueSetState:function(r,s,l){r=r._reactInternals;var d=pn(),p=li(r),y=Er(d,p);y.payload=s,l!=null&&(y.callback=l),s=ii(r,y,p),s!==null&&(rr(s,r,p,d),go(s,r,p))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var d=pn(),p=li(r),y=Er(d,p);y.tag=1,y.payload=s,l!=null&&(y.callback=l),s=ii(r,y,p),s!==null&&(rr(s,r,p,d),go(s,r,p))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=pn(),d=li(r),p=Er(l,d);p.tag=2,s!=null&&(p.callback=s),s=ii(r,p,d),s!==null&&(rr(s,r,d,l),go(s,r,d))}};function uh(r,s,l,d,p,y,b){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,y,b):s.prototype&&s.prototype.isPureReactComponent?!Gs(l,d)||!Gs(p,y):!0}function dh(r,s,l){var d=!1,p=ti,y=s.contextType;return typeof y=="object"&&y!==null?y=Un(y):(p=vn(s)?Ni:cn.current,d=s.contextTypes,y=(d=d!=null)?cs(r,p):ti),s=new s(l,y),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=ko,r.stateNode=s,s._reactInternals=r,d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=p,r.__reactInternalMemoizedMaskedChildContext=y),s}function fh(r,s,l,d){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,d),s.state!==r&&ko.enqueueReplaceState(s,s.state,null)}function $c(r,s,l,d){var p=r.stateNode;p.props=l,p.state=r.memoizedState,p.refs={},Nc(r);var y=s.contextType;typeof y=="object"&&y!==null?p.context=Un(y):(y=vn(s)?Ni:cn.current,p.context=cs(r,y)),p.state=r.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(Bc(r,s,y,l),p.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(s=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),s!==p.state&&ko.enqueueReplaceState(p,p.state,null),yo(r,l,p,d),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308)}function ys(r,s){try{var l="",d=s;do l+=ce(d),d=d.return;while(d);var p=l}catch(y){p=`
Error generating stack: `+y.message+`
`+y.stack}return{value:r,source:s,stack:p,digest:null}}function Hc(r,s,l){return{value:r,source:null,stack:l??null,digest:s??null}}function Wc(r,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var Dv=typeof WeakMap=="function"?WeakMap:Map;function hh(r,s,l){l=Er(-1,l),l.tag=3,l.payload={element:null};var d=s.value;return l.callback=function(){To||(To=!0,su=d),Wc(r,s)},l}function mh(r,s,l){l=Er(-1,l),l.tag=3;var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var p=s.value;l.payload=function(){return d(p)},l.callback=function(){Wc(r,s)}}var y=r.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){Wc(r,s),typeof d!="function"&&(ai===null?ai=new Set([this]):ai.add(this));var b=s.stack;this.componentDidCatch(s.value,{componentStack:b!==null?b:""})}),l}function ph(r,s,l){var d=r.pingCache;if(d===null){d=r.pingCache=new Dv;var p=new Set;d.set(s,p)}else p=d.get(s),p===void 0&&(p=new Set,d.set(s,p));p.has(l)||(p.add(l),r=Kv.bind(null,r,s,l),s.then(r,r))}function gh(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function yh(r,s,l,d,p){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=Er(-1,1),s.tag=2,ii(l,s,1))),l.lanes|=1),r):(r.flags|=65536,r.lanes=p,r)}var Lv=z.ReactCurrentOwner,xn=!1;function mn(r,s,l,d){s.child=r===null?Ff(s,null,l,d):hs(s,r.child,l,d)}function vh(r,s,l,d,p){l=l.render;var y=s.ref;return ps(s,p),d=Ac(r,s,l,d,y,p),l=Oc(),r!==null&&!xn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,Nr(r,s,p)):(St&&l&&vc(s),s.flags|=1,mn(r,s,d,p),s.child)}function xh(r,s,l,d,p){if(r===null){var y=l.type;return typeof y=="function"&&!fu(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=y,bh(r,s,y,d,p)):(r=Fo(l.type,null,d,s,s.mode,p),r.ref=s.ref,r.return=s,s.child=r)}if(y=r.child,(r.lanes&p)===0){var b=y.memoizedProps;if(l=l.compare,l=l!==null?l:Gs,l(b,d)&&r.ref===s.ref)return Nr(r,s,p)}return s.flags|=1,r=ui(y,d),r.ref=s.ref,r.return=s,s.child=r}function bh(r,s,l,d,p){if(r!==null){var y=r.memoizedProps;if(Gs(y,d)&&r.ref===s.ref)if(xn=!1,s.pendingProps=d=y,(r.lanes&p)!==0)(r.flags&131072)!==0&&(xn=!0);else return s.lanes=r.lanes,Nr(r,s,p)}return Vc(r,s,l,d,p)}function _h(r,s,l){var d=s.pendingProps,p=d.children,y=r!==null?r.memoizedState:null;if(d.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},ht(xs,Dn),Dn|=l;else{if((l&1073741824)===0)return r=y!==null?y.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,ht(xs,Dn),Dn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=y!==null?y.baseLanes:l,ht(xs,Dn),Dn|=d}else y!==null?(d=y.baseLanes|l,s.memoizedState=null):d=l,ht(xs,Dn),Dn|=d;return mn(r,s,p,l),s.child}function wh(r,s){var l=s.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function Vc(r,s,l,d,p){var y=vn(l)?Ni:cn.current;return y=cs(s,y),ps(s,p),l=Ac(r,s,l,d,y,p),d=Oc(),r!==null&&!xn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,Nr(r,s,p)):(St&&d&&vc(s),s.flags|=1,mn(r,s,l,p),s.child)}function Sh(r,s,l,d,p){if(vn(l)){var y=!0;oo(s)}else y=!1;if(ps(s,p),s.stateNode===null)Co(r,s),dh(s,l,d),$c(s,l,d,p),d=!0;else if(r===null){var b=s.stateNode,E=s.memoizedProps;b.props=E;var O=b.context,K=l.contextType;typeof K=="object"&&K!==null?K=Un(K):(K=vn(l)?Ni:cn.current,K=cs(s,K));var ie=l.getDerivedStateFromProps,le=typeof ie=="function"||typeof b.getSnapshotBeforeUpdate=="function";le||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(E!==d||O!==K)&&fh(s,b,d,K),ri=!1;var re=s.memoizedState;b.state=re,yo(s,d,b,p),O=s.memoizedState,E!==d||re!==O||yn.current||ri?(typeof ie=="function"&&(Bc(s,l,ie,d),O=s.memoizedState),(E=ri||uh(s,l,E,d,re,O,K))?(le||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(s.flags|=4194308)):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=O),b.props=d,b.state=O,b.context=K,d=E):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{b=s.stateNode,zf(r,s),E=s.memoizedProps,K=s.type===s.elementType?E:er(s.type,E),b.props=K,le=s.pendingProps,re=b.context,O=l.contextType,typeof O=="object"&&O!==null?O=Un(O):(O=vn(l)?Ni:cn.current,O=cs(s,O));var ye=l.getDerivedStateFromProps;(ie=typeof ye=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(E!==le||re!==O)&&fh(s,b,d,O),ri=!1,re=s.memoizedState,b.state=re,yo(s,d,b,p);var Se=s.memoizedState;E!==le||re!==Se||yn.current||ri?(typeof ye=="function"&&(Bc(s,l,ye,d),Se=s.memoizedState),(K=ri||uh(s,l,K,d,re,Se,O)||!1)?(ie||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(d,Se,O),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(d,Se,O)),typeof b.componentDidUpdate=="function"&&(s.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof b.componentDidUpdate!="function"||E===r.memoizedProps&&re===r.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&re===r.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=Se),b.props=d,b.state=Se,b.context=O,d=K):(typeof b.componentDidUpdate!="function"||E===r.memoizedProps&&re===r.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&re===r.memoizedState||(s.flags|=1024),d=!1)}return Yc(r,s,l,d,y,p)}function Yc(r,s,l,d,p,y){wh(r,s);var b=(s.flags&128)!==0;if(!d&&!b)return p&&Nf(s,l,!1),Nr(r,s,y);d=s.stateNode,Lv.current=s;var E=b&&typeof l.getDerivedStateFromError!="function"?null:d.render();return s.flags|=1,r!==null&&b?(s.child=hs(s,r.child,null,y),s.child=hs(s,null,E,y)):mn(r,s,E,y),s.memoizedState=d.state,p&&Nf(s,l,!0),s.child}function kh(r){var s=r.stateNode;s.pendingContext?Cf(r,s.pendingContext,s.pendingContext!==s.context):s.context&&Cf(r,s.context,!1),Mc(r,s.containerInfo)}function jh(r,s,l,d,p){return fs(),wc(p),s.flags|=256,mn(r,s,l,d),s.child}var Kc={dehydrated:null,treeContext:null,retryLane:0};function Xc(r){return{baseLanes:r,cachePool:null,transitions:null}}function Ch(r,s,l){var d=s.pendingProps,p=Mt.current,y=!1,b=(s.flags&128)!==0,E;if((E=b)||(E=r!==null&&r.memoizedState===null?!1:(p&2)!==0),E?(y=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(p|=1),ht(Mt,p&1),r===null)return _c(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(b=d.children,r=d.fallback,y?(d=s.mode,y=s.child,b={mode:"hidden",children:b},(d&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=b):y=Io(b,d,0,null),r=Ii(r,d,l,null),y.return=s,r.return=s,y.sibling=r,s.child=y,s.child.memoizedState=Xc(l),s.memoizedState=Kc,r):Qc(s,b));if(p=r.memoizedState,p!==null&&(E=p.dehydrated,E!==null))return Av(r,s,b,d,E,p,l);if(y){y=d.fallback,b=s.mode,p=r.child,E=p.sibling;var O={mode:"hidden",children:d.children};return(b&1)===0&&s.child!==p?(d=s.child,d.childLanes=0,d.pendingProps=O,s.deletions=null):(d=ui(p,O),d.subtreeFlags=p.subtreeFlags&14680064),E!==null?y=ui(E,y):(y=Ii(y,b,l,null),y.flags|=2),y.return=s,d.return=s,d.sibling=y,s.child=d,d=y,y=s.child,b=r.child.memoizedState,b=b===null?Xc(l):{baseLanes:b.baseLanes|l,cachePool:null,transitions:b.transitions},y.memoizedState=b,y.childLanes=r.childLanes&~l,s.memoizedState=Kc,d}return y=r.child,r=y.sibling,d=ui(y,{mode:"visible",children:d.children}),(s.mode&1)===0&&(d.lanes=l),d.return=s,d.sibling=null,r!==null&&(l=s.deletions,l===null?(s.deletions=[r],s.flags|=16):l.push(r)),s.child=d,s.memoizedState=null,d}function Qc(r,s){return s=Io({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function jo(r,s,l,d){return d!==null&&wc(d),hs(s,r.child,null,l),r=Qc(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function Av(r,s,l,d,p,y,b){if(l)return s.flags&256?(s.flags&=-257,d=Hc(Error(n(422))),jo(r,s,b,d)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(y=d.fallback,p=s.mode,d=Io({mode:"visible",children:d.children},p,0,null),y=Ii(y,p,b,null),y.flags|=2,d.return=s,y.return=s,d.sibling=y,s.child=d,(s.mode&1)!==0&&hs(s,r.child,null,b),s.child.memoizedState=Xc(b),s.memoizedState=Kc,y);if((s.mode&1)===0)return jo(r,s,b,null);if(p.data==="$!"){if(d=p.nextSibling&&p.nextSibling.dataset,d)var E=d.dgst;return d=E,y=Error(n(419)),d=Hc(y,d,void 0),jo(r,s,b,d)}if(E=(b&r.childLanes)!==0,xn||E){if(d=qt,d!==null){switch(b&-b){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(d.suspendedLanes|b))!==0?0:p,p!==0&&p!==y.retryLane&&(y.retryLane=p,Cr(r,p),rr(d,r,p,-1))}return du(),d=Hc(Error(n(421))),jo(r,s,b,d)}return p.data==="$?"?(s.flags|=128,s.child=r.child,s=Xv.bind(null,r),p._reactRetry=s,null):(r=y.treeContext,Pn=Jr(p.nextSibling),Tn=s,St=!0,Jn=null,r!==null&&(In[zn++]=kr,In[zn++]=jr,In[zn++]=Mi,kr=r.id,jr=r.overflow,Mi=s),s=Qc(s,d.children),s.flags|=4096,s)}function Eh(r,s,l){r.lanes|=s;var d=r.alternate;d!==null&&(d.lanes|=s),Cc(r.return,s,l)}function Gc(r,s,l,d,p){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:p}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=l,y.tailMode=p)}function Nh(r,s,l){var d=s.pendingProps,p=d.revealOrder,y=d.tail;if(mn(r,s,d.children,l),d=Mt.current,(d&2)!==0)d=d&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Eh(r,l,s);else if(r.tag===19)Eh(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}if(ht(Mt,d),(s.mode&1)===0)s.memoizedState=null;else switch(p){case"forwards":for(l=s.child,p=null;l!==null;)r=l.alternate,r!==null&&vo(r)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),Gc(s,!1,p,l,y);break;case"backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(r=p.alternate,r!==null&&vo(r)===null){s.child=p;break}r=p.sibling,p.sibling=l,l=p,p=r}Gc(s,!0,l,null,y);break;case"together":Gc(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Co(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Nr(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),Li|=s.lanes,(l&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(n(153));if(s.child!==null){for(r=s.child,l=ui(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=ui(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function Ov(r,s,l){switch(s.tag){case 3:kh(s),fs();break;case 5:$f(s);break;case 1:vn(s.type)&&oo(s);break;case 4:Mc(s,s.stateNode.containerInfo);break;case 10:var d=s.type._context,p=s.memoizedProps.value;ht(mo,d._currentValue),d._currentValue=p;break;case 13:if(d=s.memoizedState,d!==null)return d.dehydrated!==null?(ht(Mt,Mt.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?Ch(r,s,l):(ht(Mt,Mt.current&1),r=Nr(r,s,l),r!==null?r.sibling:null);ht(Mt,Mt.current&1);break;case 19:if(d=(l&s.childLanes)!==0,(r.flags&128)!==0){if(d)return Nh(r,s,l);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ht(Mt,Mt.current),d)break;return null;case 22:case 23:return s.lanes=0,_h(r,s,l)}return Nr(r,s,l)}var Mh,qc,Rh,Th;Mh=function(r,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},qc=function(){},Rh=function(r,s,l,d){var p=r.memoizedProps;if(p!==d){r=s.stateNode,Pi(cr.current);var y=null;switch(l){case"input":p=Lt(r,p),d=Lt(r,d),y=[];break;case"select":p=M({},p,{value:void 0}),d=M({},d,{value:void 0}),y=[];break;case"textarea":p=me(r,p),d=me(r,d),y=[];break;default:typeof p.onClick!="function"&&typeof d.onClick=="function"&&(r.onclick=io)}_t(l,d);var b;l=null;for(K in p)if(!d.hasOwnProperty(K)&&p.hasOwnProperty(K)&&p[K]!=null)if(K==="style"){var E=p[K];for(b in E)E.hasOwnProperty(b)&&(l||(l={}),l[b]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(a.hasOwnProperty(K)?y||(y=[]):(y=y||[]).push(K,null));for(K in d){var O=d[K];if(E=p?.[K],d.hasOwnProperty(K)&&O!==E&&(O!=null||E!=null))if(K==="style")if(E){for(b in E)!E.hasOwnProperty(b)||O&&O.hasOwnProperty(b)||(l||(l={}),l[b]="");for(b in O)O.hasOwnProperty(b)&&E[b]!==O[b]&&(l||(l={}),l[b]=O[b])}else l||(y||(y=[]),y.push(K,l)),l=O;else K==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,E=E?E.__html:void 0,O!=null&&E!==O&&(y=y||[]).push(K,O)):K==="children"?typeof O!="string"&&typeof O!="number"||(y=y||[]).push(K,""+O):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(a.hasOwnProperty(K)?(O!=null&&K==="onScroll"&&gt("scroll",r),y||E===O||(y=[])):(y=y||[]).push(K,O))}l&&(y=y||[]).push("style",l);var K=y;(s.updateQueue=K)&&(s.flags|=4)}},Th=function(r,s,l,d){l!==d&&(s.flags|=4)};function da(r,s){if(!St)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function dn(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,d=0;if(s)for(var p=r.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags&14680064,d|=p.flags&14680064,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=d,r.childLanes=l,s}function Fv(r,s,l){var d=s.pendingProps;switch(xc(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dn(s),null;case 1:return vn(s.type)&&ao(),dn(s),null;case 3:return d=s.stateNode,gs(),yt(yn),yt(cn),Pc(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(fo(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Jn!==null&&(lu(Jn),Jn=null))),qc(r,s),dn(s),null;case 5:Rc(s);var p=Pi(aa.current);if(l=s.type,r!==null&&s.stateNode!=null)Rh(r,s,l,d,p),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!d){if(s.stateNode===null)throw Error(n(166));return dn(s),null}if(r=Pi(cr.current),fo(s)){d=s.stateNode,l=s.type;var y=s.memoizedProps;switch(d[lr]=s,d[ta]=y,r=(s.mode&1)!==0,l){case"dialog":gt("cancel",d),gt("close",d);break;case"iframe":case"object":case"embed":gt("load",d);break;case"video":case"audio":for(p=0;p<Zs.length;p++)gt(Zs[p],d);break;case"source":gt("error",d);break;case"img":case"image":case"link":gt("error",d),gt("load",d);break;case"details":gt("toggle",d);break;case"input":On(d,y),gt("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!y.multiple},gt("invalid",d);break;case"textarea":Me(d,y),gt("invalid",d)}_t(l,y),p=null;for(var b in y)if(y.hasOwnProperty(b)){var E=y[b];b==="children"?typeof E=="string"?d.textContent!==E&&(y.suppressHydrationWarning!==!0&&ro(d.textContent,E,r),p=["children",E]):typeof E=="number"&&d.textContent!==""+E&&(y.suppressHydrationWarning!==!0&&ro(d.textContent,E,r),p=["children",""+E]):a.hasOwnProperty(b)&&E!=null&&b==="onScroll"&&gt("scroll",d)}switch(l){case"input":It(d),tn(d,y,!0);break;case"textarea":It(d),bt(d);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(d.onclick=io)}d=p,s.updateQueue=d,d!==null&&(s.flags|=4)}else{b=p.nodeType===9?p:p.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Ct(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=b.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof d.is=="string"?r=b.createElement(l,{is:d.is}):(r=b.createElement(l),l==="select"&&(b=r,d.multiple?b.multiple=!0:d.size&&(b.size=d.size))):r=b.createElementNS(r,l),r[lr]=s,r[ta]=d,Mh(r,s,!1,!1),s.stateNode=r;e:{switch(b=Tt(l,d),l){case"dialog":gt("cancel",r),gt("close",r),p=d;break;case"iframe":case"object":case"embed":gt("load",r),p=d;break;case"video":case"audio":for(p=0;p<Zs.length;p++)gt(Zs[p],r);p=d;break;case"source":gt("error",r),p=d;break;case"img":case"image":case"link":gt("error",r),gt("load",r),p=d;break;case"details":gt("toggle",r),p=d;break;case"input":On(r,d),p=Lt(r,d),gt("invalid",r);break;case"option":p=d;break;case"select":r._wrapperState={wasMultiple:!!d.multiple},p=M({},d,{value:void 0}),gt("invalid",r);break;case"textarea":Me(r,d),p=me(r,d),gt("invalid",r);break;default:p=d}_t(l,p),E=p;for(y in E)if(E.hasOwnProperty(y)){var O=E[y];y==="style"?Ne(r,O):y==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,O!=null&&ut(r,O)):y==="children"?typeof O=="string"?(l!=="textarea"||O!=="")&&Qt(r,O):typeof O=="number"&&Qt(r,""+O):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(a.hasOwnProperty(y)?O!=null&&y==="onScroll"&&gt("scroll",r):O!=null&&B(r,y,O,b))}switch(l){case"input":It(r),tn(r,d,!1);break;case"textarea":It(r),bt(r);break;case"option":d.value!=null&&r.setAttribute("value",""+ke(d.value));break;case"select":r.multiple=!!d.multiple,y=d.value,y!=null?ct(r,!!d.multiple,y,!1):d.defaultValue!=null&&ct(r,!!d.multiple,d.defaultValue,!0);break;default:typeof p.onClick=="function"&&(r.onclick=io)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return dn(s),null;case 6:if(r&&s.stateNode!=null)Th(r,s,r.memoizedProps,d);else{if(typeof d!="string"&&s.stateNode===null)throw Error(n(166));if(l=Pi(aa.current),Pi(cr.current),fo(s)){if(d=s.stateNode,l=s.memoizedProps,d[lr]=s,(y=d.nodeValue!==l)&&(r=Tn,r!==null))switch(r.tag){case 3:ro(d.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&ro(d.nodeValue,l,(r.mode&1)!==0)}y&&(s.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[lr]=s,s.stateNode=d}return dn(s),null;case 13:if(yt(Mt),d=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(St&&Pn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Lf(),fs(),s.flags|=98560,y=!1;else if(y=fo(s),d!==null&&d.dehydrated!==null){if(r===null){if(!y)throw Error(n(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(n(317));y[lr]=s}else fs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;dn(s),y=!1}else Jn!==null&&(lu(Jn),Jn=null),y=!0;if(!y)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(d=d!==null,d!==(r!==null&&r.memoizedState!==null)&&d&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(Mt.current&1)!==0?Yt===0&&(Yt=3):du())),s.updateQueue!==null&&(s.flags|=4),dn(s),null);case 4:return gs(),qc(r,s),r===null&&Js(s.stateNode.containerInfo),dn(s),null;case 10:return jc(s.type._context),dn(s),null;case 17:return vn(s.type)&&ao(),dn(s),null;case 19:if(yt(Mt),y=s.memoizedState,y===null)return dn(s),null;if(d=(s.flags&128)!==0,b=y.rendering,b===null)if(d)da(y,!1);else{if(Yt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(b=vo(r),b!==null){for(s.flags|=128,da(y,!1),d=b.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),s.subtreeFlags=0,d=l,l=s.child;l!==null;)y=l,r=d,y.flags&=14680066,b=y.alternate,b===null?(y.childLanes=0,y.lanes=r,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=b.childLanes,y.lanes=b.lanes,y.child=b.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=b.memoizedProps,y.memoizedState=b.memoizedState,y.updateQueue=b.updateQueue,y.type=b.type,r=b.dependencies,y.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return ht(Mt,Mt.current&1|2),s.child}r=r.sibling}y.tail!==null&&Ke()>bs&&(s.flags|=128,d=!0,da(y,!1),s.lanes=4194304)}else{if(!d)if(r=vo(b),r!==null){if(s.flags|=128,d=!0,l=r.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),da(y,!0),y.tail===null&&y.tailMode==="hidden"&&!b.alternate&&!St)return dn(s),null}else 2*Ke()-y.renderingStartTime>bs&&l!==1073741824&&(s.flags|=128,d=!0,da(y,!1),s.lanes=4194304);y.isBackwards?(b.sibling=s.child,s.child=b):(l=y.last,l!==null?l.sibling=b:s.child=b,y.last=b)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=Ke(),s.sibling=null,l=Mt.current,ht(Mt,d?l&1|2:l&1),s):(dn(s),null);case 22:case 23:return uu(),d=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==d&&(s.flags|=8192),d&&(s.mode&1)!==0?(Dn&1073741824)!==0&&(dn(s),s.subtreeFlags&6&&(s.flags|=8192)):dn(s),null;case 24:return null;case 25:return null}throw Error(n(156,s.tag))}function Iv(r,s){switch(xc(s),s.tag){case 1:return vn(s.type)&&ao(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return gs(),yt(yn),yt(cn),Pc(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return Rc(s),null;case 13:if(yt(Mt),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(n(340));fs()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return yt(Mt),null;case 4:return gs(),null;case 10:return jc(s.type._context),null;case 22:case 23:return uu(),null;case 24:return null;default:return null}}var Eo=!1,fn=!1,zv=typeof WeakSet=="function"?WeakSet:Set,_e=null;function vs(r,s){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){Pt(r,s,d)}else l.current=null}function Zc(r,s,l){try{l()}catch(d){Pt(r,s,d)}}var Ph=!1;function Uv(r,s){if(uc=Ya,r=uf(),nc(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var p=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var b=0,E=-1,O=-1,K=0,ie=0,le=r,re=null;t:for(;;){for(var ye;le!==l||p!==0&&le.nodeType!==3||(E=b+p),le!==y||d!==0&&le.nodeType!==3||(O=b+d),le.nodeType===3&&(b+=le.nodeValue.length),(ye=le.firstChild)!==null;)re=le,le=ye;for(;;){if(le===r)break t;if(re===l&&++K===p&&(E=b),re===y&&++ie===d&&(O=b),(ye=le.nextSibling)!==null)break;le=re,re=le.parentNode}le=ye}l=E===-1||O===-1?null:{start:E,end:O}}else l=null}l=l||{start:0,end:0}}else l=null;for(dc={focusedElem:r,selectionRange:l},Ya=!1,_e=s;_e!==null;)if(s=_e,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,_e=r;else for(;_e!==null;){s=_e;try{var Se=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Se!==null){var je=Se.memoizedProps,At=Se.memoizedState,$=s.stateNode,I=$.getSnapshotBeforeUpdate(s.elementType===s.type?je:er(s.type,je),At);$.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var W=s.stateNode.containerInfo;W.nodeType===1?W.textContent="":W.nodeType===9&&W.documentElement&&W.removeChild(W.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ue){Pt(s,s.return,ue)}if(r=s.sibling,r!==null){r.return=s.return,_e=r;break}_e=s.return}return Se=Ph,Ph=!1,Se}function fa(r,s,l){var d=s.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var p=d=d.next;do{if((p.tag&r)===r){var y=p.destroy;p.destroy=void 0,y!==void 0&&Zc(s,l,y)}p=p.next}while(p!==d)}}function No(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&r)===r){var d=l.create;l.destroy=d()}l=l.next}while(l!==s)}}function Jc(r){var s=r.ref;if(s!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof s=="function"?s(r):s.current=r}}function Dh(r){var s=r.alternate;s!==null&&(r.alternate=null,Dh(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[lr],delete s[ta],delete s[pc],delete s[wv],delete s[Sv])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Lh(r){return r.tag===5||r.tag===3||r.tag===4}function Ah(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Lh(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function eu(r,s,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(r,s):l.insertBefore(r,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(r,l)):(s=l,s.appendChild(r)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=io));else if(d!==4&&(r=r.child,r!==null))for(eu(r,s,l),r=r.sibling;r!==null;)eu(r,s,l),r=r.sibling}function tu(r,s,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(d!==4&&(r=r.child,r!==null))for(tu(r,s,l),r=r.sibling;r!==null;)tu(r,s,l),r=r.sibling}var nn=null,tr=!1;function si(r,s,l){for(l=l.child;l!==null;)Oh(r,s,l),l=l.sibling}function Oh(r,s,l){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(it,l)}catch{}switch(l.tag){case 5:fn||vs(l,s);case 6:var d=nn,p=tr;nn=null,si(r,s,l),nn=d,tr=p,nn!==null&&(tr?(r=nn,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):nn.removeChild(l.stateNode));break;case 18:nn!==null&&(tr?(r=nn,l=l.stateNode,r.nodeType===8?mc(r.parentNode,l):r.nodeType===1&&mc(r,l),Ws(r)):mc(nn,l.stateNode));break;case 4:d=nn,p=tr,nn=l.stateNode.containerInfo,tr=!0,si(r,s,l),nn=d,tr=p;break;case 0:case 11:case 14:case 15:if(!fn&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){p=d=d.next;do{var y=p,b=y.destroy;y=y.tag,b!==void 0&&((y&2)!==0||(y&4)!==0)&&Zc(l,s,b),p=p.next}while(p!==d)}si(r,s,l);break;case 1:if(!fn&&(vs(l,s),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(E){Pt(l,s,E)}si(r,s,l);break;case 21:si(r,s,l);break;case 22:l.mode&1?(fn=(d=fn)||l.memoizedState!==null,si(r,s,l),fn=d):si(r,s,l);break;default:si(r,s,l)}}function Fh(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new zv),s.forEach(function(d){var p=Qv.bind(null,r,d);l.has(d)||(l.add(d),d.then(p,p))})}}function nr(r,s){var l=s.deletions;if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];try{var y=r,b=s,E=b;e:for(;E!==null;){switch(E.tag){case 5:nn=E.stateNode,tr=!1;break e;case 3:nn=E.stateNode.containerInfo,tr=!0;break e;case 4:nn=E.stateNode.containerInfo,tr=!0;break e}E=E.return}if(nn===null)throw Error(n(160));Oh(y,b,p),nn=null,tr=!1;var O=p.alternate;O!==null&&(O.return=null),p.return=null}catch(K){Pt(p,s,K)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Ih(s,r),s=s.sibling}function Ih(r,s){var l=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(nr(s,r),dr(r),d&4){try{fa(3,r,r.return),No(3,r)}catch(je){Pt(r,r.return,je)}try{fa(5,r,r.return)}catch(je){Pt(r,r.return,je)}}break;case 1:nr(s,r),dr(r),d&512&&l!==null&&vs(l,l.return);break;case 5:if(nr(s,r),dr(r),d&512&&l!==null&&vs(l,l.return),r.flags&32){var p=r.stateNode;try{Qt(p,"")}catch(je){Pt(r,r.return,je)}}if(d&4&&(p=r.stateNode,p!=null)){var y=r.memoizedProps,b=l!==null?l.memoizedProps:y,E=r.type,O=r.updateQueue;if(r.updateQueue=null,O!==null)try{E==="input"&&y.type==="radio"&&y.name!=null&&sn(p,y),Tt(E,b);var K=Tt(E,y);for(b=0;b<O.length;b+=2){var ie=O[b],le=O[b+1];ie==="style"?Ne(p,le):ie==="dangerouslySetInnerHTML"?ut(p,le):ie==="children"?Qt(p,le):B(p,ie,le,K)}switch(E){case"input":gn(p,y);break;case"textarea":Ue(p,y);break;case"select":var re=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!y.multiple;var ye=y.value;ye!=null?ct(p,!!y.multiple,ye,!1):re!==!!y.multiple&&(y.defaultValue!=null?ct(p,!!y.multiple,y.defaultValue,!0):ct(p,!!y.multiple,y.multiple?[]:"",!1))}p[ta]=y}catch(je){Pt(r,r.return,je)}}break;case 6:if(nr(s,r),dr(r),d&4){if(r.stateNode===null)throw Error(n(162));p=r.stateNode,y=r.memoizedProps;try{p.nodeValue=y}catch(je){Pt(r,r.return,je)}}break;case 3:if(nr(s,r),dr(r),d&4&&l!==null&&l.memoizedState.isDehydrated)try{Ws(s.containerInfo)}catch(je){Pt(r,r.return,je)}break;case 4:nr(s,r),dr(r);break;case 13:nr(s,r),dr(r),p=r.child,p.flags&8192&&(y=p.memoizedState!==null,p.stateNode.isHidden=y,!y||p.alternate!==null&&p.alternate.memoizedState!==null||(iu=Ke())),d&4&&Fh(r);break;case 22:if(ie=l!==null&&l.memoizedState!==null,r.mode&1?(fn=(K=fn)||ie,nr(s,r),fn=K):nr(s,r),dr(r),d&8192){if(K=r.memoizedState!==null,(r.stateNode.isHidden=K)&&!ie&&(r.mode&1)!==0)for(_e=r,ie=r.child;ie!==null;){for(le=_e=ie;_e!==null;){switch(re=_e,ye=re.child,re.tag){case 0:case 11:case 14:case 15:fa(4,re,re.return);break;case 1:vs(re,re.return);var Se=re.stateNode;if(typeof Se.componentWillUnmount=="function"){d=re,l=re.return;try{s=d,Se.props=s.memoizedProps,Se.state=s.memoizedState,Se.componentWillUnmount()}catch(je){Pt(d,l,je)}}break;case 5:vs(re,re.return);break;case 22:if(re.memoizedState!==null){Bh(le);continue}}ye!==null?(ye.return=re,_e=ye):Bh(le)}ie=ie.sibling}e:for(ie=null,le=r;;){if(le.tag===5){if(ie===null){ie=le;try{p=le.stateNode,K?(y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(E=le.stateNode,O=le.memoizedProps.style,b=O!=null&&O.hasOwnProperty("display")?O.display:null,E.style.display=G("display",b))}catch(je){Pt(r,r.return,je)}}}else if(le.tag===6){if(ie===null)try{le.stateNode.nodeValue=K?"":le.memoizedProps}catch(je){Pt(r,r.return,je)}}else if((le.tag!==22&&le.tag!==23||le.memoizedState===null||le===r)&&le.child!==null){le.child.return=le,le=le.child;continue}if(le===r)break e;for(;le.sibling===null;){if(le.return===null||le.return===r)break e;ie===le&&(ie=null),le=le.return}ie===le&&(ie=null),le.sibling.return=le.return,le=le.sibling}}break;case 19:nr(s,r),dr(r),d&4&&Fh(r);break;case 21:break;default:nr(s,r),dr(r)}}function dr(r){var s=r.flags;if(s&2){try{e:{for(var l=r.return;l!==null;){if(Lh(l)){var d=l;break e}l=l.return}throw Error(n(160))}switch(d.tag){case 5:var p=d.stateNode;d.flags&32&&(Qt(p,""),d.flags&=-33);var y=Ah(r);tu(r,y,p);break;case 3:case 4:var b=d.stateNode.containerInfo,E=Ah(r);eu(r,E,b);break;default:throw Error(n(161))}}catch(O){Pt(r,r.return,O)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function Bv(r,s,l){_e=r,zh(r)}function zh(r,s,l){for(var d=(r.mode&1)!==0;_e!==null;){var p=_e,y=p.child;if(p.tag===22&&d){var b=p.memoizedState!==null||Eo;if(!b){var E=p.alternate,O=E!==null&&E.memoizedState!==null||fn;E=Eo;var K=fn;if(Eo=b,(fn=O)&&!K)for(_e=p;_e!==null;)b=_e,O=b.child,b.tag===22&&b.memoizedState!==null?$h(p):O!==null?(O.return=b,_e=O):$h(p);for(;y!==null;)_e=y,zh(y),y=y.sibling;_e=p,Eo=E,fn=K}Uh(r)}else(p.subtreeFlags&8772)!==0&&y!==null?(y.return=p,_e=y):Uh(r)}}function Uh(r){for(;_e!==null;){var s=_e;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:fn||No(5,s);break;case 1:var d=s.stateNode;if(s.flags&4&&!fn)if(l===null)d.componentDidMount();else{var p=s.elementType===s.type?l.memoizedProps:er(s.type,l.memoizedProps);d.componentDidUpdate(p,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var y=s.updateQueue;y!==null&&Bf(s,y,d);break;case 3:var b=s.updateQueue;if(b!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}Bf(s,b,l)}break;case 5:var E=s.stateNode;if(l===null&&s.flags&4){l=E;var O=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":O.autoFocus&&l.focus();break;case"img":O.src&&(l.src=O.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var K=s.alternate;if(K!==null){var ie=K.memoizedState;if(ie!==null){var le=ie.dehydrated;le!==null&&Ws(le)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}fn||s.flags&512&&Jc(s)}catch(re){Pt(s,s.return,re)}}if(s===r){_e=null;break}if(l=s.sibling,l!==null){l.return=s.return,_e=l;break}_e=s.return}}function Bh(r){for(;_e!==null;){var s=_e;if(s===r){_e=null;break}var l=s.sibling;if(l!==null){l.return=s.return,_e=l;break}_e=s.return}}function $h(r){for(;_e!==null;){var s=_e;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{No(4,s)}catch(O){Pt(s,l,O)}break;case 1:var d=s.stateNode;if(typeof d.componentDidMount=="function"){var p=s.return;try{d.componentDidMount()}catch(O){Pt(s,p,O)}}var y=s.return;try{Jc(s)}catch(O){Pt(s,y,O)}break;case 5:var b=s.return;try{Jc(s)}catch(O){Pt(s,b,O)}}}catch(O){Pt(s,s.return,O)}if(s===r){_e=null;break}var E=s.sibling;if(E!==null){E.return=s.return,_e=E;break}_e=s.return}}var $v=Math.ceil,Mo=z.ReactCurrentDispatcher,nu=z.ReactCurrentOwner,$n=z.ReactCurrentBatchConfig,Qe=0,qt=null,Bt=null,rn=0,Dn=0,xs=ei(0),Yt=0,ha=null,Li=0,Ro=0,ru=0,ma=null,bn=null,iu=0,bs=1/0,Mr=null,To=!1,su=null,ai=null,Po=!1,oi=null,Do=0,pa=0,au=null,Lo=-1,Ao=0;function pn(){return(Qe&6)!==0?Ke():Lo!==-1?Lo:Lo=Ke()}function li(r){return(r.mode&1)===0?1:(Qe&2)!==0&&rn!==0?rn&-rn:jv.transition!==null?(Ao===0&&(Ao=Ji()),Ao):(r=st,r!==0||(r=window.event,r=r===void 0?16:Hd(r.type)),r)}function rr(r,s,l,d){if(50<pa)throw pa=0,au=null,Error(n(185));zs(r,l,d),((Qe&2)===0||r!==qt)&&(r===qt&&((Qe&2)===0&&(Ro|=l),Yt===4&&ci(r,rn)),_n(r,d),l===1&&Qe===0&&(s.mode&1)===0&&(bs=Ke()+500,lo&&ni()))}function _n(r,s){var l=r.callbackNode;Yr(r,s);var d=wt(r,r===qt?rn:0);if(d===0)l!==null&&Xn(l),r.callbackNode=null,r.callbackPriority=0;else if(s=d&-d,r.callbackPriority!==s){if(l!=null&&Xn(l),s===1)r.tag===0?kv(Wh.bind(null,r)):Mf(Wh.bind(null,r)),bv(function(){(Qe&6)===0&&ni()}),l=null;else{switch(Ad(d)){case 1:l=Qn;break;case 4:l=Fn;break;case 16:l=Gn;break;case 536870912:l=We;break;default:l=Gn}l=Zh(l,Hh.bind(null,r))}r.callbackPriority=s,r.callbackNode=l}}function Hh(r,s){if(Lo=-1,Ao=0,(Qe&6)!==0)throw Error(n(327));var l=r.callbackNode;if(_s()&&r.callbackNode!==l)return null;var d=wt(r,r===qt?rn:0);if(d===0)return null;if((d&30)!==0||(d&r.expiredLanes)!==0||s)s=Oo(r,d);else{s=d;var p=Qe;Qe|=2;var y=Yh();(qt!==r||rn!==s)&&(Mr=null,bs=Ke()+500,Oi(r,s));do try{Vv();break}catch(E){Vh(r,E)}while(!0);kc(),Mo.current=y,Qe=p,Bt!==null?s=0:(qt=null,rn=0,s=Yt)}if(s!==0){if(s===2&&(p=_r(r),p!==0&&(d=p,s=ou(r,p))),s===1)throw l=ha,Oi(r,0),ci(r,d),_n(r,Ke()),l;if(s===6)ci(r,d);else{if(p=r.current.alternate,(d&30)===0&&!Hv(p)&&(s=Oo(r,d),s===2&&(y=_r(r),y!==0&&(d=y,s=ou(r,y))),s===1))throw l=ha,Oi(r,0),ci(r,d),_n(r,Ke()),l;switch(r.finishedWork=p,r.finishedLanes=d,s){case 0:case 1:throw Error(n(345));case 2:Fi(r,bn,Mr);break;case 3:if(ci(r,d),(d&130023424)===d&&(s=iu+500-Ke(),10<s)){if(wt(r,0)!==0)break;if(p=r.suspendedLanes,(p&d)!==d){pn(),r.pingedLanes|=r.suspendedLanes&p;break}r.timeoutHandle=hc(Fi.bind(null,r,bn,Mr),s);break}Fi(r,bn,Mr);break;case 4:if(ci(r,d),(d&4194240)===d)break;for(s=r.eventTimes,p=-1;0<d;){var b=31-Xe(d);y=1<<b,b=s[b],b>p&&(p=b),d&=~y}if(d=p,d=Ke()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*$v(d/1960))-d,10<d){r.timeoutHandle=hc(Fi.bind(null,r,bn,Mr),d);break}Fi(r,bn,Mr);break;case 5:Fi(r,bn,Mr);break;default:throw Error(n(329))}}}return _n(r,Ke()),r.callbackNode===l?Hh.bind(null,r):null}function ou(r,s){var l=ma;return r.current.memoizedState.isDehydrated&&(Oi(r,s).flags|=256),r=Oo(r,s),r!==2&&(s=bn,bn=l,s!==null&&lu(s)),r}function lu(r){bn===null?bn=r:bn.push.apply(bn,r)}function Hv(r){for(var s=r;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var p=l[d],y=p.getSnapshot;p=p.value;try{if(!Zn(y(),p))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ci(r,s){for(s&=~ru,s&=~Ro,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var l=31-Xe(s),d=1<<l;r[l]=-1,s&=~d}}function Wh(r){if((Qe&6)!==0)throw Error(n(327));_s();var s=wt(r,0);if((s&1)===0)return _n(r,Ke()),null;var l=Oo(r,s);if(r.tag!==0&&l===2){var d=_r(r);d!==0&&(s=d,l=ou(r,d))}if(l===1)throw l=ha,Oi(r,0),ci(r,s),_n(r,Ke()),l;if(l===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,Fi(r,bn,Mr),_n(r,Ke()),null}function cu(r,s){var l=Qe;Qe|=1;try{return r(s)}finally{Qe=l,Qe===0&&(bs=Ke()+500,lo&&ni())}}function Ai(r){oi!==null&&oi.tag===0&&(Qe&6)===0&&_s();var s=Qe;Qe|=1;var l=$n.transition,d=st;try{if($n.transition=null,st=1,r)return r()}finally{st=d,$n.transition=l,Qe=s,(Qe&6)===0&&ni()}}function uu(){Dn=xs.current,yt(xs)}function Oi(r,s){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,xv(l)),Bt!==null)for(l=Bt.return;l!==null;){var d=l;switch(xc(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&ao();break;case 3:gs(),yt(yn),yt(cn),Pc();break;case 5:Rc(d);break;case 4:gs();break;case 13:yt(Mt);break;case 19:yt(Mt);break;case 10:jc(d.type._context);break;case 22:case 23:uu()}l=l.return}if(qt=r,Bt=r=ui(r.current,null),rn=Dn=s,Yt=0,ha=null,ru=Ro=Li=0,bn=ma=null,Ti!==null){for(s=0;s<Ti.length;s++)if(l=Ti[s],d=l.interleaved,d!==null){l.interleaved=null;var p=d.next,y=l.pending;if(y!==null){var b=y.next;y.next=p,d.next=b}l.pending=d}Ti=null}return r}function Vh(r,s){do{var l=Bt;try{if(kc(),xo.current=So,bo){for(var d=Rt.memoizedState;d!==null;){var p=d.queue;p!==null&&(p.pending=null),d=d.next}bo=!1}if(Di=0,Gt=Vt=Rt=null,oa=!1,la=0,nu.current=null,l===null||l.return===null){Yt=1,ha=s,Bt=null;break}e:{var y=r,b=l.return,E=l,O=s;if(s=rn,E.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){var K=O,ie=E,le=ie.tag;if((ie.mode&1)===0&&(le===0||le===11||le===15)){var re=ie.alternate;re?(ie.updateQueue=re.updateQueue,ie.memoizedState=re.memoizedState,ie.lanes=re.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var ye=gh(b);if(ye!==null){ye.flags&=-257,yh(ye,b,E,y,s),ye.mode&1&&ph(y,K,s),s=ye,O=K;var Se=s.updateQueue;if(Se===null){var je=new Set;je.add(O),s.updateQueue=je}else Se.add(O);break e}else{if((s&1)===0){ph(y,K,s),du();break e}O=Error(n(426))}}else if(St&&E.mode&1){var At=gh(b);if(At!==null){(At.flags&65536)===0&&(At.flags|=256),yh(At,b,E,y,s),wc(ys(O,E));break e}}y=O=ys(O,E),Yt!==4&&(Yt=2),ma===null?ma=[y]:ma.push(y),y=b;do{switch(y.tag){case 3:y.flags|=65536,s&=-s,y.lanes|=s;var $=hh(y,O,s);Uf(y,$);break e;case 1:E=O;var I=y.type,W=y.stateNode;if((y.flags&128)===0&&(typeof I.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(ai===null||!ai.has(W)))){y.flags|=65536,s&=-s,y.lanes|=s;var ue=mh(y,E,s);Uf(y,ue);break e}}y=y.return}while(y!==null)}Xh(l)}catch(Ee){s=Ee,Bt===l&&l!==null&&(Bt=l=l.return);continue}break}while(!0)}function Yh(){var r=Mo.current;return Mo.current=So,r===null?So:r}function du(){(Yt===0||Yt===3||Yt===2)&&(Yt=4),qt===null||(Li&268435455)===0&&(Ro&268435455)===0||ci(qt,rn)}function Oo(r,s){var l=Qe;Qe|=2;var d=Yh();(qt!==r||rn!==s)&&(Mr=null,Oi(r,s));do try{Wv();break}catch(p){Vh(r,p)}while(!0);if(kc(),Qe=l,Mo.current=d,Bt!==null)throw Error(n(261));return qt=null,rn=0,Yt}function Wv(){for(;Bt!==null;)Kh(Bt)}function Vv(){for(;Bt!==null&&!or();)Kh(Bt)}function Kh(r){var s=qh(r.alternate,r,Dn);r.memoizedProps=r.pendingProps,s===null?Xh(r):Bt=s,nu.current=null}function Xh(r){var s=r;do{var l=s.alternate;if(r=s.return,(s.flags&32768)===0){if(l=Fv(l,s,Dn),l!==null){Bt=l;return}}else{if(l=Iv(l,s),l!==null){l.flags&=32767,Bt=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Yt=6,Bt=null;return}}if(s=s.sibling,s!==null){Bt=s;return}Bt=s=r}while(s!==null);Yt===0&&(Yt=5)}function Fi(r,s,l){var d=st,p=$n.transition;try{$n.transition=null,st=1,Yv(r,s,l,d)}finally{$n.transition=p,st=d}return null}function Yv(r,s,l,d){do _s();while(oi!==null);if((Qe&6)!==0)throw Error(n(327));l=r.finishedWork;var p=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var y=l.lanes|l.childLanes;if(Cy(r,y),r===qt&&(Bt=qt=null,rn=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Po||(Po=!0,Zh(Gn,function(){return _s(),null})),y=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||y){y=$n.transition,$n.transition=null;var b=st;st=1;var E=Qe;Qe|=4,nu.current=null,Uv(r,l),Ih(l,r),fv(dc),Ya=!!uc,dc=uc=null,r.current=l,Bv(l),Mn(),Qe=E,st=b,$n.transition=y}else r.current=l;if(Po&&(Po=!1,oi=r,Do=p),y=r.pendingLanes,y===0&&(ai=null),Vr(l.stateNode),_n(r,Ke()),s!==null)for(d=r.onRecoverableError,l=0;l<s.length;l++)p=s[l],d(p.value,{componentStack:p.stack,digest:p.digest});if(To)throw To=!1,r=su,su=null,r;return(Do&1)!==0&&r.tag!==0&&_s(),y=r.pendingLanes,(y&1)!==0?r===au?pa++:(pa=0,au=r):pa=0,ni(),null}function _s(){if(oi!==null){var r=Ad(Do),s=$n.transition,l=st;try{if($n.transition=null,st=16>r?16:r,oi===null)var d=!1;else{if(r=oi,oi=null,Do=0,(Qe&6)!==0)throw Error(n(331));var p=Qe;for(Qe|=4,_e=r.current;_e!==null;){var y=_e,b=y.child;if((_e.flags&16)!==0){var E=y.deletions;if(E!==null){for(var O=0;O<E.length;O++){var K=E[O];for(_e=K;_e!==null;){var ie=_e;switch(ie.tag){case 0:case 11:case 15:fa(8,ie,y)}var le=ie.child;if(le!==null)le.return=ie,_e=le;else for(;_e!==null;){ie=_e;var re=ie.sibling,ye=ie.return;if(Dh(ie),ie===K){_e=null;break}if(re!==null){re.return=ye,_e=re;break}_e=ye}}}var Se=y.alternate;if(Se!==null){var je=Se.child;if(je!==null){Se.child=null;do{var At=je.sibling;je.sibling=null,je=At}while(je!==null)}}_e=y}}if((y.subtreeFlags&2064)!==0&&b!==null)b.return=y,_e=b;else e:for(;_e!==null;){if(y=_e,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:fa(9,y,y.return)}var $=y.sibling;if($!==null){$.return=y.return,_e=$;break e}_e=y.return}}var I=r.current;for(_e=I;_e!==null;){b=_e;var W=b.child;if((b.subtreeFlags&2064)!==0&&W!==null)W.return=b,_e=W;else e:for(b=I;_e!==null;){if(E=_e,(E.flags&2048)!==0)try{switch(E.tag){case 0:case 11:case 15:No(9,E)}}catch(Ee){Pt(E,E.return,Ee)}if(E===b){_e=null;break e}var ue=E.sibling;if(ue!==null){ue.return=E.return,_e=ue;break e}_e=E.return}}if(Qe=p,ni(),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(it,r)}catch{}d=!0}return d}finally{st=l,$n.transition=s}}return!1}function Qh(r,s,l){s=ys(l,s),s=hh(r,s,1),r=ii(r,s,1),s=pn(),r!==null&&(zs(r,1,s),_n(r,s))}function Pt(r,s,l){if(r.tag===3)Qh(r,r,l);else for(;s!==null;){if(s.tag===3){Qh(s,r,l);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(ai===null||!ai.has(d))){r=ys(l,r),r=mh(s,r,1),s=ii(s,r,1),r=pn(),s!==null&&(zs(s,1,r),_n(s,r));break}}s=s.return}}function Kv(r,s,l){var d=r.pingCache;d!==null&&d.delete(s),s=pn(),r.pingedLanes|=r.suspendedLanes&l,qt===r&&(rn&l)===l&&(Yt===4||Yt===3&&(rn&130023424)===rn&&500>Ke()-iu?Oi(r,0):ru|=l),_n(r,s)}function Gh(r,s){s===0&&((r.mode&1)===0?s=1:(s=Ae,Ae<<=1,(Ae&130023424)===0&&(Ae=4194304)));var l=pn();r=Cr(r,s),r!==null&&(zs(r,s,l),_n(r,l))}function Xv(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),Gh(r,l)}function Qv(r,s){var l=0;switch(r.tag){case 13:var d=r.stateNode,p=r.memoizedState;p!==null&&(l=p.retryLane);break;case 19:d=r.stateNode;break;default:throw Error(n(314))}d!==null&&d.delete(s),Gh(r,l)}var qh;qh=function(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps||yn.current)xn=!0;else{if((r.lanes&l)===0&&(s.flags&128)===0)return xn=!1,Ov(r,s,l);xn=(r.flags&131072)!==0}else xn=!1,St&&(s.flags&1048576)!==0&&Rf(s,uo,s.index);switch(s.lanes=0,s.tag){case 2:var d=s.type;Co(r,s),r=s.pendingProps;var p=cs(s,cn.current);ps(s,l),p=Ac(null,s,d,r,p,l);var y=Oc();return s.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,vn(d)?(y=!0,oo(s)):y=!1,s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Nc(s),p.updater=ko,s.stateNode=p,p._reactInternals=s,$c(s,d,r,l),s=Yc(null,s,d,!0,y,l)):(s.tag=0,St&&y&&vc(s),mn(null,s,p,l),s=s.child),s;case 16:d=s.elementType;e:{switch(Co(r,s),r=s.pendingProps,p=d._init,d=p(d._payload),s.type=d,p=s.tag=qv(d),r=er(d,r),p){case 0:s=Vc(null,s,d,r,l);break e;case 1:s=Sh(null,s,d,r,l);break e;case 11:s=vh(null,s,d,r,l);break e;case 14:s=xh(null,s,d,er(d.type,r),l);break e}throw Error(n(306,d,""))}return s;case 0:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:er(d,p),Vc(r,s,d,p,l);case 1:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:er(d,p),Sh(r,s,d,p,l);case 3:e:{if(kh(s),r===null)throw Error(n(387));d=s.pendingProps,y=s.memoizedState,p=y.element,zf(r,s),yo(s,d,null,l);var b=s.memoizedState;if(d=b.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:b.cache,pendingSuspenseBoundaries:b.pendingSuspenseBoundaries,transitions:b.transitions},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){p=ys(Error(n(423)),s),s=jh(r,s,d,l,p);break e}else if(d!==p){p=ys(Error(n(424)),s),s=jh(r,s,d,l,p);break e}else for(Pn=Jr(s.stateNode.containerInfo.firstChild),Tn=s,St=!0,Jn=null,l=Ff(s,null,d,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(fs(),d===p){s=Nr(r,s,l);break e}mn(r,s,d,l)}s=s.child}return s;case 5:return $f(s),r===null&&_c(s),d=s.type,p=s.pendingProps,y=r!==null?r.memoizedProps:null,b=p.children,fc(d,p)?b=null:y!==null&&fc(d,y)&&(s.flags|=32),wh(r,s),mn(r,s,b,l),s.child;case 6:return r===null&&_c(s),null;case 13:return Ch(r,s,l);case 4:return Mc(s,s.stateNode.containerInfo),d=s.pendingProps,r===null?s.child=hs(s,null,d,l):mn(r,s,d,l),s.child;case 11:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:er(d,p),vh(r,s,d,p,l);case 7:return mn(r,s,s.pendingProps,l),s.child;case 8:return mn(r,s,s.pendingProps.children,l),s.child;case 12:return mn(r,s,s.pendingProps.children,l),s.child;case 10:e:{if(d=s.type._context,p=s.pendingProps,y=s.memoizedProps,b=p.value,ht(mo,d._currentValue),d._currentValue=b,y!==null)if(Zn(y.value,b)){if(y.children===p.children&&!yn.current){s=Nr(r,s,l);break e}}else for(y=s.child,y!==null&&(y.return=s);y!==null;){var E=y.dependencies;if(E!==null){b=y.child;for(var O=E.firstContext;O!==null;){if(O.context===d){if(y.tag===1){O=Er(-1,l&-l),O.tag=2;var K=y.updateQueue;if(K!==null){K=K.shared;var ie=K.pending;ie===null?O.next=O:(O.next=ie.next,ie.next=O),K.pending=O}}y.lanes|=l,O=y.alternate,O!==null&&(O.lanes|=l),Cc(y.return,l,s),E.lanes|=l;break}O=O.next}}else if(y.tag===10)b=y.type===s.type?null:y.child;else if(y.tag===18){if(b=y.return,b===null)throw Error(n(341));b.lanes|=l,E=b.alternate,E!==null&&(E.lanes|=l),Cc(b,l,s),b=y.sibling}else b=y.child;if(b!==null)b.return=y;else for(b=y;b!==null;){if(b===s){b=null;break}if(y=b.sibling,y!==null){y.return=b.return,b=y;break}b=b.return}y=b}mn(r,s,p.children,l),s=s.child}return s;case 9:return p=s.type,d=s.pendingProps.children,ps(s,l),p=Un(p),d=d(p),s.flags|=1,mn(r,s,d,l),s.child;case 14:return d=s.type,p=er(d,s.pendingProps),p=er(d.type,p),xh(r,s,d,p,l);case 15:return bh(r,s,s.type,s.pendingProps,l);case 17:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:er(d,p),Co(r,s),s.tag=1,vn(d)?(r=!0,oo(s)):r=!1,ps(s,l),dh(s,d,p),$c(s,d,p,l),Yc(null,s,d,!0,r,l);case 19:return Nh(r,s,l);case 22:return _h(r,s,l)}throw Error(n(156,s.tag))};function Zh(r,s){return dt(r,s)}function Gv(r,s,l,d){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hn(r,s,l,d){return new Gv(r,s,l,d)}function fu(r){return r=r.prototype,!(!r||!r.isReactComponent)}function qv(r){if(typeof r=="function")return fu(r)?1:0;if(r!=null){if(r=r.$$typeof,r===Y)return 11;if(r===oe)return 14}return 2}function ui(r,s){var l=r.alternate;return l===null?(l=Hn(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function Fo(r,s,l,d,p,y){var b=2;if(d=r,typeof r=="function")fu(r)&&(b=1);else if(typeof r=="string")b=5;else e:switch(r){case N:return Ii(l.children,p,y,s);case L:b=8,p|=8;break;case V:return r=Hn(12,l,s,p|2),r.elementType=V,r.lanes=y,r;case X:return r=Hn(13,l,s,p),r.elementType=X,r.lanes=y,r;case ne:return r=Hn(19,l,s,p),r.elementType=ne,r.lanes=y,r;case pe:return Io(l,p,y,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case A:b=10;break e;case D:b=9;break e;case Y:b=11;break e;case oe:b=14;break e;case fe:b=16,d=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return s=Hn(b,l,s,p),s.elementType=r,s.type=d,s.lanes=y,s}function Ii(r,s,l,d){return r=Hn(7,r,d,s),r.lanes=l,r}function Io(r,s,l,d){return r=Hn(22,r,d,s),r.elementType=pe,r.lanes=l,r.stateNode={isHidden:!1},r}function hu(r,s,l){return r=Hn(6,r,null,s),r.lanes=l,r}function mu(r,s,l){return s=Hn(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function Zv(r,s,l,d,p){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bl(0),this.expirationTimes=Bl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bl(0),this.identifierPrefix=d,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function pu(r,s,l,d,p,y,b,E,O){return r=new Zv(r,s,l,E,O),s===1?(s=1,y===!0&&(s|=8)):s=0,y=Hn(3,null,null,s),r.current=y,y.stateNode=r,y.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Nc(y),r}function Jv(r,s,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:q,key:d==null?null:""+d,children:r,containerInfo:s,implementation:l}}function Jh(r){if(!r)return ti;r=r._reactInternals;e:{if(ge(r)!==r||r.tag!==1)throw Error(n(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(vn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(n(171))}if(r.tag===1){var l=r.type;if(vn(l))return Ef(r,l,s)}return s}function em(r,s,l,d,p,y,b,E,O){return r=pu(l,d,!0,r,p,y,b,E,O),r.context=Jh(null),l=r.current,d=pn(),p=li(l),y=Er(d,p),y.callback=s??null,ii(l,y,p),r.current.lanes=p,zs(r,p,d),_n(r,d),r}function zo(r,s,l,d){var p=s.current,y=pn(),b=li(p);return l=Jh(l),s.context===null?s.context=l:s.pendingContext=l,s=Er(y,b),s.payload={element:r},d=d===void 0?null:d,d!==null&&(s.callback=d),r=ii(p,s,b),r!==null&&(rr(r,p,b,y),go(r,p,b)),b}function Uo(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function tm(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function gu(r,s){tm(r,s),(r=r.alternate)&&tm(r,s)}function ex(){return null}var nm=typeof reportError=="function"?reportError:function(r){console.error(r)};function yu(r){this._internalRoot=r}Bo.prototype.render=yu.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(n(409));zo(r,s,null,null)},Bo.prototype.unmount=yu.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Ai(function(){zo(null,r,null,null)}),s[wr]=null}};function Bo(r){this._internalRoot=r}Bo.prototype.unstable_scheduleHydration=function(r){if(r){var s=Id();r={blockedOn:null,target:r,priority:s};for(var l=0;l<Gr.length&&s!==0&&s<Gr[l].priority;l++);Gr.splice(l,0,r),l===0&&Bd(r)}};function vu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function $o(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function rm(){}function tx(r,s,l,d,p){if(p){if(typeof d=="function"){var y=d;d=function(){var K=Uo(b);y.call(K)}}var b=em(s,d,r,0,null,!1,!1,"",rm);return r._reactRootContainer=b,r[wr]=b.current,Js(r.nodeType===8?r.parentNode:r),Ai(),b}for(;p=r.lastChild;)r.removeChild(p);if(typeof d=="function"){var E=d;d=function(){var K=Uo(O);E.call(K)}}var O=pu(r,0,!1,null,null,!1,!1,"",rm);return r._reactRootContainer=O,r[wr]=O.current,Js(r.nodeType===8?r.parentNode:r),Ai(function(){zo(s,O,l,d)}),O}function Ho(r,s,l,d,p){var y=l._reactRootContainer;if(y){var b=y;if(typeof p=="function"){var E=p;p=function(){var O=Uo(b);E.call(O)}}zo(s,b,r,p)}else b=tx(l,s,r,p,d);return Uo(b)}Od=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var l=$e(s.pendingLanes);l!==0&&($l(s,l|1),_n(s,Ke()),(Qe&6)===0&&(bs=Ke()+500,ni()))}break;case 13:Ai(function(){var d=Cr(r,1);if(d!==null){var p=pn();rr(d,r,1,p)}}),gu(r,1)}},Hl=function(r){if(r.tag===13){var s=Cr(r,134217728);if(s!==null){var l=pn();rr(s,r,134217728,l)}gu(r,134217728)}},Fd=function(r){if(r.tag===13){var s=li(r),l=Cr(r,s);if(l!==null){var d=pn();rr(l,r,s,d)}gu(r,s)}},Id=function(){return st},zd=function(r,s){var l=st;try{return st=r,s()}finally{st=l}},pt=function(r,s,l){switch(s){case"input":if(gn(r,l),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var d=l[s];if(d!==r&&d.form===r.form){var p=so(d);if(!p)throw Error(n(90));lt(d),gn(d,p)}}}break;case"textarea":Ue(r,l);break;case"select":s=l.value,s!=null&&ct(r,!!l.multiple,s,!1)}},Wr=cu,br=Ai;var nx={usingClientEntryPoint:!1,Events:[na,os,so,Hr,ki,cu]},ga={findFiberByHostInstance:Ei,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rx={bundleType:ga.bundleType,version:ga.version,rendererPackageName:ga.rendererPackageName,rendererConfig:ga.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Je(r),r===null?null:r.stateNode},findFiberByHostInstance:ga.findFiberByHostInstance||ex,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wo.isDisabled&&Wo.supportsFiber)try{it=Wo.inject(rx),Wt=Wo}catch{}}return wn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nx,wn.createPortal=function(r,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vu(s))throw Error(n(200));return Jv(r,s,null,l)},wn.createRoot=function(r,s){if(!vu(r))throw Error(n(299));var l=!1,d="",p=nm;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),s=pu(r,1,!1,null,null,l,!1,d,p),r[wr]=s.current,Js(r.nodeType===8?r.parentNode:r),new yu(s)},wn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=Je(s),r=r===null?null:r.stateNode,r},wn.flushSync=function(r){return Ai(r)},wn.hydrate=function(r,s,l){if(!$o(s))throw Error(n(200));return Ho(null,r,s,!0,l)},wn.hydrateRoot=function(r,s,l){if(!vu(r))throw Error(n(405));var d=l!=null&&l.hydratedSources||null,p=!1,y="",b=nm;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(b=l.onRecoverableError)),s=em(s,null,r,1,l??null,p,!1,y,b),r[wr]=s.current,Js(r),d)for(r=0;r<d.length;r++)l=d[r],p=l._getVersion,p=p(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,p]:s.mutableSourceEagerHydrationData.push(l,p);return new Bo(s)},wn.render=function(r,s,l){if(!$o(s))throw Error(n(200));return Ho(null,r,s,!1,l)},wn.unmountComponentAtNode=function(r){if(!$o(r))throw Error(n(40));return r._reactRootContainer?(Ai(function(){Ho(null,null,r,!1,function(){r._reactRootContainer=null,r[wr]=null})}),!0):!1},wn.unstable_batchedUpdates=cu,wn.unstable_renderSubtreeIntoContainer=function(r,s,l,d){if(!$o(l))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return Ho(r,s,l,!1,d)},wn.version="18.3.1-next-f1338f8080-20240426",wn}var dm;function ug(){if(dm)return _u.exports;dm=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),_u.exports=dx(),_u.exports}var fm;function fx(){if(fm)return Vo;fm=1;var t=ug();return Vo.createRoot=t.createRoot,Vo.hydrateRoot=t.hydrateRoot,Vo}var hx=fx();const mx=nd(hx);var dg=ug();const px=nd(dg),gx=cg({__proto__:null,default:px},[dg]);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kt(){return kt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},kt.apply(this,arguments)}var $t;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})($t||($t={}));const hm="popstate";function yx(t){t===void 0&&(t={});function e(i,a){let{pathname:o,search:c,hash:u}=i.location;return Aa("",{pathname:o,search:c,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){return typeof a=="string"?a:Qi(a)}return xx(e,n,null,t)}function Ie(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ns(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function vx(){return Math.random().toString(36).substr(2,8)}function mm(t,e){return{usr:t.state,key:t.key,idx:e}}function Aa(t,e,n,i){return n===void 0&&(n=null),kt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?wi(e):e,{state:n,key:e&&e.key||i||vx()})}function Qi(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function wi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function xx(t,e,n,i){i===void 0&&(i={});let{window:a=document.defaultView,v5Compat:o=!1}=i,c=a.history,u=$t.Pop,f=null,m=g();m==null&&(m=0,c.replaceState(kt({},c.state,{idx:m}),""));function g(){return(c.state||{idx:null}).idx}function v(){u=$t.Pop;let C=g(),T=C==null?null:C-m;m=C,f&&f({action:u,location:j.location,delta:T})}function x(C,T){u=$t.Push;let P=Aa(j.location,C,T);m=g()+1;let B=mm(P,m),z=j.createHref(P);try{c.pushState(B,"",z)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;a.location.assign(z)}o&&f&&f({action:u,location:j.location,delta:1})}function _(C,T){u=$t.Replace;let P=Aa(j.location,C,T);m=g();let B=mm(P,m),z=j.createHref(P);c.replaceState(B,"",z),o&&f&&f({action:u,location:j.location,delta:0})}function k(C){let T=a.location.origin!=="null"?a.location.origin:a.location.href,P=typeof C=="string"?C:Qi(C);return P=P.replace(/ $/,"%20"),Ie(T,"No window.location.(origin|href) available to create URL for href: "+P),new URL(P,T)}let j={get action(){return u},get location(){return t(a,c)},listen(C){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(hm,v),f=C,()=>{a.removeEventListener(hm,v),f=null}},createHref(C){return e(a,C)},createURL:k,encodeLocation(C){let T=k(C);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:x,replace:_,go(C){return c.go(C)}};return j}var at;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(at||(at={}));const bx=new Set(["lazy","caseSensitive","path","id","index","children"]);function _x(t){return t.index===!0}function pl(t,e,n,i){return n===void 0&&(n=[]),i===void 0&&(i={}),t.map((a,o)=>{let c=[...n,String(o)],u=typeof a.id=="string"?a.id:c.join("-");if(Ie(a.index!==!0||!a.children,"Cannot specify children on an index route"),Ie(!i[u],'Found a route id collision on id "'+u+`".  Route id's must be globally unique within Data Router usages`),_x(a)){let f=kt({},a,e(a),{id:u});return i[u]=f,f}else{let f=kt({},a,e(a),{id:u,children:void 0});return i[u]=f,a.children&&(f.children=pl(a.children,e,c,i)),f}})}function Hi(t,e,n){return n===void 0&&(n="/"),ul(t,e,n,!1)}function ul(t,e,n,i){let a=typeof e=="string"?wi(e):e,o=Ir(a.pathname||"/",n);if(o==null)return null;let c=fg(t);Sx(c);let u=null;for(let f=0;u==null&&f<c.length;++f){let m=Lx(o);u=Px(c[f],m,i)}return u}function wx(t,e){let{route:n,pathname:i,params:a}=t;return{id:n.id,pathname:i,params:a,data:e[n.id],handle:n.handle}}function fg(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let a=(o,c,u)=>{let f={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};f.relativePath.startsWith("/")&&(Ie(f.relativePath.startsWith(i),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(i.length));let m=Fr([i,f.relativePath]),g=n.concat(f);o.children&&o.children.length>0&&(Ie(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),fg(o.children,e,g,m)),!(o.path==null&&!o.index)&&e.push({path:m,score:Rx(m,o.index),routesMeta:g})};return t.forEach((o,c)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))a(o,c);else for(let f of hg(o.path))a(o,c,f)}),e}function hg(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(i.length===0)return a?[o,""]:[o];let c=hg(i.join("/")),u=[];return u.push(...c.map(f=>f===""?o:[o,f].join("/"))),a&&u.push(...c),u.map(f=>t.startsWith("/")&&f===""?"/":f)}function Sx(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Tx(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const kx=/^:[\w-]+$/,jx=3,Cx=2,Ex=1,Nx=10,Mx=-2,pm=t=>t==="*";function Rx(t,e){let n=t.split("/"),i=n.length;return n.some(pm)&&(i+=Mx),e&&(i+=Cx),n.filter(a=>!pm(a)).reduce((a,o)=>a+(kx.test(o)?jx:o===""?Ex:Nx),i)}function Tx(t,e){return t.length===e.length&&t.slice(0,-1).every((i,a)=>i===e[a])?t[t.length-1]-e[e.length-1]:0}function Px(t,e,n){n===void 0&&(n=!1);let{routesMeta:i}=t,a={},o="/",c=[];for(let u=0;u<i.length;++u){let f=i[u],m=u===i.length-1,g=o==="/"?e:e.slice(o.length)||"/",v=gl({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},g),x=f.route;if(!v&&m&&n&&!i[i.length-1].route.index&&(v=gl({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!v)return null;Object.assign(a,v.params),c.push({params:a,pathname:Fr([o,v.pathname]),pathnameBase:Fx(Fr([o,v.pathnameBase])),route:x}),v.pathnameBase!=="/"&&(o=Fr([o,v.pathnameBase]))}return c}function gl(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=Dx(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let o=a[0],c=o.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:i.reduce((m,g,v)=>{let{paramName:x,isOptional:_}=g;if(x==="*"){let j=u[v]||"";c=o.slice(0,o.length-j.length).replace(/(.)\/+$/,"$1")}const k=u[v];return _&&!k?m[x]=void 0:m[x]=(k||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:c,pattern:t}}function Dx(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Ns(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,f)=>(i.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function Lx(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ns(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ir(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function Ax(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:a=""}=typeof t=="string"?wi(t):t;return{pathname:n?n.startsWith("/")?n:Ox(n,e):e,search:Ix(i),hash:zx(a)}}function Ox(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function ku(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function mg(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Pl(t,e){let n=mg(t);return e?n.map((i,a)=>a===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function Dl(t,e,n,i){i===void 0&&(i=!1);let a;typeof t=="string"?a=wi(t):(a=kt({},t),Ie(!a.pathname||!a.pathname.includes("?"),ku("?","pathname","search",a)),Ie(!a.pathname||!a.pathname.includes("#"),ku("#","pathname","hash",a)),Ie(!a.search||!a.search.includes("#"),ku("#","search","hash",a)));let o=t===""||a.pathname==="",c=o?"/":a.pathname,u;if(c==null)u=n;else{let v=e.length-1;if(!i&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),v-=1;a.pathname=x.join("/")}u=v>=0?e[v]:"/"}let f=Ax(a,u),m=c&&c!=="/"&&c.endsWith("/"),g=(o||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(m||g)&&(f.pathname+="/"),f}const Fr=t=>t.join("/").replace(/\/\/+/g,"/"),Fx=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Ix=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,zx=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class yl{constructor(e,n,i,a){a===void 0&&(a=!1),this.status=e,this.statusText=n||"",this.internal=a,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}}function Oa(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const pg=["post","put","patch","delete"],Ux=new Set(pg),Bx=["get",...pg],$x=new Set(Bx),Hx=new Set([301,302,303,307,308]),Wx=new Set([307,308]),ju={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Vx={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},va={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},id=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yx=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),gg="remix-router-transitions";function Kx(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",i=!n;Ie(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let a;if(t.mapRouteProperties)a=t.mapRouteProperties;else if(t.detectErrorBoundary){let R=t.detectErrorBoundary;a=U=>({hasErrorBoundary:R(U)})}else a=Yx;let o={},c=pl(t.routes,a,void 0,o),u,f=t.basename||"/",m=t.dataStrategy||qx,g=t.patchRoutesOnNavigation,v=kt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),x=null,_=new Set,k=null,j=null,C=null,T=t.hydrationData!=null,P=Hi(c,t.history.location,f),B=!1,z=null;if(P==null&&!g){let R=kn(404,{pathname:t.history.location.pathname}),{matches:U,route:Q}=Cm(c);P=U,z={[Q.id]:R}}P&&!t.hydrationData&&br(P,c,t.history.location.pathname).active&&(P=null);let H;if(P)if(P.some(R=>R.route.lazy))H=!1;else if(!P.some(R=>R.route.loader))H=!0;else if(v.v7_partialHydration){let R=t.hydrationData?t.hydrationData.loaderData:null,U=t.hydrationData?t.hydrationData.errors:null;if(U){let Q=P.findIndex(te=>U[te.route.id]!==void 0);H=P.slice(0,Q+1).every(te=>!Bu(te.route,R,U))}else H=P.every(Q=>!Bu(Q.route,R,U))}else H=t.hydrationData!=null;else if(H=!1,P=[],v.v7_partialHydration){let R=br(null,c,t.history.location.pathname);R.active&&R.matches&&(B=!0,P=R.matches)}let q,N={historyAction:t.history.action,location:t.history.location,matches:P,initialized:H,navigation:ju,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||z,fetchers:new Map,blockers:new Map},L=$t.Pop,V=!1,A,D=!1,Y=new Map,X=null,ne=!1,oe=!1,fe=[],pe=new Set,J=new Map,se=0,M=-1,S=new Map,F=new Set,ee=new Map,ae=new Map,ce=new Set,de=new Map,De=new Map,ke;function Ve(){if(x=t.history.listen(R=>{let{action:U,location:Q,delta:te}=R;if(ke){ke(),ke=void 0;return}Ns(De.size===0||te!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let he=pt({currentLocation:N.location,nextLocation:Q,historyAction:U});if(he&&te!=null){let Ce=new Promise(Re=>{ke=Re});t.history.go(te*-1),Ut(he,{state:"blocked",location:Q,proceed(){Ut(he,{state:"proceeding",proceed:void 0,reset:void 0,location:Q}),Ce.then(()=>t.history.go(te))},reset(){let Re=new Map(N.blockers);Re.set(he,va),lt({blockers:Re})}});return}return sn(U,Q)}),n){d0(e,Y);let R=()=>f0(e,Y);e.addEventListener("pagehide",R),X=()=>e.removeEventListener("pagehide",R)}return N.initialized||sn($t.Pop,N.location,{initialHydration:!0}),q}function Ze(){x&&x(),X&&X(),_.clear(),A&&A.abort(),N.fetchers.forEach((R,U)=>Et(U)),N.blockers.forEach((R,U)=>zt(U))}function It(R){return _.add(R),()=>_.delete(R)}function lt(R,U){U===void 0&&(U={}),N=kt({},N,R);let Q=[],te=[];v.v7_fetcherPersist&&N.fetchers.forEach((he,Ce)=>{he.state==="idle"&&(ce.has(Ce)?te.push(Ce):Q.push(Ce))}),ce.forEach(he=>{!N.fetchers.has(he)&&!J.has(he)&&te.push(he)}),[..._].forEach(he=>he(N,{deletedFetchers:te,viewTransitionOpts:U.viewTransitionOpts,flushSync:U.flushSync===!0})),v.v7_fetcherPersist?(Q.forEach(he=>N.fetchers.delete(he)),te.forEach(he=>Et(he))):te.forEach(he=>ce.delete(he))}function tt(R,U,Q){var te,he;let{flushSync:Ce}=Q===void 0?{}:Q,Re=N.actionData!=null&&N.navigation.formMethod!=null&&ir(N.navigation.formMethod)&&N.navigation.state==="loading"&&((te=R.state)==null?void 0:te._isRedirect)!==!0,be;U.actionData?Object.keys(U.actionData).length>0?be=U.actionData:be=null:Re?be=N.actionData:be=null;let we=U.loaderData?km(N.loaderData,U.loaderData,U.matches||[],U.errors):N.loaderData,xe=N.blockers;xe.size>0&&(xe=new Map(xe),xe.forEach((ze,Nt)=>xe.set(Nt,va)));let ge=V===!0||N.navigation.formMethod!=null&&ir(N.navigation.formMethod)&&((he=R.state)==null?void 0:he._isRedirect)!==!0;u&&(c=u,u=void 0),ne||L===$t.Pop||(L===$t.Push?t.history.push(R,R.state):L===$t.Replace&&t.history.replace(R,R.state));let Le;if(L===$t.Pop){let ze=Y.get(N.location.pathname);ze&&ze.has(R.pathname)?Le={currentLocation:N.location,nextLocation:R}:Y.has(R.pathname)&&(Le={currentLocation:R,nextLocation:N.location})}else if(D){let ze=Y.get(N.location.pathname);ze?ze.add(R.pathname):(ze=new Set([R.pathname]),Y.set(N.location.pathname,ze)),Le={currentLocation:N.location,nextLocation:R}}lt(kt({},U,{actionData:be,loaderData:we,historyAction:L,location:R,initialized:!0,navigation:ju,revalidation:"idle",restoreScrollPosition:Wr(R,U.matches||N.matches),preventScrollReset:ge,blockers:xe}),{viewTransitionOpts:Le,flushSync:Ce===!0}),L=$t.Pop,V=!1,D=!1,ne=!1,oe=!1,fe=[]}async function Lt(R,U){if(typeof R=="number"){t.history.go(R);return}let Q=Uu(N.location,N.matches,f,v.v7_prependBasename,R,v.v7_relativeSplatPath,U?.fromRouteId,U?.relative),{path:te,submission:he,error:Ce}=gm(v.v7_normalizeFormMethod,!1,Q,U),Re=N.location,be=Aa(N.location,te,U&&U.state);be=kt({},be,t.history.encodeLocation(be));let we=U&&U.replace!=null?U.replace:void 0,xe=$t.Push;we===!0?xe=$t.Replace:we===!1||he!=null&&ir(he.formMethod)&&he.formAction===N.location.pathname+N.location.search&&(xe=$t.Replace);let ge=U&&"preventScrollReset"in U?U.preventScrollReset===!0:void 0,Le=(U&&U.flushSync)===!0,ze=pt({currentLocation:Re,nextLocation:be,historyAction:xe});if(ze){Ut(ze,{state:"blocked",location:be,proceed(){Ut(ze,{state:"proceeding",proceed:void 0,reset:void 0,location:be}),Lt(R,U)},reset(){let Nt=new Map(N.blockers);Nt.set(ze,va),lt({blockers:Nt})}});return}return await sn(xe,be,{submission:he,pendingError:Ce,preventScrollReset:ge,replace:U&&U.replace,enableViewTransition:U&&U.viewTransition,flushSync:Le})}function On(){if(an(),lt({revalidation:"loading"}),N.navigation.state!=="submitting"){if(N.navigation.state==="idle"){sn(N.historyAction,N.location,{startUninterruptedRevalidation:!0});return}sn(L||N.historyAction,N.navigation.location,{overrideNavigation:N.navigation,enableViewTransition:D===!0})}}async function sn(R,U,Q){A&&A.abort(),A=null,L=R,ne=(Q&&Q.startUninterruptedRevalidation)===!0,ki(N.location,N.matches),V=(Q&&Q.preventScrollReset)===!0,D=(Q&&Q.enableViewTransition)===!0;let te=u||c,he=Q&&Q.overrideNavigation,Ce=Q!=null&&Q.initialHydration&&N.matches&&N.matches.length>0&&!B?N.matches:Hi(te,U,f),Re=(Q&&Q.flushSync)===!0;if(Ce&&N.initialized&&!oe&&r0(N.location,U)&&!(Q&&Q.submission&&ir(Q.submission.formMethod))){tt(U,{matches:Ce},{flushSync:Re});return}let be=br(Ce,te,U.pathname);if(be.active&&be.matches&&(Ce=be.matches),!Ce){let{error:Je,notFoundMatches:Ye,route:dt}=on(U.pathname);tt(U,{matches:Ye,loaderData:{},errors:{[dt.id]:Je}},{flushSync:Re});return}A=new AbortController;let we=ws(t.history,U,A.signal,Q&&Q.submission),xe;if(Q&&Q.pendingError)xe=[Wi(Ce).route.id,{type:at.error,error:Q.pendingError}];else if(Q&&Q.submission&&ir(Q.submission.formMethod)){let Je=await gn(we,U,Q.submission,Ce,be.active,{replace:Q.replace,flushSync:Re});if(Je.shortCircuited)return;if(Je.pendingActionResult){let[Ye,dt]=Je.pendingActionResult;if(An(dt)&&Oa(dt.error)&&dt.error.status===404){A=null,tt(U,{matches:Je.matches,loaderData:{},errors:{[Ye]:dt.error}});return}}Ce=Je.matches||Ce,xe=Je.pendingActionResult,he=Cu(U,Q.submission),Re=!1,be.active=!1,we=ws(t.history,we.url,we.signal)}let{shortCircuited:ge,matches:Le,loaderData:ze,errors:Nt}=await tn(we,U,Ce,be.active,he,Q&&Q.submission,Q&&Q.fetcherSubmission,Q&&Q.replace,Q&&Q.initialHydration===!0,Re,xe);ge||(A=null,tt(U,kt({matches:Le||Ce},jm(xe),{loaderData:ze,errors:Nt})))}async function gn(R,U,Q,te,he,Ce){Ce===void 0&&(Ce={}),an();let Re=c0(U,Q);if(lt({navigation:Re},{flushSync:Ce.flushSync===!0}),he){let xe=await Nn(te,U.pathname,R.signal);if(xe.type==="aborted")return{shortCircuited:!0};if(xe.type==="error"){let ge=Wi(xe.partialMatches).route.id;return{matches:xe.partialMatches,pendingActionResult:[ge,{type:at.error,error:xe.error}]}}else if(xe.matches)te=xe.matches;else{let{notFoundMatches:ge,error:Le,route:ze}=on(U.pathname);return{matches:ge,pendingActionResult:[ze.id,{type:at.error,error:Le}]}}}let be,we=Ea(te,U);if(!we.route.action&&!we.route.lazy)be={type:at.error,error:kn(405,{method:R.method,pathname:U.pathname,routeId:we.route.id})};else if(be=(await bt("action",N,R,[we],te,null))[we.route.id],R.signal.aborted)return{shortCircuited:!0};if(Vi(be)){let xe;return Ce&&Ce.replace!=null?xe=Ce.replace:xe=_m(be.response.headers.get("Location"),new URL(R.url),f)===N.location.pathname+N.location.search,await Ue(R,be,!0,{submission:Q,replace:xe}),{shortCircuited:!0}}if(pi(be))throw kn(400,{type:"defer-action"});if(An(be)){let xe=Wi(te,we.route.id);return(Ce&&Ce.replace)!==!0&&(L=$t.Push),{matches:te,pendingActionResult:[xe.route.id,be]}}return{matches:te,pendingActionResult:[we.route.id,be]}}async function tn(R,U,Q,te,he,Ce,Re,be,we,xe,ge){let Le=he||Cu(U,Ce),ze=Ce||Re||Nm(Le),Nt=!ne&&(!v.v7_partialHydration||!we);if(te){if(Nt){let it=jt(ge);lt(kt({navigation:Le},it!==void 0?{actionData:it}:{}),{flushSync:xe})}let We=await Nn(Q,U.pathname,R.signal);if(We.type==="aborted")return{shortCircuited:!0};if(We.type==="error"){let it=Wi(We.partialMatches).route.id;return{matches:We.partialMatches,loaderData:{},errors:{[it]:We.error}}}else if(We.matches)Q=We.matches;else{let{error:it,notFoundMatches:Wt,route:Vr}=on(U.pathname);return{matches:Wt,loaderData:{},errors:{[Vr.id]:it}}}}let Je=u||c,[Ye,dt]=vm(t.history,N,Q,ze,U,v.v7_partialHydration&&we===!0,v.v7_skipActionErrorRevalidation,oe,fe,pe,ce,ee,F,Je,f,ge);if(ln(We=>!(Q&&Q.some(it=>it.route.id===We))||Ye&&Ye.some(it=>it.route.id===We)),M=++se,Ye.length===0&&dt.length===0){let We=nt();return tt(U,kt({matches:Q,loaderData:{},errors:ge&&An(ge[1])?{[ge[0]]:ge[1].error}:null},jm(ge),We?{fetchers:new Map(N.fetchers)}:{}),{flushSync:xe}),{shortCircuited:!0}}if(Nt){let We={};if(!te){We.navigation=Le;let it=jt(ge);it!==void 0&&(We.actionData=it)}dt.length>0&&(We.fetchers=Xt(dt)),lt(We,{flushSync:xe})}dt.forEach(We=>{G(We.key),We.controller&&J.set(We.key,We.controller)});let Xn=()=>dt.forEach(We=>G(We.key));A&&A.signal.addEventListener("abort",Xn);let{loaderResults:or,fetcherResults:Mn}=await Ct(N,Q,Ye,dt,R);if(R.signal.aborted)return{shortCircuited:!0};A&&A.signal.removeEventListener("abort",Xn),dt.forEach(We=>J.delete(We.key));let Ke=Yo(or);if(Ke)return await Ue(R,Ke.result,!0,{replace:be}),{shortCircuited:!0};if(Ke=Yo(Mn),Ke)return F.add(Ke.key),await Ue(R,Ke.result,!0,{replace:be}),{shortCircuited:!0};let{loaderData:Ci,errors:Qn}=Sm(N,Q,or,ge,dt,Mn,de);de.forEach((We,it)=>{We.subscribe(Wt=>{(Wt||We.done)&&de.delete(it)})}),v.v7_partialHydration&&we&&N.errors&&(Qn=kt({},N.errors,Qn));let Fn=nt(),Gn=_t(M),qn=Fn||Gn||dt.length>0;return kt({matches:Q,loaderData:Ci,errors:Qn},qn?{fetchers:new Map(N.fetchers)}:{})}function jt(R){if(R&&!An(R[1]))return{[R[0]]:R[1].data};if(N.actionData)return Object.keys(N.actionData).length===0?null:N.actionData}function Xt(R){return R.forEach(U=>{let Q=N.fetchers.get(U.key),te=xa(void 0,Q?Q.data:void 0);N.fetchers.set(U.key,te)}),new Map(N.fetchers)}function ct(R,U,Q,te){if(i)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");G(R);let he=(te&&te.flushSync)===!0,Ce=u||c,Re=Uu(N.location,N.matches,f,v.v7_prependBasename,Q,v.v7_relativeSplatPath,U,te?.relative),be=Hi(Ce,Re,f),we=br(be,Ce,Re);if(we.active&&we.matches&&(be=we.matches),!be){ut(R,U,kn(404,{pathname:Re}),{flushSync:he});return}let{path:xe,submission:ge,error:Le}=gm(v.v7_normalizeFormMethod,!0,Re,te);if(Le){ut(R,U,Le,{flushSync:he});return}let ze=Ea(be,xe),Nt=(te&&te.preventScrollReset)===!0;if(ge&&ir(ge.formMethod)){me(R,U,xe,ze,be,we.active,he,Nt,ge);return}ee.set(R,{routeId:U,path:xe}),Me(R,U,xe,ze,be,we.active,he,Nt,ge)}async function me(R,U,Q,te,he,Ce,Re,be,we){an(),ee.delete(R);function xe(Xe){if(!Xe.route.action&&!Xe.route.lazy){let Z=kn(405,{method:we.formMethod,pathname:Q,routeId:U});return ut(R,U,Z,{flushSync:Re}),!0}return!1}if(!Ce&&xe(te))return;let ge=N.fetchers.get(R);rt(R,u0(we,ge),{flushSync:Re});let Le=new AbortController,ze=ws(t.history,Q,Le.signal,we);if(Ce){let Xe=await Nn(he,new URL(ze.url).pathname,ze.signal,R);if(Xe.type==="aborted")return;if(Xe.type==="error"){ut(R,U,Xe.error,{flushSync:Re});return}else if(Xe.matches){if(he=Xe.matches,te=Ea(he,Q),xe(te))return}else{ut(R,U,kn(404,{pathname:Q}),{flushSync:Re});return}}J.set(R,Le);let Nt=se,Ye=(await bt("action",N,ze,[te],he,R))[te.route.id];if(ze.signal.aborted){J.get(R)===Le&&J.delete(R);return}if(v.v7_fetcherPersist&&ce.has(R)){if(Vi(Ye)||An(Ye)){rt(R,mi(void 0));return}}else{if(Vi(Ye))if(J.delete(R),M>Nt){rt(R,mi(void 0));return}else return F.add(R),rt(R,xa(we)),Ue(ze,Ye,!1,{fetcherSubmission:we,preventScrollReset:be});if(An(Ye)){ut(R,U,Ye.error);return}}if(pi(Ye))throw kn(400,{type:"defer-action"});let dt=N.navigation.location||N.location,Xn=ws(t.history,dt,Le.signal),or=u||c,Mn=N.navigation.state!=="idle"?Hi(or,N.navigation.location,f):N.matches;Ie(Mn,"Didn't find any matches after fetcher action");let Ke=++se;S.set(R,Ke);let Ci=xa(we,Ye.data);N.fetchers.set(R,Ci);let[Qn,Fn]=vm(t.history,N,Mn,we,dt,!1,v.v7_skipActionErrorRevalidation,oe,fe,pe,ce,ee,F,or,f,[te.route.id,Ye]);Fn.filter(Xe=>Xe.key!==R).forEach(Xe=>{let Z=Xe.key,ve=N.fetchers.get(Z),Be=xa(void 0,ve?ve.data:void 0);N.fetchers.set(Z,Be),G(Z),Xe.controller&&J.set(Z,Xe.controller)}),lt({fetchers:new Map(N.fetchers)});let Gn=()=>Fn.forEach(Xe=>G(Xe.key));Le.signal.addEventListener("abort",Gn);let{loaderResults:qn,fetcherResults:We}=await Ct(N,Mn,Qn,Fn,Xn);if(Le.signal.aborted)return;Le.signal.removeEventListener("abort",Gn),S.delete(R),J.delete(R),Fn.forEach(Xe=>J.delete(Xe.key));let it=Yo(qn);if(it)return Ue(Xn,it.result,!1,{preventScrollReset:be});if(it=Yo(We),it)return F.add(it.key),Ue(Xn,it.result,!1,{preventScrollReset:be});let{loaderData:Wt,errors:Vr}=Sm(N,Mn,qn,void 0,Fn,We,de);if(N.fetchers.has(R)){let Xe=mi(Ye.data);N.fetchers.set(R,Xe)}_t(Ke),N.navigation.state==="loading"&&Ke>M?(Ie(L,"Expected pending action"),A&&A.abort(),tt(N.navigation.location,{matches:Mn,loaderData:Wt,errors:Vr,fetchers:new Map(N.fetchers)})):(lt({errors:Vr,loaderData:km(N.loaderData,Wt,Mn,Vr),fetchers:new Map(N.fetchers)}),oe=!1)}async function Me(R,U,Q,te,he,Ce,Re,be,we){let xe=N.fetchers.get(R);rt(R,xa(we,xe?xe.data:void 0),{flushSync:Re});let ge=new AbortController,Le=ws(t.history,Q,ge.signal);if(Ce){let Ye=await Nn(he,new URL(Le.url).pathname,Le.signal,R);if(Ye.type==="aborted")return;if(Ye.type==="error"){ut(R,U,Ye.error,{flushSync:Re});return}else if(Ye.matches)he=Ye.matches,te=Ea(he,Q);else{ut(R,U,kn(404,{pathname:Q}),{flushSync:Re});return}}J.set(R,ge);let ze=se,Je=(await bt("loader",N,Le,[te],he,R))[te.route.id];if(pi(Je)&&(Je=await sd(Je,Le.signal,!0)||Je),J.get(R)===ge&&J.delete(R),!Le.signal.aborted){if(ce.has(R)){rt(R,mi(void 0));return}if(Vi(Je))if(M>ze){rt(R,mi(void 0));return}else{F.add(R),await Ue(Le,Je,!1,{preventScrollReset:be});return}if(An(Je)){ut(R,U,Je.error);return}Ie(!pi(Je),"Unhandled fetcher deferred data"),rt(R,mi(Je.data))}}async function Ue(R,U,Q,te){let{submission:he,fetcherSubmission:Ce,preventScrollReset:Re,replace:be}=te===void 0?{}:te;U.response.headers.has("X-Remix-Revalidate")&&(oe=!0);let we=U.response.headers.get("Location");Ie(we,"Expected a Location header on the redirect Response"),we=_m(we,new URL(R.url),f);let xe=Aa(N.location,we,{_isRedirect:!0});if(n){let Ye=!1;if(U.response.headers.has("X-Remix-Reload-Document"))Ye=!0;else if(id.test(we)){const dt=t.history.createURL(we);Ye=dt.origin!==e.location.origin||Ir(dt.pathname,f)==null}if(Ye){be?e.location.replace(we):e.location.assign(we);return}}A=null;let ge=be===!0||U.response.headers.has("X-Remix-Replace")?$t.Replace:$t.Push,{formMethod:Le,formAction:ze,formEncType:Nt}=N.navigation;!he&&!Ce&&Le&&ze&&Nt&&(he=Nm(N.navigation));let Je=he||Ce;if(Wx.has(U.response.status)&&Je&&ir(Je.formMethod))await sn(ge,xe,{submission:kt({},Je,{formAction:we}),preventScrollReset:Re||V,enableViewTransition:Q?D:void 0});else{let Ye=Cu(xe,he);await sn(ge,xe,{overrideNavigation:Ye,fetcherSubmission:Ce,preventScrollReset:Re||V,enableViewTransition:Q?D:void 0})}}async function bt(R,U,Q,te,he,Ce){let Re,be={};try{Re=await Zx(m,R,U,Q,te,he,Ce,o,a)}catch(we){return te.forEach(xe=>{be[xe.route.id]={type:at.error,error:we}}),be}for(let[we,xe]of Object.entries(Re))if(i0(xe)){let ge=xe.result;be[we]={type:at.redirect,response:t0(ge,Q,we,he,f,v.v7_relativeSplatPath)}}else be[we]=await e0(xe);return be}async function Ct(R,U,Q,te,he){let Ce=R.matches,Re=bt("loader",R,he,Q,U,null),be=Promise.all(te.map(async ge=>{if(ge.matches&&ge.match&&ge.controller){let ze=(await bt("loader",R,ws(t.history,ge.path,ge.controller.signal),[ge.match],ge.matches,ge.key))[ge.match.route.id];return{[ge.key]:ze}}else return Promise.resolve({[ge.key]:{type:at.error,error:kn(404,{pathname:ge.path})}})})),we=await Re,xe=(await be).reduce((ge,Le)=>Object.assign(ge,Le),{});return await Promise.all([o0(U,we,he.signal,Ce,R.loaderData),l0(U,xe,te)]),{loaderResults:we,fetcherResults:xe}}function an(){oe=!0,fe.push(...ln()),ee.forEach((R,U)=>{J.has(U)&&pe.add(U),G(U)})}function rt(R,U,Q){Q===void 0&&(Q={}),N.fetchers.set(R,U),lt({fetchers:new Map(N.fetchers)},{flushSync:(Q&&Q.flushSync)===!0})}function ut(R,U,Q,te){te===void 0&&(te={});let he=Wi(N.matches,U);Et(R),lt({errors:{[he.route.id]:Q},fetchers:new Map(N.fetchers)},{flushSync:(te&&te.flushSync)===!0})}function Qt(R){return ae.set(R,(ae.get(R)||0)+1),ce.has(R)&&ce.delete(R),N.fetchers.get(R)||Vx}function Et(R){let U=N.fetchers.get(R);J.has(R)&&!(U&&U.state==="loading"&&S.has(R))&&G(R),ee.delete(R),S.delete(R),F.delete(R),v.v7_fetcherPersist&&ce.delete(R),pe.delete(R),N.fetchers.delete(R)}function Kn(R){let U=(ae.get(R)||0)-1;U<=0?(ae.delete(R),ce.add(R),v.v7_fetcherPersist||Et(R)):ae.set(R,U),lt({fetchers:new Map(N.fetchers)})}function G(R){let U=J.get(R);U&&(U.abort(),J.delete(R))}function Ne(R){for(let U of R){let Q=Qt(U),te=mi(Q.data);N.fetchers.set(U,te)}}function nt(){let R=[],U=!1;for(let Q of F){let te=N.fetchers.get(Q);Ie(te,"Expected fetcher: "+Q),te.state==="loading"&&(F.delete(Q),R.push(Q),U=!0)}return Ne(R),U}function _t(R){let U=[];for(let[Q,te]of S)if(te<R){let he=N.fetchers.get(Q);Ie(he,"Expected fetcher: "+Q),he.state==="loading"&&(G(Q),S.delete(Q),U.push(Q))}return Ne(U),U.length>0}function Tt(R,U){let Q=N.blockers.get(R)||va;return De.get(R)!==U&&De.set(R,U),Q}function zt(R){N.blockers.delete(R),De.delete(R)}function Ut(R,U){let Q=N.blockers.get(R)||va;Ie(Q.state==="unblocked"&&U.state==="blocked"||Q.state==="blocked"&&U.state==="blocked"||Q.state==="blocked"&&U.state==="proceeding"||Q.state==="blocked"&&U.state==="unblocked"||Q.state==="proceeding"&&U.state==="unblocked","Invalid blocker state transition: "+Q.state+" -> "+U.state);let te=new Map(N.blockers);te.set(R,U),lt({blockers:te})}function pt(R){let{currentLocation:U,nextLocation:Q,historyAction:te}=R;if(De.size===0)return;De.size>1&&Ns(!1,"A router only supports one blocker at a time");let he=Array.from(De.entries()),[Ce,Re]=he[he.length-1],be=N.blockers.get(Ce);if(!(be&&be.state==="proceeding")&&Re({currentLocation:U,nextLocation:Q,historyAction:te}))return Ce}function on(R){let U=kn(404,{pathname:R}),Q=u||c,{matches:te,route:he}=Cm(Q);return ln(),{notFoundMatches:te,route:he,error:U}}function ln(R){let U=[];return de.forEach((Q,te)=>{(!R||R(te))&&(Q.cancel(),U.push(te),de.delete(te))}),U}function $r(R,U,Q){if(k=R,C=U,j=Q||null,!T&&N.navigation===ju){T=!0;let te=Wr(N.location,N.matches);te!=null&&lt({restoreScrollPosition:te})}return()=>{k=null,C=null,j=null}}function Hr(R,U){return j&&j(R,U.map(te=>wx(te,N.loaderData)))||R.key}function ki(R,U){if(k&&C){let Q=Hr(R,U);k[Q]=C()}}function Wr(R,U){if(k){let Q=Hr(R,U),te=k[Q];if(typeof te=="number")return te}return null}function br(R,U,Q){if(g)if(R){if(Object.keys(R[0].params).length>0)return{active:!0,matches:ul(U,Q,f,!0)}}else return{active:!0,matches:ul(U,Q,f,!0)||[]};return{active:!1,matches:null}}async function Nn(R,U,Q,te){if(!g)return{type:"success",matches:R};let he=R;for(;;){let Ce=u==null,Re=u||c,be=o;try{await g({signal:Q,path:U,matches:he,fetcherKey:te,patch:(ge,Le)=>{Q.aborted||bm(ge,Le,Re,be,a)}})}catch(ge){return{type:"error",error:ge,partialMatches:he}}finally{Ce&&!Q.aborted&&(c=[...c])}if(Q.aborted)return{type:"aborted"};let we=Hi(Re,U,f);if(we)return{type:"success",matches:we};let xe=ul(Re,U,f,!0);if(!xe||he.length===xe.length&&he.every((ge,Le)=>ge.route.id===xe[Le].route.id))return{type:"success",matches:null};he=xe}}function ji(R){o={},u=pl(R,a,void 0,o)}function ar(R,U){let Q=u==null;bm(R,U,u||c,o,a),Q&&(c=[...c],lt({}))}return q={get basename(){return f},get future(){return v},get state(){return N},get routes(){return c},get window(){return e},initialize:Ve,subscribe:It,enableScrollRestoration:$r,navigate:Lt,fetch:ct,revalidate:On,createHref:R=>t.history.createHref(R),encodeLocation:R=>t.history.encodeLocation(R),getFetcher:Qt,deleteFetcher:Kn,dispose:Ze,getBlocker:Tt,deleteBlocker:zt,patchRoutes:ar,_internalFetchControllers:J,_internalActiveDeferreds:de,_internalSetRoutes:ji},q}function Xx(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Uu(t,e,n,i,a,o,c,u){let f,m;if(c){f=[];for(let v of e)if(f.push(v),v.route.id===c){m=v;break}}else f=e,m=e[e.length-1];let g=Dl(a||".",Pl(f,o),Ir(t.pathname,n)||t.pathname,u==="path");if(a==null&&(g.search=t.search,g.hash=t.hash),(a==null||a===""||a===".")&&m){let v=ad(g.search);if(m.route.index&&!v)g.search=g.search?g.search.replace(/^\?/,"?index&"):"?index";else if(!m.route.index&&v){let x=new URLSearchParams(g.search),_=x.getAll("index");x.delete("index"),_.filter(j=>j).forEach(j=>x.append("index",j));let k=x.toString();g.search=k?"?"+k:""}}return i&&n!=="/"&&(g.pathname=g.pathname==="/"?n:Fr([n,g.pathname])),Qi(g)}function gm(t,e,n,i){if(!i||!Xx(i))return{path:n};if(i.formMethod&&!a0(i.formMethod))return{path:n,error:kn(405,{method:i.formMethod})};let a=()=>({path:n,error:kn(400,{type:"invalid-body"})}),o=i.formMethod||"get",c=t?o.toUpperCase():o.toLowerCase(),u=xg(n);if(i.body!==void 0){if(i.formEncType==="text/plain"){if(!ir(c))return a();let x=typeof i.body=="string"?i.body:i.body instanceof FormData||i.body instanceof URLSearchParams?Array.from(i.body.entries()).reduce((_,k)=>{let[j,C]=k;return""+_+j+"="+C+`
`},""):String(i.body);return{path:n,submission:{formMethod:c,formAction:u,formEncType:i.formEncType,formData:void 0,json:void 0,text:x}}}else if(i.formEncType==="application/json"){if(!ir(c))return a();try{let x=typeof i.body=="string"?JSON.parse(i.body):i.body;return{path:n,submission:{formMethod:c,formAction:u,formEncType:i.formEncType,formData:void 0,json:x,text:void 0}}}catch{return a()}}}Ie(typeof FormData=="function","FormData is not available in this environment");let f,m;if(i.formData)f=$u(i.formData),m=i.formData;else if(i.body instanceof FormData)f=$u(i.body),m=i.body;else if(i.body instanceof URLSearchParams)f=i.body,m=wm(f);else if(i.body==null)f=new URLSearchParams,m=new FormData;else try{f=new URLSearchParams(i.body),m=wm(f)}catch{return a()}let g={formMethod:c,formAction:u,formEncType:i&&i.formEncType||"application/x-www-form-urlencoded",formData:m,json:void 0,text:void 0};if(ir(g.formMethod))return{path:n,submission:g};let v=wi(n);return e&&v.search&&ad(v.search)&&f.append("index",""),v.search="?"+f,{path:Qi(v),submission:g}}function ym(t,e,n){n===void 0&&(n=!1);let i=t.findIndex(a=>a.route.id===e);return i>=0?t.slice(0,n?i+1:i):t}function vm(t,e,n,i,a,o,c,u,f,m,g,v,x,_,k,j){let C=j?An(j[1])?j[1].error:j[1].data:void 0,T=t.createURL(e.location),P=t.createURL(a),B=n;o&&e.errors?B=ym(n,Object.keys(e.errors)[0],!0):j&&An(j[1])&&(B=ym(n,j[0]));let z=j?j[1].statusCode:void 0,H=c&&z&&z>=400,q=B.filter((L,V)=>{let{route:A}=L;if(A.lazy)return!0;if(A.loader==null)return!1;if(o)return Bu(A,e.loaderData,e.errors);if(Qx(e.loaderData,e.matches[V],L)||f.some(X=>X===L.route.id))return!0;let D=e.matches[V],Y=L;return xm(L,kt({currentUrl:T,currentParams:D.params,nextUrl:P,nextParams:Y.params},i,{actionResult:C,actionStatus:z,defaultShouldRevalidate:H?!1:u||T.pathname+T.search===P.pathname+P.search||T.search!==P.search||yg(D,Y)}))}),N=[];return v.forEach((L,V)=>{if(o||!n.some(ne=>ne.route.id===L.routeId)||g.has(V))return;let A=Hi(_,L.path,k);if(!A){N.push({key:V,routeId:L.routeId,path:L.path,matches:null,match:null,controller:null});return}let D=e.fetchers.get(V),Y=Ea(A,L.path),X=!1;x.has(V)?X=!1:m.has(V)?(m.delete(V),X=!0):D&&D.state!=="idle"&&D.data===void 0?X=u:X=xm(Y,kt({currentUrl:T,currentParams:e.matches[e.matches.length-1].params,nextUrl:P,nextParams:n[n.length-1].params},i,{actionResult:C,actionStatus:z,defaultShouldRevalidate:H?!1:u})),X&&N.push({key:V,routeId:L.routeId,path:L.path,matches:A,match:Y,controller:new AbortController})}),[q,N]}function Bu(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let i=e!=null&&e[t.id]!==void 0,a=n!=null&&n[t.id]!==void 0;return!i&&a?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!i&&!a}function Qx(t,e,n){let i=!e||n.route.id!==e.route.id,a=t[n.route.id]===void 0;return i||a}function yg(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function xm(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function bm(t,e,n,i,a){var o;let c;if(t){let m=i[t];Ie(m,"No route found to patch children into: routeId = "+t),m.children||(m.children=[]),c=m.children}else c=n;let u=e.filter(m=>!c.some(g=>vg(m,g))),f=pl(u,a,[t||"_","patch",String(((o=c)==null?void 0:o.length)||"0")],i);c.push(...f)}function vg(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,i)=>{var a;return(a=e.children)==null?void 0:a.some(o=>vg(n,o))}):!1}async function Gx(t,e,n){if(!t.lazy)return;let i=await t.lazy();if(!t.lazy)return;let a=n[t.id];Ie(a,"No route found in manifest");let o={};for(let c in i){let f=a[c]!==void 0&&c!=="hasErrorBoundary";Ns(!f,'Route "'+a.id+'" has a static property "'+c+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+c+'" will be ignored.')),!f&&!bx.has(c)&&(o[c]=i[c])}Object.assign(a,o),Object.assign(a,kt({},e(a),{lazy:void 0}))}async function qx(t){let{matches:e}=t,n=e.filter(a=>a.shouldLoad);return(await Promise.all(n.map(a=>a.resolve()))).reduce((a,o,c)=>Object.assign(a,{[n[c].route.id]:o}),{})}async function Zx(t,e,n,i,a,o,c,u,f,m){let g=o.map(_=>_.route.lazy?Gx(_.route,f,u):void 0),v=o.map((_,k)=>{let j=g[k],C=a.some(P=>P.route.id===_.route.id);return kt({},_,{shouldLoad:C,resolve:async P=>(P&&i.method==="GET"&&(_.route.lazy||_.route.loader)&&(C=!0),C?Jx(e,i,_,j,P,m):Promise.resolve({type:at.data,result:void 0}))})}),x=await t({matches:v,request:i,params:o[0].params,fetcherKey:c,context:m});try{await Promise.all(g)}catch{}return x}async function Jx(t,e,n,i,a,o){let c,u,f=m=>{let g,v=new Promise((k,j)=>g=j);u=()=>g(),e.signal.addEventListener("abort",u);let x=k=>typeof m!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):m({request:e,params:n.params,context:o},...k!==void 0?[k]:[]),_=(async()=>{try{return{type:"data",result:await(a?a(j=>x(j)):x())}}catch(k){return{type:"error",result:k}}})();return Promise.race([_,v])};try{let m=n.route[t];if(i)if(m){let g,[v]=await Promise.all([f(m).catch(x=>{g=x}),i]);if(g!==void 0)throw g;c=v}else if(await i,m=n.route[t],m)c=await f(m);else if(t==="action"){let g=new URL(e.url),v=g.pathname+g.search;throw kn(405,{method:e.method,pathname:v,routeId:n.route.id})}else return{type:at.data,result:void 0};else if(m)c=await f(m);else{let g=new URL(e.url),v=g.pathname+g.search;throw kn(404,{pathname:v})}Ie(c.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(m){return{type:at.error,result:m}}finally{u&&e.signal.removeEventListener("abort",u)}return c}async function e0(t){let{result:e,type:n}=t;if(bg(e)){let v;try{let x=e.headers.get("Content-Type");x&&/\bapplication\/json\b/.test(x)?e.body==null?v=null:v=await e.json():v=await e.text()}catch(x){return{type:at.error,error:x}}return n===at.error?{type:at.error,error:new yl(e.status,e.statusText,v),statusCode:e.status,headers:e.headers}:{type:at.data,data:v,statusCode:e.status,headers:e.headers}}if(n===at.error){if(Em(e)){var i,a;if(e.data instanceof Error){var o,c;return{type:at.error,error:e.data,statusCode:(o=e.init)==null?void 0:o.status,headers:(c=e.init)!=null&&c.headers?new Headers(e.init.headers):void 0}}return{type:at.error,error:new yl(((i=e.init)==null?void 0:i.status)||500,void 0,e.data),statusCode:Oa(e)?e.status:void 0,headers:(a=e.init)!=null&&a.headers?new Headers(e.init.headers):void 0}}return{type:at.error,error:e,statusCode:Oa(e)?e.status:void 0}}if(s0(e)){var u,f;return{type:at.deferred,deferredData:e,statusCode:(u=e.init)==null?void 0:u.status,headers:((f=e.init)==null?void 0:f.headers)&&new Headers(e.init.headers)}}if(Em(e)){var m,g;return{type:at.data,data:e.data,statusCode:(m=e.init)==null?void 0:m.status,headers:(g=e.init)!=null&&g.headers?new Headers(e.init.headers):void 0}}return{type:at.data,data:e}}function t0(t,e,n,i,a,o){let c=t.headers.get("Location");if(Ie(c,"Redirects returned/thrown from loaders/actions must have a Location header"),!id.test(c)){let u=i.slice(0,i.findIndex(f=>f.route.id===n)+1);c=Uu(new URL(e.url),u,a,!0,c,o),t.headers.set("Location",c)}return t}function _m(t,e,n){if(id.test(t)){let i=t,a=i.startsWith("//")?new URL(e.protocol+i):new URL(i),o=Ir(a.pathname,n)!=null;if(a.origin===e.origin&&o)return a.pathname+a.search+a.hash}return t}function ws(t,e,n,i){let a=t.createURL(xg(e)).toString(),o={signal:n};if(i&&ir(i.formMethod)){let{formMethod:c,formEncType:u}=i;o.method=c.toUpperCase(),u==="application/json"?(o.headers=new Headers({"Content-Type":u}),o.body=JSON.stringify(i.json)):u==="text/plain"?o.body=i.text:u==="application/x-www-form-urlencoded"&&i.formData?o.body=$u(i.formData):o.body=i.formData}return new Request(a,o)}function $u(t){let e=new URLSearchParams;for(let[n,i]of t.entries())e.append(n,typeof i=="string"?i:i.name);return e}function wm(t){let e=new FormData;for(let[n,i]of t.entries())e.append(n,i);return e}function n0(t,e,n,i,a){let o={},c=null,u,f=!1,m={},g=n&&An(n[1])?n[1].error:void 0;return t.forEach(v=>{if(!(v.route.id in e))return;let x=v.route.id,_=e[x];if(Ie(!Vi(_),"Cannot handle redirect results in processLoaderData"),An(_)){let k=_.error;g!==void 0&&(k=g,g=void 0),c=c||{};{let j=Wi(t,x);c[j.route.id]==null&&(c[j.route.id]=k)}o[x]=void 0,f||(f=!0,u=Oa(_.error)?_.error.status:500),_.headers&&(m[x]=_.headers)}else pi(_)?(i.set(x,_.deferredData),o[x]=_.deferredData.data,_.statusCode!=null&&_.statusCode!==200&&!f&&(u=_.statusCode),_.headers&&(m[x]=_.headers)):(o[x]=_.data,_.statusCode&&_.statusCode!==200&&!f&&(u=_.statusCode),_.headers&&(m[x]=_.headers))}),g!==void 0&&n&&(c={[n[0]]:g},o[n[0]]=void 0),{loaderData:o,errors:c,statusCode:u||200,loaderHeaders:m}}function Sm(t,e,n,i,a,o,c){let{loaderData:u,errors:f}=n0(e,n,i,c);return a.forEach(m=>{let{key:g,match:v,controller:x}=m,_=o[g];if(Ie(_,"Did not find corresponding fetcher result"),!(x&&x.signal.aborted))if(An(_)){let k=Wi(t.matches,v?.route.id);f&&f[k.route.id]||(f=kt({},f,{[k.route.id]:_.error})),t.fetchers.delete(g)}else if(Vi(_))Ie(!1,"Unhandled fetcher revalidation redirect");else if(pi(_))Ie(!1,"Unhandled fetcher deferred data");else{let k=mi(_.data);t.fetchers.set(g,k)}}),{loaderData:u,errors:f}}function km(t,e,n,i){let a=kt({},e);for(let o of n){let c=o.route.id;if(e.hasOwnProperty(c)?e[c]!==void 0&&(a[c]=e[c]):t[c]!==void 0&&o.route.loader&&(a[c]=t[c]),i&&i.hasOwnProperty(c))break}return a}function jm(t){return t?An(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Wi(t,e){return(e?t.slice(0,t.findIndex(i=>i.route.id===e)+1):[...t]).reverse().find(i=>i.route.hasErrorBoundary===!0)||t[0]}function Cm(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function kn(t,e){let{pathname:n,routeId:i,method:a,type:o,message:c}=e===void 0?{}:e,u="Unknown Server Error",f="Unknown @remix-run/router error";return t===400?(u="Bad Request",a&&n&&i?f="You made a "+a+' request to "'+n+'" but '+('did not provide a `loader` for route "'+i+'", ')+"so there is no way to handle the request.":o==="defer-action"?f="defer() is not supported in actions":o==="invalid-body"&&(f="Unable to encode submission body")):t===403?(u="Forbidden",f='Route "'+i+'" does not match URL "'+n+'"'):t===404?(u="Not Found",f='No route matches URL "'+n+'"'):t===405&&(u="Method Not Allowed",a&&n&&i?f="You made a "+a.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+i+'", ')+"so there is no way to handle the request.":a&&(f='Invalid request method "'+a.toUpperCase()+'"')),new yl(t||500,u,new Error(f),!0)}function Yo(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[i,a]=e[n];if(Vi(a))return{key:i,result:a}}}function xg(t){let e=typeof t=="string"?wi(t):t;return Qi(kt({},e,{hash:""}))}function r0(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function i0(t){return bg(t.result)&&Hx.has(t.result.status)}function pi(t){return t.type===at.deferred}function An(t){return t.type===at.error}function Vi(t){return(t&&t.type)===at.redirect}function Em(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function s0(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function bg(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function a0(t){return $x.has(t.toLowerCase())}function ir(t){return Ux.has(t.toLowerCase())}async function o0(t,e,n,i,a){let o=Object.entries(e);for(let c=0;c<o.length;c++){let[u,f]=o[c],m=t.find(x=>x?.route.id===u);if(!m)continue;let g=i.find(x=>x.route.id===m.route.id),v=g!=null&&!yg(g,m)&&(a&&a[m.route.id])!==void 0;pi(f)&&v&&await sd(f,n,!1).then(x=>{x&&(e[u]=x)})}}async function l0(t,e,n){for(let i=0;i<n.length;i++){let{key:a,routeId:o,controller:c}=n[i],u=e[a];t.find(m=>m?.route.id===o)&&pi(u)&&(Ie(c,"Expected an AbortController for revalidating fetcher deferred result"),await sd(u,c.signal,!0).then(m=>{m&&(e[a]=m)}))}}async function sd(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:at.data,data:t.deferredData.unwrappedData}}catch(a){return{type:at.error,error:a}}return{type:at.data,data:t.deferredData.data}}}function ad(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Ea(t,e){let n=typeof e=="string"?wi(e).search:e.search;if(t[t.length-1].route.index&&ad(n||""))return t[t.length-1];let i=mg(t);return i[i.length-1]}function Nm(t){let{formMethod:e,formAction:n,formEncType:i,text:a,formData:o,json:c}=t;if(!(!e||!n||!i)){if(a!=null)return{formMethod:e,formAction:n,formEncType:i,formData:void 0,json:void 0,text:a};if(o!=null)return{formMethod:e,formAction:n,formEncType:i,formData:o,json:void 0,text:void 0};if(c!==void 0)return{formMethod:e,formAction:n,formEncType:i,formData:void 0,json:c,text:void 0}}}function Cu(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function c0(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function xa(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function u0(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function mi(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function d0(t,e){try{let n=t.sessionStorage.getItem(gg);if(n){let i=JSON.parse(n);for(let[a,o]of Object.entries(i||{}))o&&Array.isArray(o)&&e.set(a,new Set(o||[]))}}catch{}}function f0(t,e){if(e.size>0){let n={};for(let[i,a]of e)n[i]=[...a];try{t.sessionStorage.setItem(gg,JSON.stringify(n))}catch(i){Ns(!1,"Failed to save applied view transitions in sessionStorage ("+i+").")}}}/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vl(){return vl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},vl.apply(this,arguments)}const $a=w.createContext(null),od=w.createContext(null),zr=w.createContext(null),ld=w.createContext(null),Ur=w.createContext({outlet:null,matches:[],isDataRoute:!1}),_g=w.createContext(null);function h0(t,e){let{relative:n}=e===void 0?{}:e;Ts()||Ie(!1);let{basename:i,navigator:a}=w.useContext(zr),{hash:o,pathname:c,search:u}=Al(t,{relative:n}),f=c;return i!=="/"&&(f=c==="/"?i:Fr([i,c])),a.createHref({pathname:f,search:u,hash:o})}function Ts(){return w.useContext(ld)!=null}function Br(){return Ts()||Ie(!1),w.useContext(ld).location}function wg(t){w.useContext(zr).static||w.useLayoutEffect(t)}function Ll(){let{isDataRoute:t}=w.useContext(Ur);return t?E0():m0()}function m0(){Ts()||Ie(!1);let t=w.useContext($a),{basename:e,future:n,navigator:i}=w.useContext(zr),{matches:a}=w.useContext(Ur),{pathname:o}=Br(),c=JSON.stringify(Pl(a,n.v7_relativeSplatPath)),u=w.useRef(!1);return wg(()=>{u.current=!0}),w.useCallback(function(m,g){if(g===void 0&&(g={}),!u.current)return;if(typeof m=="number"){i.go(m);return}let v=Dl(m,JSON.parse(c),o,g.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Fr([e,v.pathname])),(g.replace?i.replace:i.push)(v,g.state,g)},[e,i,c,o,t])}const p0=w.createContext(null);function g0(t){let e=w.useContext(Ur).outlet;return e&&w.createElement(p0.Provider,{value:t},e)}function Al(t,e){let{relative:n}=e===void 0?{}:e,{future:i}=w.useContext(zr),{matches:a}=w.useContext(Ur),{pathname:o}=Br(),c=JSON.stringify(Pl(a,i.v7_relativeSplatPath));return w.useMemo(()=>Dl(t,JSON.parse(c),o,n==="path"),[t,c,o,n])}function y0(t,e,n,i){Ts()||Ie(!1);let{navigator:a}=w.useContext(zr),{matches:o}=w.useContext(Ur),c=o[o.length-1],u=c?c.params:{};c&&c.pathname;let f=c?c.pathnameBase:"/";c&&c.route;let m=Br(),g;g=m;let v=g.pathname||"/",x=v;if(f!=="/"){let j=f.replace(/^\//,"").split("/");x="/"+v.replace(/^\//,"").split("/").slice(j.length).join("/")}let _=Hi(t,{pathname:x});return w0(_&&_.map(j=>Object.assign({},j,{params:Object.assign({},u,j.params),pathname:Fr([f,a.encodeLocation?a.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?f:Fr([f,a.encodeLocation?a.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),o,n,i)}function v0(){let t=C0(),e=Oa(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:a},n):null,null)}const x0=w.createElement(v0,null);class b0 extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?w.createElement(Ur.Provider,{value:this.props.routeContext},w.createElement(_g.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function _0(t){let{routeContext:e,match:n,children:i}=t,a=w.useContext($a);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(Ur.Provider,{value:e},i)}function w0(t,e,n,i){var a;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=i)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let c=t,u=(a=n)==null?void 0:a.errors;if(u!=null){let g=c.findIndex(v=>v.route.id&&u?.[v.route.id]!==void 0);g>=0||Ie(!1),c=c.slice(0,Math.min(c.length,g+1))}let f=!1,m=-1;if(n&&i&&i.v7_partialHydration)for(let g=0;g<c.length;g++){let v=c[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(m=g),v.route.id){let{loaderData:x,errors:_}=n,k=v.route.loader&&x[v.route.id]===void 0&&(!_||_[v.route.id]===void 0);if(v.route.lazy||k){f=!0,m>=0?c=c.slice(0,m+1):c=[c[0]];break}}}return c.reduceRight((g,v,x)=>{let _,k=!1,j=null,C=null;n&&(_=u&&v.route.id?u[v.route.id]:void 0,j=v.route.errorElement||x0,f&&(m<0&&x===0?(N0("route-fallback"),k=!0,C=null):m===x&&(k=!0,C=v.route.hydrateFallbackElement||null)));let T=e.concat(c.slice(0,x+1)),P=()=>{let B;return _?B=j:k?B=C:v.route.Component?B=w.createElement(v.route.Component,null):v.route.element?B=v.route.element:B=g,w.createElement(_0,{match:v,routeContext:{outlet:g,matches:T,isDataRoute:n!=null},children:B})};return n&&(v.route.ErrorBoundary||v.route.errorElement||x===0)?w.createElement(b0,{location:n.location,revalidation:n.revalidation,component:j,error:_,children:P(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):P()},null)}var Sg=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(Sg||{}),kg=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(kg||{});function S0(t){let e=w.useContext($a);return e||Ie(!1),e}function k0(t){let e=w.useContext(od);return e||Ie(!1),e}function j0(t){let e=w.useContext(Ur);return e||Ie(!1),e}function jg(t){let e=j0(),n=e.matches[e.matches.length-1];return n.route.id||Ie(!1),n.route.id}function C0(){var t;let e=w.useContext(_g),n=k0(),i=jg();return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}function E0(){let{router:t}=S0(Sg.UseNavigateStable),e=jg(kg.UseNavigateStable),n=w.useRef(!1);return wg(()=>{n.current=!0}),w.useCallback(function(a,o){o===void 0&&(o={}),n.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,vl({fromRouteId:e},o)))},[t,e])}const Mm={};function N0(t,e,n){Mm[t]||(Mm[t]=!0)}function M0(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function Rm(t){let{to:e,replace:n,state:i,relative:a}=t;Ts()||Ie(!1);let{future:o,static:c}=w.useContext(zr),{matches:u}=w.useContext(Ur),{pathname:f}=Br(),m=Ll(),g=Dl(e,Pl(u,o.v7_relativeSplatPath),f,a==="path"),v=JSON.stringify(g);return w.useEffect(()=>m(JSON.parse(v),{replace:n,state:i,relative:a}),[m,v,a,n,i]),null}function R0(t){return g0(t.context)}function Jt(t){Ie(!1)}function T0(t){let{basename:e="/",children:n=null,location:i,navigationType:a=$t.Pop,navigator:o,static:c=!1,future:u}=t;Ts()&&Ie(!1);let f=e.replace(/^\/*/,"/"),m=w.useMemo(()=>({basename:f,navigator:o,static:c,future:vl({v7_relativeSplatPath:!1},u)}),[f,u,o,c]);typeof i=="string"&&(i=wi(i));let{pathname:g="/",search:v="",hash:x="",state:_=null,key:k="default"}=i,j=w.useMemo(()=>{let C=Ir(g,f);return C==null?null:{location:{pathname:C,search:v,hash:x,state:_,key:k},navigationType:a}},[f,g,v,x,_,k,a]);return j==null?null:w.createElement(zr.Provider,{value:m},w.createElement(ld.Provider,{children:n,value:j}))}new Promise(()=>{});function Hu(t,e){e===void 0&&(e=[]);let n=[];return w.Children.forEach(t,(i,a)=>{if(!w.isValidElement(i))return;let o=[...e,a];if(i.type===w.Fragment){n.push.apply(n,Hu(i.props.children,o));return}i.type!==Jt&&Ie(!1),!i.props.index||!i.props.children||Ie(!1);let c={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Hu(i.props.children,o)),n.push(c)}),n}function P0(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:w.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:w.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:w.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ms(){return Ms=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ms.apply(this,arguments)}function Cg(t,e){if(t==null)return{};var n={},i=Object.keys(t),a,o;for(o=0;o<i.length;o++)a=i[o],!(e.indexOf(a)>=0)&&(n[a]=t[a]);return n}function D0(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function L0(t,e){return t.button===0&&(!e||e==="_self")&&!D0(t)}const A0=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],O0=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],F0="6";try{window.__reactRouterVersion=F0}catch{}function I0(t,e){return Kx({basename:void 0,future:Ms({},void 0,{v7_prependBasename:!0}),history:yx({window:void 0}),hydrationData:z0(),routes:t,mapRouteProperties:P0,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function z0(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Ms({},e,{errors:U0(e.errors)})),e}function U0(t){if(!t)return null;let e=Object.entries(t),n={};for(let[i,a]of e)if(a&&a.__type==="RouteErrorResponse")n[i]=new yl(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let o=window[a.__subType];if(typeof o=="function")try{let c=new o(a.message);c.stack="",n[i]=c}catch{}}if(n[i]==null){let o=new Error(a.message);o.stack="",n[i]=o}}else n[i]=a;return n}const Eg=w.createContext({isTransitioning:!1}),B0=w.createContext(new Map),$0="startTransition",Tm=lx[$0],H0="flushSync",Pm=gx[H0];function W0(t){Tm?Tm(t):t()}function ba(t){Pm?Pm(t):t()}class V0{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",n(i))}})}}function Y0(t){let{fallbackElement:e,router:n,future:i}=t,[a,o]=w.useState(n.state),[c,u]=w.useState(),[f,m]=w.useState({isTransitioning:!1}),[g,v]=w.useState(),[x,_]=w.useState(),[k,j]=w.useState(),C=w.useRef(new Map),{v7_startTransition:T}=i||{},P=w.useCallback(L=>{T?W0(L):L()},[T]),B=w.useCallback((L,V)=>{let{deletedFetchers:A,flushSync:D,viewTransitionOpts:Y}=V;L.fetchers.forEach((ne,oe)=>{ne.data!==void 0&&C.current.set(oe,ne.data)}),A.forEach(ne=>C.current.delete(ne));let X=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!Y||X){D?ba(()=>o(L)):P(()=>o(L));return}if(D){ba(()=>{x&&(g&&g.resolve(),x.skipTransition()),m({isTransitioning:!0,flushSync:!0,currentLocation:Y.currentLocation,nextLocation:Y.nextLocation})});let ne=n.window.document.startViewTransition(()=>{ba(()=>o(L))});ne.finished.finally(()=>{ba(()=>{v(void 0),_(void 0),u(void 0),m({isTransitioning:!1})})}),ba(()=>_(ne));return}x?(g&&g.resolve(),x.skipTransition(),j({state:L,currentLocation:Y.currentLocation,nextLocation:Y.nextLocation})):(u(L),m({isTransitioning:!0,flushSync:!1,currentLocation:Y.currentLocation,nextLocation:Y.nextLocation}))},[n.window,x,g,C,P]);w.useLayoutEffect(()=>n.subscribe(B),[n,B]),w.useEffect(()=>{f.isTransitioning&&!f.flushSync&&v(new V0)},[f]),w.useEffect(()=>{if(g&&c&&n.window){let L=c,V=g.promise,A=n.window.document.startViewTransition(async()=>{P(()=>o(L)),await V});A.finished.finally(()=>{v(void 0),_(void 0),u(void 0),m({isTransitioning:!1})}),_(A)}},[P,c,g,n.window]),w.useEffect(()=>{g&&c&&a.location.key===c.location.key&&g.resolve()},[g,x,a.location,c]),w.useEffect(()=>{!f.isTransitioning&&k&&(u(k.state),m({isTransitioning:!0,flushSync:!1,currentLocation:k.currentLocation,nextLocation:k.nextLocation}),j(void 0))},[f.isTransitioning,k]),w.useEffect(()=>{},[]);let z=w.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:L=>n.navigate(L),push:(L,V,A)=>n.navigate(L,{state:V,preventScrollReset:A?.preventScrollReset}),replace:(L,V,A)=>n.navigate(L,{replace:!0,state:V,preventScrollReset:A?.preventScrollReset})}),[n]),H=n.basename||"/",q=w.useMemo(()=>({router:n,navigator:z,static:!1,basename:H}),[n,z,H]),N=w.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return w.useEffect(()=>M0(i,n.future),[i,n.future]),w.createElement(w.Fragment,null,w.createElement($a.Provider,{value:q},w.createElement(od.Provider,{value:a},w.createElement(B0.Provider,{value:C.current},w.createElement(Eg.Provider,{value:f},w.createElement(T0,{basename:H,location:a.location,navigationType:a.historyAction,navigator:z,future:N},a.initialized||n.future.v7_partialHydration?w.createElement(K0,{routes:n.routes,future:n.future,state:a}):e))))),null)}const K0=w.memo(X0);function X0(t){let{routes:e,future:n,state:i}=t;return y0(e,void 0,i,n)}const Q0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",G0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ar=w.forwardRef(function(e,n){let{onClick:i,relative:a,reloadDocument:o,replace:c,state:u,target:f,to:m,preventScrollReset:g,viewTransition:v}=e,x=Cg(e,A0),{basename:_}=w.useContext(zr),k,j=!1;if(typeof m=="string"&&G0.test(m)&&(k=m,Q0))try{let B=new URL(window.location.href),z=m.startsWith("//")?new URL(B.protocol+m):new URL(m),H=Ir(z.pathname,_);z.origin===B.origin&&H!=null?m=H+z.search+z.hash:j=!0}catch{}let C=h0(m,{relative:a}),T=Z0(m,{replace:c,state:u,target:f,preventScrollReset:g,relative:a,viewTransition:v});function P(B){i&&i(B),B.defaultPrevented||T(B)}return w.createElement("a",Ms({},x,{href:k||C,onClick:j||o?i:P,ref:n,target:f}))}),fr=w.forwardRef(function(e,n){let{"aria-current":i="page",caseSensitive:a=!1,className:o="",end:c=!1,style:u,to:f,viewTransition:m,children:g}=e,v=Cg(e,O0),x=Al(f,{relative:v.relative}),_=Br(),k=w.useContext(od),{navigator:j,basename:C}=w.useContext(zr),T=k!=null&&J0(x)&&m===!0,P=j.encodeLocation?j.encodeLocation(x).pathname:x.pathname,B=_.pathname,z=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;a||(B=B.toLowerCase(),z=z?z.toLowerCase():null,P=P.toLowerCase()),z&&C&&(z=Ir(z,C)||z);const H=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let q=B===P||!c&&B.startsWith(P)&&B.charAt(H)==="/",N=z!=null&&(z===P||!c&&z.startsWith(P)&&z.charAt(P.length)==="/"),L={isActive:q,isPending:N,isTransitioning:T},V=q?i:void 0,A;typeof o=="function"?A=o(L):A=[o,q?"active":null,N?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let D=typeof u=="function"?u(L):u;return w.createElement(Ar,Ms({},v,{"aria-current":V,className:A,ref:n,style:D,to:f,viewTransition:m}),typeof g=="function"?g(L):g)});var Wu;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Wu||(Wu={}));var Dm;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Dm||(Dm={}));function q0(t){let e=w.useContext($a);return e||Ie(!1),e}function Z0(t,e){let{target:n,replace:i,state:a,preventScrollReset:o,relative:c,viewTransition:u}=e===void 0?{}:e,f=Ll(),m=Br(),g=Al(t,{relative:c});return w.useCallback(v=>{if(L0(v,n)){v.preventDefault();let x=i!==void 0?i:Qi(m)===Qi(g);f(t,{replace:x,state:a,preventScrollReset:o,relative:c,viewTransition:u})}},[m,f,g,i,a,n,t,o,c,u])}function J0(t,e){e===void 0&&(e={});let n=w.useContext(Eg);n==null&&Ie(!1);let{basename:i}=q0(Wu.useViewTransitionState),a=Al(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=Ir(n.currentLocation.pathname,i)||n.currentLocation.pathname,c=Ir(n.nextLocation.pathname,i)||n.nextLocation.pathname;return gl(a.pathname,c)!=null||gl(a.pathname,o)!=null}const Si="",xl="phpgrc_intended_path",bl="phpgrc_session_expired",cd="phpgrc_auth_token";let js;function ud(){if(typeof window>"u")return null;try{return window.localStorage}catch{return null}}function eb(){const t=ud();if(!t)return null;try{const e=t.getItem(cd);return e&&e.length>0?e:null}catch{return null}}function Ng(){return js!==void 0||(js=eb()),js}function tb(){const t=Ng();return typeof t=="string"&&t.length>0}function nb(t){js=t;const e=ud();if(e)try{e.setItem(cd,t)}catch{}}function Mg(){js=null;const t=ud();if(t)try{t.removeItem(cd)}catch{}}function Dt(t){const e={Accept:"application/json","X-Requested-With":"XMLHttpRequest"},n=Ng();return n&&(e.Authorization=`Bearer ${n}`),{...e,...t}}function Rg(t){if(!t)return"";const e=new URLSearchParams;for(const[i,a]of Object.entries(t))a!=null&&e.set(i,typeof a=="boolean"?a?"true":"false":String(a));const n=e.toString();return n?`?${n}`:""}class Ft extends Error{status;body;constructor(e,n,i){super(i??`HTTP ${e}`),this.status=e,this.body=n}}async function Ps(t){const e=t.headers.get("content-type")||"",n=e.includes("application/json")||e.includes("+json");try{return n?await t.json():await t.text()}catch{return null}}const Vu=new Set;function rb(t){return Vu.add(t),()=>Vu.delete(t)}function Ds(t){Mg(),Vu.forEach(e=>{try{e(t)}catch{}})}async function xr(t,e,n){const i=t.startsWith("/")?t:`/${t}`,a=`${Si}${i}${Rg(e)}`,o=await fetch(a,{method:"GET",credentials:"same-origin",headers:Dt(),signal:n}),c=await Ps(o);if(!o.ok){const u=new Ft(o.status,c);throw o.status===401&&Ds(u),u}return c??{}}async function ib(t,e,n){const i=t.startsWith("/")?t:`/${t}`,a=`${Si}${i}`,o=await fetch(a,{method:"PUT",credentials:"same-origin",headers:Dt({"Content-Type":"application/json"}),body:e===void 0?"{}":JSON.stringify(e),signal:n}),c=await Ps(o);if(!o.ok){const u=new Ft(o.status,c);throw o.status===401&&Ds(u),u}return c??{}}async function sb(t,e,n){const i=t.startsWith("/")?t:`/${t}`,a=`${Si}${i}`,o=await fetch(a,{method:"PATCH",credentials:"same-origin",headers:Dt({"Content-Type":"application/json"}),body:e===void 0?"{}":JSON.stringify(e),signal:n}),c=await Ps(o);if(!o.ok){const u=new Ft(o.status,c);throw o.status===401&&Ds(u),u}return c??{}}async function Ls(t,e,n){const i=t.startsWith("/")?t:`/${t}`,a=`${Si}${i}`,o=await fetch(a,{method:"POST",credentials:"same-origin",headers:Dt({"Content-Type":"application/json"}),body:e===void 0?"{}":JSON.stringify(e),signal:n}),c=await Ps(o);if(!o.ok){const u=new Ft(o.status,c);throw o.status===401&&Ds(u),u}return c??{}}async function Tg(t,e,n){const i=t.startsWith("/")?t:`/${t}`,a=`${Si}${i}`,o=await fetch(a,{method:"POST",credentials:"same-origin",headers:Dt(),body:e,signal:n}),c=await Ps(o);if(!o.ok){const u=new Ft(o.status,c);throw o.status===401&&Ds(u),u}return c??{}}async function Ol(t,e){const n=t.startsWith("/")?t:`/${t}`,i=`${Si}${n}`,a=await fetch(i,{method:"DELETE",credentials:"same-origin",headers:Dt(),signal:e}),o=await Ps(a);if(!a.ok){const c=new Ft(a.status,o);throw a.status===401&&Ds(c),c}return o??{}}function Lm(t){try{t&&t!=="/auth/login"&&sessionStorage.setItem(xl,t)}catch{}}function ab(){try{const t=sessionStorage.getItem(xl);return t&&sessionStorage.removeItem(xl),t}catch{return null}}function Am(){try{sessionStorage.setItem(bl,"1")}catch{}}function ob(){try{const t=sessionStorage.getItem(bl);return t&&sessionStorage.removeItem(bl),t==="1"}catch{return!1}}async function lb(t){const e=await Ls("/api/auth/login",t),n=e?.token,i=e?.user;if(!n||typeof n!="string")throw new Error("Missing auth token in login response");if(!i||typeof i.id>"u")throw new Error("Missing user payload in login response");return nb(n),i}async function cb(){try{await Ls("/api/auth/logout",{})}catch{}Mg();try{sessionStorage.removeItem(xl),sessionStorage.removeItem(bl)}catch{}}async function ub(){const e=(await xr("/api/auth/me"))?.user;if(!e||typeof e.id>"u")throw new Error("Missing user payload in auth/me response");return e}const Rr=({isActive:t})=>"nav-link"+(t?" active":"");function db({requireAuth:t,authed:e}){const n=!t||e,i=t&&e,a=t&&!e;async function o(){await cb(),window.location.assign("/auth/login")}return h.jsx("header",{role:"banner",children:h.jsx("nav",{className:"navbar",role:"navigation","aria-label":"Primary",children:h.jsxs("div",{className:"container",style:{display:"flex",alignItems:"center",gap:"1rem"},children:[h.jsx(fr,{to:"/",className:"navbar-brand d-flex align-items-center","aria-label":"phpGRC home",children:h.jsx("img",{src:"/api/images/phpGRC-light-horizontal-trans.png",alt:"phpGRC",style:{height:"36px",width:"auto"},loading:"lazy"})}),h.jsx(fr,{to:"/dashboard",className:Rr,children:"Dashboard"}),h.jsx(fr,{to:"/admin",className:Rr,children:"Admin"}),h.jsx(fr,{to:"/admin/settings",className:Rr,children:"Settings"}),h.jsx(fr,{to:"/admin/roles",className:Rr,children:"Roles"}),n&&h.jsx(fr,{to:"/admin/users",className:Rr,children:"Users"}),h.jsx(fr,{to:"/admin/user-roles",className:Rr,children:"User Roles"}),h.jsx(fr,{to:"/admin/audit",className:Rr,children:"Audit"}),h.jsx(fr,{to:"/admin/evidence",className:Rr,children:"Evidence"}),h.jsx("a",{href:"/api/docs",className:"nav-link",children:"API Docs"}),h.jsx("div",{style:{marginLeft:"auto"},children:i?h.jsx("button",{className:"btn btn-outline-secondary btn-sm",type:"button",onClick:o,children:"Logout"}):a?h.jsx(fr,{to:"/auth/login",className:Rr,children:"Login"}):null})]})})})}function fb(){const t=Br(),e=Ll(),[n,i]=w.useState(!0),[a,o]=w.useState(!1),[c,u]=w.useState(!1);if(w.useEffect(()=>{const m=rb(()=>{if(!t.pathname.startsWith("/auth/")){const v=`${t.pathname}${t.search}${t.hash}`;Lm(v),Am(),e("/auth/login",{replace:!0})}});async function g(){i(!0);try{const x=!!(await xr("/api/health/fingerprint"))?.summary?.rbac?.require_auth;if(o(x),x){if(!tb()){u(!1);return}try{await ub(),u(!0)}catch{u(!1)}}else u(!0)}finally{i(!1)}}return g(),()=>m()},[t.pathname]),n)return null;if(a&&!c&&!t.pathname.startsWith("/auth/")){const m=`${t.pathname}${t.search}${t.hash}`;return Lm(m),Am(),e("/auth/login",{replace:!0}),null}const f=t.pathname.startsWith("/auth/");return h.jsxs(h.Fragment,{children:[!f&&h.jsx(db,{requireAuth:a,authed:c}),h.jsx("main",{id:"main",role:"main",children:h.jsx(R0,{})})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Ha(t){return t+.5|0}const gi=(t,e,n)=>Math.max(Math.min(t,n),e);function Na(t){return gi(Ha(t*2.55),0,255)}function xi(t){return gi(Ha(t*255),0,255)}function Lr(t){return gi(Ha(t/2.55)/100,0,1)}function Om(t){return gi(Ha(t*100),0,100)}const Wn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Yu=[..."0123456789ABCDEF"],hb=t=>Yu[t&15],mb=t=>Yu[(t&240)>>4]+Yu[t&15],Ko=t=>(t&240)>>4===(t&15),pb=t=>Ko(t.r)&&Ko(t.g)&&Ko(t.b)&&Ko(t.a);function gb(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Wn[t[1]]*17,g:255&Wn[t[2]]*17,b:255&Wn[t[3]]*17,a:e===5?Wn[t[4]]*17:255}:(e===7||e===9)&&(n={r:Wn[t[1]]<<4|Wn[t[2]],g:Wn[t[3]]<<4|Wn[t[4]],b:Wn[t[5]]<<4|Wn[t[6]],a:e===9?Wn[t[7]]<<4|Wn[t[8]]:255})),n}const yb=(t,e)=>t<255?e(t):"";function vb(t){var e=pb(t)?hb:mb;return t?"#"+e(t.r)+e(t.g)+e(t.b)+yb(t.a,e):void 0}const xb=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Pg(t,e,n){const i=e*Math.min(n,1-n),a=(o,c=(o+t/30)%12)=>n-i*Math.max(Math.min(c-3,9-c,1),-1);return[a(0),a(8),a(4)]}function bb(t,e,n){const i=(a,o=(a+t/60)%6)=>n-n*e*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function _b(t,e,n){const i=Pg(t,1,.5);let a;for(e+n>1&&(a=1/(e+n),e*=a,n*=a),a=0;a<3;a++)i[a]*=1-e-n,i[a]+=e;return i}function wb(t,e,n,i,a){return t===a?(e-n)/i+(e<n?6:0):e===a?(n-t)/i+2:(t-e)/i+4}function dd(t){const n=t.r/255,i=t.g/255,a=t.b/255,o=Math.max(n,i,a),c=Math.min(n,i,a),u=(o+c)/2;let f,m,g;return o!==c&&(g=o-c,m=u>.5?g/(2-o-c):g/(o+c),f=wb(n,i,a,g,o),f=f*60+.5),[f|0,m||0,u]}function fd(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(xi)}function hd(t,e,n){return fd(Pg,t,e,n)}function Sb(t,e,n){return fd(_b,t,e,n)}function kb(t,e,n){return fd(bb,t,e,n)}function Dg(t){return(t%360+360)%360}function jb(t){const e=xb.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?Na(+e[5]):xi(+e[5]));const a=Dg(+e[2]),o=+e[3]/100,c=+e[4]/100;return e[1]==="hwb"?i=Sb(a,o,c):e[1]==="hsv"?i=kb(a,o,c):i=hd(a,o,c),{r:i[0],g:i[1],b:i[2],a:n}}function Cb(t,e){var n=dd(t);n[0]=Dg(n[0]+e),n=hd(n),t.r=n[0],t.g=n[1],t.b=n[2]}function Eb(t){if(!t)return;const e=dd(t),n=e[0],i=Om(e[1]),a=Om(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${a}%, ${Lr(t.a)})`:`hsl(${n}, ${i}%, ${a}%)`}const Fm={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Im={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Nb(){const t={},e=Object.keys(Im),n=Object.keys(Fm);let i,a,o,c,u;for(i=0;i<e.length;i++){for(c=u=e[i],a=0;a<n.length;a++)o=n[a],u=u.replace(o,Fm[o]);o=parseInt(Im[c],16),t[u]=[o>>16&255,o>>8&255,o&255]}return t}let Xo;function Mb(t){Xo||(Xo=Nb(),Xo.transparent=[0,0,0,0]);const e=Xo[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const Rb=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Tb(t){const e=Rb.exec(t);let n=255,i,a,o;if(e){if(e[7]!==i){const c=+e[7];n=e[8]?Na(c):gi(c*255,0,255)}return i=+e[1],a=+e[3],o=+e[5],i=255&(e[2]?Na(i):gi(i,0,255)),a=255&(e[4]?Na(a):gi(a,0,255)),o=255&(e[6]?Na(o):gi(o,0,255)),{r:i,g:a,b:o,a:n}}}function Pb(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Lr(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Eu=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Ss=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function Db(t,e,n){const i=Ss(Lr(t.r)),a=Ss(Lr(t.g)),o=Ss(Lr(t.b));return{r:xi(Eu(i+n*(Ss(Lr(e.r))-i))),g:xi(Eu(a+n*(Ss(Lr(e.g))-a))),b:xi(Eu(o+n*(Ss(Lr(e.b))-o))),a:t.a+n*(e.a-t.a)}}function Qo(t,e,n){if(t){let i=dd(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=hd(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function Lg(t,e){return t&&Object.assign(e||{},t)}function zm(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=xi(t[3]))):(e=Lg(t,{r:0,g:0,b:0,a:1}),e.a=xi(e.a)),e}function Lb(t){return t.charAt(0)==="r"?Tb(t):jb(t)}class Fa{constructor(e){if(e instanceof Fa)return e;const n=typeof e;let i;n==="object"?i=zm(e):n==="string"&&(i=gb(e)||Mb(e)||Lb(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=Lg(this._rgb);return e&&(e.a=Lr(e.a)),e}set rgb(e){this._rgb=zm(e)}rgbString(){return this._valid?Pb(this._rgb):void 0}hexString(){return this._valid?vb(this._rgb):void 0}hslString(){return this._valid?Eb(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,a=e.rgb;let o;const c=n===o?.5:n,u=2*c-1,f=i.a-a.a,m=((u*f===-1?u:(u+f)/(1+u*f))+1)/2;o=1-m,i.r=255&m*i.r+o*a.r+.5,i.g=255&m*i.g+o*a.g+.5,i.b=255&m*i.b+o*a.b+.5,i.a=c*i.a+(1-c)*a.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=Db(this._rgb,e._rgb,n)),this}clone(){return new Fa(this.rgb)}alpha(e){return this._rgb.a=xi(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Ha(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Qo(this._rgb,2,e),this}darken(e){return Qo(this._rgb,2,-e),this}saturate(e){return Qo(this._rgb,1,e),this}desaturate(e){return Qo(this._rgb,1,-e),this}rotate(e){return Cb(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Tr(){}const Ab=(()=>{let t=0;return()=>t++})();function ft(t){return t==null}function en(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function qe(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Yn(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function hr(t,e){return Yn(t)?t:e}function Ge(t,e){return typeof t>"u"?e:t}const Ob=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,Ag=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function vt(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function ot(t,e,n,i){let a,o,c;if(en(t))for(o=t.length,a=0;a<o;a++)e.call(n,t[a],a);else if(qe(t))for(c=Object.keys(t),o=c.length,a=0;a<o;a++)e.call(n,t[c[a]],c[a])}function _l(t,e){let n,i,a,o;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(a=t[n],o=e[n],a.datasetIndex!==o.datasetIndex||a.index!==o.index)return!1;return!0}function wl(t){if(en(t))return t.map(wl);if(qe(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let a=0;for(;a<i;++a)e[n[a]]=wl(t[n[a]]);return e}return t}function Og(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function Fb(t,e,n,i){if(!Og(t))return;const a=e[t],o=n[t];qe(a)&&qe(o)?Ia(a,o,i):e[t]=wl(o)}function Ia(t,e,n){const i=en(e)?e:[e],a=i.length;if(!qe(t))return t;n=n||{};const o=n.merger||Fb;let c;for(let u=0;u<a;++u){if(c=i[u],!qe(c))continue;const f=Object.keys(c);for(let m=0,g=f.length;m<g;++m)o(f[m],t,c,n)}return t}function Ta(t,e){return Ia(t,e,{merger:Ib})}function Ib(t,e,n){if(!Og(t))return;const i=e[t],a=n[t];qe(i)&&qe(a)?Ta(i,a):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=wl(a))}const Um={"":t=>t,x:t=>t.x,y:t=>t.y};function zb(t){const e=t.split("."),n=[];let i="";for(const a of e)i+=a,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function Ub(t){const e=zb(t);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function Gi(t,e){return(Um[e]||(Um[e]=Ub(e)))(t)}function md(t){return t.charAt(0).toUpperCase()+t.slice(1)}const za=t=>typeof t<"u",_i=t=>typeof t=="function",Bm=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function Bb(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const xt=Math.PI,Ht=2*xt,Sl=Number.POSITIVE_INFINITY,$b=xt/180,Kt=xt/2,zi=xt/4,$m=xt*2/3,Fg=Math.log10,bi=Math.sign;function dl(t,e,n){return Math.abs(t-e)<n}function Hm(t){const e=Math.round(t);t=dl(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Fg(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function Hb(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((a,o)=>a-o).pop(),e}function Wb(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function kl(t){return!Wb(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function Vb(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function Yb(t,e,n){let i,a,o;for(i=0,a=t.length;i<a;i++)o=t[i][n],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function Or(t){return t*(xt/180)}function Kb(t){return t*(180/xt)}function Wm(t){if(!Yn(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function Ig(t,e){const n=e.x-t.x,i=e.y-t.y,a=Math.sqrt(n*n+i*i);let o=Math.atan2(i,n);return o<-.5*xt&&(o+=Ht),{angle:o,distance:a}}function Xb(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function yr(t){return(t%Ht+Ht)%Ht}function jl(t,e,n,i){const a=yr(t),o=yr(e),c=yr(n),u=yr(o-a),f=yr(c-a),m=yr(a-o),g=yr(a-c);return a===o||a===c||i&&o===c||u>f&&m<g}function Cn(t,e,n){return Math.max(e,Math.min(n,t))}function Qb(t){return Cn(t,-32768,32767)}function Yi(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function pd(t,e,n){n=n||(c=>t[c]<e);let i=t.length-1,a=0,o;for(;i-a>1;)o=a+i>>1,n(o)?a=o:i=o;return{lo:a,hi:i}}const Ku=(t,e,n,i)=>pd(t,n,i?a=>{const o=t[a][e];return o<n||o===n&&t[a+1][e]===n}:a=>t[a][e]<n),Gb=(t,e,n)=>pd(t,n,i=>t[i][e]>=n);function qb(t,e,n){let i=0,a=t.length;for(;i<a&&t[i]<e;)i++;for(;a>i&&t[a-1]>n;)a--;return i>0||a<t.length?t.slice(i,a):t}const zg=["push","pop","shift","splice","unshift"];function Zb(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),zg.forEach(n=>{const i="_onData"+md(n),a=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...o){const c=a.apply(this,o);return t._chartjs.listeners.forEach(u=>{typeof u[i]=="function"&&u[i](...o)}),c}})})}function Vm(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,a=i.indexOf(e);a!==-1&&i.splice(a,1),!(i.length>0)&&(zg.forEach(o=>{delete t[o]}),delete t._chartjs)}function Ug(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const Bg=(function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame})();function $g(t,e){let n=[],i=!1;return function(...a){n=a,i||(i=!0,Bg.call(window,()=>{i=!1,t.apply(e,n)}))}}function Jb(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const Hg=t=>t==="start"?"left":t==="end"?"right":"center",Ln=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,e_=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e,Go=t=>t===0||t===1,Ym=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Ht/n)),Km=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Ht/n)+1,Pa={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Kt)+1,easeOutSine:t=>Math.sin(t*Kt),easeInOutSine:t=>-.5*(Math.cos(xt*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Go(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Go(t)?t:Ym(t,.075,.3),easeOutElastic:t=>Go(t)?t:Km(t,.075,.3),easeInOutElastic(t){return Go(t)?t:t<.5?.5*Ym(t*2,.1125,.45):.5+.5*Km(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Pa.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Pa.easeInBounce(t*2)*.5:Pa.easeOutBounce(t*2-1)*.5+.5};function Wg(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Xm(t){return Wg(t)?t:new Fa(t)}function Nu(t){return Wg(t)?t:new Fa(t).saturate(.5).darken(.1).hexString()}const t_=["x","y","borderWidth","radius","tension"],n_=["color","borderColor","backgroundColor"];function r_(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:n_},numbers:{type:"number",properties:t_}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function i_(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Qm=new Map;function s_(t,e){e=e||{};const n=t+JSON.stringify(e);let i=Qm.get(n);return i||(i=new Intl.NumberFormat(t,e),Qm.set(n,i)),i}function gd(t,e,n){return s_(e,n).format(t)}const a_={values(t){return en(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let a,o=t;if(n.length>1){const m=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(m<1e-4||m>1e15)&&(a="scientific"),o=o_(t,n)}const c=Fg(Math.abs(o)),u=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),f={notation:a,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(f,this.options.ticks.format),gd(t,i,f)}};function o_(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Vg={formatters:a_};function l_(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Vg.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const qi=Object.create(null),Xu=Object.create(null);function Da(t,e){if(!e)return t;const n=e.split(".");for(let i=0,a=n.length;i<a;++i){const o=n[i];t=t[o]||(t[o]=Object.create(null))}return t}function Mu(t,e,n){return typeof e=="string"?Ia(Da(t,e),n):Ia(Da(t,""),e)}class c_{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,a)=>Nu(a.backgroundColor),this.hoverBorderColor=(i,a)=>Nu(a.borderColor),this.hoverColor=(i,a)=>Nu(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Mu(this,e,n)}get(e){return Da(this,e)}describe(e,n){return Mu(Xu,e,n)}override(e,n){return Mu(qi,e,n)}route(e,n,i,a){const o=Da(this,e),c=Da(this,i),u="_"+n;Object.defineProperties(o,{[u]:{value:o[n],writable:!0},[n]:{enumerable:!0,get(){const f=this[u],m=c[a];return qe(f)?Object.assign({},m,f):Ge(f,m)},set(f){this[u]=f}}})}apply(e){e.forEach(n=>n(this))}}var Ot=new c_({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[r_,i_,l_]);function u_(t){return!t||ft(t.size)||ft(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Gm(t,e,n,i,a){let o=e[a];return o||(o=e[a]=t.measureText(a).width,n.push(a)),o>i&&(i=o),i}function Ui(t,e,n){const i=t.currentDevicePixelRatio,a=n!==0?Math.max(n/2,.5):0;return Math.round((e-a)*i)/i+a}function qm(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Zm(t,e,n,i){Yg(t,e,n,i,null)}function Yg(t,e,n,i,a){let o,c,u,f,m,g,v,x;const _=e.pointStyle,k=e.rotation,j=e.radius;let C=(k||0)*$b;if(_&&typeof _=="object"&&(o=_.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(C),t.drawImage(_,-_.width/2,-_.height/2,_.width,_.height),t.restore();return}if(!(isNaN(j)||j<=0)){switch(t.beginPath(),_){default:a?t.ellipse(n,i,a/2,j,0,0,Ht):t.arc(n,i,j,0,Ht),t.closePath();break;case"triangle":g=a?a/2:j,t.moveTo(n+Math.sin(C)*g,i-Math.cos(C)*j),C+=$m,t.lineTo(n+Math.sin(C)*g,i-Math.cos(C)*j),C+=$m,t.lineTo(n+Math.sin(C)*g,i-Math.cos(C)*j),t.closePath();break;case"rectRounded":m=j*.516,f=j-m,c=Math.cos(C+zi)*f,v=Math.cos(C+zi)*(a?a/2-m:f),u=Math.sin(C+zi)*f,x=Math.sin(C+zi)*(a?a/2-m:f),t.arc(n-v,i-u,m,C-xt,C-Kt),t.arc(n+x,i-c,m,C-Kt,C),t.arc(n+v,i+u,m,C,C+Kt),t.arc(n-x,i+c,m,C+Kt,C+xt),t.closePath();break;case"rect":if(!k){f=Math.SQRT1_2*j,g=a?a/2:f,t.rect(n-g,i-f,2*g,2*f);break}C+=zi;case"rectRot":v=Math.cos(C)*(a?a/2:j),c=Math.cos(C)*j,u=Math.sin(C)*j,x=Math.sin(C)*(a?a/2:j),t.moveTo(n-v,i-u),t.lineTo(n+x,i-c),t.lineTo(n+v,i+u),t.lineTo(n-x,i+c),t.closePath();break;case"crossRot":C+=zi;case"cross":v=Math.cos(C)*(a?a/2:j),c=Math.cos(C)*j,u=Math.sin(C)*j,x=Math.sin(C)*(a?a/2:j),t.moveTo(n-v,i-u),t.lineTo(n+v,i+u),t.moveTo(n+x,i-c),t.lineTo(n-x,i+c);break;case"star":v=Math.cos(C)*(a?a/2:j),c=Math.cos(C)*j,u=Math.sin(C)*j,x=Math.sin(C)*(a?a/2:j),t.moveTo(n-v,i-u),t.lineTo(n+v,i+u),t.moveTo(n+x,i-c),t.lineTo(n-x,i+c),C+=zi,v=Math.cos(C)*(a?a/2:j),c=Math.cos(C)*j,u=Math.sin(C)*j,x=Math.sin(C)*(a?a/2:j),t.moveTo(n-v,i-u),t.lineTo(n+v,i+u),t.moveTo(n+x,i-c),t.lineTo(n-x,i+c);break;case"line":c=a?a/2:Math.cos(C)*j,u=Math.sin(C)*j,t.moveTo(n-c,i-u),t.lineTo(n+c,i+u);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(C)*(a?a/2:j),i+Math.sin(C)*j);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Kg(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function yd(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function vd(t){t.restore()}function d_(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),ft(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function f_(t,e,n,i,a){if(a.strikethrough||a.underline){const o=t.measureText(i),c=e-o.actualBoundingBoxLeft,u=e+o.actualBoundingBoxRight,f=n-o.actualBoundingBoxAscent,m=n+o.actualBoundingBoxDescent,g=a.strikethrough?(f+m)/2:m;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=a.decorationWidth||2,t.moveTo(c,g),t.lineTo(u,g),t.stroke()}}function h_(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Cl(t,e,n,i,a,o={}){const c=en(e)?e:[e],u=o.strokeWidth>0&&o.strokeColor!=="";let f,m;for(t.save(),t.font=a.string,d_(t,o),f=0;f<c.length;++f)m=c[f],o.backdrop&&h_(t,o.backdrop),u&&(o.strokeColor&&(t.strokeStyle=o.strokeColor),ft(o.strokeWidth)||(t.lineWidth=o.strokeWidth),t.strokeText(m,n,i,o.maxWidth)),t.fillText(m,n,i,o.maxWidth),f_(t,n,i,m,o),i+=Number(a.lineHeight);t.restore()}function El(t,e){const{x:n,y:i,w:a,h:o,radius:c}=e;t.arc(n+c.topLeft,i+c.topLeft,c.topLeft,1.5*xt,xt,!0),t.lineTo(n,i+o-c.bottomLeft),t.arc(n+c.bottomLeft,i+o-c.bottomLeft,c.bottomLeft,xt,Kt,!0),t.lineTo(n+a-c.bottomRight,i+o),t.arc(n+a-c.bottomRight,i+o-c.bottomRight,c.bottomRight,Kt,0,!0),t.lineTo(n+a,i+c.topRight),t.arc(n+a-c.topRight,i+c.topRight,c.topRight,0,-Kt,!0),t.lineTo(n+c.topLeft,i)}const m_=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,p_=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function g_(t,e){const n=(""+t).match(m_);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const y_=t=>+t||0;function xd(t,e){const n={},i=qe(e),a=i?Object.keys(e):e,o=qe(t)?i?c=>Ge(t[c],t[e[c]]):c=>t[c]:()=>t;for(const c of a)n[c]=y_(o(c));return n}function Xg(t){return xd(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Cs(t){return xd(t,["topLeft","topRight","bottomLeft","bottomRight"])}function sr(t){const e=Xg(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function En(t,e){t=t||{},e=e||Ot.font;let n=Ge(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=Ge(t.style,e.style);i&&!(""+i).match(p_)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const a={family:Ge(t.family,e.family),lineHeight:g_(Ge(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:Ge(t.weight,e.weight),string:""};return a.string=u_(a),a}function qo(t,e,n,i){let a,o,c;for(a=0,o=t.length;a<o;++a)if(c=t[a],c!==void 0&&c!==void 0)return c}function v_(t,e,n){const{min:i,max:a}=t,o=Ag(e,(a-i)/2),c=(u,f)=>n&&u===0?0:u+f;return{min:c(i,-Math.abs(o)),max:c(a,o)}}function As(t,e){return Object.assign(Object.create(t),e)}function bd(t,e=[""],n,i,a=()=>t[0]){const o=n||t;typeof i>"u"&&(i=Zg("_fallback",t));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:o,_fallback:i,_getTarget:a,override:u=>bd([u,...t],e,o,i)};return new Proxy(c,{deleteProperty(u,f){return delete u[f],delete u._keys,delete t[0][f],!0},get(u,f){return Gg(u,f,()=>C_(f,e,t,u))},getOwnPropertyDescriptor(u,f){return Reflect.getOwnPropertyDescriptor(u._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(u,f){return ep(u).includes(f)},ownKeys(u){return ep(u)},set(u,f,m){const g=u._storage||(u._storage=a());return u[f]=g[f]=m,delete u._keys,!0}})}function Rs(t,e,n,i){const a={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:Qg(t,i),setContext:o=>Rs(t,o,n,i),override:o=>Rs(t.override(o),e,n,i)};return new Proxy(a,{deleteProperty(o,c){return delete o[c],delete t[c],!0},get(o,c,u){return Gg(o,c,()=>b_(o,c,u))},getOwnPropertyDescriptor(o,c){return o._descriptors.allKeys?Reflect.has(t,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,c)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(o,c){return Reflect.has(t,c)},ownKeys(){return Reflect.ownKeys(t)},set(o,c,u){return t[c]=u,delete o[c],!0}})}function Qg(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:a=e.allKeys}=t;return{allKeys:a,scriptable:n,indexable:i,isScriptable:_i(n)?n:()=>n,isIndexable:_i(i)?i:()=>i}}const x_=(t,e)=>t?t+md(e):e,_d=(t,e)=>qe(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Gg(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const i=n();return t[e]=i,i}function b_(t,e,n){const{_proxy:i,_context:a,_subProxy:o,_descriptors:c}=t;let u=i[e];return _i(u)&&c.isScriptable(e)&&(u=__(e,u,t,n)),en(u)&&u.length&&(u=w_(e,u,t,c.isIndexable)),_d(e,u)&&(u=Rs(u,a,o&&o[e],c)),u}function __(t,e,n,i){const{_proxy:a,_context:o,_subProxy:c,_stack:u}=n;if(u.has(t))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+t);u.add(t);let f=e(o,c||i);return u.delete(t),_d(t,f)&&(f=wd(a._scopes,a,t,f)),f}function w_(t,e,n,i){const{_proxy:a,_context:o,_subProxy:c,_descriptors:u}=n;if(typeof o.index<"u"&&i(t))return e[o.index%e.length];if(qe(e[0])){const f=e,m=a._scopes.filter(g=>g!==f);e=[];for(const g of f){const v=wd(m,a,t,g);e.push(Rs(v,o,c&&c[t],u))}}return e}function qg(t,e,n){return _i(t)?t(e,n):t}const S_=(t,e)=>t===!0?e:typeof t=="string"?Gi(e,t):void 0;function k_(t,e,n,i,a){for(const o of e){const c=S_(n,o);if(c){t.add(c);const u=qg(c._fallback,n,a);if(typeof u<"u"&&u!==n&&u!==i)return u}else if(c===!1&&typeof i<"u"&&n!==i)return null}return!1}function wd(t,e,n,i){const a=e._rootScopes,o=qg(e._fallback,n,i),c=[...t,...a],u=new Set;u.add(i);let f=Jm(u,c,n,o||n,i);return f===null||typeof o<"u"&&o!==n&&(f=Jm(u,c,o,f,i),f===null)?!1:bd(Array.from(u),[""],a,o,()=>j_(e,n,i))}function Jm(t,e,n,i,a){for(;n;)n=k_(t,e,n,i,a);return n}function j_(t,e,n){const i=t._getTarget();e in i||(i[e]={});const a=i[e];return en(a)&&qe(n)?n:a||{}}function C_(t,e,n,i){let a;for(const o of e)if(a=Zg(x_(o,t),n),typeof a<"u")return _d(t,a)?wd(n,i,t,a):a}function Zg(t,e){for(const n of e){if(!n)continue;const i=n[t];if(typeof i<"u")return i}}function ep(t){let e=t._keys;return e||(e=t._keys=E_(t._scopes)),e}function E_(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(a=>!a.startsWith("_")))e.add(i);return Array.from(e)}function Sd(){return typeof window<"u"&&typeof document<"u"}function kd(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Nl(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const Fl=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function N_(t,e){return Fl(t).getPropertyValue(e)}const M_=["top","right","bottom","left"];function Xi(t,e,n){const i={};n=n?"-"+n:"";for(let a=0;a<4;a++){const o=M_[a];i[o]=parseFloat(t[e+"-"+o+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const R_=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function T_(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:a,offsetY:o}=i;let c=!1,u,f;if(R_(a,o,t.target))u=a,f=o;else{const m=e.getBoundingClientRect();u=i.clientX-m.left,f=i.clientY-m.top,c=!0}return{x:u,y:f,box:c}}function $i(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,a=Fl(n),o=a.boxSizing==="border-box",c=Xi(a,"padding"),u=Xi(a,"border","width"),{x:f,y:m,box:g}=T_(t,n),v=c.left+(g&&u.left),x=c.top+(g&&u.top);let{width:_,height:k}=e;return o&&(_-=c.width+u.width,k-=c.height+u.height),{x:Math.round((f-v)/_*n.width/i),y:Math.round((m-x)/k*n.height/i)}}function P_(t,e,n){let i,a;if(e===void 0||n===void 0){const o=t&&kd(t);if(!o)e=t.clientWidth,n=t.clientHeight;else{const c=o.getBoundingClientRect(),u=Fl(o),f=Xi(u,"border","width"),m=Xi(u,"padding");e=c.width-m.width-f.width,n=c.height-m.height-f.height,i=Nl(u.maxWidth,o,"clientWidth"),a=Nl(u.maxHeight,o,"clientHeight")}}return{width:e,height:n,maxWidth:i||Sl,maxHeight:a||Sl}}const Zo=t=>Math.round(t*10)/10;function D_(t,e,n,i){const a=Fl(t),o=Xi(a,"margin"),c=Nl(a.maxWidth,t,"clientWidth")||Sl,u=Nl(a.maxHeight,t,"clientHeight")||Sl,f=P_(t,e,n);let{width:m,height:g}=f;if(a.boxSizing==="content-box"){const x=Xi(a,"border","width"),_=Xi(a,"padding");m-=_.width+x.width,g-=_.height+x.height}return m=Math.max(0,m-o.width),g=Math.max(0,i?m/i:g-o.height),m=Zo(Math.min(m,c,f.maxWidth)),g=Zo(Math.min(g,u,f.maxHeight)),m&&!g&&(g=Zo(m/2)),(e!==void 0||n!==void 0)&&i&&f.height&&g>f.height&&(g=f.height,m=Zo(Math.floor(g*i))),{width:m,height:g}}function tp(t,e,n){const i=e||1,a=Math.floor(t.height*i),o=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const c=t.canvas;return c.style&&(n||!c.style.height&&!c.style.width)&&(c.style.height=`${t.height}px`,c.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||c.height!==a||c.width!==o?(t.currentDevicePixelRatio=i,c.height=a,c.width=o,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const L_=(function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Sd()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t})();function np(t,e){const n=N_(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}const A_=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},O_=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Es(t,e,n){return t?A_(e,n):O_()}function Jg(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function ey(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Jo(t,e,n){return t.options.clip?t[n]:e[n]}function F_(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:Jo(n,e,"left"),right:Jo(n,e,"right"),top:Jo(i,e,"top"),bottom:Jo(i,e,"bottom")}:e}function I_(t,e){const n=e._clip;if(n.disabled)return!1;const i=F_(e,t.chartArea);return{left:n.left===!1?0:i.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:i.right+(n.right===!0?0:n.right),top:n.top===!1?0:i.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:i.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class z_{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,a){const o=n.listeners[a],c=n.duration;o.forEach(u=>u({chart:e,initial:n.initial,numSteps:c,currentStep:Math.min(i-n.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=Bg.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,a)=>{if(!i.running||!i.items.length)return;const o=i.items;let c=o.length-1,u=!1,f;for(;c>=0;--c)f=o[c],f._active?(f._total>i.duration&&(i.duration=f._total),f.tick(e),u=!0):(o[c]=o[o.length-1],o.pop());u&&(a.draw(),this._notify(a,i,e,"progress")),o.length||(i.running=!1,this._notify(a,i,e,"complete"),i.initial=!1),n+=o.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,a)=>Math.max(i,a._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let a=i.length-1;for(;a>=0;--a)i[a].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Pr=new z_;const rp="transparent",U_={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=Xm(t||rp),a=i.valid&&Xm(e||rp);return a&&a.valid?a.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class B_{constructor(e,n,i,a){const o=n[i];a=qo([e.to,a,o,e.from]);const c=qo([e.from,o,a]);this._active=!0,this._fn=e.fn||U_[e.type||typeof c],this._easing=Pa[e.easing]||Pa.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=c,this._to=a,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const a=this._target[this._prop],o=i-this._start,c=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(c,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=qo([e.to,n,a,e.from]),this._from=qo([e.from,a,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,a=this._prop,o=this._from,c=this._loop,u=this._to;let f;if(this._active=o!==u&&(c||n<i),!this._active){this._target[a]=u,this._notify(!0);return}if(n<0){this._target[a]=o;return}f=n/i%2,f=c&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[a]=this._fn(o,u,f)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let a=0;a<i.length;a++)i[a][n]()}}class ty{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!qe(e))return;const n=Object.keys(Ot.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(a=>{const o=e[a];if(!qe(o))return;const c={};for(const u of n)c[u]=o[u];(en(o.properties)&&o.properties||[a]).forEach(u=>{(u===a||!i.has(u))&&i.set(u,c)})})}_animateOptions(e,n){const i=n.options,a=H_(e,i);if(!a)return[];const o=this._createAnimations(a,i);return i.$shared&&$_(e.options.$animations,i).then(()=>{e.options=i},()=>{}),o}_createAnimations(e,n){const i=this._properties,a=[],o=e.$animations||(e.$animations={}),c=Object.keys(n),u=Date.now();let f;for(f=c.length-1;f>=0;--f){const m=c[f];if(m.charAt(0)==="$")continue;if(m==="options"){a.push(...this._animateOptions(e,n));continue}const g=n[m];let v=o[m];const x=i.get(m);if(v)if(x&&v.active()){v.update(x,g,u);continue}else v.cancel();if(!x||!x.duration){e[m]=g;continue}o[m]=v=new B_(x,e,m,g),a.push(v)}return a}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return Pr.add(this._chart,i),!0}}function $_(t,e){const n=[],i=Object.keys(e);for(let a=0;a<i.length;a++){const o=t[i[a]];o&&o.active()&&n.push(o.wait())}return Promise.all(n)}function H_(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function ip(t,e){const n=t&&t.options||{},i=n.reverse,a=n.min===void 0?e:0,o=n.max===void 0?e:0;return{start:i?o:a,end:i?a:o}}function W_(t,e,n){if(n===!1)return!1;const i=ip(t,n),a=ip(e,n);return{top:a.end,right:i.end,bottom:a.start,left:i.start}}function V_(t){let e,n,i,a;return qe(t)?(e=t.top,n=t.right,i=t.bottom,a=t.left):e=n=i=a=t,{top:e,right:n,bottom:i,left:a,disabled:t===!1}}function ny(t,e){const n=[],i=t._getSortedDatasetMetas(e);let a,o;for(a=0,o=i.length;a<o;++a)n.push(i[a].index);return n}function sp(t,e,n,i={}){const a=t.keys,o=i.mode==="single";let c,u,f,m;if(e===null)return;let g=!1;for(c=0,u=a.length;c<u;++c){if(f=+a[c],f===n){if(g=!0,i.all)continue;break}m=t.values[f],Yn(m)&&(o||e===0||bi(e)===bi(m))&&(e+=m)}return!g&&!i.all?0:e}function Y_(t,e){const{iScale:n,vScale:i}=e,a=n.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",c=Object.keys(t),u=new Array(c.length);let f,m,g;for(f=0,m=c.length;f<m;++f)g=c[f],u[f]={[a]:g,[o]:t[g]};return u}function Ru(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function K_(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function X_(t){const{min:e,max:n,minDefined:i,maxDefined:a}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:a?n:Number.POSITIVE_INFINITY}}function Q_(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function ap(t,e,n,i){for(const a of e.getMatchingVisibleMetas(i).reverse()){const o=t[a.index];if(n&&o>0||!n&&o<0)return a.index}return null}function op(t,e){const{chart:n,_cachedMeta:i}=t,a=n._stacks||(n._stacks={}),{iScale:o,vScale:c,index:u}=i,f=o.axis,m=c.axis,g=K_(o,c,i),v=e.length;let x;for(let _=0;_<v;++_){const k=e[_],{[f]:j,[m]:C}=k,T=k._stacks||(k._stacks={});x=T[m]=Q_(a,g,j),x[u]=C,x._top=ap(x,c,!0,i.type),x._bottom=ap(x,c,!1,i.type);const P=x._visualValues||(x._visualValues={});P[u]=C}}function Tu(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function G_(t,e){return As(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function q_(t,e,n){return As(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function _a(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const a of e){const o=a._stacks;if(!o||o[i]===void 0||o[i][n]===void 0)return;delete o[i][n],o[i]._visualValues!==void 0&&o[i]._visualValues[n]!==void 0&&delete o[i]._visualValues[n]}}}const Pu=t=>t==="reset"||t==="none",lp=(t,e)=>e?t:Object.assign({},t),Z_=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:ny(n,!0),values:null};class jd{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Ru(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&_a(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),a=(v,x,_,k)=>v==="x"?x:v==="r"?k:_,o=n.xAxisID=Ge(i.xAxisID,Tu(e,"x")),c=n.yAxisID=Ge(i.yAxisID,Tu(e,"y")),u=n.rAxisID=Ge(i.rAxisID,Tu(e,"r")),f=n.indexAxis,m=n.iAxisID=a(f,o,c,u),g=n.vAxisID=a(f,c,o,u);n.xScale=this.getScaleForId(o),n.yScale=this.getScaleForId(c),n.rScale=this.getScaleForId(u),n.iScale=this.getScaleForId(m),n.vScale=this.getScaleForId(g)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Vm(this._data,this),e._stacked&&_a(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(qe(n)){const a=this._cachedMeta;this._data=Y_(n,a)}else if(i!==n){if(i){Vm(i,this);const a=this._cachedMeta;_a(a),a._parsed=[]}n&&Object.isExtensible(n)&&Zb(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let a=!1;this._dataCheck();const o=n._stacked;n._stacked=Ru(n.vScale,n),n.stack!==i.stack&&(a=!0,_a(n),n.stack=i.stack),this._resyncElements(e),(a||o!==n._stacked)&&(op(this,n._parsed),n._stacked=Ru(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:a}=this,{iScale:o,_stacked:c}=i,u=o.axis;let f=e===0&&n===a.length?!0:i._sorted,m=e>0&&i._parsed[e-1],g,v,x;if(this._parsing===!1)i._parsed=a,i._sorted=!0,x=a;else{en(a[e])?x=this.parseArrayData(i,a,e,n):qe(a[e])?x=this.parseObjectData(i,a,e,n):x=this.parsePrimitiveData(i,a,e,n);const _=()=>v[u]===null||m&&v[u]<m[u];for(g=0;g<n;++g)i._parsed[g+e]=v=x[g],f&&(_()&&(f=!1),m=v);i._sorted=f}c&&op(this,x)}parsePrimitiveData(e,n,i,a){const{iScale:o,vScale:c}=e,u=o.axis,f=c.axis,m=o.getLabels(),g=o===c,v=new Array(a);let x,_,k;for(x=0,_=a;x<_;++x)k=x+i,v[x]={[u]:g||o.parse(m[k],k),[f]:c.parse(n[k],k)};return v}parseArrayData(e,n,i,a){const{xScale:o,yScale:c}=e,u=new Array(a);let f,m,g,v;for(f=0,m=a;f<m;++f)g=f+i,v=n[g],u[f]={x:o.parse(v[0],g),y:c.parse(v[1],g)};return u}parseObjectData(e,n,i,a){const{xScale:o,yScale:c}=e,{xAxisKey:u="x",yAxisKey:f="y"}=this._parsing,m=new Array(a);let g,v,x,_;for(g=0,v=a;g<v;++g)x=g+i,_=n[x],m[g]={x:o.parse(Gi(_,u),x),y:c.parse(Gi(_,f),x)};return m}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const a=this.chart,o=this._cachedMeta,c=n[e.axis],u={keys:ny(a,!0),values:n._stacks[e.axis]._visualValues};return sp(u,c,o.index,{mode:i})}updateRangeFromParsed(e,n,i,a){const o=i[n.axis];let c=o===null?NaN:o;const u=a&&i._stacks[n.axis];a&&u&&(a.values=u,c=sp(a,o,this._cachedMeta.index)),e.min=Math.min(e.min,c),e.max=Math.max(e.max,c)}getMinMax(e,n){const i=this._cachedMeta,a=i._parsed,o=i._sorted&&e===i.iScale,c=a.length,u=this._getOtherScale(e),f=Z_(n,i,this.chart),m={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:g,max:v}=X_(u);let x,_;function k(){_=a[x];const j=_[u.axis];return!Yn(_[e.axis])||g>j||v<j}for(x=0;x<c&&!(!k()&&(this.updateRangeFromParsed(m,e,_,f),o));++x);if(o){for(x=c-1;x>=0;--x)if(!k()){this.updateRangeFromParsed(m,e,_,f);break}}return m}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let a,o,c;for(a=0,o=n.length;a<o;++a)c=n[a][e.axis],Yn(c)&&i.push(c);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,a=n.vScale,o=this.getParsed(e);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:a?""+a.getLabelForValue(o[a.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=V_(Ge(this.options.clip,W_(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,a=i.data||[],o=n.chartArea,c=[],u=this._drawStart||0,f=this._drawCount||a.length-u,m=this.options.drawActiveElementsOnTop;let g;for(i.dataset&&i.dataset.draw(e,o,u,f),g=u;g<u+f;++g){const v=a[g];v.hidden||(v.active&&m?c.push(v):v.draw(e,o))}for(g=0;g<c.length;++g)c[g].draw(e,o)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const a=this.getDataset();let o;if(e>=0&&e<this._cachedMeta.data.length){const c=this._cachedMeta.data[e];o=c.$context||(c.$context=q_(this.getContext(),e,c)),o.parsed=this.getParsed(e),o.raw=a.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=G_(this.chart.getContext(),this.index)),o.dataset=a,o.index=o.datasetIndex=this.index;return o.active=!!n,o.mode=i,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const a=n==="active",o=this._cachedDataOpts,c=e+"-"+n,u=o[c],f=this.enableOptionSharing&&za(i);if(u)return lp(u,f);const m=this.chart.config,g=m.datasetElementScopeKeys(this._type,e),v=a?[`${e}Hover`,"hover",e,""]:[e,""],x=m.getOptionScopes(this.getDataset(),g),_=Object.keys(Ot.elements[e]),k=()=>this.getContext(i,a,n),j=m.resolveNamedOptions(x,_,k,v);return j.$shared&&(j.$shared=f,o[c]=Object.freeze(lp(j,f))),j}_resolveAnimations(e,n,i){const a=this.chart,o=this._cachedDataOpts,c=`animation-${n}`,u=o[c];if(u)return u;let f;if(a.options.animation!==!1){const g=this.chart.config,v=g.datasetAnimationScopeKeys(this._type,n),x=g.getOptionScopes(this.getDataset(),v);f=g.createResolver(x,this.getContext(e,i,n))}const m=new ty(a,f&&f.animations);return f&&f._cacheable&&(o[c]=Object.freeze(m)),m}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Pu(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),a=this._sharedOptions,o=this.getSharedOptions(i),c=this.includeOptions(n,o)||o!==a;return this.updateSharedOptions(o,n,i),{sharedOptions:o,includeOptions:c}}updateElement(e,n,i,a){Pu(a)?Object.assign(e,i):this._resolveAnimations(n,a).update(e,i)}updateSharedOptions(e,n,i){e&&!Pu(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,a){e.active=a;const o=this.getStyle(n,a);this._resolveAnimations(n,i,a).update(e,{options:!a&&this.getSharedOptions(o)||o})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[u,f,m]of this._syncList)this[u](f,m);this._syncList=[];const a=i.length,o=n.length,c=Math.min(o,a);c&&this.parse(0,c),o>a?this._insertElements(a,o-a,e):o<a&&this._removeElements(o,a-o)}_insertElements(e,n,i=!0){const a=this._cachedMeta,o=a.data,c=e+n;let u;const f=m=>{for(m.length+=n,u=m.length-1;u>=c;u--)m[u]=m[u-n]};for(f(o),u=e;u<c;++u)o[u]=new this.dataElementType;this._parsing&&f(a._parsed),this.parse(e,n),i&&this.updateElements(o,e,n,"reset")}updateElements(e,n,i,a){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const a=i._parsed.splice(e,n);i._stacked&&_a(i,a)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,a]=e;this[n](i,a)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function J_(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let i=[];for(let a=0,o=n.length;a<o;a++)i=i.concat(n[a].controller.getAllParsedValues(t));t._cache.$bar=Ug(i.sort((a,o)=>a-o))}return t._cache.$bar}function ew(t){const e=t.iScale,n=J_(e,t.type);let i=e._length,a,o,c,u;const f=()=>{c===32767||c===-32768||(za(u)&&(i=Math.min(i,Math.abs(c-u)||i)),u=c)};for(a=0,o=n.length;a<o;++a)c=e.getPixelForValue(n[a]),f();for(u=void 0,a=0,o=e.ticks.length;a<o;++a)c=e.getPixelForTick(a),f();return i}function tw(t,e,n,i){const a=n.barThickness;let o,c;return ft(a)?(o=e.min*n.categoryPercentage,c=n.barPercentage):(o=a*i,c=1),{chunk:o/i,ratio:c,start:e.pixels[t]-o/2}}function nw(t,e,n,i){const a=e.pixels,o=a[t];let c=t>0?a[t-1]:null,u=t<a.length-1?a[t+1]:null;const f=n.categoryPercentage;c===null&&(c=o-(u===null?e.end-e.start:u-o)),u===null&&(u=o+o-c);const m=o-(o-Math.min(c,u))/2*f;return{chunk:Math.abs(u-c)/2*f/i,ratio:n.barPercentage,start:m}}function rw(t,e,n,i){const a=n.parse(t[0],i),o=n.parse(t[1],i),c=Math.min(a,o),u=Math.max(a,o);let f=c,m=u;Math.abs(c)>Math.abs(u)&&(f=u,m=c),e[n.axis]=m,e._custom={barStart:f,barEnd:m,start:a,end:o,min:c,max:u}}function ry(t,e,n,i){return en(t)?rw(t,e,n,i):e[n.axis]=n.parse(t,i),e}function cp(t,e,n,i){const a=t.iScale,o=t.vScale,c=a.getLabels(),u=a===o,f=[];let m,g,v,x;for(m=n,g=n+i;m<g;++m)x=e[m],v={},v[a.axis]=u||a.parse(c[m],m),f.push(ry(x,v,o,m));return f}function Du(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function iw(t,e,n){return t!==0?bi(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function sw(t){let e,n,i,a,o;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(a="end",o="start"):(a="start",o="end"),{start:n,end:i,reverse:e,top:a,bottom:o}}function aw(t,e,n,i){let a=e.borderSkipped;const o={};if(!a){t.borderSkipped=o;return}if(a===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:c,end:u,reverse:f,top:m,bottom:g}=sw(t);a==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?a=m:(n._bottom||0)===i?a=g:(o[up(g,c,u,f)]=!0,a=m)),o[up(a,c,u,f)]=!0,t.borderSkipped=o}function up(t,e,n,i){return i?(t=ow(t,e,n),t=dp(t,n,e)):t=dp(t,e,n),t}function ow(t,e,n){return t===e?n:t===n?e:t}function dp(t,e,n){return t==="start"?e:t==="end"?n:t}function lw(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class cw extends jd{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,n,i,a){return cp(e,n,i,a)}parseArrayData(e,n,i,a){return cp(e,n,i,a)}parseObjectData(e,n,i,a){const{iScale:o,vScale:c}=e,{xAxisKey:u="x",yAxisKey:f="y"}=this._parsing,m=o.axis==="x"?u:f,g=c.axis==="x"?u:f,v=[];let x,_,k,j;for(x=i,_=i+a;x<_;++x)j=n[x],k={},k[o.axis]=o.parse(Gi(j,m),x),v.push(ry(Gi(j,g),k,c,x));return v}updateRangeFromParsed(e,n,i,a){super.updateRangeFromParsed(e,n,i,a);const o=i._custom;o&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,o.min),e.max=Math.max(e.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:i,vScale:a}=n,o=this.getParsed(e),c=o._custom,u=Du(c)?"["+c.start+", "+c.end+"]":""+a.getLabelForValue(o[a.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,i,a){const o=a==="reset",{index:c,_cachedMeta:{vScale:u}}=this,f=u.getBasePixel(),m=u.isHorizontal(),g=this._getRuler(),{sharedOptions:v,includeOptions:x}=this._getSharedOptions(n,a);for(let _=n;_<n+i;_++){const k=this.getParsed(_),j=o||ft(k[u.axis])?{base:f,head:f}:this._calculateBarValuePixels(_),C=this._calculateBarIndexPixels(_,g),T=(k._stacks||{})[u.axis],P={horizontal:m,base:j.base,enableBorderRadius:!T||Du(k._custom)||c===T._top||c===T._bottom,x:m?j.head:C.center,y:m?C.center:j.head,height:m?C.size:Math.abs(j.size),width:m?Math.abs(j.size):C.size};x&&(P.options=v||this.resolveDataElementOptions(_,e[_].active?"active":a));const B=P.options||e[_].options;aw(P,B,T,c),lw(P,B,g.ratio),this.updateElement(e[_],_,P,a)}}_getStacks(e,n){const{iScale:i}=this._cachedMeta,a=i.getMatchingVisibleMetas(this._type).filter(g=>g.controller.options.grouped),o=i.options.stacked,c=[],u=this._cachedMeta.controller.getParsed(n),f=u&&u[i.axis],m=g=>{const v=g._parsed.find(_=>_[i.axis]===f),x=v&&v[g.vScale.axis];if(ft(x)||isNaN(x))return!0};for(const g of a)if(!(n!==void 0&&m(g))&&((o===!1||c.indexOf(g.stack)===-1||o===void 0&&g.stack===void 0)&&c.push(g.stack),g.index===e))break;return c.length||c.push(void 0),c}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(i=>e[i].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)e[Ge(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,i){const a=this._getStacks(e,i),o=n!==void 0?a.indexOf(n):-1;return o===-1?a.length-1:o}_getRuler(){const e=this.options,n=this._cachedMeta,i=n.iScale,a=[];let o,c;for(o=0,c=n.data.length;o<c;++o)a.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const u=e.barThickness;return{min:u||ew(n),pixels:a,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:u?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:i,index:a},options:{base:o,minBarLength:c}}=this,u=o||0,f=this.getParsed(e),m=f._custom,g=Du(m);let v=f[n.axis],x=0,_=i?this.applyStack(n,f,i):v,k,j;_!==v&&(x=_-v,_=v),g&&(v=m.barStart,_=m.barEnd-m.barStart,v!==0&&bi(v)!==bi(m.barEnd)&&(x=0),x+=v);const C=!ft(o)&&!g?o:x;let T=n.getPixelForValue(C);if(this.chart.getDataVisibility(e)?k=n.getPixelForValue(x+_):k=T,j=k-T,Math.abs(j)<c){j=iw(j,n,u)*c,v===u&&(T-=j/2);const P=n.getPixelForDecimal(0),B=n.getPixelForDecimal(1),z=Math.min(P,B),H=Math.max(P,B);T=Math.max(Math.min(T,H),z),k=T+j,i&&!g&&(f._stacks[n.axis]._visualValues[a]=n.getValueForPixel(k)-n.getValueForPixel(T))}if(T===n.getPixelForValue(u)){const P=bi(j)*n.getLineWidthForValue(u)/2;T+=P,j-=P}return{size:j,base:T,head:k,center:k+j/2}}_calculateBarIndexPixels(e,n){const i=n.scale,a=this.options,o=a.skipNull,c=Ge(a.maxBarThickness,1/0);let u,f;const m=this._getAxisCount();if(n.grouped){const g=o?this._getStackCount(e):n.stackCount,v=a.barThickness==="flex"?nw(e,n,a,g*m):tw(e,n,a,g*m),x=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,_=this._getAxis().indexOf(Ge(x,this.getFirstScaleIdForIndexAxis())),k=this._getStackIndex(this.index,this._cachedMeta.stack,o?e:void 0)+_;u=v.start+v.chunk*k+v.chunk/2,f=Math.min(c,v.chunk*v.ratio)}else u=i.getPixelForValue(this.getParsed(e)[i.axis],e),f=Math.min(c,n.min*n.ratio);return{base:u-f/2,head:u+f/2,center:u,size:f}}draw(){const e=this._cachedMeta,n=e.vScale,i=e.data,a=i.length;let o=0;for(;o<a;++o)this.getParsed(o)[n.axis]!==null&&!i[o].hidden&&i[o].draw(this._ctx)}}function uw(t,e,n){let i=1,a=1,o=0,c=0;if(e<Ht){const u=t,f=u+e,m=Math.cos(u),g=Math.sin(u),v=Math.cos(f),x=Math.sin(f),_=(B,z,H)=>jl(B,u,f,!0)?1:Math.max(z,z*n,H,H*n),k=(B,z,H)=>jl(B,u,f,!0)?-1:Math.min(z,z*n,H,H*n),j=_(0,m,v),C=_(Kt,g,x),T=k(xt,m,v),P=k(xt+Kt,g,x);i=(j-T)/2,a=(C-P)/2,o=-(j+T)/2,c=-(C+P)/2}return{ratioX:i,ratioY:a,offsetX:o,offsetY:c}}class dw extends jd{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:a}}=e.legend.options;return n.labels.map((o,c)=>{const f=e.getDatasetMeta(0).controller.getStyle(c);return{text:o,fillStyle:f.backgroundColor,strokeStyle:f.borderColor,fontColor:a,lineWidth:f.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(c),index:c}})}return[]}},onClick(e,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}};constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const i=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=i;else{let o=f=>+i[f];if(qe(i[e])){const{key:f="value"}=this._parsing;o=m=>+Gi(i[m],f)}let c,u;for(c=e,u=e+n;c<u;++c)a._parsed[c]=o(c)}}_getRotation(){return Or(this.options.rotation-90)}_getCircumference(){return Or(this.options.circumference)}_getRotationExtents(){let e=Ht,n=-Ht;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const a=this.chart.getDatasetMeta(i).controller,o=a._getRotation(),c=a._getCircumference();e=Math.min(e,o),n=Math.max(n,o+c)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:i}=n,a=this._cachedMeta,o=a.data,c=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,u=Math.max((Math.min(i.width,i.height)-c)/2,0),f=Math.min(Ob(this.options.cutout,u),1),m=this._getRingWeight(this.index),{circumference:g,rotation:v}=this._getRotationExtents(),{ratioX:x,ratioY:_,offsetX:k,offsetY:j}=uw(v,g,f),C=(i.width-c)/x,T=(i.height-c)/_,P=Math.max(Math.min(C,T)/2,0),B=Ag(this.options.radius,P),z=Math.max(B*f,0),H=(B-z)/this._getVisibleDatasetWeightTotal();this.offsetX=k*B,this.offsetY=j*B,a.total=this.calculateTotal(),this.outerRadius=B-H*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-H*m,0),this.updateElements(o,0,o.length,e)}_circumference(e,n){const i=this.options,a=this._cachedMeta,o=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||a._parsed[e]===null||a.data[e].hidden?0:this.calculateCircumference(a._parsed[e]*o/Ht)}updateElements(e,n,i,a){const o=a==="reset",c=this.chart,u=c.chartArea,m=c.options.animation,g=(u.left+u.right)/2,v=(u.top+u.bottom)/2,x=o&&m.animateScale,_=x?0:this.innerRadius,k=x?0:this.outerRadius,{sharedOptions:j,includeOptions:C}=this._getSharedOptions(n,a);let T=this._getRotation(),P;for(P=0;P<n;++P)T+=this._circumference(P,o);for(P=n;P<n+i;++P){const B=this._circumference(P,o),z=e[P],H={x:g+this.offsetX,y:v+this.offsetY,startAngle:T,endAngle:T+B,circumference:B,outerRadius:k,innerRadius:_};C&&(H.options=j||this.resolveDataElementOptions(P,z.active?"active":a)),T+=B,this.updateElement(z,P,H,a)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let i=0,a;for(a=0;a<n.length;a++){const o=e._parsed[a];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(a)&&!n[a].hidden&&(i+=Math.abs(o))}return i}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?Ht*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,a=i.data.labels||[],o=gd(n._parsed[e],i.options.locale);return{label:a[e]||"",value:o}}getMaxBorderWidth(e){let n=0;const i=this.chart;let a,o,c,u,f;if(!e){for(a=0,o=i.data.datasets.length;a<o;++a)if(i.isDatasetVisible(a)){c=i.getDatasetMeta(a),e=c.data,u=c.controller;break}}if(!e)return 0;for(a=0,o=e.length;a<o;++a)f=u.resolveDataElementOptions(a),f.borderAlign!=="inner"&&(n=Math.max(n,f.borderWidth||0,f.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let i=0,a=e.length;i<a;++i){const o=this.resolveDataElementOptions(i);n=Math.max(n,o.offset||0,o.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(e){return Math.max(Ge(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class fw extends dw{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}function Bi(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Cd{static override(e){Object.assign(Cd.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return Bi()}parse(){return Bi()}format(){return Bi()}add(){return Bi()}diff(){return Bi()}startOf(){return Bi()}endOf(){return Bi()}}var hw={_date:Cd};function mw(t,e,n,i){const{controller:a,data:o,_sorted:c}=t,u=a._cachedMeta.iScale,f=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(u&&e===u.axis&&e!=="r"&&c&&o.length){const m=u._reversePixels?Gb:Ku;if(i){if(a._sharedOptions){const g=o[0],v=typeof g.getRange=="function"&&g.getRange(e);if(v){const x=m(o,e,n-v),_=m(o,e,n+v);return{lo:x.lo,hi:_.hi}}}}else{const g=m(o,e,n);if(f){const{vScale:v}=a._cachedMeta,{_parsed:x}=t,_=x.slice(0,g.lo+1).reverse().findIndex(j=>!ft(j[v.axis]));g.lo-=Math.max(0,_);const k=x.slice(g.hi).findIndex(j=>!ft(j[v.axis]));g.hi+=Math.max(0,k)}return g}}return{lo:0,hi:o.length-1}}function Il(t,e,n,i,a){const o=t.getSortedVisibleDatasetMetas(),c=n[e];for(let u=0,f=o.length;u<f;++u){const{index:m,data:g}=o[u],{lo:v,hi:x}=mw(o[u],e,c,a);for(let _=v;_<=x;++_){const k=g[_];k.skip||i(k,m,_)}}}function pw(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,a){const o=e?Math.abs(i.x-a.x):0,c=n?Math.abs(i.y-a.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(c,2))}}function Lu(t,e,n,i,a){const o=[];return!a&&!t.isPointInArea(e)||Il(t,n,e,function(u,f,m){!a&&!Kg(u,t.chartArea,0)||u.inRange(e.x,e.y,i)&&o.push({element:u,datasetIndex:f,index:m})},!0),o}function gw(t,e,n,i){let a=[];function o(c,u,f){const{startAngle:m,endAngle:g}=c.getProps(["startAngle","endAngle"],i),{angle:v}=Ig(c,{x:e.x,y:e.y});jl(v,m,g)&&a.push({element:c,datasetIndex:u,index:f})}return Il(t,n,e,o),a}function yw(t,e,n,i,a,o){let c=[];const u=pw(n);let f=Number.POSITIVE_INFINITY;function m(g,v,x){const _=g.inRange(e.x,e.y,a);if(i&&!_)return;const k=g.getCenterPoint(a);if(!(!!o||t.isPointInArea(k))&&!_)return;const C=u(e,k);C<f?(c=[{element:g,datasetIndex:v,index:x}],f=C):C===f&&c.push({element:g,datasetIndex:v,index:x})}return Il(t,n,e,m),c}function Au(t,e,n,i,a,o){return!o&&!t.isPointInArea(e)?[]:n==="r"&&!i?gw(t,e,n,a):yw(t,e,n,i,a,o)}function fp(t,e,n,i,a){const o=[],c=n==="x"?"inXRange":"inYRange";let u=!1;return Il(t,n,e,(f,m,g)=>{f[c]&&f[c](e[n],a)&&(o.push({element:f,datasetIndex:m,index:g}),u=u||f.inRange(e.x,e.y,a))}),i&&!u?[]:o}var vw={modes:{index(t,e,n,i){const a=$i(e,t),o=n.axis||"x",c=n.includeInvisible||!1,u=n.intersect?Lu(t,a,o,i,c):Au(t,a,o,!1,i,c),f=[];return u.length?(t.getSortedVisibleDatasetMetas().forEach(m=>{const g=u[0].index,v=m.data[g];v&&!v.skip&&f.push({element:v,datasetIndex:m.index,index:g})}),f):[]},dataset(t,e,n,i){const a=$i(e,t),o=n.axis||"xy",c=n.includeInvisible||!1;let u=n.intersect?Lu(t,a,o,i,c):Au(t,a,o,!1,i,c);if(u.length>0){const f=u[0].datasetIndex,m=t.getDatasetMeta(f).data;u=[];for(let g=0;g<m.length;++g)u.push({element:m[g],datasetIndex:f,index:g})}return u},point(t,e,n,i){const a=$i(e,t),o=n.axis||"xy",c=n.includeInvisible||!1;return Lu(t,a,o,i,c)},nearest(t,e,n,i){const a=$i(e,t),o=n.axis||"xy",c=n.includeInvisible||!1;return Au(t,a,o,n.intersect,i,c)},x(t,e,n,i){const a=$i(e,t);return fp(t,a,"x",n.intersect,i)},y(t,e,n,i){const a=$i(e,t);return fp(t,a,"y",n.intersect,i)}}};const iy=["left","top","right","bottom"];function wa(t,e){return t.filter(n=>n.pos===e)}function hp(t,e){return t.filter(n=>iy.indexOf(n.pos)===-1&&n.box.axis===e)}function Sa(t,e){return t.sort((n,i)=>{const a=e?i:n,o=e?n:i;return a.weight===o.weight?a.index-o.index:a.weight-o.weight})}function xw(t){const e=[];let n,i,a,o,c,u;for(n=0,i=(t||[]).length;n<i;++n)a=t[n],{position:o,options:{stack:c,stackWeight:u=1}}=a,e.push({index:n,box:a,pos:o,horizontal:a.isHorizontal(),weight:a.weight,stack:c&&o+c,stackWeight:u});return e}function bw(t){const e={};for(const n of t){const{stack:i,pos:a,stackWeight:o}=n;if(!i||!iy.includes(a))continue;const c=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=o}return e}function _w(t,e){const n=bw(t),{vBoxMaxWidth:i,hBoxMaxHeight:a}=e;let o,c,u;for(o=0,c=t.length;o<c;++o){u=t[o];const{fullSize:f}=u.box,m=n[u.stack],g=m&&u.stackWeight/m.weight;u.horizontal?(u.width=g?g*i:f&&e.availableWidth,u.height=a):(u.width=i,u.height=g?g*a:f&&e.availableHeight)}return n}function ww(t){const e=xw(t),n=Sa(e.filter(m=>m.box.fullSize),!0),i=Sa(wa(e,"left"),!0),a=Sa(wa(e,"right")),o=Sa(wa(e,"top"),!0),c=Sa(wa(e,"bottom")),u=hp(e,"x"),f=hp(e,"y");return{fullSize:n,leftAndTop:i.concat(o),rightAndBottom:a.concat(f).concat(c).concat(u),chartArea:wa(e,"chartArea"),vertical:i.concat(a).concat(f),horizontal:o.concat(c).concat(u)}}function mp(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function sy(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function Sw(t,e,n,i){const{pos:a,box:o}=n,c=t.maxPadding;if(!qe(a)){n.size&&(t[a]-=n.size);const v=i[n.stack]||{size:0,count:1};v.size=Math.max(v.size,n.horizontal?o.height:o.width),n.size=v.size/v.count,t[a]+=n.size}o.getPadding&&sy(c,o.getPadding());const u=Math.max(0,e.outerWidth-mp(c,t,"left","right")),f=Math.max(0,e.outerHeight-mp(c,t,"top","bottom")),m=u!==t.w,g=f!==t.h;return t.w=u,t.h=f,n.horizontal?{same:m,other:g}:{same:g,other:m}}function kw(t){const e=t.maxPadding;function n(i){const a=Math.max(e[i]-t[i],0);return t[i]+=a,a}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function jw(t,e){const n=e.maxPadding;function i(a){const o={left:0,top:0,right:0,bottom:0};return a.forEach(c=>{o[c]=Math.max(e[c],n[c])}),o}return i(t?["left","right"]:["top","bottom"])}function Ma(t,e,n,i){const a=[];let o,c,u,f,m,g;for(o=0,c=t.length,m=0;o<c;++o){u=t[o],f=u.box,f.update(u.width||e.w,u.height||e.h,jw(u.horizontal,e));const{same:v,other:x}=Sw(e,n,u,i);m|=v&&a.length,g=g||x,f.fullSize||a.push(u)}return m&&Ma(a,e,n,i)||g}function el(t,e,n,i,a){t.top=n,t.left=e,t.right=e+i,t.bottom=n+a,t.width=i,t.height=a}function pp(t,e,n,i){const a=n.padding;let{x:o,y:c}=e;for(const u of t){const f=u.box,m=i[u.stack]||{placed:0,weight:1},g=u.stackWeight/m.weight||1;if(u.horizontal){const v=e.w*g,x=m.size||f.height;za(m.start)&&(c=m.start),f.fullSize?el(f,a.left,c,n.outerWidth-a.right-a.left,x):el(f,e.left+m.placed,c,v,x),m.start=c,m.placed+=v,c=f.bottom}else{const v=e.h*g,x=m.size||f.width;za(m.start)&&(o=m.start),f.fullSize?el(f,o,a.top,x,n.outerHeight-a.bottom-a.top):el(f,o,e.top+m.placed,x,v),m.start=o,m.placed+=v,o=f.right}}e.x=o,e.y=c}var yi={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const a=sr(t.options.layout.padding),o=Math.max(e-a.width,0),c=Math.max(n-a.height,0),u=ww(t.boxes),f=u.vertical,m=u.horizontal;ot(t.boxes,j=>{typeof j.beforeLayout=="function"&&j.beforeLayout()});const g=f.reduce((j,C)=>C.box.options&&C.box.options.display===!1?j:j+1,0)||1,v=Object.freeze({outerWidth:e,outerHeight:n,padding:a,availableWidth:o,availableHeight:c,vBoxMaxWidth:o/2/g,hBoxMaxHeight:c/2}),x=Object.assign({},a);sy(x,sr(i));const _=Object.assign({maxPadding:x,w:o,h:c,x:a.left,y:a.top},a),k=_w(f.concat(m),v);Ma(u.fullSize,_,v,k),Ma(f,_,v,k),Ma(m,_,v,k)&&Ma(f,_,v,k),kw(_),pp(u.leftAndTop,_,v,k),_.x+=_.w,_.y+=_.h,pp(u.rightAndBottom,_,v,k),t.chartArea={left:_.left,top:_.top,right:_.left+_.w,bottom:_.top+_.h,height:_.h,width:_.w},ot(u.chartArea,j=>{const C=j.box;Object.assign(C,t.chartArea),C.update(_.w,_.h,{left:0,top:0,right:0,bottom:0})})}};class ay{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,a){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,a?Math.floor(n/a):i)}}isAttached(e){return!0}updateConfig(e){}}class Cw extends ay{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const fl="$chartjs",Ew={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},gp=t=>t===null||t==="";function Nw(t,e){const n=t.style,i=t.getAttribute("height"),a=t.getAttribute("width");if(t[fl]={initial:{height:i,width:a,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",gp(a)){const o=np(t,"width");o!==void 0&&(t.width=o)}if(gp(i))if(t.style.height==="")t.height=t.width/(e||2);else{const o=np(t,"height");o!==void 0&&(t.height=o)}return t}const oy=L_?{passive:!0}:!1;function Mw(t,e,n){t&&t.addEventListener(e,n,oy)}function Rw(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,oy)}function Tw(t,e){const n=Ew[t.type]||t.type,{x:i,y:a}=$i(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:a!==void 0?a:null}}function Ml(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function Pw(t,e,n){const i=t.canvas,a=new MutationObserver(o=>{let c=!1;for(const u of o)c=c||Ml(u.addedNodes,i),c=c&&!Ml(u.removedNodes,i);c&&n()});return a.observe(document,{childList:!0,subtree:!0}),a}function Dw(t,e,n){const i=t.canvas,a=new MutationObserver(o=>{let c=!1;for(const u of o)c=c||Ml(u.removedNodes,i),c=c&&!Ml(u.addedNodes,i);c&&n()});return a.observe(document,{childList:!0,subtree:!0}),a}const Ua=new Map;let yp=0;function ly(){const t=window.devicePixelRatio;t!==yp&&(yp=t,Ua.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function Lw(t,e){Ua.size||window.addEventListener("resize",ly),Ua.set(t,e)}function Aw(t){Ua.delete(t),Ua.size||window.removeEventListener("resize",ly)}function Ow(t,e,n){const i=t.canvas,a=i&&kd(i);if(!a)return;const o=$g((u,f)=>{const m=a.clientWidth;n(u,f),m<a.clientWidth&&n()},window),c=new ResizeObserver(u=>{const f=u[0],m=f.contentRect.width,g=f.contentRect.height;m===0&&g===0||o(m,g)});return c.observe(a),Lw(t,o),c}function Ou(t,e,n){n&&n.disconnect(),e==="resize"&&Aw(t)}function Fw(t,e,n){const i=t.canvas,a=$g(o=>{t.ctx!==null&&n(Tw(o,t))},t);return Mw(i,e,a),a}class Iw extends ay{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(Nw(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[fl])return!1;const i=n[fl].initial;["height","width"].forEach(o=>{const c=i[o];ft(c)?n.removeAttribute(o):n.setAttribute(o,c)});const a=i.style||{};return Object.keys(a).forEach(o=>{n.style[o]=a[o]}),n.width=n.width,delete n[fl],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const a=e.$proxies||(e.$proxies={}),c={attach:Pw,detach:Dw,resize:Ow}[n]||Fw;a[n]=c(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),a=i[n];if(!a)return;({attach:Ou,detach:Ou,resize:Ou}[n]||Rw)(e,n,a),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,a){return D_(e,n,i,a)}isAttached(e){const n=e&&kd(e);return!!(n&&n.isConnected)}}function zw(t){return!Sd()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?Cw:Iw}class Os{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return kl(this.x)&&kl(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const a={};return e.forEach(o=>{a[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),a}}function Uw(t,e){const n=t.options.ticks,i=Bw(t),a=Math.min(n.maxTicksLimit||i,i),o=n.major.enabled?Hw(e):[],c=o.length,u=o[0],f=o[c-1],m=[];if(c>a)return Ww(e,m,o,c/a),m;const g=$w(o,e,a);if(c>0){let v,x;const _=c>1?Math.round((f-u)/(c-1)):null;for(tl(e,m,g,ft(_)?0:u-_,u),v=0,x=c-1;v<x;v++)tl(e,m,g,o[v],o[v+1]);return tl(e,m,g,f,ft(_)?e.length:f+_),m}return tl(e,m,g),m}function Bw(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),a=t._maxLength/n;return Math.floor(Math.min(i,a))}function $w(t,e,n){const i=Vw(t),a=e.length/n;if(!i)return Math.max(a,1);const o=Hb(i);for(let c=0,u=o.length-1;c<u;c++){const f=o[c];if(f>a)return f}return Math.max(a,1)}function Hw(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function Ww(t,e,n,i){let a=0,o=n[0],c;for(i=Math.ceil(i),c=0;c<t.length;c++)c===o&&(e.push(t[c]),a++,o=n[a*i])}function tl(t,e,n,i,a){const o=Ge(i,0),c=Math.min(Ge(a,t.length),t.length);let u=0,f,m,g;for(n=Math.ceil(n),a&&(f=a-i,n=f/Math.floor(f/n)),g=o;g<0;)u++,g=Math.round(o+u*n);for(m=Math.max(o,0);m<c;m++)m===g&&(e.push(t[m]),u++,g=Math.round(o+u*n))}function Vw(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const Yw=t=>t==="left"?"right":t==="right"?"left":t,vp=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,xp=(t,e)=>Math.min(e||t,t);function bp(t,e){const n=[],i=t.length/e,a=t.length;let o=0;for(;o<a;o+=i)n.push(t[Math.floor(o)]);return n}function Kw(t,e,n){const i=t.ticks.length,a=Math.min(e,i-1),o=t._startPixel,c=t._endPixel,u=1e-6;let f=t.getPixelForTick(a),m;if(!(n&&(i===1?m=Math.max(f-o,c-f):e===0?m=(t.getPixelForTick(1)-f)/2:m=(f-t.getPixelForTick(a-1))/2,f+=a<e?m:-m,f<o-u||f>c+u)))return f}function Xw(t,e){ot(t,n=>{const i=n.gc,a=i.length/2;let o;if(a>e){for(o=0;o<a;++o)delete n.data[i[o]];i.splice(0,a)}})}function ka(t){return t.drawTicks?t.tickLength:0}function _p(t,e){if(!t.display)return 0;const n=En(t.font,e),i=sr(t.padding);return(en(t.text)?t.text.length:1)*n.lineHeight+i.height}function Qw(t,e){return As(t,{scale:e,type:"scale"})}function Gw(t,e,n){return As(t,{tick:n,index:e,type:"tick"})}function qw(t,e,n){let i=Hg(t);return(n&&e!=="right"||!n&&e==="right")&&(i=Yw(i)),i}function Zw(t,e,n,i){const{top:a,left:o,bottom:c,right:u,chart:f}=t,{chartArea:m,scales:g}=f;let v=0,x,_,k;const j=c-a,C=u-o;if(t.isHorizontal()){if(_=Ln(i,o,u),qe(n)){const T=Object.keys(n)[0],P=n[T];k=g[T].getPixelForValue(P)+j-e}else n==="center"?k=(m.bottom+m.top)/2+j-e:k=vp(t,n,e);x=u-o}else{if(qe(n)){const T=Object.keys(n)[0],P=n[T];_=g[T].getPixelForValue(P)-C+e}else n==="center"?_=(m.left+m.right)/2-C+e:_=vp(t,n,e);k=Ln(i,c,a),v=n==="left"?-Kt:Kt}return{titleX:_,titleY:k,maxWidth:x,rotation:v}}class Fs extends Os{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:a}=this;return e=hr(e,Number.POSITIVE_INFINITY),n=hr(n,Number.NEGATIVE_INFINITY),i=hr(i,Number.POSITIVE_INFINITY),a=hr(a,Number.NEGATIVE_INFINITY),{min:hr(e,i),max:hr(n,a),minDefined:Yn(e),maxDefined:Yn(n)}}getMinMax(e){let{min:n,max:i,minDefined:a,maxDefined:o}=this.getUserBounds(),c;if(a&&o)return{min:n,max:i};const u=this.getMatchingVisibleMetas();for(let f=0,m=u.length;f<m;++f)c=u[f].controller.getMinMax(this,e),a||(n=Math.min(n,c.min)),o||(i=Math.max(i,c.max));return n=o&&n>i?i:n,i=a&&n>i?n:i,{min:hr(n,hr(i,n)),max:hr(i,hr(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){vt(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:a,grace:o,ticks:c}=this.options,u=c.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=v_(this,o,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=u<this.ticks.length;this._convertTicksToLabels(f?bp(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=Uw(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){vt(this.options.afterUpdate,[this])}beforeSetDimensions(){vt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){vt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),vt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){vt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,a,o;for(i=0,a=e.length;i<a;i++)o=e[i],o.label=vt(n.callback,[o.value,i,e],this)}afterTickToLabelConversion(){vt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){vt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=xp(this.ticks.length,e.ticks.maxTicksLimit),a=n.minRotation||0,o=n.maxRotation;let c=a,u,f,m;if(!this._isVisible()||!n.display||a>=o||i<=1||!this.isHorizontal()){this.labelRotation=a;return}const g=this._getLabelSizes(),v=g.widest.width,x=g.highest.height,_=Cn(this.chart.width-v,0,this.maxWidth);u=e.offset?this.maxWidth/i:_/(i-1),v+6>u&&(u=_/(i-(e.offset?.5:1)),f=this.maxHeight-ka(e.grid)-n.padding-_p(e.title,this.chart.options.font),m=Math.sqrt(v*v+x*x),c=Kb(Math.min(Math.asin(Cn((g.highest.height+6)/u,-1,1)),Math.asin(Cn(f/m,-1,1))-Math.asin(Cn(x/m,-1,1)))),c=Math.max(a,Math.min(o,c))),this.labelRotation=c}afterCalculateLabelRotation(){vt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){vt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:a,grid:o}}=this,c=this._isVisible(),u=this.isHorizontal();if(c){const f=_p(a,n.options.font);if(u?(e.width=this.maxWidth,e.height=ka(o)+f):(e.height=this.maxHeight,e.width=ka(o)+f),i.display&&this.ticks.length){const{first:m,last:g,widest:v,highest:x}=this._getLabelSizes(),_=i.padding*2,k=Or(this.labelRotation),j=Math.cos(k),C=Math.sin(k);if(u){const T=i.mirror?0:C*v.width+j*x.height;e.height=Math.min(this.maxHeight,e.height+T+_)}else{const T=i.mirror?0:j*v.width+C*x.height;e.width=Math.min(this.maxWidth,e.width+T+_)}this._calculatePadding(m,g,C,j)}}this._handleMargins(),u?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,a){const{ticks:{align:o,padding:c},position:u}=this.options,f=this.labelRotation!==0,m=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const g=this.getPixelForTick(0)-this.left,v=this.right-this.getPixelForTick(this.ticks.length-1);let x=0,_=0;f?m?(x=a*e.width,_=i*n.height):(x=i*e.height,_=a*n.width):o==="start"?_=n.width:o==="end"?x=e.width:o!=="inner"&&(x=e.width/2,_=n.width/2),this.paddingLeft=Math.max((x-g+c)*this.width/(this.width-g),0),this.paddingRight=Math.max((_-v+c)*this.width/(this.width-v),0)}else{let g=n.height/2,v=e.height/2;o==="start"?(g=0,v=e.height):o==="end"&&(g=n.height,v=0),this.paddingTop=g+c,this.paddingBottom=v+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){vt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)ft(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=bp(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){const{ctx:a,_longestTextCache:o}=this,c=[],u=[],f=Math.floor(n/xp(n,i));let m=0,g=0,v,x,_,k,j,C,T,P,B,z,H;for(v=0;v<n;v+=f){if(k=e[v].label,j=this._resolveTickFontOptions(v),a.font=C=j.string,T=o[C]=o[C]||{data:{},gc:[]},P=j.lineHeight,B=z=0,!ft(k)&&!en(k))B=Gm(a,T.data,T.gc,B,k),z=P;else if(en(k))for(x=0,_=k.length;x<_;++x)H=k[x],!ft(H)&&!en(H)&&(B=Gm(a,T.data,T.gc,B,H),z+=P);c.push(B),u.push(z),m=Math.max(B,m),g=Math.max(z,g)}Xw(o,n);const q=c.indexOf(m),N=u.indexOf(g),L=V=>({width:c[V]||0,height:u[V]||0});return{first:L(0),last:L(n-1),widest:L(q),highest:L(N),widths:c,heights:u}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return Qb(this._alignToPixels?Ui(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=Gw(this.getContext(),e,i))}return this.$context||(this.$context=Qw(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Or(this.labelRotation),i=Math.abs(Math.cos(n)),a=Math.abs(Math.sin(n)),o=this._getLabelSizes(),c=e.autoSkipPadding||0,u=o?o.widest.width+c:0,f=o?o.highest.height+c:0;return this.isHorizontal()?f*i>u*a?u/i:f/a:f*a<u*i?f/i:u/a}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,a=this.options,{grid:o,position:c,border:u}=a,f=o.offset,m=this.isHorizontal(),v=this.ticks.length+(f?1:0),x=ka(o),_=[],k=u.setContext(this.getContext()),j=k.display?k.width:0,C=j/2,T=function(fe){return Ui(i,fe,j)};let P,B,z,H,q,N,L,V,A,D,Y,X;if(c==="top")P=T(this.bottom),N=this.bottom-x,V=P-C,D=T(e.top)+C,X=e.bottom;else if(c==="bottom")P=T(this.top),D=e.top,X=T(e.bottom)-C,N=P+C,V=this.top+x;else if(c==="left")P=T(this.right),q=this.right-x,L=P-C,A=T(e.left)+C,Y=e.right;else if(c==="right")P=T(this.left),A=e.left,Y=T(e.right)-C,q=P+C,L=this.left+x;else if(n==="x"){if(c==="center")P=T((e.top+e.bottom)/2+.5);else if(qe(c)){const fe=Object.keys(c)[0],pe=c[fe];P=T(this.chart.scales[fe].getPixelForValue(pe))}D=e.top,X=e.bottom,N=P+C,V=N+x}else if(n==="y"){if(c==="center")P=T((e.left+e.right)/2);else if(qe(c)){const fe=Object.keys(c)[0],pe=c[fe];P=T(this.chart.scales[fe].getPixelForValue(pe))}q=P-C,L=q-x,A=e.left,Y=e.right}const ne=Ge(a.ticks.maxTicksLimit,v),oe=Math.max(1,Math.ceil(v/ne));for(B=0;B<v;B+=oe){const fe=this.getContext(B),pe=o.setContext(fe),J=u.setContext(fe),se=pe.lineWidth,M=pe.color,S=J.dash||[],F=J.dashOffset,ee=pe.tickWidth,ae=pe.tickColor,ce=pe.tickBorderDash||[],de=pe.tickBorderDashOffset;z=Kw(this,B,f),z!==void 0&&(H=Ui(i,z,se),m?q=L=A=Y=H:N=V=D=X=H,_.push({tx1:q,ty1:N,tx2:L,ty2:V,x1:A,y1:D,x2:Y,y2:X,width:se,color:M,borderDash:S,borderDashOffset:F,tickWidth:ee,tickColor:ae,tickBorderDash:ce,tickBorderDashOffset:de}))}return this._ticksLength=v,this._borderValue=P,_}_computeLabelItems(e){const n=this.axis,i=this.options,{position:a,ticks:o}=i,c=this.isHorizontal(),u=this.ticks,{align:f,crossAlign:m,padding:g,mirror:v}=o,x=ka(i.grid),_=x+g,k=v?-g:_,j=-Or(this.labelRotation),C=[];let T,P,B,z,H,q,N,L,V,A,D,Y,X="middle";if(a==="top")q=this.bottom-k,N=this._getXAxisLabelAlignment();else if(a==="bottom")q=this.top+k,N=this._getXAxisLabelAlignment();else if(a==="left"){const oe=this._getYAxisLabelAlignment(x);N=oe.textAlign,H=oe.x}else if(a==="right"){const oe=this._getYAxisLabelAlignment(x);N=oe.textAlign,H=oe.x}else if(n==="x"){if(a==="center")q=(e.top+e.bottom)/2+_;else if(qe(a)){const oe=Object.keys(a)[0],fe=a[oe];q=this.chart.scales[oe].getPixelForValue(fe)+_}N=this._getXAxisLabelAlignment()}else if(n==="y"){if(a==="center")H=(e.left+e.right)/2-_;else if(qe(a)){const oe=Object.keys(a)[0],fe=a[oe];H=this.chart.scales[oe].getPixelForValue(fe)}N=this._getYAxisLabelAlignment(x).textAlign}n==="y"&&(f==="start"?X="top":f==="end"&&(X="bottom"));const ne=this._getLabelSizes();for(T=0,P=u.length;T<P;++T){B=u[T],z=B.label;const oe=o.setContext(this.getContext(T));L=this.getPixelForTick(T)+o.labelOffset,V=this._resolveTickFontOptions(T),A=V.lineHeight,D=en(z)?z.length:1;const fe=D/2,pe=oe.color,J=oe.textStrokeColor,se=oe.textStrokeWidth;let M=N;c?(H=L,N==="inner"&&(T===P-1?M=this.options.reverse?"left":"right":T===0?M=this.options.reverse?"right":"left":M="center"),a==="top"?m==="near"||j!==0?Y=-D*A+A/2:m==="center"?Y=-ne.highest.height/2-fe*A+A:Y=-ne.highest.height+A/2:m==="near"||j!==0?Y=A/2:m==="center"?Y=ne.highest.height/2-fe*A:Y=ne.highest.height-D*A,v&&(Y*=-1),j!==0&&!oe.showLabelBackdrop&&(H+=A/2*Math.sin(j))):(q=L,Y=(1-D)*A/2);let S;if(oe.showLabelBackdrop){const F=sr(oe.backdropPadding),ee=ne.heights[T],ae=ne.widths[T];let ce=Y-F.top,de=0-F.left;switch(X){case"middle":ce-=ee/2;break;case"bottom":ce-=ee;break}switch(N){case"center":de-=ae/2;break;case"right":de-=ae;break;case"inner":T===P-1?de-=ae:T>0&&(de-=ae/2);break}S={left:de,top:ce,width:ae+F.width,height:ee+F.height,color:oe.backdropColor}}C.push({label:z,font:V,textOffset:Y,options:{rotation:j,color:pe,strokeColor:J,strokeWidth:se,textAlign:M,textBaseline:X,translation:[H,q],backdrop:S}})}return C}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Or(this.labelRotation))return e==="top"?"left":"right";let a="center";return n.align==="start"?a="left":n.align==="end"?a="right":n.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:a,padding:o}}=this.options,c=this._getLabelSizes(),u=e+o,f=c.widest.width;let m,g;return n==="left"?a?(g=this.right+o,i==="near"?m="left":i==="center"?(m="center",g+=f/2):(m="right",g+=f)):(g=this.right-u,i==="near"?m="right":i==="center"?(m="center",g-=f/2):(m="left",g=this.left)):n==="right"?a?(g=this.left+o,i==="near"?m="right":i==="center"?(m="center",g-=f/2):(m="left",g-=f)):(g=this.left+u,i==="near"?m="left":i==="center"?(m="center",g+=f/2):(m="right",g=this.right)):m="right",{textAlign:m,x:g}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:a,width:o,height:c}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,a,o,c),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const a=this.ticks.findIndex(o=>o.value===e);return a>=0?n.setContext(this.getContext(a)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let o,c;const u=(f,m,g)=>{!g.width||!g.color||(i.save(),i.lineWidth=g.width,i.strokeStyle=g.color,i.setLineDash(g.borderDash||[]),i.lineDashOffset=g.borderDashOffset,i.beginPath(),i.moveTo(f.x,f.y),i.lineTo(m.x,m.y),i.stroke(),i.restore())};if(n.display)for(o=0,c=a.length;o<c;++o){const f=a[o];n.drawOnChartArea&&u({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),n.drawTicks&&u({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:i,grid:a}}=this,o=i.setContext(this.getContext()),c=i.display?o.width:0;if(!c)return;const u=a.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let m,g,v,x;this.isHorizontal()?(m=Ui(e,this.left,c)-c/2,g=Ui(e,this.right,u)+u/2,v=x=f):(v=Ui(e,this.top,c)-c/2,x=Ui(e,this.bottom,u)+u/2,m=g=f),n.save(),n.lineWidth=o.width,n.strokeStyle=o.color,n.beginPath(),n.moveTo(m,v),n.lineTo(g,x),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,a=this._computeLabelArea();a&&yd(i,a);const o=this.getLabelItems(e);for(const c of o){const u=c.options,f=c.font,m=c.label,g=c.textOffset;Cl(i,m,0,g,f,u)}a&&vd(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:a}}=this;if(!i.display)return;const o=En(i.font),c=sr(i.padding),u=i.align;let f=o.lineHeight/2;n==="bottom"||n==="center"||qe(n)?(f+=c.bottom,en(i.text)&&(f+=o.lineHeight*(i.text.length-1))):f+=c.top;const{titleX:m,titleY:g,maxWidth:v,rotation:x}=Zw(this,f,n,u);Cl(e,i.text,0,0,o,{color:i.color,maxWidth:v,rotation:x,textAlign:qw(u,n,a),textBaseline:"middle",translation:[m,g]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=Ge(e.grid&&e.grid.z,-1),a=Ge(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Fs.prototype.draw?[{z:n,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:n,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",a=[];let o,c;for(o=0,c=n.length;o<c;++o){const u=n[o];u[i]===this.id&&(!e||u.type===e)&&a.push(u)}return a}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return En(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class nl{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;tS(n)&&(i=this.register(n));const a=this.items,o=e.id,c=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in a||(a[o]=e,Jw(e,c,i),this.override&&Ot.override(e.id,e.overrides)),c}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,a=this.scope;i in n&&delete n[i],a&&i in Ot[a]&&(delete Ot[a][i],this.override&&delete qi[i])}}function Jw(t,e,n){const i=Ia(Object.create(null),[n?Ot.get(n):{},Ot.get(e),t.defaults]);Ot.set(e,i),t.defaultRoutes&&eS(e,t.defaultRoutes),t.descriptors&&Ot.describe(e,t.descriptors)}function eS(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),a=i.pop(),o=[t].concat(i).join("."),c=e[n].split("."),u=c.pop(),f=c.join(".");Ot.route(o,a,f,u)})}function tS(t){return"id"in t&&"defaults"in t}class nS{constructor(){this.controllers=new nl(jd,"datasets",!0),this.elements=new nl(Os,"elements"),this.plugins=new nl(Object,"plugins"),this.scales=new nl(Fs,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(a=>{const o=i||this._getRegistryForType(a);i||o.isForType(a)||o===this.plugins&&a.id?this._exec(e,o,a):ot(a,c=>{const u=i||this._getRegistryForType(c);this._exec(e,u,c)})})}_exec(e,n,i){const a=md(e);vt(i["before"+a],[],i),n[e](i),vt(i["after"+a],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const a=n.get(e);if(a===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return a}}var gr=new nS;class rS{constructor(){this._init=[]}notify(e,n,i,a){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const o=a?this._descriptors(e).filter(a):this._descriptors(e),c=this._notify(o,e,n,i);return n==="afterDestroy"&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall")),c}_notify(e,n,i,a){a=a||{};for(const o of e){const c=o.plugin,u=c[i],f=[n,a,o.options];if(vt(u,f,c)===!1&&a.cancelable)return!1}return!0}invalidate(){ft(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,a=Ge(i.options&&i.options.plugins,{}),o=iS(i);return a===!1&&!n?[]:aS(e,o,a,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,a=(o,c)=>o.filter(u=>!c.some(f=>u.plugin.id===f.plugin.id));this._notify(a(n,i),e,"stop"),this._notify(a(i,n),e,"start")}}function iS(t){const e={},n=[],i=Object.keys(gr.plugins.items);for(let o=0;o<i.length;o++)n.push(gr.getPlugin(i[o]));const a=t.plugins||[];for(let o=0;o<a.length;o++){const c=a[o];n.indexOf(c)===-1&&(n.push(c),e[c.id]=!0)}return{plugins:n,localIds:e}}function sS(t,e){return!e&&t===!1?null:t===!0?{}:t}function aS(t,{plugins:e,localIds:n},i,a){const o=[],c=t.getContext();for(const u of e){const f=u.id,m=sS(i[f],a);m!==null&&o.push({plugin:u,options:oS(t.config,{plugin:u,local:n[f]},m,c)})}return o}function oS(t,{plugin:e,local:n},i,a){const o=t.pluginScopeKeys(e),c=t.getOptionScopes(i,o);return n&&e.defaults&&c.push(e.defaults),t.createResolver(c,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Qu(t,e){const n=Ot.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function lS(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function cS(t,e){return t===e?"_index_":"_value_"}function wp(t){if(t==="x"||t==="y"||t==="r")return t}function uS(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Gu(t,...e){if(wp(t))return t;for(const n of e){const i=n.axis||uS(n.position)||t.length>1&&wp(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function Sp(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function dS(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return Sp(t,"x",n[0])||Sp(t,"y",n[0])}return{}}function fS(t,e){const n=qi[t.type]||{scales:{}},i=e.scales||{},a=Qu(t.type,e),o=Object.create(null);return Object.keys(i).forEach(c=>{const u=i[c];if(!qe(u))return console.error(`Invalid scale configuration for scale: ${c}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const f=Gu(c,u,dS(c,t),Ot.scales[u.type]),m=cS(f,a),g=n.scales||{};o[c]=Ta(Object.create(null),[{axis:f},u,g[f],g[m]])}),t.data.datasets.forEach(c=>{const u=c.type||t.type,f=c.indexAxis||Qu(u,e),g=(qi[u]||{}).scales||{};Object.keys(g).forEach(v=>{const x=lS(v,f),_=c[x+"AxisID"]||x;o[_]=o[_]||Object.create(null),Ta(o[_],[{axis:x},i[_],g[v]])})}),Object.keys(o).forEach(c=>{const u=o[c];Ta(u,[Ot.scales[u.type],Ot.scale])}),o}function cy(t){const e=t.options||(t.options={});e.plugins=Ge(e.plugins,{}),e.scales=fS(t,e)}function uy(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function hS(t){return t=t||{},t.data=uy(t.data),cy(t),t}const kp=new Map,dy=new Set;function rl(t,e){let n=kp.get(t);return n||(n=e(),kp.set(t,n),dy.add(n)),n}const ja=(t,e,n)=>{const i=Gi(e,n);i!==void 0&&t.add(i)};class mS{constructor(e){this._config=hS(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=uy(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),cy(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return rl(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return rl(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return rl(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return rl(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let a=i.get(e);return(!a||n)&&(a=new Map,i.set(e,a)),a}getOptionScopes(e,n,i){const{options:a,type:o}=this,c=this._cachedScopes(e,i),u=c.get(n);if(u)return u;const f=new Set;n.forEach(g=>{e&&(f.add(e),g.forEach(v=>ja(f,e,v))),g.forEach(v=>ja(f,a,v)),g.forEach(v=>ja(f,qi[o]||{},v)),g.forEach(v=>ja(f,Ot,v)),g.forEach(v=>ja(f,Xu,v))});const m=Array.from(f);return m.length===0&&m.push(Object.create(null)),dy.has(n)&&c.set(n,m),m}chartOptionScopes(){const{options:e,type:n}=this;return[e,qi[n]||{},Ot.datasets[n]||{},{type:n},Ot,Xu]}resolveNamedOptions(e,n,i,a=[""]){const o={$shared:!0},{resolver:c,subPrefixes:u}=jp(this._resolverCache,e,a);let f=c;if(gS(c,n)){o.$shared=!1,i=_i(i)?i():i;const m=this.createResolver(e,i,u);f=Rs(c,i,m)}for(const m of n)o[m]=f[m];return o}createResolver(e,n,i=[""],a){const{resolver:o}=jp(this._resolverCache,e,i);return qe(n)?Rs(o,n,void 0,a):o}}function jp(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const a=n.join();let o=i.get(a);return o||(o={resolver:bd(e,n),subPrefixes:n.filter(u=>!u.toLowerCase().includes("hover"))},i.set(a,o)),o}const pS=t=>qe(t)&&Object.getOwnPropertyNames(t).some(e=>_i(t[e]));function gS(t,e){const{isScriptable:n,isIndexable:i}=Qg(t);for(const a of e){const o=n(a),c=i(a),u=(c||o)&&t[a];if(o&&(_i(u)||pS(u))||c&&en(u))return!0}return!1}var yS="4.5.0";const vS=["top","bottom","left","right","chartArea"];function Cp(t,e){return t==="top"||t==="bottom"||vS.indexOf(t)===-1&&e==="x"}function Ep(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function Np(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),vt(n&&n.onComplete,[t],e)}function xS(t){const e=t.chart,n=e.options.animation;vt(n&&n.onProgress,[t],e)}function fy(t){return Sd()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const hl={},Mp=t=>{const e=fy(t);return Object.values(hl).filter(n=>n.canvas===e).pop()};function bS(t,e,n){const i=Object.keys(t);for(const a of i){const o=+a;if(o>=e){const c=t[a];delete t[a],(n>0||o>e)&&(t[o+n]=c)}}}function _S(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}let zl=class{static defaults=Ot;static instances=hl;static overrides=qi;static registry=gr;static version=yS;static getChart=Mp;static register(...e){gr.add(...e),Rp()}static unregister(...e){gr.remove(...e),Rp()}constructor(e,n){const i=this.config=new mS(n),a=fy(e),o=Mp(a);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const c=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||zw(a)),this.platform.updateConfig(i);const u=this.platform.acquireContext(a,c.aspectRatio),f=u&&u.canvas,m=f&&f.height,g=f&&f.width;if(this.id=Ab(),this.ctx=u,this.canvas=f,this.width=g,this.height=m,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new rS,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Jb(v=>this.update(v),c.resizeDelay||0),this._dataChanges=[],hl[this.id]=this,!u||!f){console.error("Failed to create chart: can't acquire context from the given item");return}Pr.listen(this,"complete",Np),Pr.listen(this,"progress",xS),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:a,_aspectRatio:o}=this;return ft(e)?n&&o?o:a?i/a:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return gr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():tp(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return qm(this.canvas,this.ctx),this}stop(){return Pr.stop(this),this}resize(e,n){Pr.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,a=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(a,e,n,o),u=i.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,tp(this,u,!0)&&(this.notifyPlugins("resize",{size:c}),vt(i.onResize,[this,c],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};ot(n,(i,a)=>{i.id=a})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,a=Object.keys(i).reduce((c,u)=>(c[u]=!1,c),{});let o=[];n&&(o=o.concat(Object.keys(n).map(c=>{const u=n[c],f=Gu(c,u),m=f==="r",g=f==="x";return{options:u,dposition:m?"chartArea":g?"bottom":"left",dtype:m?"radialLinear":g?"category":"linear"}}))),ot(o,c=>{const u=c.options,f=u.id,m=Gu(f,u),g=Ge(u.type,c.dtype);(u.position===void 0||Cp(u.position,m)!==Cp(c.dposition))&&(u.position=c.dposition),a[f]=!0;let v=null;if(f in i&&i[f].type===g)v=i[f];else{const x=gr.getScale(g);v=new x({id:f,type:g,ctx:this.ctx,chart:this}),i[v.id]=v}v.init(u,e)}),ot(a,(c,u)=>{c||delete i[u]}),ot(i,c=>{yi.configure(this,c,c.options),yi.addBox(this,c)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((a,o)=>a.index-o.index),i>n){for(let a=n;a<i;++a)this._destroyDatasetMeta(a);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(Ep("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,a)=>{n.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,a;for(this._removeUnreferencedMetasets(),i=0,a=n.length;i<a;i++){const o=n[i];let c=this.getDatasetMeta(i);const u=o.type||this.config.type;if(c.type&&c.type!==u&&(this._destroyDatasetMeta(i),c=this.getDatasetMeta(i)),c.type=u,c.indexAxis=o.indexAxis||Qu(u,this.options),c.order=o.order||0,c.index=i,c.label=""+o.label,c.visible=this.isDatasetVisible(i),c.controller)c.controller.updateIndex(i),c.controller.linkScales();else{const f=gr.getController(u),{datasetElementType:m,dataElementType:g}=Ot.datasets[u];Object.assign(f,{dataElementType:gr.getElement(g),datasetElementType:m&&gr.getElement(m)}),c.controller=new f(this,i),e.push(c.controller)}}return this._updateMetasets(),e}_resetElements(){ot(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let m=0,g=this.data.datasets.length;m<g;m++){const{controller:v}=this.getDatasetMeta(m),x=!a&&o.indexOf(v)===-1;v.buildOrUpdateElements(x),c=Math.max(+v.getMaxOverflow(),c)}c=this._minPadding=i.layout.autoPadding?c:0,this._updateLayout(c),a||ot(o,m=>{m.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Ep("z","_idx"));const{_active:u,_lastEvent:f}=this;f?this._eventHandler(f,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){ot(this.scales,e=>{yi.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!Bm(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:a,count:o}of n){const c=i==="_removeElements"?-o:o;bS(e,a,c)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=o=>new Set(e.filter(c=>c[0]===o).map((c,u)=>u+","+c.splice(1).join(","))),a=i(0);for(let o=1;o<n;o++)if(!Bm(a,i(o)))return;return Array.from(a).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;yi.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],ot(this.boxes,a=>{i&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,o)=>{a._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,_i(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),a={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(i.controller._update(n),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Pr.has(this)?this.attached&&!Pr.running(this)&&Pr.start(this):(this.draw(),Np({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let a,o;for(a=0,o=n.length;a<o;++a){const c=n[a];(!e||c.visible)&&i.push(c)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i={meta:e,index:e.index,cancelable:!0},a=I_(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(a&&yd(n,a),e.controller.draw(),a&&vd(n),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return Kg(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,a){const o=vw.modes[n];return typeof o=="function"?o(this,e,i,a):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let a=i.filter(o=>o&&o._dataset===n).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(a)),a}getContext(){return this.$context||(this.$context=As(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const a=i?"show":"hide",o=this.getDatasetMeta(e),c=o.controller._resolveAnimations(void 0,a);za(n)?(o.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),c.update(o,{visible:i}),this.update(u=>u.datasetIndex===e?a:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Pr.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),qm(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete hl[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(o,c)=>{n.addEventListener(this,o,c),e[o]=c},a=(o,c,u)=>{o.offsetX=c,o.offsetY=u,this._eventHandler(o)};ot(this.options.events,o=>i(o,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(f,m)=>{n.addEventListener(this,f,m),e[f]=m},a=(f,m)=>{e[f]&&(n.removeEventListener(this,f,m),delete e[f])},o=(f,m)=>{this.canvas&&this.resize(f,m)};let c;const u=()=>{a("attach",u),this.attached=!0,this.resize(),i("resize",o),i("detach",c)};c=()=>{this.attached=!1,a("resize",o),this._stop(),this._resize(0,0),i("attach",u)},n.isAttached(this.canvas)?u():c()}unbindEvents(){ot(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},ot(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const a=i?"set":"remove";let o,c,u,f;for(n==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+a+"DatasetHoverStyle"]()),u=0,f=e.length;u<f;++u){c=e[u];const m=c&&this.getDatasetMeta(c.datasetIndex).controller;m&&m[a+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:o,index:c})=>{const u=this.getDatasetMeta(o);if(!u)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:u.data[c],index:c}});!_l(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,i){const a=this.options.hover,o=(f,m)=>f.filter(g=>!m.some(v=>g.datasetIndex===v.datasetIndex&&g.index===v.index)),c=o(n,e),u=i?e:o(e,n);c.length&&this.updateHoverStyle(c,a.mode,!1),u.length&&a.mode&&this.updateHoverStyle(u,a.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},a=c=>(c.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,a)===!1)return;const o=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,a),(o||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:a=[],options:o}=this,c=n,u=this._getActiveElements(e,a,i,c),f=Bb(e),m=_S(e,this._lastEvent,i,f);i&&(this._lastEvent=null,vt(o.onHover,[e,u,this],this),f&&vt(o.onClick,[e,u,this],this));const g=!_l(u,a);return(g||n)&&(this._active=u,this._updateHoverStyles(u,a,n)),this._lastEvent=m,g}_getActiveElements(e,n,i,a){if(e.type==="mouseout")return[];if(!i)return n;const o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,a)}};function Rp(){return ot(zl.instances,t=>t._plugins.invalidate())}function wS(t,e,n){const{startAngle:i,x:a,y:o,outerRadius:c,innerRadius:u,options:f}=e,{borderWidth:m,borderJoinStyle:g}=f,v=Math.min(m/c,yr(i-n));if(t.beginPath(),t.arc(a,o,c-m/2,i+v/2,n-v/2),u>0){const x=Math.min(m/u,yr(i-n));t.arc(a,o,u+m/2,n-x/2,i+x/2,!0)}else{const x=Math.min(m/2,c*yr(i-n));if(g==="round")t.arc(a,o,x,n-xt/2,i+xt/2,!0);else if(g==="bevel"){const _=2*x*x,k=-_*Math.cos(n+xt/2)+a,j=-_*Math.sin(n+xt/2)+o,C=_*Math.cos(i+xt/2)+a,T=_*Math.sin(i+xt/2)+o;t.lineTo(k,j),t.lineTo(C,T)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function SS(t,e,n){const{startAngle:i,pixelMargin:a,x:o,y:c,outerRadius:u,innerRadius:f}=e;let m=a/u;t.beginPath(),t.arc(o,c,u,i-m,n+m),f>a?(m=a/f,t.arc(o,c,f,n+m,i-m,!0)):t.arc(o,c,a,n+Kt,i-Kt),t.closePath(),t.clip()}function kS(t){return xd(t,["outerStart","outerEnd","innerStart","innerEnd"])}function jS(t,e,n,i){const a=kS(t.options.borderRadius),o=(n-e)/2,c=Math.min(o,i*e/2),u=f=>{const m=(n-Math.min(o,f))*i/2;return Cn(f,0,Math.min(o,m))};return{outerStart:u(a.outerStart),outerEnd:u(a.outerEnd),innerStart:Cn(a.innerStart,0,c),innerEnd:Cn(a.innerEnd,0,c)}}function ks(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function Rl(t,e,n,i,a,o){const{x:c,y:u,startAngle:f,pixelMargin:m,innerRadius:g}=e,v=Math.max(e.outerRadius+i+n-m,0),x=g>0?g+i+n+m:0;let _=0;const k=a-f;if(i){const oe=g>0?g-i:0,fe=v>0?v-i:0,pe=(oe+fe)/2,J=pe!==0?k*pe/(pe+i):k;_=(k-J)/2}const j=Math.max(.001,k*v-n/xt)/v,C=(k-j)/2,T=f+C+_,P=a-C-_,{outerStart:B,outerEnd:z,innerStart:H,innerEnd:q}=jS(e,x,v,P-T),N=v-B,L=v-z,V=T+B/N,A=P-z/L,D=x+H,Y=x+q,X=T+H/D,ne=P-q/Y;if(t.beginPath(),o){const oe=(V+A)/2;if(t.arc(c,u,v,V,oe),t.arc(c,u,v,oe,A),z>0){const se=ks(L,A,c,u);t.arc(se.x,se.y,z,A,P+Kt)}const fe=ks(Y,P,c,u);if(t.lineTo(fe.x,fe.y),q>0){const se=ks(Y,ne,c,u);t.arc(se.x,se.y,q,P+Kt,ne+Math.PI)}const pe=(P-q/x+(T+H/x))/2;if(t.arc(c,u,x,P-q/x,pe,!0),t.arc(c,u,x,pe,T+H/x,!0),H>0){const se=ks(D,X,c,u);t.arc(se.x,se.y,H,X+Math.PI,T-Kt)}const J=ks(N,T,c,u);if(t.lineTo(J.x,J.y),B>0){const se=ks(N,V,c,u);t.arc(se.x,se.y,B,T-Kt,V)}}else{t.moveTo(c,u);const oe=Math.cos(V)*v+c,fe=Math.sin(V)*v+u;t.lineTo(oe,fe);const pe=Math.cos(A)*v+c,J=Math.sin(A)*v+u;t.lineTo(pe,J)}t.closePath()}function CS(t,e,n,i,a){const{fullCircles:o,startAngle:c,circumference:u}=e;let f=e.endAngle;if(o){Rl(t,e,n,i,f,a);for(let m=0;m<o;++m)t.fill();isNaN(u)||(f=c+(u%Ht||Ht))}return Rl(t,e,n,i,f,a),t.fill(),f}function ES(t,e,n,i,a){const{fullCircles:o,startAngle:c,circumference:u,options:f}=e,{borderWidth:m,borderJoinStyle:g,borderDash:v,borderDashOffset:x,borderRadius:_}=f,k=f.borderAlign==="inner";if(!m)return;t.setLineDash(v||[]),t.lineDashOffset=x,k?(t.lineWidth=m*2,t.lineJoin=g||"round"):(t.lineWidth=m,t.lineJoin=g||"bevel");let j=e.endAngle;if(o){Rl(t,e,n,i,j,a);for(let C=0;C<o;++C)t.stroke();isNaN(u)||(j=c+(u%Ht||Ht))}k&&SS(t,e,j),f.selfJoin&&j-c>=xt&&_===0&&g!=="miter"&&wS(t,e,j),o||(Rl(t,e,n,i,j,a),t.stroke())}class NS extends Os{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,i){const a=this.getProps(["x","y"],i),{angle:o,distance:c}=Ig(a,{x:e,y:n}),{startAngle:u,endAngle:f,innerRadius:m,outerRadius:g,circumference:v}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),x=(this.options.spacing+this.options.borderWidth)/2,_=Ge(v,f-u),k=jl(o,u,f)&&u!==f,j=_>=Ht||k,C=Yi(c,m+x,g+x);return j&&C}getCenterPoint(e){const{x:n,y:i,startAngle:a,endAngle:o,innerRadius:c,outerRadius:u}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:f,spacing:m}=this.options,g=(a+o)/2,v=(c+u+m+f)/2;return{x:n+Math.cos(g)*v,y:i+Math.sin(g)*v}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:n,circumference:i}=this,a=(n.offset||0)/4,o=(n.spacing||0)/2,c=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=i>Ht?Math.floor(i/Ht):0,i===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const u=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(u)*a,Math.sin(u)*a);const f=1-Math.sin(Math.min(xt,i||0)),m=a*f;e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,CS(e,this,m,o,c),ES(e,this,m,o,c),e.restore()}}function hy(t,e){const{x:n,y:i,base:a,width:o,height:c}=t.getProps(["x","y","base","width","height"],e);let u,f,m,g,v;return t.horizontal?(v=c/2,u=Math.min(n,a),f=Math.max(n,a),m=i-v,g=i+v):(v=o/2,u=n-v,f=n+v,m=Math.min(i,a),g=Math.max(i,a)),{left:u,top:m,right:f,bottom:g}}function vi(t,e,n,i){return t?0:Cn(e,n,i)}function MS(t,e,n){const i=t.options.borderWidth,a=t.borderSkipped,o=Xg(i);return{t:vi(a.top,o.top,0,n),r:vi(a.right,o.right,0,e),b:vi(a.bottom,o.bottom,0,n),l:vi(a.left,o.left,0,e)}}function RS(t,e,n){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),a=t.options.borderRadius,o=Cs(a),c=Math.min(e,n),u=t.borderSkipped,f=i||qe(a);return{topLeft:vi(!f||u.top||u.left,o.topLeft,0,c),topRight:vi(!f||u.top||u.right,o.topRight,0,c),bottomLeft:vi(!f||u.bottom||u.left,o.bottomLeft,0,c),bottomRight:vi(!f||u.bottom||u.right,o.bottomRight,0,c)}}function TS(t){const e=hy(t),n=e.right-e.left,i=e.bottom-e.top,a=MS(t,n/2,i/2),o=RS(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:o},inner:{x:e.left+a.l,y:e.top+a.t,w:n-a.l-a.r,h:i-a.t-a.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,o.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(a.b,a.r))}}}}function Fu(t,e,n,i){const a=e===null,o=n===null,u=t&&!(a&&o)&&hy(t,i);return u&&(a||Yi(e,u.left,u.right))&&(o||Yi(n,u.top,u.bottom))}function PS(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function DS(t,e){t.rect(e.x,e.y,e.w,e.h)}function Iu(t,e,n={}){const i=t.x!==n.x?-e:0,a=t.y!==n.y?-e:0,o=(t.x+t.w!==n.x+n.w?e:0)-i,c=(t.y+t.h!==n.y+n.h?e:0)-a;return{x:t.x+i,y:t.y+a,w:t.w+o,h:t.h+c,radius:t.radius}}class LS extends Os{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:i,backgroundColor:a}}=this,{inner:o,outer:c}=TS(this),u=PS(c.radius)?El:DS;e.save(),(c.w!==o.w||c.h!==o.h)&&(e.beginPath(),u(e,Iu(c,n,o)),e.clip(),u(e,Iu(o,-n,c)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),u(e,Iu(o,n)),e.fillStyle=a,e.fill(),e.restore()}inRange(e,n,i){return Fu(this,e,n,i)}inXRange(e,n){return Fu(this,e,null,n)}inYRange(e,n){return Fu(this,null,e,n)}getCenterPoint(e){const{x:n,y:i,base:a,horizontal:o}=this.getProps(["x","y","base","horizontal"],e);return{x:o?(n+a)/2:n,y:o?i:(i+a)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}const Tp=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},AS=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Pp extends Os{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=vt(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,a)=>e.sort(i,a,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,a=En(i.font),o=a.size,c=this._computeTitleHeight(),{boxWidth:u,itemHeight:f}=Tp(i,o);let m,g;n.font=a.string,this.isHorizontal()?(m=this.maxWidth,g=this._fitRows(c,o,u,f)+10):(g=this.maxHeight,m=this._fitCols(c,a,u,f)+10),this.width=Math.min(m,e.maxWidth||this.maxWidth),this.height=Math.min(g,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,a){const{ctx:o,maxWidth:c,options:{labels:{padding:u}}}=this,f=this.legendHitBoxes=[],m=this.lineWidths=[0],g=a+u;let v=e;o.textAlign="left",o.textBaseline="middle";let x=-1,_=-g;return this.legendItems.forEach((k,j)=>{const C=i+n/2+o.measureText(k.text).width;(j===0||m[m.length-1]+C+2*u>c)&&(v+=g,m[m.length-(j>0?0:1)]=0,_+=g,x++),f[j]={left:0,top:_,row:x,width:C,height:a},m[m.length-1]+=C+u}),v}_fitCols(e,n,i,a){const{ctx:o,maxHeight:c,options:{labels:{padding:u}}}=this,f=this.legendHitBoxes=[],m=this.columnSizes=[],g=c-e;let v=u,x=0,_=0,k=0,j=0;return this.legendItems.forEach((C,T)=>{const{itemWidth:P,itemHeight:B}=OS(i,n,o,C,a);T>0&&_+B+2*u>g&&(v+=x+u,m.push({width:x,height:_}),k+=x+u,j++,x=_=0),f[T]={left:k,top:_,col:j,width:P,height:B},x=Math.max(x,P),_+=B+u}),v+=x,m.push({width:x,height:_}),v}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:a},rtl:o}}=this,c=Es(o,this.left,this.width);if(this.isHorizontal()){let u=0,f=Ln(i,this.left+a,this.right-this.lineWidths[u]);for(const m of n)u!==m.row&&(u=m.row,f=Ln(i,this.left+a,this.right-this.lineWidths[u])),m.top+=this.top+e+a,m.left=c.leftForLtr(c.x(f),m.width),f+=m.width+a}else{let u=0,f=Ln(i,this.top+e+a,this.bottom-this.columnSizes[u].height);for(const m of n)m.col!==u&&(u=m.col,f=Ln(i,this.top+e+a,this.bottom-this.columnSizes[u].height)),m.top=f,m.left+=this.left+a,m.left=c.leftForLtr(c.x(m.left),m.width),f+=m.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;yd(e,this),this._draw(),vd(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:a}=this,{align:o,labels:c}=e,u=Ot.color,f=Es(e.rtl,this.left,this.width),m=En(c.font),{padding:g}=c,v=m.size,x=v/2;let _;this.drawTitle(),a.textAlign=f.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=m.string;const{boxWidth:k,boxHeight:j,itemHeight:C}=Tp(c,v),T=function(q,N,L){if(isNaN(k)||k<=0||isNaN(j)||j<0)return;a.save();const V=Ge(L.lineWidth,1);if(a.fillStyle=Ge(L.fillStyle,u),a.lineCap=Ge(L.lineCap,"butt"),a.lineDashOffset=Ge(L.lineDashOffset,0),a.lineJoin=Ge(L.lineJoin,"miter"),a.lineWidth=V,a.strokeStyle=Ge(L.strokeStyle,u),a.setLineDash(Ge(L.lineDash,[])),c.usePointStyle){const A={radius:j*Math.SQRT2/2,pointStyle:L.pointStyle,rotation:L.rotation,borderWidth:V},D=f.xPlus(q,k/2),Y=N+x;Yg(a,A,D,Y,c.pointStyleWidth&&k)}else{const A=N+Math.max((v-j)/2,0),D=f.leftForLtr(q,k),Y=Cs(L.borderRadius);a.beginPath(),Object.values(Y).some(X=>X!==0)?El(a,{x:D,y:A,w:k,h:j,radius:Y}):a.rect(D,A,k,j),a.fill(),V!==0&&a.stroke()}a.restore()},P=function(q,N,L){Cl(a,L.text,q,N+C/2,m,{strikethrough:L.hidden,textAlign:f.textAlign(L.textAlign)})},B=this.isHorizontal(),z=this._computeTitleHeight();B?_={x:Ln(o,this.left+g,this.right-i[0]),y:this.top+g+z,line:0}:_={x:this.left+g,y:Ln(o,this.top+z+g,this.bottom-n[0].height),line:0},Jg(this.ctx,e.textDirection);const H=C+g;this.legendItems.forEach((q,N)=>{a.strokeStyle=q.fontColor,a.fillStyle=q.fontColor;const L=a.measureText(q.text).width,V=f.textAlign(q.textAlign||(q.textAlign=c.textAlign)),A=k+x+L;let D=_.x,Y=_.y;f.setWidth(this.width),B?N>0&&D+A+g>this.right&&(Y=_.y+=H,_.line++,D=_.x=Ln(o,this.left+g,this.right-i[_.line])):N>0&&Y+H>this.bottom&&(D=_.x=D+n[_.line].width+g,_.line++,Y=_.y=Ln(o,this.top+z+g,this.bottom-n[_.line].height));const X=f.x(D);if(T(X,Y,q),D=e_(V,D+k+x,B?D+A:this.right,e.rtl),P(f.x(D),Y,q),B)_.x+=A+g;else if(typeof q.text!="string"){const ne=m.lineHeight;_.y+=my(q,ne)+g}else _.y+=H}),ey(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=En(n.font),a=sr(n.padding);if(!n.display)return;const o=Es(e.rtl,this.left,this.width),c=this.ctx,u=n.position,f=i.size/2,m=a.top+f;let g,v=this.left,x=this.width;if(this.isHorizontal())x=Math.max(...this.lineWidths),g=this.top+m,v=Ln(e.align,v,this.right-x);else{const k=this.columnSizes.reduce((j,C)=>Math.max(j,C.height),0);g=m+Ln(e.align,this.top,this.bottom-k-e.labels.padding-this._computeTitleHeight())}const _=Ln(u,v,v+x);c.textAlign=o.textAlign(Hg(u)),c.textBaseline="middle",c.strokeStyle=n.color,c.fillStyle=n.color,c.font=i.string,Cl(c,n.text,_,g,i)}_computeTitleHeight(){const e=this.options.title,n=En(e.font),i=sr(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,a,o;if(Yi(e,this.left,this.right)&&Yi(n,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(a=o[i],Yi(e,a.left,a.left+a.width)&&Yi(n,a.top,a.top+a.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!zS(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const a=this._hoveredItem,o=AS(a,i);a&&!o&&vt(n.onLeave,[e,a,this],this),this._hoveredItem=i,i&&!o&&vt(n.onHover,[e,i,this],this)}else i&&vt(n.onClick,[e,i,this],this)}}function OS(t,e,n,i,a){const o=FS(i,t,e,n),c=IS(a,i,e.lineHeight);return{itemWidth:o,itemHeight:c}}function FS(t,e,n,i){let a=t.text;return a&&typeof a!="string"&&(a=a.reduce((o,c)=>o.length>c.length?o:c)),e+n.size/2+i.measureText(a).width}function IS(t,e,n){let i=t;return typeof e.text!="string"&&(i=my(e,n)),i}function my(t,e){const n=t.text?t.text.length:0;return e*n}function zS(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var US={id:"legend",_element:Pp,start(t,e,n){const i=t.legend=new Pp({ctx:t.ctx,options:n,chart:t});yi.configure(t,i,n),yi.addBox(t,i)},stop(t){yi.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;yi.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,a=n.chart;a.isDatasetVisible(i)?(a.hide(i),e.hidden=!0):(a.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:a,color:o,useBorderRadius:c,borderRadius:u}}=t.legend.options;return t._getSortedDatasetMetas().map(f=>{const m=f.controller.getStyle(n?0:void 0),g=sr(m.borderWidth);return{text:e[f.index].label,fillStyle:m.backgroundColor,fontColor:o,hidden:!f.visible,lineCap:m.borderCapStyle,lineDash:m.borderDash,lineDashOffset:m.borderDashOffset,lineJoin:m.borderJoinStyle,lineWidth:(g.width+g.height)/4,strokeStyle:m.borderColor,pointStyle:i||m.pointStyle,rotation:m.rotation,textAlign:a||m.textAlign,borderRadius:c&&(u||m.borderRadius),datasetIndex:f.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};const Ra={average(t){if(!t.length)return!1;let e,n,i=new Set,a=0,o=0;for(e=0,n=t.length;e<n;++e){const u=t[e].element;if(u&&u.hasValue()){const f=u.tooltipPosition();i.add(f.x),a+=f.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((u,f)=>u+f)/i.size,y:a/o}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,a=Number.POSITIVE_INFINITY,o,c,u;for(o=0,c=t.length;o<c;++o){const f=t[o].element;if(f&&f.hasValue()){const m=f.getCenterPoint(),g=Xb(e,m);g<a&&(a=g,u=f)}}if(u){const f=u.tooltipPosition();n=f.x,i=f.y}return{x:n,y:i}}};function pr(t,e){return e&&(en(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Dr(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function BS(t,e){const{element:n,datasetIndex:i,index:a}=e,o=t.getDatasetMeta(i).controller,{label:c,value:u}=o.getLabelAndValue(a);return{chart:t,label:c,parsed:o.getParsed(a),raw:t.data.datasets[i].data[a],formattedValue:u,dataset:o.getDataset(),dataIndex:a,datasetIndex:i,element:n}}function Dp(t,e){const n=t.chart.ctx,{body:i,footer:a,title:o}=t,{boxWidth:c,boxHeight:u}=e,f=En(e.bodyFont),m=En(e.titleFont),g=En(e.footerFont),v=o.length,x=a.length,_=i.length,k=sr(e.padding);let j=k.height,C=0,T=i.reduce((z,H)=>z+H.before.length+H.lines.length+H.after.length,0);if(T+=t.beforeBody.length+t.afterBody.length,v&&(j+=v*m.lineHeight+(v-1)*e.titleSpacing+e.titleMarginBottom),T){const z=e.displayColors?Math.max(u,f.lineHeight):f.lineHeight;j+=_*z+(T-_)*f.lineHeight+(T-1)*e.bodySpacing}x&&(j+=e.footerMarginTop+x*g.lineHeight+(x-1)*e.footerSpacing);let P=0;const B=function(z){C=Math.max(C,n.measureText(z).width+P)};return n.save(),n.font=m.string,ot(t.title,B),n.font=f.string,ot(t.beforeBody.concat(t.afterBody),B),P=e.displayColors?c+2+e.boxPadding:0,ot(i,z=>{ot(z.before,B),ot(z.lines,B),ot(z.after,B)}),P=0,n.font=g.string,ot(t.footer,B),n.restore(),C+=k.width,{width:C,height:j}}function $S(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function HS(t,e,n,i){const{x:a,width:o}=i,c=n.caretSize+n.caretPadding;if(t==="left"&&a+o+c>e.width||t==="right"&&a-o-c<0)return!0}function WS(t,e,n,i){const{x:a,width:o}=n,{width:c,chartArea:{left:u,right:f}}=t;let m="center";return i==="center"?m=a<=(u+f)/2?"left":"right":a<=o/2?m="left":a>=c-o/2&&(m="right"),HS(m,t,e,n)&&(m="center"),m}function Lp(t,e,n){const i=n.yAlign||e.yAlign||$S(t,n);return{xAlign:n.xAlign||e.xAlign||WS(t,e,n,i),yAlign:i}}function VS(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function YS(t,e,n){let{y:i,height:a}=t;return e==="top"?i+=n:e==="bottom"?i-=a+n:i-=a/2,i}function Ap(t,e,n,i){const{caretSize:a,caretPadding:o,cornerRadius:c}=t,{xAlign:u,yAlign:f}=n,m=a+o,{topLeft:g,topRight:v,bottomLeft:x,bottomRight:_}=Cs(c);let k=VS(e,u);const j=YS(e,f,m);return f==="center"?u==="left"?k+=m:u==="right"&&(k-=m):u==="left"?k-=Math.max(g,x)+a:u==="right"&&(k+=Math.max(v,_)+a),{x:Cn(k,0,i.width-e.width),y:Cn(j,0,i.height-e.height)}}function il(t,e,n){const i=sr(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function Op(t){return pr([],Dr(t))}function KS(t,e,n){return As(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function Fp(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const py={beforeTitle:Tr,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:Tr,beforeBody:Tr,beforeLabel:Tr,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return ft(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Tr,afterBody:Tr,beforeFooter:Tr,footer:Tr,afterFooter:Tr};function Sn(t,e,n,i){const a=t[e].call(n,i);return typeof a>"u"?py[e].call(n,i):a}class Ip extends Os{static positioners=Ra;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),a=i.enabled&&n.options.animation&&i.animations,o=new ty(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=KS(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,a=Sn(i,"beforeTitle",this,e),o=Sn(i,"title",this,e),c=Sn(i,"afterTitle",this,e);let u=[];return u=pr(u,Dr(a)),u=pr(u,Dr(o)),u=pr(u,Dr(c)),u}getBeforeBody(e,n){return Op(Sn(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:i}=n,a=[];return ot(e,o=>{const c={before:[],lines:[],after:[]},u=Fp(i,o);pr(c.before,Dr(Sn(u,"beforeLabel",this,o))),pr(c.lines,Sn(u,"label",this,o)),pr(c.after,Dr(Sn(u,"afterLabel",this,o))),a.push(c)}),a}getAfterBody(e,n){return Op(Sn(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:i}=n,a=Sn(i,"beforeFooter",this,e),o=Sn(i,"footer",this,e),c=Sn(i,"afterFooter",this,e);let u=[];return u=pr(u,Dr(a)),u=pr(u,Dr(o)),u=pr(u,Dr(c)),u}_createItems(e){const n=this._active,i=this.chart.data,a=[],o=[],c=[];let u=[],f,m;for(f=0,m=n.length;f<m;++f)u.push(BS(this.chart,n[f]));return e.filter&&(u=u.filter((g,v,x)=>e.filter(g,v,x,i))),e.itemSort&&(u=u.sort((g,v)=>e.itemSort(g,v,i))),ot(u,g=>{const v=Fp(e.callbacks,g);a.push(Sn(v,"labelColor",this,g)),o.push(Sn(v,"labelPointStyle",this,g)),c.push(Sn(v,"labelTextColor",this,g))}),this.labelColors=a,this.labelPointStyles=o,this.labelTextColors=c,this.dataPoints=u,u}update(e,n){const i=this.options.setContext(this.getContext()),a=this._active;let o,c=[];if(!a.length)this.opacity!==0&&(o={opacity:0});else{const u=Ra[i.position].call(this,a,this._eventPosition);c=this._createItems(i),this.title=this.getTitle(c,i),this.beforeBody=this.getBeforeBody(c,i),this.body=this.getBody(c,i),this.afterBody=this.getAfterBody(c,i),this.footer=this.getFooter(c,i);const f=this._size=Dp(this,i),m=Object.assign({},u,f),g=Lp(this.chart,i,m),v=Ap(i,m,g,this.chart);this.xAlign=g.xAlign,this.yAlign=g.yAlign,o={opacity:1,x:v.x,y:v.y,width:f.width,height:f.height,caretX:u.x,caretY:u.y}}this._tooltipItems=c,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,a){const o=this.getCaretPosition(e,i,a);n.lineTo(o.x1,o.y1),n.lineTo(o.x2,o.y2),n.lineTo(o.x3,o.y3)}getCaretPosition(e,n,i){const{xAlign:a,yAlign:o}=this,{caretSize:c,cornerRadius:u}=i,{topLeft:f,topRight:m,bottomLeft:g,bottomRight:v}=Cs(u),{x,y:_}=e,{width:k,height:j}=n;let C,T,P,B,z,H;return o==="center"?(z=_+j/2,a==="left"?(C=x,T=C-c,B=z+c,H=z-c):(C=x+k,T=C+c,B=z-c,H=z+c),P=C):(a==="left"?T=x+Math.max(f,g)+c:a==="right"?T=x+k-Math.max(m,v)-c:T=this.caretX,o==="top"?(B=_,z=B-c,C=T-c,P=T+c):(B=_+j,z=B+c,C=T+c,P=T-c),H=B),{x1:C,x2:T,x3:P,y1:B,y2:z,y3:H}}drawTitle(e,n,i){const a=this.title,o=a.length;let c,u,f;if(o){const m=Es(i.rtl,this.x,this.width);for(e.x=il(this,i.titleAlign,i),n.textAlign=m.textAlign(i.titleAlign),n.textBaseline="middle",c=En(i.titleFont),u=i.titleSpacing,n.fillStyle=i.titleColor,n.font=c.string,f=0;f<o;++f)n.fillText(a[f],m.x(e.x),e.y+c.lineHeight/2),e.y+=c.lineHeight+u,f+1===o&&(e.y+=i.titleMarginBottom-u)}}_drawColorBox(e,n,i,a,o){const c=this.labelColors[i],u=this.labelPointStyles[i],{boxHeight:f,boxWidth:m}=o,g=En(o.bodyFont),v=il(this,"left",o),x=a.x(v),_=f<g.lineHeight?(g.lineHeight-f)/2:0,k=n.y+_;if(o.usePointStyle){const j={radius:Math.min(m,f)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},C=a.leftForLtr(x,m)+m/2,T=k+f/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,Zm(e,j,C,T),e.strokeStyle=c.borderColor,e.fillStyle=c.backgroundColor,Zm(e,j,C,T)}else{e.lineWidth=qe(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,e.strokeStyle=c.borderColor,e.setLineDash(c.borderDash||[]),e.lineDashOffset=c.borderDashOffset||0;const j=a.leftForLtr(x,m),C=a.leftForLtr(a.xPlus(x,1),m-2),T=Cs(c.borderRadius);Object.values(T).some(P=>P!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,El(e,{x:j,y:k,w:m,h:f,radius:T}),e.fill(),e.stroke(),e.fillStyle=c.backgroundColor,e.beginPath(),El(e,{x:C,y:k+1,w:m-2,h:f-2,radius:T}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(j,k,m,f),e.strokeRect(j,k,m,f),e.fillStyle=c.backgroundColor,e.fillRect(C,k+1,m-2,f-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:a}=this,{bodySpacing:o,bodyAlign:c,displayColors:u,boxHeight:f,boxWidth:m,boxPadding:g}=i,v=En(i.bodyFont);let x=v.lineHeight,_=0;const k=Es(i.rtl,this.x,this.width),j=function(L){n.fillText(L,k.x(e.x+_),e.y+x/2),e.y+=x+o},C=k.textAlign(c);let T,P,B,z,H,q,N;for(n.textAlign=c,n.textBaseline="middle",n.font=v.string,e.x=il(this,C,i),n.fillStyle=i.bodyColor,ot(this.beforeBody,j),_=u&&C!=="right"?c==="center"?m/2+g:m+2+g:0,z=0,q=a.length;z<q;++z){for(T=a[z],P=this.labelTextColors[z],n.fillStyle=P,ot(T.before,j),B=T.lines,u&&B.length&&(this._drawColorBox(n,e,z,k,i),x=Math.max(v.lineHeight,f)),H=0,N=B.length;H<N;++H)j(B[H]),x=v.lineHeight;ot(T.after,j)}_=0,x=v.lineHeight,ot(this.afterBody,j),e.y-=o}drawFooter(e,n,i){const a=this.footer,o=a.length;let c,u;if(o){const f=Es(i.rtl,this.x,this.width);for(e.x=il(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=f.textAlign(i.footerAlign),n.textBaseline="middle",c=En(i.footerFont),n.fillStyle=i.footerColor,n.font=c.string,u=0;u<o;++u)n.fillText(a[u],f.x(e.x),e.y+c.lineHeight/2),e.y+=c.lineHeight+i.footerSpacing}}drawBackground(e,n,i,a){const{xAlign:o,yAlign:c}=this,{x:u,y:f}=e,{width:m,height:g}=i,{topLeft:v,topRight:x,bottomLeft:_,bottomRight:k}=Cs(a.cornerRadius);n.fillStyle=a.backgroundColor,n.strokeStyle=a.borderColor,n.lineWidth=a.borderWidth,n.beginPath(),n.moveTo(u+v,f),c==="top"&&this.drawCaret(e,n,i,a),n.lineTo(u+m-x,f),n.quadraticCurveTo(u+m,f,u+m,f+x),c==="center"&&o==="right"&&this.drawCaret(e,n,i,a),n.lineTo(u+m,f+g-k),n.quadraticCurveTo(u+m,f+g,u+m-k,f+g),c==="bottom"&&this.drawCaret(e,n,i,a),n.lineTo(u+_,f+g),n.quadraticCurveTo(u,f+g,u,f+g-_),c==="center"&&o==="left"&&this.drawCaret(e,n,i,a),n.lineTo(u,f+v),n.quadraticCurveTo(u,f,u+v,f),n.closePath(),n.fill(),a.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,a=i&&i.x,o=i&&i.y;if(a||o){const c=Ra[e.position].call(this,this._active,this._eventPosition);if(!c)return;const u=this._size=Dp(this,e),f=Object.assign({},c,this._size),m=Lp(n,e,f),g=Ap(e,f,m,n);(a._to!==g.x||o._to!==g.y)&&(this.xAlign=m.xAlign,this.yAlign=m.yAlign,this.width=u.width,this.height=u.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,g))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const a={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const c=sr(n.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&u&&(e.save(),e.globalAlpha=i,this.drawBackground(o,e,a,n),Jg(e,n.textDirection),o.y+=c.top,this.drawTitle(o,e,n),this.drawBody(o,e,n),this.drawFooter(o,e,n),ey(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,a=e.map(({datasetIndex:u,index:f})=>{const m=this.chart.getDatasetMeta(u);if(!m)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:m.data[f],index:f}}),o=!_l(i,a),c=this._positionChanged(a,n);(o||c)&&(this._active=a,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,o=this._active||[],c=this._getActiveElements(e,o,n,i),u=this._positionChanged(c,e),f=n||!_l(c,o)||u;return f&&(this._active=c,(a.enabled||a.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),f}_getActiveElements(e,n,i,a){const o=this.options;if(e.type==="mouseout")return[];if(!a)return n.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const c=this.chart.getElementsAtEventForMode(e,o.mode,o,i);return o.reverse&&c.reverse(),c}_positionChanged(e,n){const{caretX:i,caretY:a,options:o}=this,c=Ra[o.position].call(this,e,n);return c!==!1&&(i!==c.x||a!==c.y)}}var XS={id:"tooltip",_element:Ip,positioners:Ra,afterInit(t,e,n){n&&(t.tooltip=new Ip({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:py},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const QS=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function GS(t,e,n,i){const a=t.indexOf(e);if(a===-1)return QS(t,e,n,i);const o=t.lastIndexOf(e);return a!==o?n:a}const qS=(t,e)=>t===null?null:Cn(Math.round(t),0,e);function zp(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class ZS extends Fs{static id="category";static defaults={ticks:{callback:zp}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:a,label:o}of n)i[a]===o&&i.splice(a,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(ft(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:GS(i,e,Ge(n,e),this._addedLabels),qS(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(a=this.getLabels().length-1)),this.min=i,this.max=a}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,a=[];let o=this.getLabels();o=e===0&&n===o.length-1?o:o.slice(e,n+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let c=e;c<=n;c++)a.push({value:c});return a}getLabelForValue(e){return zp.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function JS(t,e){const n=[],{bounds:a,step:o,min:c,max:u,precision:f,count:m,maxTicks:g,maxDigits:v,includeBounds:x}=t,_=o||1,k=g-1,{min:j,max:C}=e,T=!ft(c),P=!ft(u),B=!ft(m),z=(C-j)/(v+1);let H=Hm((C-j)/k/_)*_,q,N,L,V;if(H<1e-14&&!T&&!P)return[{value:j},{value:C}];V=Math.ceil(C/H)-Math.floor(j/H),V>k&&(H=Hm(V*H/k/_)*_),ft(f)||(q=Math.pow(10,f),H=Math.ceil(H*q)/q),a==="ticks"?(N=Math.floor(j/H)*H,L=Math.ceil(C/H)*H):(N=j,L=C),T&&P&&o&&Vb((u-c)/o,H/1e3)?(V=Math.round(Math.min((u-c)/H,g)),H=(u-c)/V,N=c,L=u):B?(N=T?c:N,L=P?u:L,V=m-1,H=(L-N)/V):(V=(L-N)/H,dl(V,Math.round(V),H/1e3)?V=Math.round(V):V=Math.ceil(V));const A=Math.max(Wm(H),Wm(N));q=Math.pow(10,ft(f)?A:f),N=Math.round(N*q)/q,L=Math.round(L*q)/q;let D=0;for(T&&(x&&N!==c?(n.push({value:c}),N<c&&D++,dl(Math.round((N+D*H)*q)/q,c,Up(c,z,t))&&D++):N<c&&D++);D<V;++D){const Y=Math.round((N+D*H)*q)/q;if(P&&Y>u)break;n.push({value:Y})}return P&&x&&L!==u?n.length&&dl(n[n.length-1].value,u,Up(u,z,t))?n[n.length-1].value=u:n.push({value:u}):(!P||L===u)&&n.push({value:L}),n}function Up(t,e,{horizontal:n,minRotation:i}){const a=Or(i),o=(n?Math.sin(a):Math.cos(a))||.001,c=.75*e*(""+t).length;return Math.min(e/o,c)}class e1 extends Fs{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return ft(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:a,max:o}=this;const c=f=>a=n?a:f,u=f=>o=i?o:f;if(e){const f=bi(a),m=bi(o);f<0&&m<0?u(0):f>0&&m>0&&c(0)}if(a===o){let f=o===0?1:Math.abs(o*.05);u(o+f),e||c(a-f)}this.min=a,this.max=o}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,a;return i?(a=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),n=n||11),n&&(a=Math.min(n,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const a={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},o=this._range||this,c=JS(a,o);return e.bounds==="ticks"&&Yb(c,this,"value"),e.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const a=(i-n)/Math.max(e.length-1,1)/2;n-=a,i+=a}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return gd(e,this.chart.options.locale,this.options.ticks.format)}}class t1 extends e1{static id="linear";static defaults={ticks:{callback:Vg.formatters.numeric}};determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Yn(e)?e:0,this.max=Yn(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=Or(this.options.ticks.minRotation),a=(e?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,o.lineHeight/a))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const Ul={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},jn=Object.keys(Ul);function Bp(t,e){return t-e}function $p(t,e){if(ft(e))return null;const n=t._adapter,{parser:i,round:a,isoWeekday:o}=t._parseOpts;let c=e;return typeof i=="function"&&(c=i(c)),Yn(c)||(c=typeof i=="string"?n.parse(c,i):n.parse(c)),c===null?null:(a&&(c=a==="week"&&(kl(o)||o===!0)?n.startOf(c,"isoWeek",o):n.startOf(c,a)),+c)}function Hp(t,e,n,i){const a=jn.length;for(let o=jn.indexOf(t);o<a-1;++o){const c=Ul[jn[o]],u=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((n-e)/(u*c.size))<=i)return jn[o]}return jn[a-1]}function n1(t,e,n,i,a){for(let o=jn.length-1;o>=jn.indexOf(n);o--){const c=jn[o];if(Ul[c].common&&t._adapter.diff(a,i,c)>=e-1)return c}return jn[n?jn.indexOf(n):0]}function r1(t){for(let e=jn.indexOf(t)+1,n=jn.length;e<n;++e)if(Ul[jn[e]].common)return jn[e]}function Wp(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:a}=pd(n,e),o=n[i]>=e?n[i]:n[a];t[o]=!0}}function i1(t,e,n,i){const a=t._adapter,o=+a.startOf(e[0].value,i),c=e[e.length-1].value;let u,f;for(u=o;u<=c;u=+a.add(u,1,i))f=n[u],f>=0&&(e[f].major=!0);return e}function Vp(t,e,n){const i=[],a={},o=e.length;let c,u;for(c=0;c<o;++c)u=e[c],a[u]=c,i.push({value:u,major:!1});return o===0||!n?i:i1(t,i,a,n)}class Yp extends Fs{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const i=e.time||(e.time={}),a=this._adapter=new hw._date(e.adapters.date);a.init(n),Ta(i.displayFormats,a.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:$p(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:a,max:o,minDefined:c,maxDefined:u}=this.getUserBounds();function f(m){!c&&!isNaN(m.min)&&(a=Math.min(a,m.min)),!u&&!isNaN(m.max)&&(o=Math.max(o,m.max))}(!c||!u)&&(f(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&f(this.getMinMax(!1))),a=Yn(a)&&!isNaN(a)?a:+n.startOf(Date.now(),i),o=Yn(o)&&!isNaN(o)?o:+n.endOf(Date.now(),i)+1,this.min=Math.min(a,o-1),this.max=Math.max(a+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,a=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const o=this.min,c=this.max,u=qb(a,o,c);return this._unit=n.unit||(i.autoSkip?Hp(n.minUnit,this.min,this.max,this._getLabelCapacity(o)):n1(this,u.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:r1(this._unit),this.initOffsets(a),e.reverse&&u.reverse(),Vp(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,i=0,a,o;this.options.offset&&e.length&&(a=this.getDecimalForValue(e[0]),e.length===1?n=1-a:n=(this.getDecimalForValue(e[1])-a)/2,o=this.getDecimalForValue(e[e.length-1]),e.length===1?i=o:i=(o-this.getDecimalForValue(e[e.length-2]))/2);const c=e.length<3?.5:.25;n=Cn(n,0,c),i=Cn(i,0,c),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,a=this.options,o=a.time,c=o.unit||Hp(o.minUnit,n,i,this._getLabelCapacity(n)),u=Ge(a.ticks.stepSize,1),f=c==="week"?o.isoWeekday:!1,m=kl(f)||f===!0,g={};let v=n,x,_;if(m&&(v=+e.startOf(v,"isoWeek",f)),v=+e.startOf(v,m?"day":c),e.diff(i,n,c)>1e5*u)throw new Error(n+" and "+i+" are too far apart with stepSize of "+u+" "+c);const k=a.ticks.source==="data"&&this.getDataTimestamps();for(x=v,_=0;x<i;x=+e.add(x,u,c),_++)Wp(g,x,k);return(x===i||a.bounds==="ticks"||_===1)&&Wp(g,x,k),Object.keys(g).sort(Bp).map(j=>+j)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}format(e,n){const a=this.options.time.displayFormats,o=this._unit,c=n||a[o];return this._adapter.format(e,c)}_tickFormatFunction(e,n,i,a){const o=this.options,c=o.ticks.callback;if(c)return vt(c,[e,n,i],this);const u=o.time.displayFormats,f=this._unit,m=this._majorUnit,g=f&&u[f],v=m&&u[m],x=i[n],_=m&&v&&x&&x.major;return this._adapter.format(e,a||(_?v:g))}generateTickLabels(e){let n,i,a;for(n=0,i=e.length;n<i;++n)a=e[n],a.label=this._tickFormatFunction(a.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,a=Or(this.isHorizontal()?n.maxRotation:n.minRotation),o=Math.cos(a),c=Math.sin(a),u=this._resolveTickFontOptions(0).size;return{w:i*o+u*c,h:i*c+u*o}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,a=i[n.unit]||i.millisecond,o=this._tickFormatFunction(e,0,Vp(this,[e],this._majorUnit),a),c=this._getLabelSize(o),u=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return u>0?u:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(n=0,i=a.length;n<i;++n)e=e.concat(a[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const a=this.getLabels();for(n=0,i=a.length;n<i;++n)e.push($p(this,a[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Ug(e.sort(Bp))}}function sl(t,e,n){let i=0,a=t.length-1,o,c,u,f;n?(e>=t[i].pos&&e<=t[a].pos&&({lo:i,hi:a}=Ku(t,"pos",e)),{pos:o,time:u}=t[i],{pos:c,time:f}=t[a]):(e>=t[i].time&&e<=t[a].time&&({lo:i,hi:a}=Ku(t,"time",e)),{time:o,pos:u}=t[i],{time:c,pos:f}=t[a]);const m=c-o;return m?u+(f-u)*(e-o)/m:u}class Yk extends Yp{static id="timeseries";static defaults=Yp.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=sl(n,this.min),this._tableRange=sl(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,a=[],o=[];let c,u,f,m,g;for(c=0,u=e.length;c<u;++c)m=e[c],m>=n&&m<=i&&a.push(m);if(a.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(c=0,u=a.length;c<u;++c)g=a[c+1],f=a[c-1],m=a[c],Math.round((g+f)/2)!==m&&o.push({time:m,pos:c/(u-1)});return o}_generate(){const e=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((a,o)=>a-o)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(sl(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return sl(this._table,i*this._tableRange+this._minPos,!0)}}const gy="label";function Kp(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function s1(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function yy(t,e){t.labels=e}function vy(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:gy;const i=[];t.datasets=e.map(a=>{const o=t.datasets.find(c=>c[n]===a[n]);return!o||!a.data||i.includes(o)?{...a}:(i.push(o),Object.assign(o,a),o)})}function a1(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:gy;const n={labels:[],datasets:[]};return yy(n,t.labels),vy(n,t.datasets,e),n}function o1(t,e){const{height:n=150,width:i=300,redraw:a=!1,datasetIdKey:o,type:c,data:u,options:f,plugins:m=[],fallbackContent:g,updateMode:v,...x}=t,_=w.useRef(null),k=w.useRef(null),j=()=>{_.current&&(k.current=new zl(_.current,{type:c,data:a1(u,o),options:f&&{...f},plugins:m}),Kp(e,k.current))},C=()=>{Kp(e,null),k.current&&(k.current.destroy(),k.current=null)};return w.useEffect(()=>{!a&&k.current&&f&&s1(k.current,f)},[a,f]),w.useEffect(()=>{!a&&k.current&&yy(k.current.config.data,u.labels)},[a,u.labels]),w.useEffect(()=>{!a&&k.current&&u.datasets&&vy(k.current.config.data,u.datasets,o)},[a,u.datasets]),w.useEffect(()=>{k.current&&(a?(C(),setTimeout(j)):k.current.update(v))},[a,f,u.labels,u.datasets,v]),w.useEffect(()=>{k.current&&(C(),setTimeout(j))},[c]),w.useEffect(()=>(j(),()=>C()),[]),Tl.createElement("canvas",{ref:_,role:"img",height:n,width:i,...x},g)}const l1=w.forwardRef(o1);function xy(t,e){return zl.register(e),w.forwardRef((n,i)=>Tl.createElement(l1,{...n,ref:i,type:t}))}const c1=xy("bar",cw),u1=xy("pie",fw);function d1(t){const e=typeof t=="number"&&Number.isFinite(t)?t:0,n=e<=1?e*100:e;return Math.max(0,Math.min(100,n))}function f1(t){const e=t&&typeof t=="object"?t:{},n=e.auth_activity??{},i={window_days:Number.isFinite(n.window_days)?Number(n.window_days):7,from:typeof n.from=="string"?n.from:"",to:typeof n.to=="string"?n.to:"",daily:Array.isArray(n.daily)?n.daily.map(f=>({date:typeof f.date=="string"?f.date:"",success:Number.isFinite(f.success)?Number(f.success):0,failed:Number.isFinite(f.failed)?Number(f.failed):0,total:Number.isFinite(f.total)?Number(f.total):0})):[],totals:{success:Number.isFinite(n.totals?.success)?Number(n.totals?.success):0,failed:Number.isFinite(n.totals?.failed)?Number(n.totals?.failed):0,total:Number.isFinite(n.totals?.total)?Number(n.totals?.total):0},max_daily_total:Number.isFinite(n.max_daily_total)?Number(n.max_daily_total):0},a=e.evidence_mime??{},o={total:Number.isFinite(a.total)?Number(a.total):0,by_mime:Array.isArray(a.by_mime)?a.by_mime.map(f=>{const m=typeof f.mime=="string"&&f.mime.length>0?f.mime:"Unknown",g=typeof f.mime_label=="string"&&f.mime_label.length>0?f.mime_label:m;return{mime:m,mime_label:g,count:Number.isFinite(f.count)?Number(f.count):0,percent:d1(f.percent??0)}}):[]},c=e.admin_activity??{},u={admins:Array.isArray(c.admins)?c.admins.map(f=>({id:Number.isFinite(f.id)?Number(f.id):0,name:typeof f.name=="string"?f.name:"",email:typeof f.email=="string"?f.email:"",last_login_at:typeof f.last_login_at=="string"&&f.last_login_at.length>0?f.last_login_at:null})):[]};return{auth_activity:i,evidence_mime:o,admin_activity:u}}async function h1(t,e){const i=await xr("/api/dashboard/kpis",void 0,t),a=i&&typeof i=="object"&&"data"in i?i.data:i;return f1(a)}function m1(t){if(!t)return null;const e=/filename\*=(?:UTF-8'')?([^;]+)/i.exec(t);if(e?.[1])try{return decodeURIComponent(e[1].replace(/(^"|"$)/g,""))}catch{return e[1].replace(/(^"|"$)/g,"")}const n=/filename="([^"]+)"/i.exec(t);if(n?.[1])return n[1];const i=/filename=([^;]+)/i.exec(t);return i?.[1]?i[1].trim().replace(/(^"|"$)/g,""):null}function qu(){return`${Si}/api/reports/admin-activity?format=csv`}async function p1(){const t=qu(),e=await fetch(t,{method:"GET",credentials:"same-origin",headers:Dt({Accept:"text/csv"})});if(!e.ok){let o=null;try{o=await e.json()}catch{try{o=await e.text()}catch{o=null}}throw new Ft(e.status,o)}const n=await e.blob(),i=m1(e.headers.get("content-disposition"))??"admin-activity-report.csv",a=e.headers.get("content-type")??"text/csv";return{blob:n,filename:i,mime:a}}async function g1(){if(typeof window>"u"||typeof document>"u")return;const t=await p1(),e=t.filename&&t.filename.trim().length>0?t.filename.trim():"admin-activity-report.csv";if(typeof URL<"u"&&typeof URL.createObjectURL=="function"){const n=URL.createObjectURL(t.blob),i=document.createElement("a");i.href=n,i.download=e,i.rel="noopener noreferrer",i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i),window.setTimeout(()=>{typeof URL.revokeObjectURL=="function"&&URL.revokeObjectURL(n)},1e3);return}if(typeof window.open=="function"){window.open(qu(),"_blank","noopener");return}window.location.assign(qu())}const y1=["ISO_8601","LOCAL","RELATIVE"],Is="LOCAL";function Ba(t){if(typeof t=="string"){const e=t.trim().toUpperCase();if(e&&y1.includes(e))return e}return Is}function Ed(t,e){if(!t)return"";const n=new Date(t);if(Number.isNaN(n.valueOf()))return t;switch(e){case"ISO_8601":return n.toISOString().replace("T"," ").replace("Z","Z");case"RELATIVE":return v1(n,new Date);case"LOCAL":default:return n.toLocaleString()}}function v1(t,e){const n=t.getTime()-e.getTime(),i=Math.abs(n),a=[{unit:"year",ms:1e3*60*60*24*365},{unit:"month",ms:1e3*60*60*24*30},{unit:"week",ms:1e3*60*60*24*7},{unit:"day",ms:1e3*60*60*24},{unit:"hour",ms:1e3*60*60},{unit:"minute",ms:1e3*60},{unit:"second",ms:1e3}],o=typeof Intl<"u"&&typeof Intl.RelativeTimeFormat<"u"?new Intl.RelativeTimeFormat(void 0,{numeric:"auto"}):null;for(const{unit:c,ms:u}of a)if(i>=u||c==="second"){const f=n/u,m=Math.round(f);if(o)return o.format(m,c);if(m===0)return"just now";const g=Math.abs(m)===1?c:`${c}s`;return m>0?`in ${m} ${g}`:`${Math.abs(m)} ${g} ago`}return t.toLocaleString()}function x1(t){const e=typeof t=="number"&&Number.isFinite(t)?Math.max(t,0):0;if(e===0)return"0 B";const n=["B","KB","MB","GB","TB","PB"];let i=e,a=0;for(;i>=1024&&a<n.length-1;)i/=1024,a+=1;const o=a===0?0:2;return`${new Intl.NumberFormat("en-US",{minimumFractionDigits:o,maximumFractionDigits:o}).format(i)} ${n[a]}`}zl.register(ZS,t1,LS,NS,XS,US);const b1=300,Xp=300;function _1(t){if(!t)return{labels:[],success:[],failed:[]};const e=t.auth_activity.daily;return{labels:e.map(n=>n.date),success:e.map(n=>n.success),failed:e.map(n=>n.failed)}}function w1(t){const[e,n]=w.useState(()=>typeof window>"u"||typeof window.matchMedia!="function"?!1:window.matchMedia(t).matches);return w.useEffect(()=>{if(typeof window>"u"||typeof window.matchMedia!="function")return;const i=window.matchMedia(t),a=o=>n(o.matches);return n(i.matches),typeof i.addEventListener=="function"?i.addEventListener("change",a):typeof i.addListener=="function"&&i.addListener(a),()=>{typeof i.removeEventListener=="function"?i.removeEventListener("change",a):typeof i.removeListener=="function"&&i.removeListener(a)}},[t]),e}function S1(){const[t,e]=w.useState(!0),[n,i]=w.useState(null),[a,o]=w.useState(null),[c,u]=w.useState(!1),[f,m]=w.useState(null),g=Ll(),v=w1("(min-width: 1200px)");w.useEffect(()=>{let D=!1;const Y=new AbortController;return(async()=>{try{e(!0),i(null);const ne=await h1(Y.signal);D||o(ne)}catch(ne){if(D)return;ne instanceof Ft?ne.status===401?i("You must log in to view KPIs."):ne.status===403?i("You do not have access to KPIs."):i(`Request failed (HTTP ${ne.status}).`):ne instanceof Error&&ne.name==="AbortError"||i("Network error."),o(null)}finally{D||e(!1)}})(),()=>{D=!0,Y.abort()}},[]);const x=w.useMemo(()=>_1(a),[a]),_=a?.auth_activity.window_days??7,k=Math.max(0,a?.auth_activity.max_daily_total??0),j=Math.max(1,k+1),C=w.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,onClick:(D,Y)=>{if(!a||Y.length===0)return;const X=Y[0].index,ne=a.auth_activity.daily[X];if(!ne)return;const oe=new URLSearchParams({category:"AUTH",occurred_from:ne.date,occurred_to:ne.date});g(`/admin/audit?${oe.toString()}`)},plugins:{legend:{position:"top"},tooltip:{callbacks:{title:D=>D[0]?.label??""}}},scales:{x:{stacked:!0,title:{display:!0,text:"Date"},grid:{display:!1}},y:{stacked:!0,beginAtZero:!0,max:j,ticks:{stepSize:Math.max(1,Math.ceil(j/6))},title:{display:!0,text:"Authentications"}}}}),[a,g,j]),T=w.useMemo(()=>({labels:x.labels.map(D=>new Date(D).toLocaleDateString()),datasets:[{label:"Success",data:x.success,backgroundColor:"#198754",borderColor:"#146c43",borderWidth:1},{label:"Failed",data:x.failed,backgroundColor:"#dc3545",borderColor:"#b02a37",borderWidth:1}]}),[x]),P=w.useMemo(()=>a?.evidence_mime.by_mime??[],[a]),B=w.useMemo(()=>{if(P.length===0)return null;const D=P.map(ne=>ne.mime_label??ne.mime),Y=P.map(ne=>ne.count),X=["#0d6efd","#6f42c1","#20c997","#fd7e14","#6610f2","#ffca2c"];return{labels:D,datasets:[{data:Y,backgroundColor:D.map((ne,oe)=>X[oe%X.length]),borderColor:"#ffffff",borderWidth:1}]}},[P]),z=v?"left":"top",H=w.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:z,align:"start",labels:{usePointStyle:!0,boxWidth:12}}},onClick:(D,Y)=>{if(!B||Y.length===0)return;const X=Y[0].index,ne=P[X];if(!ne)return;const oe=ne.mime_label??ne.mime,fe=new URLSearchParams({mime_label:oe});g(`/admin/evidence?${fe.toString()}`)}}),[z,B,P,g]),q=w.useMemo(()=>`/admin/audit?${new URLSearchParams({category:"AUTH"}).toString()}`,[]),N="/admin/evidence",L=w.useCallback(async()=>{if(!c)try{u(!0),m(null),await g1()}catch(D){D instanceof Ft?D.status===401?m("You must log in to download the report."):D.status===403?m("You do not have access to this report."):m(`Download failed (HTTP ${D.status}).`):m("Network error while downloading report.")}finally{u(!1)}},[c]),V=a?.auth_activity.totals??{success:0,failed:0,total:0},A=a?.admin_activity.admins??[];return h.jsxs("div",{className:"container py-3",children:[h.jsx("h1",{className:"mb-3",children:"Dashboard KPIs"}),t&&h.jsx("p",{children:"Loading"}),!t&&n&&h.jsx("div",{className:"alert alert-warning",role:"alert",children:n}),!t&&!n&&a&&h.jsxs("div",{className:"vstack gap-3",children:[h.jsxs("section",{className:"card",children:[h.jsxs("div",{className:"card-header d-flex flex-column flex-md-row align-items-md-center justify-content-between gap-2",children:[h.jsxs(Ar,{to:q,className:"fw-semibold text-decoration-none",children:["Authentications last ",_," days"]}),h.jsxs("div",{className:"text-muted small",children:[h.jsxs("span",{className:"me-3",children:["Success: ",V.success]}),h.jsxs("span",{className:"me-3",children:["Failed: ",V.failed]}),h.jsxs("span",{children:["Total: ",V.total]})]})]}),h.jsx("div",{className:"card-body",style:{height:b1},children:x.labels.length===0?h.jsx("p",{className:"text-muted mb-0",children:"No authentication activity in the selected window."}):h.jsx(c1,{options:C,data:T,"aria-label":"Authentication activity"})})]}),h.jsxs("div",{style:{display:"grid",gap:"1.5rem",gridTemplateColumns:v?"repeat(2, minmax(0, 1fr))":"repeat(1, minmax(0, 1fr))"},children:[h.jsxs("section",{className:"card h-100",style:{minWidth:0},children:[h.jsx("div",{className:"card-header",children:h.jsx(Ar,{to:N,className:"fw-semibold text-decoration-none",children:"Evidence File Types"})}),h.jsx("div",{className:"card-body",style:{height:Xp},children:B?h.jsx(u1,{data:B,options:H,"aria-label":"Evidence file type distribution"}):h.jsx("p",{className:"text-muted mb-0",children:"No evidence uploads yet."})})]}),h.jsxs("section",{className:"card h-100",style:{minWidth:0},children:[h.jsx("div",{className:"card-header d-flex justify-content-between align-items-center",children:h.jsx(Ar,{to:`${q}&role=Admin`,className:"fw-semibold text-decoration-none",children:"Admin Activity"})}),h.jsxs("div",{className:"card-body d-flex flex-column p-0",style:{height:Xp},children:[f&&h.jsx("div",{className:"alert alert-warning mb-0 rounded-0 py-2 px-3",role:"alert",children:f}),h.jsx("div",{className:"flex-grow-1 overflow-auto",children:A.length===0?h.jsx("p",{className:"text-muted px-3 py-3 mb-0",children:"No admin users found."}):h.jsx("div",{className:"table-responsive",children:h.jsxs("table",{className:"table table-sm table-striped mb-0",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{scope:"col",children:"User"}),h.jsx("th",{scope:"col",children:"Last Login"})]})}),h.jsx("tbody",{children:A.map(D=>{const Y=D.last_login_at?Ed(D.last_login_at,Is):"";return h.jsxs("tr",{children:[h.jsxs("td",{children:[h.jsx("div",{className:"fw-semibold",children:D.name||D.email||`User ${D.id}`}),D.email&&h.jsx("div",{className:"text-muted small",children:D.email})]}),h.jsx("td",{children:Y})]},`${D.id}-${D.email}`)})})]})})})]}),h.jsx("div",{className:"card-footer text-end bg-transparent border-top",children:h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:L,disabled:c,"aria-busy":c,children:c?"Downloading":"Download CSV"})})]})]})]})]})}function k1(){return h.jsxs("section",{children:[h.jsx("h1",{children:"Admin"}),h.jsxs("ul",{children:[h.jsx("li",{children:h.jsx(Ar,{to:"/admin/settings",children:"Settings"})}),h.jsx("li",{children:h.jsx(Ar,{to:"/admin/roles",children:"Roles"})}),h.jsx("li",{children:h.jsx(Ar,{to:"/admin/users",children:"Users"})}),h.jsx("li",{children:h.jsx(Ar,{to:"/admin/user-roles",children:"User Roles"})}),h.jsx("li",{children:h.jsx(Ar,{to:"/admin/audit",children:"Audit"})}),h.jsx("li",{children:h.jsx("a",{href:"/api/docs",children:"API Documentation"})})]})]})}const Nd={version:"5.3.3",defaults:{dark:"slate",light:"flatly"},themes:[{slug:"slate",name:"Slate",source:"bootswatch",supports:{mode:["dark"]}},{slug:"flatly",name:"Flatly",source:"bootswatch",supports:{mode:["light"]}},{slug:"darkly",name:"Darkly",source:"bootswatch",supports:{mode:["dark"]}},{slug:"cosmo",name:"Cosmo",source:"bootswatch",supports:{mode:["light"]}}],packs:[]},Vn={theme:{default:Nd.defaults.dark,allow_user_override:!0,force_global:!1,overrides:{"color.primary":"#0d6efd","color.surface":"#1b1e21","color.text":"#f8f9fa",shadow:"default",spacing:"default",typeScale:"medium",motion:"full"}},nav:{sidebar:{default_order:[]}},brand:{title_text:"phpGRC  Dashboard",favicon_asset_id:null,primary_logo_asset_id:null,secondary_logo_asset_id:null,header_logo_asset_id:null,footer_logo_asset_id:null,footer_logo_disabled:!1}},fi={theme:null,mode:null,overrides:{"color.primary":"#0d6efd","color.surface":"#1b1e21","color.text":"#f8f9fa",shadow:"default",spacing:"default",typeScale:"medium",motion:"full"},sidebar:{collapsed:!1,width:280,order:[]}},j1=[{key:"color.primary",label:"Primary color"},{key:"color.surface",label:"Surface color"},{key:"color.text",label:"Text color"}],C1=["none","default","light","heavy","custom"],E1=["narrow","default","wide"],N1=["small","medium","large"],M1=["none","limited","full"];function mr(t){return{theme:t.theme.default,allowOverride:t.theme.allow_user_override,forceGlobal:t.theme.force_global,overrides:{...t.theme.overrides}}}function Qp(t,e){if(!e||t.theme!==e.theme||t.allowOverride!==e.allowOverride||t.forceGlobal!==e.forceGlobal)return!0;const n=new Set([...Object.keys(t.overrides),...Object.keys(e.overrides)]);for(const i of n)if((t.overrides[i]??"")!==(e.overrides[i]??""))return!0;return!1}async function zu(t){try{return await t.json()}catch{return null}}function R1(){const[t,e]=w.useState(!0),[n,i]=w.useState(!1),[a,o]=w.useState(null),[c,u]=w.useState(!1),[f,m]=w.useState(Nd),[g,v]=w.useState(mr(Vn)),x=w.useRef(null),_=w.useRef(mr(Vn)),k=w.useMemo(()=>[...f.themes,...f.packs].map(D=>({slug:D.slug,name:D.name,source:D.source})),[f]),j=w.useCallback(A=>{const D=mr(A);_.current=D,v(D)},[]),C=w.useCallback(async()=>{try{const A=await fetch("/api/settings/ui/themes",{method:"GET",credentials:"same-origin",headers:Dt()});if(!A.ok){o("Theme manifest unavailable; using bundled defaults.");return}const D=await zu(A);D&&Array.isArray(D.themes)&&m(D)}catch{o("Theme manifest unavailable; using bundled defaults.")}},[]),T=w.useCallback(async A=>{e(!0),A?.preserveMessage||o(null);try{await C();const D=await fetch("/api/settings/ui",{method:"GET",credentials:"same-origin",headers:Dt()});if(D.status===403){u(!0),o("You do not have permission to adjust theme settings."),x.current=null,_.current=mr(Vn),v(mr(Vn));return}if(!D.ok){o("Failed to load theme settings. Using defaults."),x.current=null,_.current=mr(Vn),v(mr(Vn));return}x.current=D.headers.get("ETag");const X=(await zu(D))?.config?.ui??Vn;j(X)}catch{o("Failed to load theme settings. Using defaults."),x.current=null,_.current=mr(Vn),v(mr(Vn))}finally{e(!1)}},[j,C]);w.useEffect(()=>{T()},[T]);const P=A=>{v(D=>({...D,theme:A}))},B=A=>{v(D=>({...D,allowOverride:A}))},z=A=>{v(D=>({...D,forceGlobal:A}))},H=(A,D)=>{v(Y=>({...Y,overrides:{...Y.overrides,[A]:D}}))},q=(A,D)=>{v(Y=>({...Y,overrides:{...Y.overrides,[A]:D}}))},N=()=>{const A=_.current??mr(Vn);v(A),o("Reverted to last saved values.")},L=async()=>{if(c){o("Read-only mode: theme settings cannot be changed.");return}const A=_.current;if(!Qp(g,A)){o("No changes to save.");return}const D=x.current;if(!D){await T(),o("Settings version refreshed. Please retry.");return}i(!0),o(null);try{const Y={ui:{theme:{default:g.theme,allow_user_override:g.allowOverride,force_global:g.forceGlobal,overrides:g.overrides}}},X=await fetch("/api/settings/ui",{method:"PUT",credentials:"same-origin",headers:Dt({"Content-Type":"application/json","If-Match":D}),body:JSON.stringify(Y)}),ne=await zu(X);if(X.status===409){const pe=ne?.current_etag??X.headers.get("ETag");pe&&(x.current=pe),o("Settings changed elsewhere. Reloaded latest values."),await T({preserveMessage:!0});return}if(!X.ok)throw new Error(`Save failed (HTTP ${X.status}).`);const oe=X.headers.get("ETag")??ne?.etag??null;oe&&(x.current=oe),ne?.config?.ui?j(ne.config.ui):_.current=g;const fe=typeof ne?.message=="string"?ne.message:"Theme settings saved.";o(fe)}catch(Y){o(Y instanceof Error?Y.message:"Save failed.")}finally{i(!1)}},V=t||n||c;return h.jsxs("section",{className:"card mb-4","aria-label":"theme-configurator",children:[h.jsxs("div",{className:"card-header d-flex justify-content-between align-items-center",children:[h.jsx("strong",{children:"Theming"}),h.jsxs("div",{className:"d-flex gap-2",children:[h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>void T(),disabled:t||n,children:"Reload"}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:N,disabled:V,children:"Reset"}),h.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:()=>void L(),disabled:V||!Qp(g,_.current),children:n?"Saving":"Save"})]})]}),h.jsx("div",{className:"card-body vstack gap-4",children:t?h.jsx("p",{children:"Loading theme settings"}):h.jsxs(h.Fragment,{children:[a&&h.jsx("div",{className:"alert alert-info mb-0",role:"status",children:a}),h.jsxs("fieldset",{className:"vstack gap-3",disabled:V,children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"themeSelect",className:"form-label fw-semibold",children:"Default theme"}),h.jsx("select",{id:"themeSelect",className:"form-select",value:g.theme,onChange:A=>P(A.target.value),children:k.map(A=>h.jsxs("option",{value:A.slug,children:[A.name," (",A.source==="bootswatch"?"Bootswatch":"Pack",")"]},A.slug))}),h.jsx("div",{className:"form-text",children:"Users can select from available themes when overrides are allowed."})]}),h.jsxs("div",{className:"form-check",children:[h.jsx("input",{id:"allowOverride",type:"checkbox",className:"form-check-input",checked:g.allowOverride,onChange:A=>B(A.target.checked)}),h.jsx("label",{htmlFor:"allowOverride",className:"form-check-label",children:"Allow user theme override"})]}),h.jsxs("div",{className:"form-check",children:[h.jsx("input",{id:"forceGlobal",type:"checkbox",className:"form-check-input",checked:g.forceGlobal,onChange:A=>z(A.target.checked)}),h.jsx("label",{htmlFor:"forceGlobal",className:"form-check-label",children:"Force global theme (light/dark still follows capability rules)"})]}),h.jsxs("div",{children:[h.jsx("h2",{className:"h5 mb-3",children:"Design tokens"}),h.jsx("div",{className:"row g-3",children:j1.map(({key:A,label:D})=>h.jsxs("div",{className:"col-sm-4",children:[h.jsx("label",{htmlFor:A,className:"form-label",children:D}),h.jsx("input",{id:A,className:"form-control form-control-color",type:"color",value:g.overrides[A]??"#000000",onChange:Y=>H(A,Y.target.value),title:D})]},A))}),h.jsxs("div",{className:"row g-3 mt-1",children:[h.jsxs("div",{className:"col-sm-3",children:[h.jsx("label",{htmlFor:"shadowPreset",className:"form-label",children:"Shadow preset"}),h.jsx("select",{id:"shadowPreset",className:"form-select",value:g.overrides.shadow??"default",onChange:A=>q("shadow",A.target.value),children:C1.map(A=>h.jsx("option",{value:A,children:A},A))})]}),h.jsxs("div",{className:"col-sm-3",children:[h.jsx("label",{htmlFor:"spacingPreset",className:"form-label",children:"Spacing scale"}),h.jsx("select",{id:"spacingPreset",className:"form-select",value:g.overrides.spacing??"default",onChange:A=>q("spacing",A.target.value),children:E1.map(A=>h.jsx("option",{value:A,children:A},A))})]}),h.jsxs("div",{className:"col-sm-3",children:[h.jsx("label",{htmlFor:"typeScalePreset",className:"form-label",children:"Type scale"}),h.jsx("select",{id:"typeScalePreset",className:"form-select",value:g.overrides.typeScale??"medium",onChange:A=>q("typeScale",A.target.value),children:N1.map(A=>h.jsx("option",{value:A,children:A},A))})]}),h.jsxs("div",{className:"col-sm-3",children:[h.jsx("label",{htmlFor:"motionPreset",className:"form-label",children:"Motion"}),h.jsx("select",{id:"motionPreset",className:"form-select",value:g.overrides.motion??"full",onChange:A=>q("motion",A.target.value),children:M1.map(A=>h.jsx("option",{value:A,children:A},A))})]})]})]})]})]})})]})}const T1=5*1024*1024,by=["image/png","image/jpeg","image/webp","image/svg+xml"],P1={primary_logo:"Primary logo",secondary_logo:"Secondary logo",header_logo:"Header logo",footer_logo:"Footer logo",favicon:"Favicon"},hi=()=>({...Vn.brand});async function al(t){try{return await t.json()}catch{return null}}function D1(){const[t,e]=w.useState(hi()),[n,i]=w.useState([]),[a,o]=w.useState(!0),[c,u]=w.useState(!1),[f,m]=w.useState(null),[g,v]=w.useState(null),[x,_]=w.useState(!1),k=w.useRef(null),j=w.useRef(null),C=w.useCallback(async L=>{o(!0),L?.preserveMessage||m(null);try{const[V,A]=await Promise.all([fetch("/api/settings/ui",{method:"GET",credentials:"same-origin",headers:Dt()}),fetch("/api/settings/ui/brand-assets",{method:"GET",credentials:"same-origin",headers:Dt()})]);if(V.status===403){_(!0),m("You do not have permission to update branding."),k.current=null,e(hi()),j.current=hi(),i([]);return}if(V.ok){k.current=V.headers.get("ETag");const D=await al(V),Y=D?.config?.ui?.brand?{...D.config.ui.brand}:hi();e(Y),j.current={...Y}}else m("Failed to load branding settings. Using defaults."),e(hi()),j.current=hi();if(A.ok){const D=await al(A);i(D?.assets??[])}else i([])}catch{m("Failed to load branding settings. Using defaults."),k.current=null,e(hi()),j.current=hi(),i([])}finally{o(!1)}},[]);w.useEffect(()=>{C()},[C]);const T=(L,V)=>{e(A=>({...A,[L]:V}))},P=()=>{const L=j.current;return L?t.title_text!==L.title_text||t.favicon_asset_id!==L.favicon_asset_id||t.primary_logo_asset_id!==L.primary_logo_asset_id||t.secondary_logo_asset_id!==L.secondary_logo_asset_id||t.header_logo_asset_id!==L.header_logo_asset_id||t.footer_logo_asset_id!==L.footer_logo_asset_id||t.footer_logo_disabled!==L.footer_logo_disabled:!0},B=async()=>{if(x){m("Branding is read-only for your account.");return}if(!P()){m("No branding changes to save.");return}const L=k.current;if(!L){await C(),m("Settings version refreshed. Please retry.");return}u(!0),m(null);try{const V={ui:{brand:t}},A=await fetch("/api/settings/ui",{method:"PUT",credentials:"same-origin",headers:Dt({"Content-Type":"application/json","If-Match":L}),body:JSON.stringify(V)}),D=await al(A);if(A.status===409){const X=D?.etag??A.headers.get("ETag");X&&(k.current=X),m("Branding changed elsewhere. Reloaded latest values."),await C({preserveMessage:!0});return}if(!A.ok)throw new Error(`Save failed (HTTP ${A.status}).`);const Y=A.headers.get("ETag")??D?.etag??null;if(Y&&(k.current=Y),D?.config?.ui?.brand){const X={...D.config.ui.brand};e(X),j.current={...X}}else j.current={...t};m("Branding saved.")}catch(V){m(V instanceof Error?V.message:"Save failed.")}finally{u(!1)}},z=async(L,V)=>{if(!by.includes(V.type)){v(`Unsupported file type: ${V.type||"unknown"}.`);return}if(V.size>T1){v("File exceeds 5 MB limit.");return}const A=new FormData;A.append("kind",L),A.append("file",V);try{const D=await fetch("/api/settings/ui/brand-assets",{method:"POST",credentials:"same-origin",headers:Dt(),body:A}),Y=await al(D);if(!D.ok||!Y?.asset){const ne=typeof Y?.message=="string"?Y.message:"Upload failed.";v(ne);return}const X=Y.asset;switch(i(ne=>[X,...ne.filter(oe=>oe.id!==X.id)]),L){case"primary_logo":T("primary_logo_asset_id",Y.asset.id);break;case"secondary_logo":T("secondary_logo_asset_id",Y.asset.id);break;case"header_logo":T("header_logo_asset_id",Y.asset.id);break;case"footer_logo":T("footer_logo_asset_id",Y.asset.id);break;case"favicon":T("favicon_asset_id",Y.asset.id);break}v("Upload successful.")}catch{v("Upload failed.")}},H=async L=>{if(window.confirm("Delete this asset? This cannot be undone."))try{const V=await fetch(`/api/settings/ui/brand-assets/${encodeURIComponent(L)}`,{method:"DELETE",credentials:"same-origin",headers:Dt()});if(!V.ok)throw new Error(`Delete failed (${V.status})`);i(Y=>Y.filter(X=>X.id!==L));let A=!1;const D={...t};["favicon","primary_logo","secondary_logo","header_logo","footer_logo"].forEach(Y=>{const X=`${Y}_asset_id`;D[X]===L&&(D[X]=null,A=!0)}),A&&(e(D),m("Asset deleted and references cleared. Save to apply."))}catch(V){v(V instanceof Error?V.message:"Delete failed.")}},q=a||c||x,N=L=>L?n.find(V=>V.id===L)??null:null;return h.jsxs("section",{className:"card mb-4","aria-label":"branding-card",children:[h.jsxs("div",{className:"card-header d-flex justify-content-between align-items-center",children:[h.jsx("strong",{children:"Branding"}),h.jsxs("div",{className:"d-flex gap-2",children:[h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>void C(),disabled:a||c,children:"Reload"}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>{j.current&&(e({...j.current}),m("Reverted to last saved branding."))},disabled:q,children:"Reset"}),h.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:()=>void B(),disabled:q,children:c?"Saving":"Save"})]})]}),h.jsx("div",{className:"card-body vstack gap-4",children:a?h.jsx("p",{children:"Loading branding settings"}):h.jsxs(h.Fragment,{children:[f&&h.jsx("div",{className:"alert alert-info mb-0",role:"status",children:f}),g&&h.jsx("div",{className:"alert alert-secondary mb-0",role:"note",children:g}),h.jsxs("fieldset",{className:"vstack gap-3",disabled:q,children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"brandTitle",className:"form-label fw-semibold",children:"Title text"}),h.jsx("input",{id:"brandTitle",type:"text",className:"form-control",value:t.title_text,maxLength:120,onChange:L=>T("title_text",L.target.value)}),h.jsx("div",{className:"form-text",children:"Default: phpGRC  <module>"})]}),h.jsx(Ca,{label:"Primary logo",description:"Displayed in header and as fallback for other locations.",kind:"primary_logo",asset:N(t.primary_logo_asset_id),assets:n,onUpload:z,onSelect:L=>T("primary_logo_asset_id",L),onClear:()=>T("primary_logo_asset_id",null),onDelete:H,disabled:q}),h.jsx(Ca,{label:"Secondary logo",description:"Used when the primary logo is not suitable; falls back to primary otherwise.",kind:"secondary_logo",asset:N(t.secondary_logo_asset_id),assets:n,onUpload:z,onSelect:L=>T("secondary_logo_asset_id",L),onClear:()=>T("secondary_logo_asset_id",null),onDelete:H,disabled:q}),h.jsx(Ca,{label:"Header logo",description:"Optional specialized logo for application header.",kind:"header_logo",asset:N(t.header_logo_asset_id),assets:n,onUpload:z,onSelect:L=>T("header_logo_asset_id",L),onClear:()=>T("header_logo_asset_id",null),onDelete:H,disabled:q}),h.jsx(Ca,{label:"Footer logo",description:"Displayed in footer; falls back to primary when absent.",kind:"footer_logo",asset:N(t.footer_logo_asset_id),assets:n,onUpload:z,onSelect:L=>T("footer_logo_asset_id",L),onClear:()=>T("footer_logo_asset_id",null),onDelete:H,disabled:q}),h.jsxs("div",{className:"form-check",children:[h.jsx("input",{id:"footerLogoDisabled",type:"checkbox",className:"form-check-input",checked:t.footer_logo_disabled,onChange:L=>T("footer_logo_disabled",L.target.checked)}),h.jsx("label",{htmlFor:"footerLogoDisabled",className:"form-check-label",children:"Disable footer logo (falls back to primary when unchecked)."})]}),h.jsx(Ca,{label:"Favicon",description:"Used in browser tabs. If absent, derived from primary logo.",kind:"favicon",asset:N(t.favicon_asset_id),assets:n,onUpload:z,onSelect:L=>T("favicon_asset_id",L),onClear:()=>T("favicon_asset_id",null),onDelete:H,disabled:q})]}),h.jsx(L1,{assets:n,onDelete:H,disabled:q})]})})]})}function Ca({label:t,description:e,kind:n,asset:i,assets:a,onUpload:o,onSelect:c,onClear:u,onDelete:f,disabled:m}){const g=w.useRef(null),v=_=>{const k=_.target.files?.[0];k&&o(n,k)},x=a.filter(_=>_.kind===n);return h.jsx("div",{className:"card border-secondary-subtle",children:h.jsxs("div",{className:"card-body d-flex flex-column flex-lg-row gap-3",children:[h.jsxs("div",{className:"flex-grow-1",children:[h.jsx("h3",{className:"h6 mb-1",children:t}),h.jsx("p",{className:"text-muted small mb-3",children:e}),i?h.jsxs("div",{className:"d-flex align-items-center gap-3",children:[i.url?h.jsx("img",{src:i.url,alt:`${t} preview`,style:{maxHeight:64,maxWidth:120},className:"border rounded"}):h.jsx("div",{className:"border rounded bg-light d-flex align-items-center justify-content-center",style:{height:64,width:120},children:h.jsx("span",{className:"text-muted small",children:"Preview"})}),h.jsxs("div",{className:"small text-muted",children:[h.jsx("div",{children:i.name}),h.jsx("div",{children:i.mime}),h.jsx("div",{children:_y(i.size_bytes)})]})]}):h.jsx("div",{className:"text-muted small",children:"No asset selected."})]}),h.jsxs("div",{className:"d-flex flex-column gap-2",children:[h.jsx("button",{type:"button",className:"btn btn-outline-primary btn-sm",onClick:()=>g.current?.click(),disabled:m,children:"Upload new"}),h.jsx("input",{ref:g,type:"file",accept:by.join(","),className:"d-none",onChange:v}),h.jsxs("select",{className:"form-select form-select-sm",value:i?.id??"",onChange:_=>c(_.target.value||null),disabled:m||x.length===0,children:[h.jsx("option",{value:"",children:"Select existing"}),x.map(_=>h.jsx("option",{value:_.id,children:_.name},_.id))]}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:u,disabled:m||!i,children:"Clear selection"}),h.jsx("button",{type:"button",className:"btn btn-outline-danger btn-sm",onClick:()=>i&&f(i.id),disabled:m||!i,children:"Delete asset"})]})]})})}function L1({assets:t,onDelete:e,disabled:n}){return t.length===0?h.jsx("div",{className:"alert alert-secondary mb-0",role:"note",children:"No uploaded branding assets yet."}):h.jsx("div",{className:"table-responsive",children:h.jsxs("table",{className:"table table-sm align-middle",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{scope:"col",children:"Name"}),h.jsx("th",{scope:"col",children:"Kind"}),h.jsx("th",{scope:"col",children:"Size"}),h.jsx("th",{scope:"col",children:"Uploaded"}),h.jsx("th",{scope:"col",className:"text-end",children:"Actions"})]})}),h.jsx("tbody",{children:t.map(i=>h.jsxs("tr",{children:[h.jsx("td",{children:i.name}),h.jsx("td",{children:P1[i.kind]}),h.jsx("td",{children:_y(i.size_bytes)}),h.jsx("td",{children:A1(i.created_at)}),h.jsx("td",{className:"text-end",children:h.jsx("button",{type:"button",className:"btn btn-outline-danger btn-sm",onClick:()=>e(i.id),disabled:n,children:"Delete"})})]},i.id))})]})})}function _y(t){if(!Number.isFinite(t)||t<=0)return"0 B";const e=["B","KB","MB","GB"],n=Math.min(e.length-1,Math.floor(Math.log(t)/Math.log(1024))),i=t/Math.pow(1024,n);return`${i.toFixed(i>=10?0:1)} ${e[n]}`}function A1(t){const e=new Date(t);return Number.isNaN(e.getTime())?t:e.toLocaleString()}const Gp=[{value:"LOCAL",label:"Local date & time",example:"Example: 9/30/2025, 5:23:01 PM"},{value:"ISO_8601",label:"ISO 8601 (UTC)",example:"Example: 2025-09-30 21:23:01Z"},{value:"RELATIVE",label:"Relative time",example:"Example: 5 minutes ago"}];function O1(){const[t,e]=w.useState(!0),[n,i]=w.useState(!1),[a,o]=w.useState(null),[c,u]=w.useState(!1),[f,m]=w.useState(0),[g,v]=w.useState(7),[x,_]=w.useState(!1),[k,j]=w.useState(50),[C,T]=w.useState(365),[P,B]=w.useState(Is),[z,H]=w.useState(""),[q,N]=w.useState(25),L="/opt/phpgrc/shared/blobs",[V,A]=w.useState(!1),D=w.useRef(null),Y=w.useRef(null),X=(M,S,F)=>Math.max(S,Math.min(F,Math.trunc(M))),ne=w.useCallback(M=>{const S=M?.core??{},F=S.metrics??{},ee=S.rbac??{},ae=S.audit??{},ce=S.evidence??{},de=X(Number(F.cache_ttl_seconds??0),0,2592e3),De=X(Number(F.rbac_denies?.window_days??7),7,365),ke=!!(ee.require_auth??!1),Ve=X(Number(ee.user_search?.default_per_page??50),1,500),Ze=X(Number(ae.retention_days??365),1,730),It=Ba(S.ui?.time_format),lt=typeof ce?.blob_storage_path=="string"?ce.blob_storage_path.trim():"",tt=lt===L?"":lt,Lt=X(Number(ce?.max_mb??25),1,4096);m(de),v(De),_(ke),j(Ve),T(Ze),B(It),H(tt),N(Lt),D.current={cacheTtl:de,rbacDays:De,rbacRequireAuth:ke,rbacUserSearchPerPage:Ve,retentionDays:Ze,timeFormat:It,evidenceBlobPath:tt,evidenceMaxMb:Lt}},[L]),oe=w.useCallback(async()=>{e(!0);try{const M=await fetch("/api/admin/settings",{method:"GET",credentials:"same-origin",headers:Dt()});if(M.status===403){u(!0),o("You do not have permission to view settings."),D.current=null;return}if(!M.ok)throw new Error(`Failed to load settings (HTTP ${M.status})`);const S=await M.json(),F=M.headers.get("ETag");F&&(Y.current=F),u(!1),ne(S?.config??null)}catch{o("Failed to load settings.")}finally{e(!1)}},[ne]);w.useEffect(()=>{o(null),oe()},[oe]);const fe=()=>({cacheTtl:X(Number(f)||0,0,2592e3),rbacDays:X(Number(g)||7,7,365),rbacRequireAuth:x,rbacUserSearchPerPage:X(Number(k)||50,1,500),retentionDays:X(Number(C)||365,1,730),timeFormat:P,evidenceBlobPath:z.trim(),evidenceMaxMb:X(Number(q)||25,1,4096)}),pe=()=>{const M=fe(),S=D.current,F={apply:!0};if(!S)return F.rbac={require_auth:M.rbacRequireAuth,user_search:{default_per_page:M.rbacUserSearchPerPage}},F.audit={retention_days:M.retentionDays},F.metrics={cache_ttl_seconds:M.cacheTtl,rbac_denies:{window_days:M.rbacDays}},F.ui={time_format:M.timeFormat},F.evidence={blob_storage_path:M.evidenceBlobPath,max_mb:M.evidenceMaxMb},F;const ee={};M.rbacRequireAuth!==S.rbacRequireAuth&&(ee.require_auth=M.rbacRequireAuth),M.rbacUserSearchPerPage!==S.rbacUserSearchPerPage&&(ee.user_search={default_per_page:M.rbacUserSearchPerPage}),Object.keys(ee).length>0&&(F.rbac=ee),M.retentionDays!==S.retentionDays&&(F.audit={retention_days:M.retentionDays});const ae={};M.cacheTtl!==S.cacheTtl&&(ae.cache_ttl_seconds=M.cacheTtl),M.rbacDays!==S.rbacDays&&(ae.rbac_denies={window_days:M.rbacDays}),Object.keys(ae).length>0&&(F.metrics=ae),M.timeFormat!==S.timeFormat&&(F.ui={time_format:M.timeFormat});const ce={};return M.evidenceBlobPath!==S.evidenceBlobPath&&(ce.blob_storage_path=M.evidenceBlobPath),M.evidenceMaxMb!==S.evidenceMaxMb&&(ce.max_mb=M.evidenceMaxMb),Object.keys(ce).length>0&&(F.evidence=ce),F};async function J(M){if(M.preventDefault(),c){o("You do not have permission to modify settings.");return}i(!0),o(null);try{const S=pe();if(!F1(S)){o("No changes to save."),i(!1);return}const ee=Y.current;if(!ee){o("Settings version missing. Reloading..."),await oe();return}const ae=await fetch("/api/admin/settings",{method:"POST",credentials:"same-origin",headers:Dt({"Content-Type":"application/json","If-Match":ee}),body:JSON.stringify(S)}),ce=await I1(ae);if(ae.status===409){const ke=ce?.current_etag??ae.headers.get("ETag");ke&&(Y.current=ke),o("Settings changed in another session. Latest values have been reloaded."),await oe();return}if(!ae.ok)throw new Error(`Save failed with status ${ae.status}`);const de=ae.headers.get("ETag")??ce?.etag??null;if(de&&(Y.current=de),ce?.config)ne(ce.config);else{const ke=fe();D.current=ke,m(ke.cacheTtl),v(ke.rbacDays),_(ke.rbacRequireAuth),j(ke.rbacUserSearchPerPage),T(ke.retentionDays),B(ke.timeFormat),H(ke.evidenceBlobPath),N(ke.evidenceMaxMb)}const De=typeof ce?.message=="string"?ce.message:ce?.note==="stub-only"?"Validated. Not persisted (stub).":"Saved.";o(De)}catch(S){o(S instanceof Error?S.message:"Save failed.")}finally{i(!1)}}async function se(){if(!V&&window.confirm("Purge all evidence records? This cannot be undone.")){A(!0),o(null);try{const M=await Ls("/api/admin/evidence/purge",{confirm:!0}),S=typeof M?.deleted=="number"?M.deleted:0;S>0?o(`Purged ${S} evidence item${S===1?"":"s"}.`):M?.note==="evidence-table-missing"?o("Evidence table not available."):o("No evidence to purge.")}catch{o("Purge failed.")}finally{A(!1)}}}return h.jsxs("main",{id:"main",className:"container py-3",children:[h.jsx("h1",{className:"mb-3",children:"Admin Settings"}),h.jsx(R1,{}),h.jsx(D1,{}),t?h.jsx("p",{children:"Loading"}):h.jsxs("form",{onSubmit:J,className:"vstack gap-3","aria-label":"admin-settings",children:[h.jsxs("section",{className:"card",children:[h.jsx("div",{className:"card-header",children:h.jsx("strong",{children:"Authentication"})}),h.jsxs("div",{className:"card-body vstack gap-3",children:[h.jsxs("div",{className:"form-check",children:[h.jsx("input",{id:"rbacRequireAuth",type:"checkbox",className:"form-check-input",checked:x,onChange:M=>_(M.target.checked)}),h.jsx("label",{htmlFor:"rbacRequireAuth",className:"form-check-label",children:"Enforce Authentication"})]}),h.jsx("div",{className:"row g-2 align-items-end",children:h.jsxs("div",{className:"col-sm-4",children:[h.jsx("label",{htmlFor:"rbacUserSearchPerPage",className:"form-label",children:"User search default per-page"}),h.jsx("input",{id:"rbacUserSearchPerPage",type:"number",min:1,max:500,className:"form-control",value:k,onChange:M=>j(X(Number(M.target.value)||50,1,500))})]})})]})]}),h.jsxs("section",{className:"card",children:[h.jsx("div",{className:"card-header",children:h.jsx("strong",{children:"Audit"})}),h.jsxs("div",{className:"card-body",children:[h.jsx("label",{htmlFor:"retentionDays",className:"form-label",children:"Retention days"}),h.jsx("input",{id:"retentionDays",type:"number",min:1,max:730,className:"form-control",value:C,onChange:M=>T(Math.max(1,Math.min(730,Number(M.target.value)||1)))})]})]}),h.jsxs("section",{className:"card",children:[h.jsx("div",{className:"card-header",children:h.jsx("strong",{children:"Interface"})}),h.jsxs("div",{className:"card-body",children:[h.jsx("label",{htmlFor:"timeFormat",className:"form-label",children:"Timestamp display"}),h.jsx("select",{id:"timeFormat",className:"form-select",value:P,onChange:M=>B(Ba(M.target.value)),children:Gp.map(M=>h.jsx("option",{value:M.value,children:M.label},M.value))}),h.jsx("div",{className:"form-text",children:Gp.find(M=>M.value===P)?.example})]})]}),h.jsxs("section",{className:"card",children:[h.jsx("div",{className:"card-header",children:h.jsx("strong",{children:"Evidence"})}),h.jsxs("div",{className:"card-body vstack gap-3",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"evidenceBlobPath",className:"form-label",children:"Blob storage path"}),h.jsx("input",{id:"evidenceBlobPath",type:"text",className:"form-control placeholder-hide-on-focus",value:z,onChange:M=>H(M.target.value),placeholder:L,autoComplete:"off",onFocus:M=>{M.currentTarget.dataset.placeholder=M.currentTarget.placeholder,M.currentTarget.placeholder=""},onBlur:M=>{const S=M.currentTarget.dataset.placeholder||L;M.currentTarget.placeholder=M.currentTarget.value.trim()===""?S:L}}),h.jsx("div",{className:"form-text",children:"Leave blank to keep storing evidence in the database."})]}),h.jsx("div",{className:"row g-2 align-items-end",children:h.jsxs("div",{className:"col-sm-4",children:[h.jsx("label",{htmlFor:"evidenceMaxMb",className:"form-label",children:"Maximum file size (MB)"}),h.jsx("input",{id:"evidenceMaxMb",type:"number",min:1,max:4096,className:"form-control",value:q,onChange:M=>{const S=Math.trunc(Number(M.target.value)||1);N(X(S,1,4096))}}),h.jsx("div",{className:"form-text",children:"Files larger than this limit will be rejected."})]})}),h.jsxs("div",{className:"d-flex flex-column flex-sm-row align-items-sm-center gap-2",children:[h.jsx("button",{type:"button",className:"btn btn-outline-danger",onClick:()=>void se(),disabled:n||V,children:V?"Purging":"Purge evidence"}),h.jsx("span",{className:"text-muted small",children:"Irreversibly deletes all stored evidence records."})]})]})]}),h.jsxs("section",{className:"card",children:[h.jsx("div",{className:"card-header",children:h.jsx("strong",{children:"Metrics"})}),h.jsx("div",{className:"card-body vstack gap-3",children:h.jsxs("div",{className:"row g-2 align-items-end",children:[h.jsxs("div",{className:"col-sm-4",children:[h.jsx("label",{htmlFor:"cacheTtl",className:"form-label",children:"Cache TTL (seconds)"}),h.jsx("input",{id:"cacheTtl",type:"number",min:0,max:2592e3,className:"form-control",value:f,onChange:M=>m(Math.max(0,Math.min(2592e3,Number(M.target.value)||0)))})]}),h.jsxs("div",{className:"col-sm-4",children:[h.jsx("label",{htmlFor:"rbacDays",className:"form-label",children:"Authentication window (days)"}),h.jsx("input",{id:"rbacDays",type:"number",className:"form-control",value:g,onChange:M=>{const S=Math.trunc(Number(M.target.value));v(Number.isFinite(S)?S:0)}})]})]})})]}),h.jsxs("div",{className:"hstack gap-2",children:[h.jsx("button",{type:"submit",className:"btn btn-primary",disabled:n||V||c,children:n?"Saving":"Save"}),a&&h.jsx("span",{"aria-live":"polite",className:"text-muted",children:a})]})]})]})}function F1(t){return Object.entries(t).some(([e,n])=>e==="apply"||n==null?!1:typeof n!="object"?!0:Object.keys(n).length>0)}async function I1(t){try{return await t.json()}catch{return null}}function mt(t){return t!==null&&typeof t=="object"}function qp(t,e,n){return!Number.isFinite(t)||t<e?e:t>n?n:t}function wy(t){if(!mt(t))return null;const e=Number(t.id??0),n=String(t.name??""),i=String(t.email??"");return!Number.isFinite(e)||e<=0?null:{id:e,name:n,email:i}}function Md(t){if(t instanceof Ft){const e=t.body,n=mt(e)&&typeof e.code=="string"?e.code:"REQUEST_FAILED",i=mt(e)&&typeof e.message=="string"?e.message:void 0;return{ok:!1,code:n,message:i}}return{ok:!1,code:"NETWORK_ERROR"}}async function Rd(){try{const t=await xr("/api/rbac/roles"),e=mt(t)?t:{},n=[];let i=!1;const a=c=>{Array.isArray(c)&&(i=!0,n.push(...c))};if(a(t),a(e.roles),a(e.data),!i)return{ok:!1,roles:[],note:"invalid_response"};const o=typeof e.note=="string"?e.note:void 0;return{ok:!0,roles:n,note:o}}catch{return{ok:!1,roles:[],note:"network_error"}}}async function z1(t){try{const e=await Ls("/api/rbac/roles",{name:t}),n=mt(e)?e:{},i=n.role,a=mt(i)?i:void 0,o=a&&a.id!==void 0?String(a.id):void 0,c=a&&a.name!==void 0?String(a.name):void 0;if(n.ok===!0&&o&&c)return{kind:"created",status:201,roleId:o,roleName:c,raw:e};if((typeof n.note=="string"?n.note:void 0)==="stub-only"){const g=n.accepted;let v=t;if(mt(g)){const x=g.name;typeof x=="string"&&(v=x)}return{kind:"stub",status:202,acceptedName:v,raw:e}}return{kind:"error",status:400,code:typeof n.code=="string"?n.code:void 0,raw:e}}catch(e){if(e instanceof Ft){const n=e.body,i=mt(n)&&typeof n.code=="string"?n.code:void 0,a=mt(n)&&typeof n.message=="string"?n.message:void 0;let o;if(mt(n?.errors)){const c=n.errors;for(const u of Object.values(c))if(Array.isArray(u)){const f=u.find(m=>typeof m=="string"&&m.trim()!=="");if(f){o=f;break}}}return{kind:"error",status:e.status,code:i,message:o??a,raw:n}}return{kind:"error",status:0,code:"NETWORK_ERROR"}}}async function U1(t,e){try{const n=await sb(`/api/rbac/roles/${encodeURIComponent(t)}`,{name:e}),i=mt(n)?n:{};if(i.ok===!0&&mt(i.role)){const u=i.role,f=typeof u.id=="string"?u.id:void 0,m=typeof u.name=="string"?u.name:void 0;if(f&&m)return{kind:"updated",status:200,roleId:f,roleName:m,raw:n}}if((typeof i.note=="string"?i.note:void 0)==="stub-only"){const u=mt(i.accepted)?i.accepted:void 0;return{kind:"stub",status:202,acceptedName:u&&typeof u.name=="string"?u.name:void 0,raw:n}}const o=typeof i.code=="string"?i.code:void 0,c=typeof i.message=="string"?i.message:void 0;return{kind:"error",status:typeof(i.status??400)=="number"?i.status:400,code:o,message:c,raw:n}}catch(n){if(n instanceof Ft){const i=n.body,a=mt(i)&&typeof i.code=="string"?i.code:void 0,o=mt(i)&&typeof i.message=="string"?i.message:void 0;return{kind:"error",status:n.status,code:a,message:o,raw:i??n}}return{kind:"error",status:0,code:"NETWORK_ERROR"}}}async function B1(t){try{const e=await Ol(`/api/rbac/roles/${encodeURIComponent(t)}`),n=mt(e)?e:{};if(n.ok===!0)return{kind:"deleted",status:200,raw:e};if((typeof n.note=="string"?n.note:void 0)==="stub-only")return{kind:"stub",status:202,raw:e};const a=typeof n.code=="string"?n.code:void 0,o=typeof n.message=="string"?n.message:void 0;return{kind:"error",status:typeof(n.status??400)=="number"?n.status:400,code:a,message:o,raw:e}}catch(e){if(e instanceof Ft){const n=e.body,i=mt(n)&&typeof n.code=="string"?n.code:void 0,a=mt(n)&&typeof n.message=="string"?n.message:void 0;return{kind:"error",status:e.status,code:i,message:a,raw:n??e}}return{kind:"error",status:0,code:"NETWORK_ERROR"}}}async function Zu(t){try{const e=await xr(`/api/rbac/users/${encodeURIComponent(String(t))}/roles`),n=mt(e)?e:{};if(n.ok===!0)return e;const i=wy(n.user),a=Array.isArray(n.roles)?n.roles.filter(u=>typeof u=="string"):null;if(i&&a)return{ok:!0,user:i,roles:a};const o=typeof n.code=="string"?n.code:"REQUEST_FAILED",c=typeof n.message=="string"?n.message:void 0;return{ok:!1,code:o,message:c}}catch(e){return Md(e)}}async function $1(t,e){try{const n=await Ls(`/api/rbac/users/${encodeURIComponent(String(t))}/roles/${encodeURIComponent(e)}`),i=mt(n)?n:{};if(i.ok===!0)return n;const a=typeof i.code=="string"?i.code:"REQUEST_FAILED",o=typeof i.message=="string"?i.message:void 0;return{ok:!1,code:a,message:o}}catch(n){return Md(n)}}async function H1(t,e){try{const n=await Ol(`/api/rbac/users/${encodeURIComponent(String(t))}/roles/${encodeURIComponent(e)}`),i=mt(n)?n:{};if(i.ok===!0)return n;const a=typeof i.code=="string"?i.code:"REQUEST_FAILED",o=typeof i.message=="string"?i.message:void 0;return{ok:!1,code:a,message:o}}catch(n){return Md(n)}}async function Td(t,e=1,n=50){try{const i=qp(Number(e)||1,1,Number.MAX_SAFE_INTEGER),a=qp(Number(n)||50,1,500),o=await xr("/api/rbac/users/search",{q:t,page:i,per_page:a}),c=mt(o)?o:{},f=(Array.isArray(c.data)?c.data:[]).map(wy).filter(k=>!!k),m=mt(c.meta)?c.meta:{},g={page:Number(m.page??i)||i,per_page:Number(m.per_page??a)||a,total:Number(m.total??f.length)||0,total_pages:Number(m.total_pages??1)||1};if(c.ok===!0||Array.isArray(c.data)&&mt(c.meta))return{ok:!0,data:f,meta:g};const x=typeof c.code=="string"?c.code:"REQUEST_FAILED",_=typeof c.message=="string"?c.message:void 0;return{ok:!1,status:400,code:x,message:_,raw:o}}catch(i){if(i instanceof Ft){const a=i.body,o=mt(a)&&typeof a.code=="string"?a.code:"REQUEST_FAILED",c=mt(a)&&typeof a.message=="string"?a.message:void 0;return{ok:!1,status:i.status,code:o,message:c,raw:a}}return{ok:!1,status:0,code:"NETWORK_ERROR"}}}function W1(t){return t.normalize("NFKD").replace(/[\u0300-\u036f]/g,"")}function ml(t){if(typeof t=="string"){const e=t.trim();return e===""?null:e}return typeof t=="number"&&Number.isFinite(t)?String(t):null}function Pd(t){const e=W1(t.trim());return e===""?"":e.replace(/[\s-]+/g,"_").replace(/[^a-zA-Z0-9_]+/g,"").replace(/_+/g,"_").replace(/^_+|_+$/g,"").toLowerCase()}function vr(t){const e=t.trim().replace(/[_-]+/g," ");return e===""?"":e.split(/\s+/).map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join(" ")}function Dd(t){if(!Array.isArray(t))return[];const e=new Set,n=[];for(const i of t){let a=null,o=null;if(typeof i=="string"||typeof i=="number"){const m=ml(i);if(!m)continue;a=m,o=m}else if(i&&typeof i=="object"){const m=ml(i.id),g=ml(i.name);a=m??g,o=g??m}if(a===null)continue;const c=Pd(a);if(c===""||e.has(c))continue;e.add(c);const u=o??a,f=vr(u)||vr(c)||u;n.push({id:c,name:f})}return n.sort((i,a)=>i.name.localeCompare(a.name,void 0,{sensitivity:"base"}))}function Ki(t){if(!Array.isArray(t))return[];const e=new Set,n=[];for(const i of t){const a=ml(i);if(!a)continue;const o=Pd(a);o===""||e.has(o)||(e.add(o),n.push(o))}return n}function V1(){const[t,e]=w.useState(!0),[n,i]=w.useState([]),[a,o]=w.useState(null),[c,u]=w.useState(null),[f,m]=w.useState(""),[g,v]=w.useState(!1);async function x(C){e(!0),u(null);try{const T=await Rd();if(C?.aborted)return;T.ok?(i(Dd(T.roles??[])),o(T.note??null)):u("Failed to load roles.")}catch{C?.aborted||u("Failed to load roles.")}finally{C?.aborted||e(!1)}}w.useEffect(()=>{const C=new AbortController;return x(C.signal),()=>C.abort()},[]);const _=async C=>{C.preventDefault(),u(null);const T=f.trim();if(!(T.length<2)){v(!0);try{const P=await z1(T);if(P.kind==="created"){const B=Pd(P.roleName),z=vr(B||P.roleName)||P.roleName;u(`Created role ${z} (${P.roleId}).`),m(""),B&&i(H=>H.some(N=>N.id===B)?H:[...H,{id:B,name:z}].sort((N,L)=>N.name.localeCompare(L.name,void 0,{sensitivity:"base"}))),await x()}else if(P.kind==="stub"){const B=P.acceptedName??T,z=vr(B)??B;u(`Accepted: "${z}". Persistence not implemented.`),m("")}else P.kind==="error"&&(P.code==="FORBIDDEN"?u("Forbidden. Admin required."):P.code==="VALIDATION_FAILED"?u(P.message??"Validation error."):P.message?u(P.message):P.code==="NETWORK_ERROR"?u("Network error. Please retry."):u("Request failed."))}finally{v(!1)}}};async function k(C){const T=prompt("Rename role",C.name);if(T===null)return;const P=T.trim();if(P.length<2){u("Role name must be at least 2 characters.");return}v(!0),u(null);try{const B=await U1(C.id,P);if(B.kind==="updated"){const z=vr(B.roleName)??B.roleName;u(`Renamed to ${z}.`),await x()}else if(B.kind==="stub"){const z=B.acceptedName??P,H=vr(z)??z;u(`Accepted: "${H}". Persistence not implemented.`)}else u(B.message??B.code??"Rename failed.")}catch{u("Rename failed.")}finally{v(!1)}}async function j(C){const T=C.name;if(confirm(`Delete ${T}?`)){v(!0),u(null);try{const P=await B1(C.id);P.kind==="deleted"?(u(`${T} deleted.`),await x()):P.kind==="stub"?u("Accepted. Persistence not implemented."):u(P.message??P.code??"Delete failed.")}catch{u("Delete failed.")}finally{v(!1)}}}return t?h.jsxs("div",{className:"container py-5",role:"status","aria-live":"polite","aria-busy":"true",children:[h.jsx("div",{className:"spinner-border","aria-hidden":"true"}),h.jsx("span",{className:"visually-hidden",children:"Loading"})]}):h.jsxs("main",{id:"main",className:"container py-3",role:"main","aria-busy":g,children:[h.jsx("h1",{className:"mb-3",children:"Roles Management"}),h.jsxs("div",{"aria-live":"polite",role:"status",children:[a&&h.jsx("div",{className:"alert alert-secondary",role:"note",children:a}),c&&h.jsx("div",{className:"alert alert-info",role:"alert",children:c})]}),n.length===0?h.jsx("p",{className:"text-muted",children:"No roles defined."}):h.jsx("div",{className:"table-responsive",children:h.jsxs("table",{className:"table table-sm align-middle",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{scope:"col",children:"Role"}),h.jsx("th",{scope:"col",style:{width:"14rem"},children:"Actions"})]})}),h.jsx("tbody",{children:n.map(C=>h.jsxs("tr",{children:[h.jsx("td",{children:C.name}),h.jsxs("td",{className:"d-flex gap-2",children:[h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>void k(C),disabled:g,children:"Rename"}),h.jsx("button",{type:"button",className:"btn btn-outline-danger btn-sm",onClick:()=>void j(C),disabled:g,children:"Delete"})]})]},C.id))})]})}),h.jsxs("form",{className:"card p-3",onSubmit:_,noValidate:!0,"aria-busy":g,children:[h.jsxs("div",{className:"mb-2",children:[h.jsx("label",{htmlFor:"roleName",className:"form-label",children:"Create role"}),h.jsx("input",{id:"roleName",type:"text",name:"name",className:"form-control",value:f,minLength:2,maxLength:64,onChange:C=>m(C.target.value),placeholder:"e.g., Compliance Lead",required:!0,autoComplete:"off","aria-describedby":"roleHelp"}),h.jsx("div",{id:"roleHelp",className:"form-text",children:"264 characters. Letters, numbers, spaces, and dashes recommended."})]}),h.jsx("button",{type:"submit",className:"btn btn-primary",disabled:f.trim().length<2||g,children:g?"Submitting":"Submit"})]})]})}function Y1(){const[t,e]=w.useState([]),[n,i]=w.useState(!1),[a,o]=w.useState(""),[c,u]=w.useState(!1),[f,m]=w.useState(null),[g,v]=w.useState([]),[x,_]=w.useState(""),[k,j]=w.useState(""),[C,T]=w.useState(1),[P,B]=w.useState(50),[z,H]=w.useState(!1),[q,N]=w.useState([]),[L,V]=w.useState(null),[A,D]=w.useState(null),Y=w.useRef(null);w.useEffect(()=>{const M=new AbortController;return(async()=>{i(!0);try{const S=await Rd();if(M.signal.aborted)return;S.ok?e(Dd(S.roles??[])):(e([]),D("Failed to load roles."))}catch{M.signal.aborted||(e([]),D("Failed to load roles."))}finally{M.signal.aborted||i(!1)}})(),()=>M.abort()},[]);async function X(){D(null),m(null),v([]);const M=Number(a);if(!Number.isInteger(M)||M<=0){D("Enter a valid User ID.");return}u(!0);try{const S=await Zu(M);if(S.ok){const F=S;m(F.user);const ee=Ki(F.roles??[]);v(ee),_(""),D(null),queueMicrotask(()=>Y.current?.focus())}else D(`Error: ${S.code}${S.message?" - "+S.message:""}`)}catch{D("Network error.")}finally{u(!1)}}const ne=w.useMemo(()=>t.filter(M=>!g.includes(M.id)),[t,g]);w.useEffect(()=>{if(ne.length===0){x!==""&&_("");return}ne.some(M=>M.id===x)||_(ne[0].id)},[ne,x]);async function oe(){if(f&&x){D(null);try{const M=await $1(f.id,x);if(M.ok){const F=Ki(M.roles??[]);v(F);const ee=vr(x);_(""),D(ee?`${ee} attached.`:"Role attached.")}else D(`Attach failed: ${M.code}${M.message?" - "+M.message:""}`)}catch{D("Attach failed.")}}}async function fe(M){if(f){D(null);try{const S=await H1(f.id,M);if(S.ok){const ee=Ki(S.roles??[]);v(ee);const ae=vr(M);D(ae?`${ae} detached.`:"Role detached.")}else D(`Detach failed: ${S.code}${S.message?" - "+S.message:""}`)}catch{D("Detach failed.")}}}async function pe(M){H(!0),D(null);try{const F=await Td(k,typeof M=="number"?M:C,P);if(F.ok){const ee=F;N(ee.data),V(ee.meta),T(ee.meta.page)}else N([]),V(null),D(`Search failed: ${F.code}${F.message?" - "+F.message:""}`)}catch{N([]),V(null),D("Search failed.")}finally{H(!1)}}function J(M){o(String(M.id)),N([]),V(null),se(M.id)}async function se(M){D(null),m(null),v([]),u(!0);try{const S=await Zu(M);if(S.ok){const F=S;m(F.user);const ee=Ki(F.roles??[]);v(ee),_(""),queueMicrotask(()=>Y.current?.focus())}else D(`Error: ${S.code}${S.message?" - "+S.message:""}`)}catch{D("Network error.")}finally{u(!1)}}return h.jsxs("main",{className:"container py-3",children:[h.jsx("h1",{className:"mb-3",children:"User Roles"}),h.jsxs("section",{"aria-labelledby":"search",children:[h.jsx("h2",{id:"search",className:"h5",children:"Search users"}),h.jsxs("div",{className:"row g-2 align-items-end",children:[h.jsxs("div",{className:"col-12 col-md-5",children:[h.jsx("label",{htmlFor:"q",className:"form-label",children:"Query"}),h.jsx("input",{id:"q",type:"text",className:"form-control",value:k,onChange:M=>j(M.currentTarget.value),placeholder:"Search name, email, or role"})]}),h.jsxs("div",{className:"col-6 col-md-2",children:[h.jsx("label",{htmlFor:"per_page",className:"form-label",children:"Per page"}),h.jsx("input",{id:"per_page",type:"number",inputMode:"numeric",className:"form-control",value:P,min:1,max:500,onChange:M=>{const S=Number(M.currentTarget.value)||50;B(Math.max(1,Math.min(500,S)))}})]}),h.jsx("div",{className:"col-auto",children:h.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>{T(1),pe(1)},disabled:z,children:z?"Searching":"Search"})})]}),h.jsxs("div",{className:"mt-3",children:[q.length===0&&!z&&h.jsx("div",{className:"text-muted",children:"No matches"}),q.length>0&&h.jsx("div",{className:"table-responsive",children:h.jsxs("table",{className:"table table-sm align-middle",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{style:{width:"6rem"},children:"ID"}),h.jsx("th",{children:"Name"}),h.jsx("th",{children:"Email"}),h.jsx("th",{style:{width:"8rem"},children:"Action"})]})}),h.jsx("tbody",{children:q.map(M=>h.jsxs("tr",{children:[h.jsx("td",{children:M.id}),h.jsx("td",{children:M.name}),h.jsx("td",{children:M.email}),h.jsx("td",{children:h.jsx("button",{type:"button",className:"btn btn-outline-primary btn-sm",onClick:()=>J(M),children:"Select"})})]},M.id))})]})}),L&&h.jsxs("nav",{"aria-label":"Pagination",className:"d-flex align-items-center gap-2",children:[h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>{L.page>1&&pe(L.page-1)},disabled:z||L.page<=1,children:"Prev"}),h.jsxs("span",{children:["Page ",L.page," of ",L.total_pages,"  ",L.total," total"]}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>{L.page<L.total_pages&&pe(L.page+1)},disabled:z||L.page>=L.total_pages,children:"Next"})]})]})]}),h.jsx("hr",{className:"my-4"}),h.jsxs("section",{"aria-labelledby":"lookup",children:[h.jsx("h2",{id:"lookup",className:"h5",children:"Lookup by ID"}),h.jsxs("div",{className:"row g-2 align-items-end",children:[h.jsxs("div",{className:"col-auto",children:[h.jsx("label",{htmlFor:"user_id",className:"form-label",children:"User ID"}),h.jsx("input",{id:"user_id",type:"number",inputMode:"numeric",className:"form-control",value:a,onChange:M=>o(M.currentTarget.value),"aria-describedby":"user_id_help"}),h.jsx("div",{id:"user_id_help",className:"form-text",children:"Enter a numeric user id."})]}),h.jsx("div",{className:"col-auto",children:h.jsx("button",{type:"button",className:"btn btn-primary",disabled:c,onClick:X,children:c?"Loading":"Load"})})]})]}),h.jsx("div",{"aria-live":"polite",role:"status",className:"mt-3",children:A&&h.jsx("div",{className:"alert alert-info py-2 mb-2",children:A})}),f&&h.jsxs("section",{className:"mt-4","aria-labelledby":"user_section",children:[h.jsx("h2",{id:"user_section",className:"h5",children:"User"}),h.jsx("div",{className:"card mb-3",children:h.jsxs("div",{className:"card-body",children:[h.jsxs("p",{className:"mb-1",children:[h.jsx("strong",{children:"ID:"})," ",f.id]}),h.jsxs("p",{className:"mb-1",children:[h.jsx("strong",{children:"Name:"})," ",f.name]}),h.jsxs("p",{className:"mb-3",children:[h.jsx("strong",{children:"Email:"})," ",f.email]}),h.jsxs("div",{className:"mb-3",children:[h.jsx("label",{htmlFor:"attach_role",className:"form-label",children:"Attach role"}),h.jsxs("div",{className:"d-flex gap-2",children:[h.jsx("select",{id:"attach_role",className:"form-select",value:x,onChange:M=>_(M.currentTarget.value),disabled:n||ne.length===0,"aria-disabled":n||ne.length===0,children:ne.map(M=>h.jsx("option",{value:M.id,children:M.name},M.id))}),h.jsx("button",{ref:Y,type:"button",className:"btn btn-success",onClick:oe,disabled:!x,children:"Add"})]}),n&&h.jsx("div",{className:"form-text",children:"Loading roles"})]}),h.jsxs("div",{className:"mb-4",children:[h.jsx("h3",{className:"h6",children:"Current roles"}),h.jsxs("ul",{className:"list-unstyled",role:"list",children:[g.length===0&&h.jsx("li",{className:"text-muted",children:"None"}),g.map(M=>{const S=vr(M)||M;return h.jsxs("li",{className:"d-flex align-items-center justify-content-between border rounded p-2 mb-2",children:[h.jsx("span",{children:S}),h.jsx("button",{type:"button",className:"btn btn-outline-danger btn-sm",onClick:()=>fe(M),"aria-label":`Remove ${S}`,children:"Remove"})]},M)})]})]})]})})]})]})}async function K1(t){function e(i){return Array.isArray(i)&&i.every(a=>typeof a=="string")}function n(i,a){if(i&&typeof i=="object"){const o=i[a];if(e(o))return o}return null}try{const i=await xr("/api/audit/categories",void 0,t);return((Array.isArray(i)?i:null)??n(i,"_categories")??n(i,"categories")??[]).filter(o=>typeof o=="string")}catch{return[]}}const X1={"auth.login":{label:"Login",category:"AUTH",variant:"success"},"auth.login.success":{label:"Login success",category:"AUTH",variant:"success"},"auth.login.failed":{label:"Login failed",category:"AUTH",variant:"warning"},"auth.login.redirected":{label:"Login redirected",category:"AUTH",variant:"neutral"},"auth.logout":{label:"Logout",category:"AUTH",variant:"neutral"},"auth.mfa.totp.enrolled":{label:"TOTP enrolled",category:"AUTH",variant:"success"},"auth.mfa.totp.verified":{label:"TOTP verified",category:"AUTH",variant:"success"},"auth.bruteforce.locked":{label:"Brute force locked",category:"AUTH",variant:"danger"},"rbac.deny.unauthenticated":{label:"Denied: unauthenticated",category:"RBAC",variant:"danger"},"rbac.deny.role_mismatch":{label:"Denied: missing required role",category:"RBAC",variant:"danger"},"rbac.deny.policy":{label:"Denied: policy",category:"RBAC",variant:"danger"},"rbac.deny.capability":{label:"Denied: capability",category:"RBAC",variant:"danger"},"rbac.deny.unknown_policy":{label:"Denied: unknown policy",category:"RBAC",variant:"danger"},"rbac.user_role.attached":{label:"Role attached",category:"RBAC",variant:"success"},"rbac.user_role.detached":{label:"Role detached",category:"RBAC",variant:"warning"},"rbac.user_role.replaced":{label:"Roles replaced",category:"RBAC",variant:"neutral"},"rbac.role.created":{label:"Role created",category:"RBAC",variant:"success"},"rbac.role.updated":{label:"Role updated",category:"RBAC",variant:"neutral"},"rbac.role.deleted":{label:"Role deleted",category:"RBAC",variant:"warning"},"rbac.user.created":{label:"User created",category:"RBAC",variant:"success"},"rbac.user.deleted":{label:"User deleted",category:"RBAC",variant:"warning"},"evidence.uploaded":{label:"Evidence uploaded",category:"EVIDENCE",variant:"success"},"evidence.downloaded":{label:"Evidence downloaded",category:"EVIDENCE",variant:"neutral"},"evidence.deleted":{label:"Evidence deleted",category:"EVIDENCE",variant:"warning"},"evidence.purged":{label:"Evidence purged",category:"EVIDENCE",variant:"warning"},"export.job.created":{label:"Export started",category:"EXPORTS",variant:"neutral"},"export.job.completed":{label:"Export completed",category:"EXPORTS",variant:"success"},"export.job.failed":{label:"Export failed",category:"EXPORTS",variant:"danger"},"settings.updated":{label:"Settings updated",category:"SETTINGS",variant:"neutral"},"setting.modified":{label:"Setting modified",category:"SETTINGS",variant:"neutral"},"audit.retention.purged":{label:"Audit purged",category:"AUDIT",variant:"warning"},"avatar.uploaded":{label:"Avatar uploaded",category:"AVATARS",variant:"success"},"setup.finished":{label:"Setup finished",category:"SETUP",variant:"success"}},Q1={AUTH:"neutral",RBAC:"neutral",EVIDENCE:"neutral",EXPORTS:"neutral",SETTINGS:"neutral",AUDIT:"neutral",AVATARS:"neutral",SETUP:"neutral"};function G1(t,e){const n=X1[t];if(n)return n;if(t.startsWith("rbac.deny."))return{label:"Denied: RBAC",category:"RBAC",variant:"danger"};if(t.startsWith("rbac.user_role."))return{label:"User role changed",category:"RBAC",variant:"neutral"};if(t.startsWith("export."))return{label:"Export event",category:"EXPORTS",variant:"neutral"};if(t.startsWith("evidence."))return{label:"Evidence event",category:"EVIDENCE",variant:"neutral"};if(t.startsWith("auth."))return{label:"Auth event",category:"AUTH",variant:"neutral"};if(t.startsWith("settings."))return{label:"Settings event",category:"SETTINGS",variant:"neutral"};if(t.startsWith("setting."))return{label:"Setting event",category:"SETTINGS",variant:"neutral"};if(t.startsWith("audit."))return{label:"Audit event",category:"AUDIT",variant:"neutral"};if(t.startsWith("avatar."))return{label:"Avatar event",category:"AVATARS",variant:"neutral"};if(t.startsWith("setup."))return{label:"Setup event",category:"SETUP",variant:"neutral"};const i=(e||"OTHER").toUpperCase();return{label:q1(t),category:i,variant:Q1[i]??"neutral"}}function q1(t){return t.replace(/\./g," ").replace(/_/g," ").replace(/\s+/g," ").trim().replace(/^\w/,e=>e.toUpperCase())}function Sy({headers:t}){return h.jsx("tr",{children:t.map(({key:e,label:n,onToggle:i,isActive:a,filterContent:o,summaryContent:c,className:u})=>h.jsxs("th",{scope:"col",className:u,children:[i?h.jsx("button",{type:"button",className:`btn btn-link p-0 fw-semibold text-start ${a?"":"link-underline-opacity-0"}`,onClick:i,children:n}):h.jsx("span",{className:"fw-semibold",children:n}),c,o]},e))})}function ky(){const[t,e]=w.useState(null),n=w.useCallback(o=>{e(c=>c===o?null:o)},[]),i=w.useCallback(o=>t===o,[t]),a=w.useCallback(()=>{e(null)},[]);return{activeKey:t,toggle:n,isActive:i,reset:a}}const Z1=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function Zp(t){const e=t.getUTCFullYear(),n=String(t.getUTCMonth()+1).padStart(2,"0"),i=String(t.getUTCDate()).padStart(2,"0");return`${e}-${n}-${i}`}function Jp(t){if(!/^\d{4}-\d{2}-\d{2}$/.test(t))return null;const[e,n,i]=t.split("-"),a=Number(e),o=Number(n),c=Number(i);if(!Number.isFinite(a)||!Number.isFinite(o)||!Number.isFinite(c))return null;const u=new Date(Date.UTC(a,o-1,c));return u.getUTCFullYear()!==a||u.getUTCMonth()!==o-1||u.getUTCDate()!==c?null:u}function J1(t,e,n){return!t||!e?!1:n>t&&n<e}function jy({start:t,end:e,onChange:n,onComplete:i,onClear:a}){const o=Zp(new Date),u=Jp(t||e||o)??new Date,[f,m]=w.useState(()=>u.getUTCFullYear()),[g,v]=w.useState(()=>u.getUTCMonth()),[x,_]=w.useState(t),[k,j]=w.useState(e),C=w.useMemo(()=>new Intl.DateTimeFormat(void 0,{month:"long",year:"numeric",timeZone:"UTC"}),[]),T=w.useMemo(()=>new Intl.DateTimeFormat(void 0,{weekday:"short",month:"short",day:"numeric",year:"numeric",timeZone:"UTC"}),[]);w.useEffect(()=>{_(t),j(e)},[t,e]);const P=w.useMemo(()=>C.format(new Date(Date.UTC(f,g,1))),[C,f,g]),B=w.useMemo(()=>{const V=new Date(Date.UTC(f,g,1)).getUTCDay(),A=new Date(Date.UTC(f,g+1,0)).getUTCDate(),D=[];for(let X=0;X<V;X+=1)D.push(null);for(let X=1;X<=A;X+=1){const ne=Zp(new Date(Date.UTC(f,g,X)));D.push({iso:ne,day:X})}for(;D.length%7!==0;)D.push(null);const Y=[];for(let X=0;X<D.length;X+=7)Y.push(D.slice(X,X+7));return Y},[f,g]),z=L=>{const V=new Date(Date.UTC(f,g+L,1));m(V.getUTCFullYear()),v(V.getUTCMonth())},H=(L,V)=>{const A=Jp(L);return A?T.format(A):`Day ${V}`},q=L=>{if(!x||x&&k){_(L),j(""),n(L,"");return}if(x&&!k){if(L<x){_(L),j(""),n(L,"");return}j(L),n(x,L),i(x,L)}},N=()=>{_(""),j(""),n("",""),a()};return h.jsxs("div",{className:"border rounded p-3 d-inline-block",children:[h.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2 gap-2",children:[h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>z(-1),children:""}),h.jsx("div",{className:"fw-semibold",children:P}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>z(1),children:""})]}),h.jsxs("table",{className:"table table-sm mb-2",style:{width:"100%",minWidth:"16rem"},children:[h.jsx("thead",{children:h.jsx("tr",{children:Z1.map(L=>h.jsx("th",{className:"text-center small",children:L},L))})}),h.jsx("tbody",{children:B.map((L,V)=>h.jsx("tr",{children:L.map((A,D)=>{if(!A)return h.jsx("td",{},D);const Y=x===A.iso,X=k===A.iso,ne=J1(x,k,A.iso),oe=A.iso===o,fe={width:"2.4rem",height:"2.4rem",borderRadius:"999px",border:"none",backgroundColor:"transparent",color:"#212529"};return ne&&(fe.backgroundColor="#e0edff"),Y||X?(fe.backgroundColor="#0d6efd",fe.color="#ffffff",fe.fontWeight=600):oe&&(fe.border="1px solid #0d6efd"),h.jsx("td",{className:"text-center",children:h.jsx("button",{type:"button",className:"btn btn-sm p-0",style:fe,"aria-pressed":Y||X,onClick:()=>q(A.iso),"aria-label":H(A.iso,A.day),children:A.day})},A.iso)})},V))})]}),h.jsxs("div",{className:"d-flex justify-content-between align-items-center gap-2",children:[h.jsxs("div",{className:"small text-muted",children:[x&&!k&&"Select an end date",x&&k&&`${x}  ${k}`,!x&&!k&&"Select start date"]}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:N,children:"Clear"})]})]})}const eg={SYSTEM:"System",RBAC:"Access Control",AUTH:"Authentication",SETTINGS:"Settings",EXPORTS:"Exports",EVIDENCE:"Evidence",AVATARS:"Avatars",AUDIT:"Audit Trail",SETUP:"Setup",METRICS:"Metrics",OTHER:"Other"};function Ju(t){const e=t.toUpperCase();if(eg[e])return eg[e];const n=e.toLowerCase().split(/[^a-z0-9]+/i).filter(Boolean);return n.length===0?e:n.map(i=>i.charAt(0).toUpperCase()+i.slice(1)).join(" ")}function ek(t){const e=new Set,n=[];for(const i of t){const a=String(i??"").trim().toUpperCase();!a||e.has(a)||(e.add(a),n.push({value:a,label:Ju(a)}))}return n.sort((i,a)=>i.label.localeCompare(a.label))}function tk(t){const e=new URLSearchParams;return Object.entries(t).forEach(([n,i])=>{if(i==null)return;const a=typeof i=="boolean"?i?"true":"false":String(i);a.length>0&&e.set(n,a)}),e.toString()}function nk(t){return(t instanceof DOMException||typeof t=="object"&&t!==null)&&t.name==="AbortError"}function rk(t){if(t instanceof Error)return t.message;const e=t?.message;return typeof e=="string"?e:"Request failed"}function ik(t){if(!t||typeof t!="object")return{};const e=t,n=e.errors??e.error??e._errors;if(!n||typeof n!="object")return{};const i={};return Object.entries(n).forEach(([a,o])=>{Array.isArray(o)?i[a]=o.filter(c=>typeof c=="string"):typeof o=="string"&&(i[a]=[o])}),i}function sk(t){const e={display:"inline-block",fontSize:"0.85rem",padding:"0.15rem 0.5rem",borderRadius:"999px",border:"1px solid transparent",lineHeight:1.2,whiteSpace:"nowrap"};switch(t){case"success":return{...e,color:"#0f5132",backgroundColor:"#d1e7dd",borderColor:"#badbcc"};case"warning":return{...e,color:"#664d03",backgroundColor:"#fff3cd",borderColor:"#ffecb5"};case"danger":return{...e,color:"#842029",backgroundColor:"#f8d7da",borderColor:"#f5c2c7"};default:return{...e,color:"#0c5460",backgroundColor:"#e2f0f3",borderColor:"#bee5eb"}}}function ak(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}function ok(t){return typeof t.actor_label=="string"&&t.actor_label.trim()!==""?t.actor_label.trim():t.user_id!==null&&t.user_id!==void 0?String(t.user_id):t.actor_id!==null&&t.actor_id!==void 0?String(t.actor_id):"System"}function lk(t,e,n){const i=n||"System",a=ak(t.meta)?t.meta:{},o=typeof t.note=="string"&&t.note.trim()!==""?t.note.trim():"";if(o)return o;const c=typeof a.message=="string"&&a.message.trim()!==""?a.message.trim():"";if(c)return c;const u=v=>{if(v===null)return"null";if(v===void 0)return"n/a";if(typeof v=="string")return v;if(typeof v=="number"||typeof v=="boolean")return String(v);try{return JSON.stringify(v)}catch{return String(v)}},f=t.action??"";if(f==="setting.modified"){const _=[a.setting_label,a.setting_key,a.key,t.entity_id].find(C=>typeof C=="string"&&C.trim()!=="")??"Setting",k=u(a.old_value??a.old),j=u(a.new_value??a.new);return`${_} update by ${i}. Old: ${k} - New: ${j}`}if(f==="settings.update"){const v=Array.isArray(a.changes)?a.changes.length:0;return v>0?`Settings updated by ${i} (${v} ${v===1?"change":"changes"})`:`Settings updated by ${i}`}if(f==="evidence.upload"||f==="evidence.uploaded")return`${typeof a.filename=="string"&&a.filename?a.filename:typeof t.entity_id=="string"&&t.entity_id?t.entity_id:"Evidence"} uploaded to evidence by ${i}`;if(f==="evidence.downloaded")return`${typeof a.filename=="string"&&a.filename?a.filename:typeof t.entity_id=="string"&&t.entity_id?t.entity_id:"Evidence"} downloaded by ${i}`;if(f==="evidence.deleted")return`${typeof a.filename=="string"&&a.filename?a.filename:typeof t.entity_id=="string"&&t.entity_id?t.entity_id:"Evidence"} removed from evidence by ${i}`;if(f==="evidence.read"||f==="evidence.head")return`${typeof a.filename=="string"&&a.filename?a.filename:typeof t.entity_id=="string"&&t.entity_id?t.entity_id:"Evidence"} viewed by ${i}`;if(f==="auth.login")return`${i} logged in`;if(f.startsWith("auth."))return`${e.label} by ${i}`;if(f.startsWith("rbac.user_role.")){const v=typeof a.role=="string"?a.role:"";return v?`${e.label}: ${v} by ${i}`:`${e.label} by ${i}`}const m=typeof t.entity_type=="string"&&t.entity_type?t.entity_type:"",g=typeof t.entity_id=="string"&&t.entity_id?t.entity_id:"";if(m||g){const v=[m,g].filter(Boolean).join(" "),x=` by ${i}`;return v?`${e.label} on ${v}${x}`:`${e.label}${x}`}return`${e.label} by ${i}`}function ck(){const t=Br(),[e,n]=w.useState(""),[i,a]=w.useState(""),[o,c]=w.useState(""),[u,f]=w.useState(""),[m,g]=w.useState(10),v=w.useRef(m),{activeKey:x,toggle:_,reset:k}=ky(),[j,C]=w.useState([]),[T,P]=w.useState(Is),[B,z]=w.useState(""),[H,q]=w.useState(!1),[N,L]=w.useState([]),[V,A]=w.useState(null),[D,Y]=w.useState(null),[X,ne]=w.useState([]),[oe,fe]=w.useState("idle"),[pe,J]=w.useState(""),[se,M]=w.useState({}),S=w.useRef(null),F=o?`${o}T00:00:00Z`:void 0,ee=u?`${u}T23:59:59Z`:void 0,ae=w.useMemo(()=>tk({category:e||void 0,action:i||void 0,occurred_from:F,occurred_to:ee,limit:m,actor_id:D?D.id:void 0}),[e,i,F,ee,m,D]),ce=w.useMemo(()=>!o||!u?!0:o<=u,[o,u]);async function de(G=!1,Ne){try{fe("loading"),J(""),M({}),S.current?.abort(),S.current=new AbortController;const nt={category:e||void 0,action:i||void 0,occurred_from:F,occurred_to:ee,limit:v.current,actor_id:D?D.id:void 0,...Ne},_t=G?{...nt,cursor:null}:nt,Tt=await xr("/api/audit",_t,S.current.signal);let zt=[],Ut=null;if(Array.isArray(Tt))zt=Tt;else if(Tt&&typeof Tt=="object"){const pt=Tt;Array.isArray(pt.items)?zt=pt.items:Array.isArray(pt.data)&&(zt=pt.data),typeof pt.time_format=="string"&&(Ut=Ba(pt.time_format))}P(pt=>Ut??pt),ne(zt),fe("ok")}catch(nt){if(nk(nt))return;if(nt&&typeof nt=="object"&&nt.status===422){const _t=nt.body,Tt=ik(_t);M(Tt),fe("error"),J("Validation error");return}fe("error"),J(rk(nt))}}w.useEffect(()=>{(async()=>{const G=new AbortController;try{const Ne=await K1(G.signal);C(ek(Ne))}finally{}return await de(),()=>G.abort()})()},[]),w.useEffect(()=>{const G=new URLSearchParams(t.search),Ne=G.get("category")??"",nt=G.get("action")??"",_t=G.get("occurred_from")??"",Tt=G.get("occurred_to")??"",zt=_t?_t.slice(0,10):"",Ut=Tt?Tt.slice(0,10):"";(Ne!==e||nt!==i||zt!==o||Ut!==u)&&(n(Ne),a(nt),c(zt),f(Ut),de(!0,{category:Ne||void 0,action:nt||void 0,occurred_from:_t||void 0,occurred_to:Tt||void 0}))},[t.search]);const De=w.useMemo(()=>`/api/audit/export.csv?${ae}`,[ae]);async function ke(G){q(!0);try{const nt=await Td(B,typeof G=="number"?G:1,10);if(nt.ok){const _t=nt;L(_t.data),A({page:_t.meta.page,total_pages:_t.meta.total_pages})}else L([]),A(null)}finally{q(!1)}}function Ve(G){Y(G),L([]),A(null),z(""),k()}function Ze(){Y(null),L([]),A(null),z("")}const It=()=>{if(!ce){Lt();return}D?de(!0,{actor_id:D.id,limit:v.current}):ke()},lt=j.length>0,tt=()=>{M(G=>{if(!G.occurred_from&&!G.occurred_to)return G;const Ne={...G};return delete Ne.occurred_from,delete Ne.occurred_to,Ne})},Lt=()=>{M(G=>({...G,occurred_from:["From must be on or before To"],occurred_to:["To must be on or after From"]}))},On=G=>{if(!ce){Lt();return}de(!0,{category:G||void 0})},sn=G=>Math.min(100,Math.max(1,G)),gn=G=>{const Ne=sn(G);if(v.current=Ne,g(Ne),!ce){Lt();return}de(!0,{limit:Ne})};w.useEffect(()=>{v.current=m},[m]);const tn=G=>{!(x!==G)&&G==="user"&&(L([]),A(null),z("")),_(G)},jt=()=>{n(""),a(""),c(""),f(""),v.current=10,g(10),Y(null),L([]),A(null),z(""),k(),M({}),J(""),de(!0,{category:void 0,action:void 0,occurred_from:void 0,occurred_to:void 0,actor_id:void 0,limit:10})},Xt=(G,Ne)=>{c(G),f(Ne),G&&Ne&&G>Ne?Lt():tt()},ct=(G,Ne)=>{if(G&&Ne&&G>Ne){Lt();return}tt(),de(!0,{occurred_from:G?`${G}T00:00:00Z`:void 0,occurred_to:Ne?`${Ne}T23:59:59Z`:void 0})},me=()=>{c(""),f(""),tt(),de(!0,{occurred_from:void 0,occurred_to:void 0})},Me=o||u?h.jsxs("div",{className:"small text-muted mt-1",children:[o||"Any","  ",u||"Any"]}):null,Ue=x==="timestamp"?h.jsxs("div",{className:"mt-2 d-flex flex-column gap-2",children:[h.jsx(jy,{start:o,end:u,onChange:Xt,onComplete:ct,onClear:me}),h.jsxs("div",{className:"visually-hidden",children:[h.jsx("label",{htmlFor:"audit-date-from",className:"form-label",children:"From"}),h.jsx("input",{id:"audit-date-from",type:"date",className:"form-control form-control-sm",value:o,onChange:G=>{const Ne=G.target.value;Xt(Ne,u),ct(Ne,u)},onKeyDown:G=>{G.key==="Escape"&&(G.preventDefault(),k())},"aria-invalid":!ce||!!se.occurred_from?.length}),h.jsx("label",{htmlFor:"audit-date-to",className:"form-label",children:"To"}),h.jsx("input",{id:"audit-date-to",type:"date",className:"form-control form-control-sm",value:u,onChange:G=>{const Ne=G.target.value;Xt(o,Ne),ct(o,Ne)},onKeyDown:G=>{G.key==="Escape"&&(G.preventDefault(),k())},"aria-invalid":!ce||!!se.occurred_to?.length})]}),ce?null:h.jsx("p",{role:"alert",className:"text-danger small mb-0 mt-2",children:"From must be  To"}),se.occurred_from?.length?h.jsx("ul",{role:"alert",className:"text-danger small mb-0 ps-3 mt-2",children:se.occurred_from.map((G,Ne)=>h.jsx("li",{children:G},Ne))}):null,se.occurred_to?.length?h.jsx("ul",{role:"alert",className:"text-danger small mb-0 ps-3 mt-2",children:se.occurred_to.map((G,Ne)=>h.jsx("li",{children:G},Ne))}):null]}):null,bt=D?h.jsxs("div",{className:"small text-muted mt-1",children:[D.name||D.email||`id ${D.id}`," (id ",D.id,")"]}):null,Ct=x==="user"?h.jsx("div",{className:"mt-2",children:D?h.jsxs("div",{className:"d-flex flex-column gap-2",children:[h.jsxs("div",{className:"small",children:[h.jsx("span",{className:"fw-semibold",children:D.name||D.email||`id ${D.id}`}),h.jsxs("span",{className:"text-muted ms-2",children:["id ",D.id]})]}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:Ze,children:"Clear actor"})]}):h.jsxs(h.Fragment,{children:[h.jsx("label",{htmlFor:"audit-actor",className:"form-label visually-hidden",children:"Actor"}),h.jsx("input",{id:"audit-actor",className:"form-control form-control-sm",value:B,onChange:G=>z(G.target.value),onKeyDown:G=>{G.key==="Enter"?(G.preventDefault(),It()):G.key==="Escape"&&(G.preventDefault(),k())},placeholder:"Search name or email"}),h.jsxs("div",{className:"d-flex flex-wrap gap-2 mt-2",children:[h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>void ke(),"aria-busy":H,disabled:H||B.trim()==="",children:H?"Searching":"Find actor"}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>{L([]),A(null),z("")},disabled:H&&N.length===0,children:"Clear results"})]}),N.length>0&&h.jsxs("div",{className:"border rounded p-2 mt-2",style:{maxHeight:"220px",overflowY:"auto"},children:[h.jsx("ul",{className:"list-unstyled mb-0",children:N.map(G=>h.jsxs("li",{className:"d-flex justify-content-between gap-2 mb-2",children:[h.jsxs("div",{children:[h.jsx("div",{className:"small fw-semibold",children:G.name?.trim()||G.email||`id ${G.id}`}),G.email&&h.jsx("div",{className:"small text-muted",children:G.email})]}),h.jsx("button",{type:"button",className:"btn btn-outline-primary btn-sm",onClick:()=>Ve(G),children:"Select"})]},G.id))}),V&&h.jsxs("div",{className:"d-flex align-items-center justify-content-between gap-2 mt-2",children:[h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>V.page>1&&void ke(V.page-1),disabled:H||V.page<=1,children:"Prev"}),h.jsxs("span",{className:"small text-muted",children:["Page ",V.page," of ",V.total_pages]}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>V.page<V.total_pages&&void ke(V.page+1),disabled:H||V.page>=V.total_pages,children:"Next"})]})]})]})}):null,an=e?Ju(e):"",rt=e?h.jsx("div",{className:"small text-muted mt-1",children:an}):null,ut=x==="category"?h.jsxs("div",{className:"mt-2",children:[h.jsx("label",{htmlFor:"audit-category",className:"form-label visually-hidden",children:"Category"}),lt?h.jsxs("select",{id:"audit-category",className:"form-select form-select-sm",value:e,onChange:G=>{const Ne=G.target.value;n(Ne),On(Ne)},"aria-invalid":!!se.category?.length,children:[h.jsx("option",{value:"",children:"(any)"}),j.map(G=>h.jsx("option",{value:G.value,children:G.label},G.value))]}):h.jsx("input",{id:"audit-category",className:"form-control form-control-sm",value:e,onChange:G=>n(G.target.value),onBlur:G=>On(G.target.value),onKeyDown:G=>{G.key==="Enter"?(G.preventDefault(),On(G.currentTarget.value)):G.key==="Escape"&&(G.preventDefault(),k())},placeholder:"e.g. RBAC","aria-invalid":!!se.category?.length}),se.category?.length?h.jsx("ul",{role:"alert",className:"text-danger small mb-0 ps-3 mt-2",children:se.category.map((G,Ne)=>h.jsx("li",{children:G},Ne))}):null]}):null,Qt=i?h.jsx("div",{className:"small text-muted mt-1",children:i}):null,Et=x==="action"?h.jsxs("div",{className:"mt-2",children:[h.jsx("label",{htmlFor:"audit-action",className:"form-label visually-hidden",children:"Action"}),h.jsx("input",{id:"audit-action",className:"form-control form-control-sm",value:i,onChange:G=>a(G.target.value),onKeyDown:G=>{G.key==="Enter"?(G.preventDefault(),ce?de(!0):Lt()):G.key==="Escape"&&(G.preventDefault(),k())},placeholder:"e.g. Role attached","aria-invalid":!!se.action?.length}),h.jsx("div",{className:"form-text",children:'Matches action labels, e.g. "Role attached".'}),se.action?.length?h.jsx("ul",{role:"alert",className:"text-danger small mb-0 ps-3 mt-2",children:se.action.map((G,Ne)=>h.jsx("li",{children:G},Ne))}):null]}):null,Kn=[{key:"timestamp",label:"Timestamp",onToggle:()=>tn("timestamp"),isActive:x==="timestamp",summaryContent:Me,filterContent:Ue},{key:"user",label:"User",onToggle:()=>tn("user"),isActive:x==="user",summaryContent:bt,filterContent:Ct},{key:"ip",label:"IP"},{key:"category",label:"Category",onToggle:()=>tn("category"),isActive:x==="category",summaryContent:rt,filterContent:ut},{key:"action",label:"Action",onToggle:()=>tn("action"),isActive:x==="action",summaryContent:Qt,filterContent:Et},{key:"message",label:"Message"}];return h.jsxs("main",{className:"container py-3","aria-busy":oe==="loading",children:[h.jsx("h1",{children:"Audit"}),oe==="loading"&&h.jsx("p",{children:"Loading."}),oe==="error"&&h.jsxs("p",{role:"alert",children:["Error: ",pe]}),h.jsxs("section",{className:"d-flex flex-wrap align-items-center gap-3 mb-3",children:[h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:jt,disabled:oe==="loading",children:"Reset filters"}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>{if(!ce){Lt();return}de(!0,{limit:v.current})},disabled:oe==="loading",children:oe==="loading"?"Refreshing":"Refresh"}),h.jsxs("div",{className:"d-flex flex-column",children:[h.jsxs("div",{className:"d-flex align-items-center gap-2",children:[h.jsx("label",{htmlFor:"audit-limit",className:"form-label mb-0",children:"Limit"}),h.jsx("input",{id:"audit-limit",type:"number",min:1,max:100,step:1,className:"form-control form-control-sm",style:{width:"5rem"},value:m,onChange:G=>{const Ne=G.target.value;if(Ne===""){v.current=10,g(10);return}const nt=Number(Ne);if(Number.isNaN(nt)||nt<1){v.current=1,g(1);return}gn(nt)},onKeyDown:G=>{G.key==="Enter"?(G.preventDefault(),gn(v.current||10)):G.key==="Escape"&&(G.preventDefault(),v.current=m)},"aria-invalid":!!se.limit?.length})]}),se.limit?.length?h.jsx("ul",{role:"alert",className:"text-danger small mb-0 ps-3 mt-1",children:se.limit.map((G,Ne)=>h.jsx("li",{children:G},Ne))}):null]})]}),h.jsx("div",{className:"table-responsive",children:h.jsxs("table",{"aria-label":"Audit events",className:"table",children:[h.jsx("thead",{children:h.jsx(Sy,{headers:Kn})}),h.jsx("tbody",{children:X.length===0&&oe==="ok"?h.jsx("tr",{children:h.jsx("td",{colSpan:6,children:"No results"})}):X.map((G,Ne)=>{const nt=G.id||G.ulid||String(Ne),_t=typeof G.occurred_at=="string"&&G.occurred_at||typeof G.created_at=="string"&&G.created_at||typeof G.ts=="string"&&G.ts||"",Tt=Ed(_t,T),zt=ok(G),Ut=String(G.category??""),pt=G1(String(G.action??""),Ut),on=Ju(pt.category||Ut),ln=lk(G,pt,zt);return h.jsxs("tr",{children:[h.jsx("td",{title:_t,children:Tt}),h.jsx("td",{children:zt}),h.jsx("td",{children:String(G.ip??"")}),h.jsx("td",{children:on}),h.jsx("td",{children:h.jsx("span",{style:sk(pt.variant),"aria-label":`${pt.label} (${G.action??""})`,title:String(G.action??""),children:pt.label})}),h.jsx("td",{children:ln})]},nt)})})]})}),h.jsx("div",{style:{marginTop:"0.75rem"},children:h.jsx("a",{href:De,className:"btn btn-outline-secondary btn-sm","aria-disabled":oe==="loading",onClick:G=>{oe==="loading"&&G.preventDefault()},children:"Download CSV"})})]})}function La(t){return t!==null&&typeof t=="object"}function uk(t){if(!t)return null;const e=/filename\*=(?:UTF-8'')?([^;]+)/i.exec(t);if(e?.[1])try{return decodeURIComponent(e[1].replace(/(^"|"$)/g,""))}catch{return e[1].replace(/(^"|"$)/g,"")}const n=/filename="([^"]+)"/i.exec(t);if(n?.[1])return n[1];const i=/filename=([^;]+)/i.exec(t);return i?.[1]?i[1].trim().replace(/(^"|"$)/g,""):null}function ed(t,e){const n=encodeURIComponent(t),i=Rg(e?{sha256:e}:void 0);return`${Si}/api/evidence/${n}${i}`}async function dk(t,e){const n=ed(t,e),i=await fetch(n,{method:"GET",credentials:"same-origin",headers:Dt({Accept:"application/octet-stream"})}),a=i.headers.get("content-type")??"";if(!i.ok){let f=null;const m=a.toLowerCase();try{m.includes("application/json")||m.includes("+json")?f=await i.json():f=await i.text()}catch{f=null}throw new Ft(i.status,f)}const o=await i.blob(),c=uk(i.headers.get("content-disposition"))??t;return{blob:o,filename:c,mime:a!==""?a:"application/octet-stream"}}async function fk(t){if(typeof window>"u"||typeof document>"u")return;const e=t.filename?.trim()!==""?t.filename.trim():t.id,{blob:n,filename:i}=await dk(t.id,t.sha256);if(typeof URL.createObjectURL=="function"){const a=URL.createObjectURL(n),o=document.createElement("a");o.href=a,o.download=i?.trim()!==""?i:e,o.rel="noopener noreferrer",o.style.display="none",document.body.appendChild(o),o.click(),document.body.removeChild(o),window.setTimeout(()=>{typeof URL.revokeObjectURL=="function"&&URL.revokeObjectURL(a)},1e3)}else typeof window.open=="function"?window.open(ed(t.id,t.sha256),"_blank","noopener"):window.location.assign(ed(t.id,t.sha256))}async function hk(t={}){try{const e=await xr("/api/evidence",t),n=La(e)?e:{};if(n.ok===!0&&Array.isArray(n.data)){const o=n.data.map(f=>La(f)?f:null).filter(f=>!!f).map(f=>({id:String(f.id??""),owner_id:Number(f.owner_id??0),filename:String(f.filename??""),mime:String(f.mime??""),mime_label:typeof f.mime_label=="string"&&f.mime_label.trim()!==""?f.mime_label:String(f.mime??""),size:Number(f.size??0),sha256:String(f.sha256??""),version:Number(f.version??0),created_at:String(f.created_at??"")})).filter(f=>f.id&&Number.isFinite(f.owner_id)),c=typeof n.next_cursor=="string"?n.next_cursor:(n.next_cursor===null,null),u=typeof n.time_format=="string"?Ba(n.time_format):void 0;return{ok:!0,data:o,next_cursor:c,filters:La(n.filters)?n.filters:void 0,time_format:u}}const i=typeof n.code=="string"?n.code:"REQUEST_FAILED",a=typeof n.message=="string"?n.message:void 0;return{ok:!1,status:400,code:i,message:a,raw:e}}catch{return{ok:!1,status:0,code:"NETWORK_ERROR"}}}async function mk(t,e){const n=new FormData;n.append("file",t);const i=await Tg("/api/evidence",n,e);if(!La(i)||i.ok!==!0)throw new Error("Invalid response from upload endpoint");const a=typeof i.id=="string"?i.id:"";if(!a)throw new Error("Missing id in upload response");const o=i.version,c=i.size??i.size_bytes,u=typeof i.sha256=="string"?i.sha256:"",f=typeof i.mime=="string"?i.mime:"",m=typeof i.name=="string"?i.name:"",g=Number(o??0),v=Number(c??0);return{ok:!0,id:a,version:Number.isNaN(g)?0:g,sha256:u,size:Number.isNaN(v)?0:v,mime:f,name:m}}async function pk(t,e){const n=await Ol(`/api/evidence/${encodeURIComponent(t)}`,e);if(!La(n)||n.ok!==!0)throw new Error("Invalid response from delete endpoint");const i=typeof n.id=="string"&&n.id?n.id:t,a=n.deleted;return{ok:!0,id:i,deleted:a===void 0?!0:!!a}}function gk(t){return x1(t)}function yk(t,e=Is){return Ed(t,e)}const Zi=new Map,ol=new Map;function Ld(t){return Number.isInteger(t)&&t>0}async function vk(t){try{const e=await Zu(t);return e.ok?(Zi.set(t,e.user),e.user):(Zi.set(t,null),null)}catch{}return null}async function xk(t){if(!Ld(t))return null;if(Zi.has(t))return Zi.get(t)??null;if(ol.has(t))return ol.get(t);const e=vk(t).finally(()=>{ol.delete(t)});return ol.set(t,e),e}function tg(t){for(const e of t)Ld(e.id)&&Zi.set(e.id,e)}function ng(t){return Zi.get(t)}async function bk(t){const e=new Set;for(const i of t){const a=Number(i);Ld(a)&&e.add(a)}await Promise.all(Array.from(e).map(i=>xk(i)));const n=new Map;for(const i of e)n.set(i,Zi.get(i)??null);return n}function _k(t){const e=new Set;for(const n of t){const i=Number(n.owner_id);Number.isFinite(i)&&i>0&&e.add(i)}return Array.from(e).sort((n,i)=>n-i)}function wk(t,e){let n=!1;const i=new Map(t);for(const[a,o]of e.entries())i.get(a)!==o&&(i.set(a,o),n=!0);return n?i:t}function Sk(t,e){if(!e)return;const n=[];return e.name?.trim()&&n.push(e.name.trim()),e.email?.trim()&&n.push(`<${e.email.trim()}>`),n.push(`id ${t}`),n.join(" ")}function kk(t,e){if(!e)return String(t);const n=e.name?.trim();if(n)return n;const i=e.email?.trim();return i||String(t)}function jk({headers:t,items:e,fetchState:n,timeFormat:i,onDownload:a,downloadingId:o,onDelete:c,deletingId:u}){const f=w.useMemo(()=>_k(e),[e]),m=w.useMemo(()=>f.join(","),[f]),[g,v]=w.useState(()=>{const x=new Map;for(const _ of f){const k=ng(_);k!==void 0&&x.set(_,k)}return x});return w.useEffect(()=>{v(x=>{let _=!1;const k=new Map(x);for(const j of f)if(!k.has(j)){const C=ng(j);C!==void 0&&(k.set(j,C),_=!0)}return _?k:x})},[f]),w.useEffect(()=>{if(f.length===0){v(new Map);return}let x=!1;return bk(f).then(_=>{x||v(k=>wk(k,_))}),()=>{x=!0}},[m,f]),e.length===0&&n==="ok"?h.jsx("div",{className:"alert alert-light border",role:"status",children:"No evidence to display."}):h.jsx("div",{className:"table-responsive",children:h.jsxs("table",{className:"table","aria-label":"Evidence results",children:[h.jsx("thead",{children:h.jsx(Sy,{headers:t})}),h.jsx("tbody",{children:e.map(x=>{const _=g.get(x.owner_id),k=yk(x.created_at,i),j=gk(x.size),C=x.mime_label?.trim()?x.mime_label:x.mime,T=x.sha256?`${x.sha256.slice(0,12)}`:"";return h.jsxs("tr",{children:[h.jsx("td",{title:x.created_at,children:k}),h.jsx("td",{className:"text-break",style:{maxWidth:"12rem"},title:Sk(x.owner_id,_),children:_===void 0?h.jsx("span",{className:"text-muted",children:"Loading..."}):kk(x.owner_id,_)}),h.jsx("td",{className:"text-break",style:{maxWidth:"18rem"},children:x.filename}),h.jsx("td",{title:Number.isFinite(x.size)?`${x.size.toLocaleString()} bytes`:void 0,children:j}),h.jsx("td",{className:"text-break",style:{maxWidth:"14rem"},title:x.mime,children:C}),h.jsx("td",{style:{fontFamily:"monospace"},children:T}),h.jsx("td",{children:x.version}),h.jsx("td",{children:h.jsx("button",{type:"button",className:"btn btn-outline-primary btn-sm",onClick:()=>a(x),disabled:o===x.id,"aria-label":`Download ${x.filename||x.id}`,children:o===x.id?"Downloading":"Download"})}),h.jsx("td",{children:h.jsx("button",{type:"button",className:"btn btn-outline-danger btn-sm",onClick:()=>c(x),disabled:u===x.id,"aria-label":`Delete ${x.filename||x.id}`,children:u===x.id?"Deleting":"Delete"})})]},x.id)})})]})})}function rg(){return{display:"inline-block",fontSize:"0.85rem",padding:"0.15rem 0.5rem",borderRadius:"999px",border:"1px solid #bee5eb",lineHeight:1.2,whiteSpace:"nowrap",color:"#0c5460",backgroundColor:"#e2f0f3"}}function Ck(){const[t,e]=w.useState(""),[n,i]=w.useState(null),[a,o]=w.useState(""),[c,u]=w.useState(""),[f,m]=w.useState(""),[g,v]=w.useState(""),[x,_]=w.useState(null),[k,j]=w.useState(""),[C,T]=w.useState("desc"),[P,B]=w.useState(20),{activeKey:z,toggle:H,reset:q}=ky(),[N,L]=w.useState(""),[V,A]=w.useState(""),[D,Y]=w.useState(""),[X,ne]=w.useState(""),[oe,fe]=w.useState(""),[pe,J]=w.useState("20"),[se,M]=w.useState(null),[S,F]=w.useState([]),[ee,ae]=w.useState(null),[ce,de]=w.useState(1),[De,ke]=w.useState(!1),Ve=10,[Ze,It]=w.useState("idle"),[lt,tt]=w.useState(""),[Lt,On]=w.useState(Is),[sn,gn]=w.useState([]),[tn,jt]=w.useState(null),[Xt,ct]=w.useState([]),[me,Me]=w.useState(null),[Ue,bt]=w.useState(null),[Ct,an]=w.useState(!1),[rt,ut]=w.useState(null),[Qt,Et]=w.useState(null),[Kn,G]=w.useState(null),[Ne,nt]=w.useState(null),[_t,Tt]=w.useState(null),zt=Br(),Ut=w.useRef(null),pt=w.useRef(null),on=w.useRef(null),ln=w.useRef(null),$r=w.useRef(null);w.useEffect(()=>{z==="owner"?pt.current?.focus():z==="filename"?(on.current?.focus(),on.current?.select()):z==="mime"?(ln.current?.focus(),ln.current?.select()):z==="sha"&&($r.current?.focus(),$r.current?.select())},[z]),w.useEffect(()=>{Y(f)},[f]),w.useEffect(()=>{ne(g)},[g]),w.useEffect(()=>{L(a)},[a]),w.useEffect(()=>{A(c)},[c]),w.useEffect(()=>{J(String(P))},[P]),w.useEffect(()=>{fe(k)},[k]);const Hr=a?`${a}T00:00:00Z`:void 0,ki=c?`${c}T23:59:59Z`:void 0,Wr=w.useMemo(()=>{const Z=k.trim().toLowerCase().replace(/[^a-f0-9]/g,"");let ve,Be;Z.length>=64?ve=Z.slice(0,64):Z!==""&&(Be=Z);const Fe=x==="raw"&&g||void 0,Ae=x==="label"&&g||void 0;return{owner_id:n?n.id:void 0,filename:f||void 0,mime:Fe,mime_label:Ae,created_from:Hr,created_to:ki,order:C,limit:P,cursor:tn,sha256:ve||void 0,sha256_prefix:Be||void 0}},[n,f,g,x,Hr,ki,C,P,tn,k]),br=w.useMemo(()=>!a||!c?!0:a<=c,[a,c]);async function Nn(Z,ve){const Be=t.trim();if(!Be){F([]),ae(null),de(1);return}ke(!0);try{const Ae=await Td(Be,typeof Z=="number"?Z:ce,Ve);if(Ae.ok){const $e=Ae;F($e.data),ae($e.meta),de($e.meta.page),tg($e.data),ve?.autoApply&&$e.data.length===1&&ji($e.data[0])}else F([]),ae(null)}finally{ke(!1)}}function ji(Z){tg([Z]),i(Z),F([]),ae(null),e(""),de(1),jt(null),ct([]),q(),R(!0,{owner_id:Z.id})}function ar(Z=!0){i(null),F([]),ae(null),e(""),de(1),Z&&(jt(null),ct([]),q(),R(!0,{owner_id:void 0}))}async function R(Z=!1,ve){if(!br){M("From must be on or before To"),tt("From must be on or before To"),It("error");return}M(null),It("loading"),tt(""),bt(null);try{const Be=Z?{...Wr,...ve,cursor:null}:{...Wr,...ve},Fe=await hk(Be);if(Fe.ok){const Ae=Fe;On($e=>Ae.time_format?Ba(Ae.time_format):$e),gn(Ae.data),Z&&ct([]),jt(Ae.next_cursor),It("ok")}else gn([]),It("error"),tt(`${Fe.code}${Fe.message?" - "+Fe.message:""}`)}catch{gn([]),It("error"),tt("Request failed")}}async function U(Z){bt(null),Me(Z.id);try{await fk(Z)}catch(ve){let Be="Download failed. Please try again.";if(ve instanceof Ft){const Fe=ve.body??null,Ae=Fe?.message,$e=Fe?.code,wt=typeof Ae=="string"?Ae:null,hn=typeof $e=="string"?$e:null;wt?Be=`Download failed: ${wt}`:hn?Be=`Download failed: ${hn}`:Be=`Download failed (HTTP ${ve.status}).`}bt(Be)}finally{Me(null)}}function Q(Z){if(Z&&typeof Z=="object"){const ve=Z.message;if(typeof ve=="string"&&ve.trim()!=="")return ve.trim()}return typeof Z=="string"&&Z.trim()!==""?Z.trim():null}function te(Z){if(!Z||typeof Z!="object")return null;for(const ve of Object.values(Z))if(Array.isArray(ve)){const Be=ve.find(Fe=>typeof Fe=="string"&&Fe.trim()!=="");if(typeof Be=="string")return Be.trim()}else if(typeof ve=="string"&&ve.trim()!=="")return ve.trim();return null}function he(Z){if(!Z)return null;const ve=te(Z.errors??null);if(ve)return`Upload validation failed: ${ve}`;const Be=Z.message;return typeof Be=="string"&&Be.trim()!==""?Be.trim():null}async function Ce(Z){if(Ct)return;const ve=Z.currentTarget,Be=ve.files;if(!Be||Be.length===0)return;const Fe=Array.from(Be);an(!0),ut(null),Et(null);const Ae=[];try{for(const $e of Fe){const wt=await mk($e),hn=wt.name?.trim()!==""?wt.name.trim():wt.id;Ae.push(hn)}Ae.length===1?Et(`${Ae[0]} uploaded successfully.`):Ae.length>1&&Et(`${Ae.length} files uploaded successfully.`),ve.value="",await R(!0)}catch($e){ve.value="",Ae.length===1?Et(`${Ae[0]} uploaded successfully.`):Ae.length>1&&Et(`${Ae.length} files uploaded successfully.`);let wt="Upload failed. Please try again.";if($e instanceof Ft){const hn=$e.body??null,Yr=hn&&typeof hn=="object"?hn:null;if($e.status===422)wt=he(Yr)??"Upload validation failed. Please check the selected file.";else if($e.status===413)wt=Q(hn)??"Upload greater than the configured limit.";else{const _r=Q(hn);if(_r)wt=`Upload failed: ${_r}`;else if(Yr){const Ji=Yr.code;typeof Ji=="string"&&Ji.trim()!==""?wt=`Upload failed: ${Ji.trim()}`:typeof $e.message=="string"&&$e.message.trim()!==""&&(wt=$e.message)}else typeof $e.message=="string"&&$e.message.trim()!==""?wt=$e.message:wt=`Upload failed (HTTP ${$e.status}).`}}else $e instanceof Error&&$e.message&&(wt=$e.message);ut(wt),await R(!0)}finally{an(!1)}}async function Re(Z){if(Kn)return;const ve=Z.filename?.trim()!==""?Z.filename.trim():Z.id;if(window.confirm(`Delete ${ve}? This cannot be undone.`)){nt(null),Tt(null),G(Z.id);try{await pk(Z.id),Tt(`${ve} deleted.`),await R(!0)}catch(Fe){let Ae="Delete failed. Please try again.";if(Fe instanceof Ft){const $e=Fe.body??null,wt=$e?.message,hn=$e?.code,Yr=typeof wt=="string"?wt:null,_r=typeof hn=="string"?hn:null;Yr?Ae=`Delete failed: ${Yr}`:_r?Ae=`Delete failed: ${_r}`:Ae=`Delete failed (HTTP ${Fe.status}).`}else Fe instanceof Error&&Fe.message&&(Ae=Fe.message);nt(Ae)}finally{G(null)}}}w.useEffect(()=>{R(!0)},[]),w.useEffect(()=>{const Z=new URLSearchParams(zt.search),ve=Z.get("mime_label")??"",Be=Z.get("mime")??"";let Fe=null,Ae="";if(ve.trim()!==""?(Fe="label",Ae=ve):Be.trim()!==""&&(Fe="raw",Ae=Be),Fe===x&&Ae===g)return;v(Ae),_(Fe),jt(null),ct([]),R(!0,Fe==="label"?{mime_label:Ae||void 0,mime:void 0}:Fe==="raw"?{mime:Ae||void 0,mime_label:void 0}:{mime:void 0,mime_label:void 0})},[zt.search]);function be(){tn&&(ct(Z=>[...Z,tn]),R(!1))}function we(){if(Xt.length===0)return;const Z=Xt[Xt.length-1];ct(ve=>ve.slice(0,-1)),jt(Z),R(!1)}const xe=n!==null||f.trim()!==""||x!==null&&g.trim()!==""||k.trim()!==""||a.trim()!==""||c.trim()!==""||C!=="desc"||P!==20,ge=w.useCallback(Z=>{z!==Z?Z==="created"?(L(a),A(c),M(null)):Z==="filename"?Y(f):Z==="mime"?ne(g):Z==="sha"&&fe(k):Z==="owner"&&(F([]),ae(null)),H(Z)},[z,a,c,f,g,k,H]);function Le(Z){const ve=Z.trim();m(ve),Y(ve),jt(null),ct([]),R(!0,{filename:ve||void 0}),q()}function ze(Z){const ve=Z.trim();v(ve),ne(ve),_(ve===""?null:"label"),jt(null),ct([]),R(!0,{mime_label:ve||void 0,mime:void 0}),q()}function Nt(Z){const ve=Z.trim().toLowerCase().replace(/[^a-f0-9]/g,"");j(ve),fe(ve),jt(null),ct([]),R(!0,{sha256:ve.length>=64?ve.slice(0,64):void 0,sha256_prefix:ve!==""&&ve.length<64?ve:void 0}),q()}function Je(Z,ve,Be=!0){const Fe=Z.trim(),Ae=ve.trim();if(Fe&&Ae&&Fe>Ae){M("From must be on or before To");return}M(null),o(Fe),u(Ae),L(Fe),A(Ae),jt(null),ct([]),R(!0,{created_from:Fe?`${Fe}T00:00:00Z`:void 0,created_to:Ae?`${Ae}T23:59:59Z`:void 0}),Be&&q()}function Ye(){const Z=C==="asc"?"desc":"asc";T(Z),jt(null),ct([]),R(!0,{order:Z})}function dt(){const Z=pe.trim();if(Z===""){J(String(P));return}const ve=Number(Z);if(Number.isNaN(ve)||!Number.isFinite(ve)){J(String(P));return}const Be=Math.max(1,Math.min(100,Math.trunc(ve)));if(Be===P){J(String(Be));return}B(Be),J(String(Be)),jt(null),ct([]),R(!0,{limit:Be})}function Xn(){q(),M(null),ar(!1),m(""),Y(""),v(""),ne(""),_(null),j(""),fe(""),o(""),u(""),L(""),A(""),T("desc"),B(20),J("20"),jt(null),ct([]),R(!0,{owner_id:void 0,filename:void 0,mime:void 0,mime_label:void 0,sha256:void 0,sha256_prefix:void 0,created_from:void 0,created_to:void 0,order:"desc",limit:20})}const or=n?[n.name?.trim()||null,n.email?.trim()?`<${n.email.trim()}>`:null,`id ${n.id}`].filter(Z=>!!Z).join(" "):"",Mn=n?h.jsx("div",{className:"mt-1",children:h.jsx("span",{style:rg(),children:or})}):null,Ke=z==="owner"?h.jsxs("div",{className:"mt-2",children:[n&&h.jsxs("div",{className:"d-flex align-items-center gap-2 mb-2",children:[h.jsx("span",{style:rg(),children:or}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>ar(),children:"Clear"})]}),h.jsx("label",{htmlFor:"filter-owner",className:"visually-hidden",children:"Filter by owner"}),h.jsx("input",{ref:pt,id:"filter-owner",className:"form-control form-control-sm",value:t,onChange:Z=>e(Z.currentTarget.value),onKeyDown:Z=>{Z.key==="Enter"?(Z.preventDefault(),de(1),Nn(1,{autoApply:!0})):Z.key==="Escape"&&(Z.preventDefault(),q())},placeholder:"Name or email",autoComplete:"off"}),h.jsx("div",{className:"form-text",children:"Supports * wildcards."}),h.jsxs("div",{className:"d-flex gap-2 mt-2",children:[h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>{de(1),Nn(1,{autoApply:!0})},disabled:De||t.trim()==="",children:De?"Searching":"Search"}),!n&&h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>{e(""),F([]),ae(null),de(1)},children:"Reset"})]}),!De&&t.trim()!==""&&S.length===0&&h.jsx("div",{className:"small text-muted mt-2",children:"No matches."}),S.length>0&&h.jsx("ul",{className:"list-unstyled mt-3 mb-0",children:S.map(Z=>h.jsxs("li",{className:"d-flex align-items-center justify-content-between gap-2 mb-2",children:[h.jsxs("div",{children:[h.jsx("div",{className:"small fw-semibold",children:Z.name?.trim()||Z.email||`id ${Z.id}`}),h.jsx("div",{className:"small text-muted",children:Z.email?.trim()?`${Z.email}  id ${Z.id}`:`id ${Z.id}`})]}),h.jsx("button",{type:"button",className:"btn btn-outline-primary btn-sm",onClick:()=>ji(Z),children:"Select"})]},Z.id))}),ee&&S.length>0&&h.jsxs("div",{className:"d-flex align-items-center gap-2 mt-2",children:[h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>{ee.page>1&&Nn(ee.page-1)},disabled:De||ee.page<=1,children:"Prev"}),h.jsxs("span",{className:"small text-muted",children:["Page ",ee.page," of ",ee.total_pages,"  ",ee.total," total"]}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>{ee.page<ee.total_pages&&Nn(ee.page+1)},disabled:De||ee.page>=ee.total_pages,children:"Next"})]})]}):null,Ci=f?h.jsx("div",{className:"small text-muted mt-1",children:f}):null,Qn=z==="filename"?h.jsxs("div",{className:"mt-2",children:[h.jsx("label",{htmlFor:"filter-filename",className:"visually-hidden",children:"Filter by filename"}),h.jsx("input",{ref:on,id:"filter-filename",className:"form-control form-control-sm",value:D,onChange:Z=>Y(Z.currentTarget.value),onKeyDown:Z=>{Z.key==="Enter"?(Z.preventDefault(),Le(Z.currentTarget.value)):Z.key==="Escape"&&(Z.preventDefault(),q())},placeholder:"e.g. report*.pdf",autoComplete:"off"}),h.jsx("div",{className:"form-text",children:"Supports * wildcards."}),h.jsxs("div",{className:"d-flex gap-2 mt-2",children:[h.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:()=>Le(D),children:"Apply"}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>{Y(""),Le("")},children:"Clear"})]})]}):null,Fn=g?h.jsx("div",{className:"small text-muted mt-1",children:g}):null,Gn=z==="mime"?h.jsxs("div",{className:"mt-2",children:[h.jsx("label",{htmlFor:"filter-mime",className:"visually-hidden",children:"Filter by MIME"}),h.jsx("input",{ref:ln,id:"filter-mime",className:"form-control form-control-sm",value:X,onChange:Z=>ne(Z.currentTarget.value),onKeyDown:Z=>{Z.key==="Enter"?(Z.preventDefault(),ze(Z.currentTarget.value)):Z.key==="Escape"&&(Z.preventDefault(),q())},placeholder:"e.g. image/*",autoComplete:"off"}),h.jsx("div",{className:"form-text",children:"Supports family wildcards like image/*."}),h.jsxs("div",{className:"d-flex gap-2 mt-2",children:[h.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:()=>ze(X),children:"Apply"}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>{ne(""),ze("")},children:"Clear"})]})]}):null,qn=k.trim().toLowerCase().replace(/[^a-f0-9]/g,""),We=qn?h.jsx("div",{className:"small text-muted mt-1",children:qn.length>12?`${qn.slice(0,12)}`:qn}):null,it=z==="sha"?h.jsxs("div",{className:"mt-2",children:[h.jsx("label",{htmlFor:"filter-sha",className:"visually-hidden",children:"Filter by SHA-256"}),h.jsx("input",{ref:$r,id:"filter-sha",className:"form-control form-control-sm",value:oe,onChange:Z=>fe(Z.currentTarget.value),onKeyDown:Z=>{Z.key==="Enter"?(Z.preventDefault(),Nt(Z.currentTarget.value)):Z.key==="Escape"&&(Z.preventDefault(),q())},placeholder:"e.g. 7f9c2b",autoComplete:"off"}),h.jsx("div",{className:"form-text",children:"Partial hashes match by prefix."}),h.jsxs("div",{className:"d-flex gap-2 mt-2",children:[h.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:()=>Nt(oe),children:"Apply"}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>{fe(""),Nt("")},children:"Clear"})]})]}):null,Wt=a||c?h.jsxs("div",{className:"small text-muted mt-1",children:[a||"Any",c?`  ${c}`:a?"  ":""]}):null,Xe=[{key:"created",label:`Created ${C==="asc"?"":""}`,onToggle:()=>ge("created"),isActive:z==="created",summaryContent:Wt,filterContent:z==="created"?h.jsxs("div",{className:"mt-2 d-flex flex-column gap-3",children:[h.jsx(jy,{start:N,end:V,onChange:(Z,ve)=>{L(Z),A(ve),M(null)},onComplete:(Z,ve)=>{M(null),Je(Z,ve)},onClear:()=>{M(null),L(""),A(""),Je("","",!1)}}),se&&h.jsx("div",{className:"text-danger small",children:se}),h.jsx("div",{className:"d-flex flex-wrap align-items-center gap-2",children:h.jsxs("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:Ye,children:["Sort ",C==="asc"?"":""]})})]}):null},{key:"owner",label:"Owner",onToggle:()=>ge("owner"),isActive:z==="owner",summaryContent:Mn,filterContent:Ke},{key:"filename",label:"Filename",onToggle:()=>ge("filename"),isActive:z==="filename",summaryContent:Ci,filterContent:Qn},{key:"size",label:"Size"},{key:"mime",label:"MIME",onToggle:()=>ge("mime"),isActive:z==="mime",summaryContent:Fn,filterContent:Gn},{key:"sha256",label:"SHA-256",onToggle:()=>ge("sha"),isActive:z==="sha",summaryContent:We,filterContent:it,className:"text-nowrap"},{key:"version",label:"Version"},{key:"download",label:"Download",className:"text-nowrap"},{key:"delete",label:"Delete",className:"text-nowrap"}];return h.jsxs("main",{className:"container py-3",children:[h.jsx("h1",{className:"mb-3",children:"Evidence"}),h.jsxs("section",{className:"mb-4",children:[h.jsx("h2",{className:"h5",children:"Upload Evidence"}),h.jsxs("div",{className:"d-flex flex-column flex-sm-row align-items-sm-center gap-2","aria-label":"Upload evidence",children:[h.jsx("input",{ref:Ut,type:"file",id:"evidence-file",style:{display:"none"},multiple:!0,disabled:Ct,onChange:Ce}),h.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>Ut.current?.click(),disabled:Ct,"aria-label":"Select evidence files to upload",children:Ct?"Uploading":"Upload Evidence"})]}),rt&&h.jsx("div",{className:"alert alert-danger mt-2",role:"alert",children:rt}),Qt&&h.jsx("div",{className:"alert alert-success mt-2",role:"status",children:Qt})]}),h.jsxs("section",{className:"d-flex flex-wrap align-items-center gap-3 mb-3",children:[h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:Xn,disabled:!xe||Ze==="loading",children:"Clear filters"}),h.jsxs("div",{className:"d-flex align-items-center gap-2",children:[h.jsx("label",{htmlFor:"evidence-limit",className:"form-label mb-0",children:"Limit"}),h.jsx("input",{id:"evidence-limit",type:"number",inputMode:"numeric",min:1,max:100,className:"form-control form-control-sm",style:{width:"5rem"},value:pe,onChange:Z=>J(Z.currentTarget.value),onBlur:dt,onKeyDown:Z=>{Z.key==="Enter"?(Z.preventDefault(),dt()):Z.key==="Escape"&&(Z.preventDefault(),J(String(P)))}})]})]}),h.jsx("hr",{className:"my-4"}),Ze==="loading"&&h.jsx("p",{children:"Loading"}),Ze==="error"&&h.jsxs("p",{role:"alert",className:"text-danger",children:["Error: ",lt]}),Ue&&h.jsx("div",{className:"alert alert-danger mt-3",role:"alert",children:Ue}),Ne&&h.jsx("div",{className:"alert alert-danger mt-3",role:"alert",children:Ne}),_t&&h.jsx("div",{className:"alert alert-success mt-3",role:"status",children:_t}),h.jsx(jk,{headers:Xe,items:sn,fetchState:Ze,timeFormat:Lt,onDownload:U,downloadingId:me,onDelete:Re,deletingId:Kn}),h.jsxs("nav",{"aria-label":"Evidence pagination",className:"d-flex align-items-center gap-2",children:[h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:we,disabled:Ze!=="ok"||Xt.length===0,children:"Prev"}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:be,disabled:Ze!=="ok"||!tn,children:"Next"})]})]})}const ig={name:"",email:"",password:"",roles:[]};function Ek(t){if(!t||typeof t!="object")return!1;const e=t,n=e.meta;return e.ok===!0&&Array.isArray(e.data)&&!!n&&typeof n.page=="number"&&typeof n.total_pages=="number"}function Nk(t,e){if(t.length!==e.length)return!1;const n=[...t].sort(),i=[...e].sort();for(let a=0;a<n.length;a++)if(n[a]!==i[a])return!1;return!0}const sg=/^[^\s@]+@[^\s@]+\.[^\s@]+$/i;function td(t){if(!t||typeof t!="object")return{};const e=t.errors;if(!e||typeof e!="object")return{};const n={};return Object.entries(e).forEach(([i,a])=>{if(Array.isArray(a)){const o=a.find(c=>typeof c=="string"&&c.trim()!=="");typeof o=="string"&&(n[i]=o)}else typeof a=="string"&&a.trim()!==""&&(n[i]=a)}),n}function ll(t,e){if(t instanceof Ft){const n=t.body;if(n&&typeof n=="object"){const i=n.message;if(typeof i=="string"&&i.trim()!=="")return i;const a=td(n),o=Object.values(a).find(c=>typeof c=="string"&&c.trim()!=="");if(typeof o=="string")return o}return typeof t.message=="string"&&t.message.trim()!==""?t.message:e}return t instanceof Error&&typeof t.message=="string"&&t.message.trim()!==""?t.message:e}function Mk(){const[t,e]=w.useState(""),[n,i]=w.useState(""),[a,o]=w.useState(1),[c]=w.useState(25),[u,f]=w.useState([]),[m,g]=w.useState({page:1,per_page:25,total:0,total_pages:0}),[v,x]=w.useState(!1),[_,k]=w.useState(null),[j,C]=w.useState([]),[T,P]=w.useState(!1),[B,z]=w.useState(null),[H,q]=w.useState([]),[N,L]=w.useState(!1),[V,A]=w.useState(null),[D,Y]=w.useState({}),[X,ne]=w.useState(null),[oe,fe]=w.useState(ig),[pe,J]=w.useState(!1),[se,M]=w.useState(null),[S,F]=w.useState({}),[ee,ae]=w.useState(null),[ce,de]=w.useState(!1),De=m.page>1,ke=m.page<m.total_pages,Ve=Math.max(4,Math.min(8,j.length||4));w.useEffect(()=>{let me=!0;return P(!0),z(null),Rd().then(Me=>{me&&(Me.ok?C(Dd(Me.roles??[])):(C([]),z("Failed to load roles.")))}).catch(()=>{me&&(C([]),z("Failed to load roles."))}).finally(()=>{me&&P(!1)}),()=>{me=!1}},[]),w.useEffect(()=>{const me=new Set(j.map(Me=>Me.id));q(Me=>Me.filter(Ue=>me.has(Ue))),fe(Me=>{if(!X)return Me;const Ue=Me.roles.filter(bt=>me.has(bt));return Ue.length===Me.roles.length?Me:{...Me,roles:Ue}})},[j,X]),w.useEffect(()=>{if(!X){fe({...ig}),M(null),F({});return}fe({name:X.name,email:X.email,password:"",roles:Ki(X.roles)}),M(null),F({})},[X]);const Ze=w.useMemo(()=>X?Ki(X.roles):[],[X]),It=w.useMemo(()=>{if(!X)return[];const me=Ze.map(Me=>vr(Me));return me.length>0?me:X.roles},[X,Ze]),lt=w.useMemo(()=>{if(!X)return!1;const me=oe.password.trim()!=="",Me=!Nk(oe.roles,Ze);return X.name!==oe.name||X.email!==oe.email||me||Me},[oe,X,Ze]),tt=w.useCallback(async()=>{x(!0);try{const me={q:n.trim()===""?void 0:n,page:a,per_page:c},Me=await xr("/api/users",me);Ek(Me)?(f(Me.data),g(Me.meta)):(f([]),g({page:1,per_page:c,total:0,total_pages:0}),k({kind:"error",text:"Users API shape invalid or not implemented."}))}catch(me){f([]);const Me=ll(me,"Failed to load users.");k({kind:"error",text:Me})}finally{x(!1)}},[n,a,c]);w.useEffect(()=>{tt()},[tt]);const Lt=w.useCallback(me=>{me.preventDefault();const Me=t.trim();if(Me===n){a!==1?o(1):tt();return}i(Me),a!==1&&o(1)},[n,tt,a,t]);async function On(me){if(me.preventDefault(),N)return;const Me=me.currentTarget,Ue=new FormData(Me),bt=String(Ue.get("name")??"").trim(),Ct=String(Ue.get("email")??"").trim(),rt=String(Ue.get("password")??"").trim(),ut={};if(bt.length<2&&(ut.name="Name is required."),Ct===""?ut.email="Email is required.":sg.test(Ct)||(ut.email="Enter a valid email address."),rt===""?ut.password="Password is required.":rt.length<8&&(ut.password="Password must be at least 8 characters."),Object.keys(ut).length>0){Y(ut),A("Please fix the highlighted fields.");return}const Qt={name:bt,email:Ct,password:rt,roles:H};Y({}),L(!0),A(null),k(null);try{await Ls("/api/users",Qt),Me.reset(),q([]),Y({}),k({kind:"success",text:"User created."}),a!==1?o(1):await tt()}catch(Et){const Kn=ll(Et,"Create failed.");if(A(Kn),k({kind:"error",text:Kn}),Et instanceof Ft&&Et.body){const G=td(Et.body);Object.keys(G).length>0&&Y(G)}}finally{L(!1)}}function sn(me){ne(me),ae(null)}function gn(){X&&(fe({name:X.name,email:X.email,password:"",roles:Ki(X.roles)}),M(null),F({}))}async function tn(me){if(me.preventDefault(),!X||pe)return;const Me=oe.name.trim(),Ue=oe.email.trim(),bt=oe.password.trim(),Ct={};if(Me.length<2&&(Ct.name="Name is required."),Ue===""?Ct.email="Email is required.":sg.test(Ue)||(Ct.email="Enter a valid email address."),bt!==""&&bt.length<8&&(Ct.password="Password must be at least 8 characters."),Object.keys(Ct).length>0){F(Ct),M("Please fix the highlighted fields.");return}const an={name:Me,email:Ue,roles:oe.roles};bt!==""&&(an.password=bt),J(!0),M(null),F({}),k(null);try{const rt=await ib(`/api/users/${X.id}`,an);ne(rt.user),k({kind:"success",text:"User updated."}),await tt()}catch(rt){const ut=ll(rt,"Update failed.");if(M(ut),k({kind:"error",text:ut}),rt instanceof Ft&&rt.body){const Qt=td(rt.body);Object.keys(Qt).length>0&&F(Qt)}}finally{J(!1)}}function jt(me){ae(me)}async function Xt(){if(!(!ee||ce)){de(!0),k(null);try{await Ol(`/api/users/${ee.id}`),X&&X.id===ee.id&&ne(null),ae(null),k({kind:"success",text:"User deleted."}),await tt()}catch(me){const Me=ll(me,"Delete failed.");k({kind:"error",text:Me}),ae(null)}finally{de(!1)}}}const ct=()=>{ce||ae(null)};return h.jsxs("main",{className:"container py-4",children:[h.jsx("header",{className:"d-flex align-items-center justify-content-between mb-3",children:h.jsx("h1",{className:"h3 mb-0",children:"Users"})}),h.jsx("section",{"aria-live":"polite",className:"mb-3",children:_&&h.jsx("div",{className:`alert ${_.kind==="success"?"alert-success":"alert-danger"}`,role:"alert",children:_.text})}),h.jsxs("section",{"aria-labelledby":"users-search",className:"mb-4",children:[h.jsx("h2",{id:"users-search",className:"h5",children:"Search"}),h.jsxs("form",{className:"row g-2 align-items-end",onSubmit:Lt,children:[h.jsxs("div",{className:"col-12 col-md-6",children:[h.jsx("label",{htmlFor:"users_q",className:"form-label",children:"Query"}),h.jsx("input",{id:"users_q",name:"q",value:t,onChange:me=>e(me.currentTarget.value),placeholder:"Search name, email, or role",className:"form-control",autoComplete:"off"})]}),h.jsx("div",{className:"col-auto",children:h.jsx("button",{type:"submit",className:"btn btn-primary",disabled:v,children:v?"Searching...":"Search"})})]})]}),h.jsx("div",{className:"table-responsive",children:h.jsxs("table",{className:"table table-sm align-middle",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{scope:"col",style:{width:"6rem"},children:"ID"}),h.jsx("th",{scope:"col",children:"Name"}),h.jsx("th",{scope:"col",children:"Email"}),h.jsx("th",{scope:"col",children:"Roles"}),h.jsx("th",{scope:"col",style:{width:"9rem"},className:"text-end",children:"Actions"})]})}),h.jsxs("tbody",{children:[u.map(me=>h.jsxs("tr",{className:X?.id===me.id?"table-active":void 0,children:[h.jsx("td",{children:me.id}),h.jsx("td",{children:me.name}),h.jsx("td",{children:me.email}),h.jsx("td",{children:me.roles.length>0?me.roles.join(", "):h.jsx("span",{className:"text-muted",children:"None"})}),h.jsx("td",{className:"text-end",children:h.jsxs("div",{className:"btn-group btn-group-sm",role:"group","aria-label":`Actions for ${me.email}`,children:[h.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:()=>sn(me),disabled:pe&&X?.id===me.id,children:"Edit"}),h.jsx("button",{type:"button",className:"btn btn-outline-danger",onClick:()=>jt(me),disabled:ce&&ee?.id===me.id,children:"Delete"})]})})]},me.id)),u.length===0&&!v&&h.jsx("tr",{children:h.jsx("td",{colSpan:5,className:"text-center text-muted py-4",children:"No users"})})]})]})}),h.jsxs("nav",{"aria-label":"Pagination",className:"d-flex align-items-center gap-3 mt-2",children:[h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>o(me=>Math.max(1,me-1)),disabled:!De||v,children:"Prev"}),h.jsxs("span",{className:"text-muted",children:["Page ",m.page," of ",Math.max(1,m.total_pages)]}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>o(me=>me+1),disabled:!ke||v,children:"Next"})]}),ee&&h.jsxs("div",{className:"alert alert-warning d-flex align-items-center justify-content-between mt-4",role:"alert",children:[h.jsxs("div",{children:[h.jsxs("strong",{children:["Delete ",ee.email,"?"]}),h.jsx("div",{className:"small",children:"This action cannot be undone."})]}),h.jsxs("div",{className:"d-flex gap-2",children:[h.jsx("button",{type:"button",className:"btn btn-danger",onClick:Xt,disabled:ce,children:ce?"Deleting...":"Delete"}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:ct,disabled:ce,children:"Cancel"})]})]}),h.jsxs("section",{className:"row g-4 mt-4",children:[h.jsx("div",{className:"col-12 col-lg-6",children:h.jsxs("div",{className:"card h-100",children:[h.jsx("div",{className:"card-header",children:"Edit user"}),h.jsx("div",{className:"card-body",children:X?h.jsxs("form",{onSubmit:tn,className:"row g-3",noValidate:!0,children:[h.jsxs("div",{className:"col-12",children:[h.jsx("div",{className:"fw-semibold",children:"User ID"}),h.jsx("div",{children:X.id})]}),h.jsxs("div",{className:"col-12",children:[h.jsx("div",{className:"fw-semibold",children:"Current roles"}),h.jsx("div",{children:It.length>0?It.join(", "):h.jsx("span",{className:"text-muted",children:"None"})})]}),h.jsxs("div",{className:"col-12",children:[h.jsxs("label",{htmlFor:"edit_name",className:"form-label",children:["Name ",h.jsx("span",{className:"text-danger","aria-hidden":"true",children:"*"})]}),h.jsx("input",{id:"edit_name",name:"name",className:`form-control${S.name?" is-invalid":""}`,value:oe.name,onChange:me=>{const Me=me.currentTarget.value;fe(Ue=>({...Ue,name:Me}))},required:!0,"aria-invalid":!!S.name,"aria-describedby":S.name?"edit_name_error":void 0}),S.name?h.jsx("div",{id:"edit_name_error",className:"invalid-feedback d-block",children:S.name}):null]}),h.jsxs("div",{className:"col-12",children:[h.jsxs("label",{htmlFor:"edit_email",className:"form-label",children:["Email ",h.jsx("span",{className:"text-danger","aria-hidden":"true",children:"*"})]}),h.jsx("input",{id:"edit_email",name:"email",className:`form-control${S.email?" is-invalid":""}`,type:"email",value:oe.email,onChange:me=>{const Me=me.currentTarget.value;fe(Ue=>({...Ue,email:Me}))},required:!0,"aria-invalid":!!S.email,"aria-describedby":S.email?"edit_email_error":void 0}),S.email?h.jsx("div",{id:"edit_email_error",className:"invalid-feedback d-block",children:S.email}):null]}),h.jsxs("div",{className:"col-12",children:[h.jsx("label",{htmlFor:"edit_password",className:"form-label",children:"Reset password"}),h.jsx("input",{id:"edit_password",name:"password",className:`form-control${S.password?" is-invalid":""}`,type:"password",placeholder:"Leave blank to keep current password",value:oe.password,onChange:me=>{const Me=me.currentTarget.value;fe(Ue=>({...Ue,password:Me}))},"aria-invalid":!!S.password,"aria-describedby":S.password?"edit_password_error":void 0}),S.password?h.jsx("div",{id:"edit_password_error",className:"invalid-feedback d-block",children:S.password}):null]}),h.jsxs("div",{className:"col-12",children:[h.jsx("label",{htmlFor:"edit_roles",className:"form-label",children:"Roles"}),h.jsx("select",{id:"edit_roles",name:"roles",multiple:!0,className:"form-select",size:Ve,value:oe.roles,onChange:me=>{const Me=Array.from(me.currentTarget.selectedOptions).map(Ue=>Ue.value);fe(Ue=>({...Ue,roles:Me}))},"aria-describedby":"edit_roles_help",children:j.map(me=>h.jsx("option",{value:me.id,children:me.name},me.id))}),h.jsx("div",{id:"edit_roles_help",className:"form-text",children:T?"Loading roles...":B??(j.length===0?"No roles available.":"Use Ctrl/Cmd-click to toggle selections.")})]}),se&&h.jsx("div",{className:"col-12",children:h.jsx("div",{className:"alert alert-danger py-2 mb-0",role:"alert",children:se})}),h.jsxs("div",{className:"col-12 d-flex gap-2",children:[h.jsx("button",{type:"submit",className:"btn btn-primary",disabled:!lt||pe,children:pe?"Saving...":"Save"}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:gn,disabled:pe||!lt,children:"Reset"})]})]}):h.jsx("p",{className:"text-muted mb-0",children:"No user selected."})})]})}),h.jsx("div",{className:"col-12 col-lg-6",children:h.jsxs("div",{className:"card h-100",children:[h.jsx("div",{className:"card-header",children:"Create user"}),h.jsxs("div",{className:"card-body",children:[V&&h.jsx("div",{className:"alert alert-danger py-2",role:"alert",children:V}),h.jsxs("form",{onSubmit:On,className:"row g-3",noValidate:!0,children:[h.jsxs("div",{className:"col-12",children:[h.jsxs("label",{htmlFor:"create_name",className:"form-label",children:["Name ",h.jsx("span",{className:"text-danger","aria-hidden":"true",children:"*"})]}),h.jsx("input",{id:"create_name",name:"name",className:`form-control${D.name?" is-invalid":""}`,required:!0,autoComplete:"off","aria-invalid":!!D.name,"aria-describedby":D.name?"create_name_error":void 0}),D.name?h.jsx("div",{id:"create_name_error",className:"invalid-feedback d-block",children:D.name}):null]}),h.jsxs("div",{className:"col-12",children:[h.jsxs("label",{htmlFor:"create_email",className:"form-label",children:["Email ",h.jsx("span",{className:"text-danger","aria-hidden":"true",children:"*"})]}),h.jsx("input",{id:"create_email",name:"email",type:"email",className:`form-control${D.email?" is-invalid":""}`,required:!0,autoComplete:"off","aria-invalid":!!D.email,"aria-describedby":D.email?"create_email_error":void 0}),D.email?h.jsx("div",{id:"create_email_error",className:"invalid-feedback d-block",children:D.email}):null]}),h.jsxs("div",{className:"col-12",children:[h.jsxs("label",{htmlFor:"create_password",className:"form-label",children:["Password ",h.jsx("span",{className:"text-danger","aria-hidden":"true",children:"*"})]}),h.jsx("input",{id:"create_password",name:"password",type:"password",className:`form-control${D.password?" is-invalid":""}`,required:!0,autoComplete:"new-password","aria-invalid":!!D.password,"aria-describedby":D.password?"create_password_error":void 0}),D.password?h.jsx("div",{id:"create_password_error",className:"invalid-feedback d-block",children:D.password}):null]}),h.jsxs("div",{className:"col-12",children:[h.jsx("label",{htmlFor:"create_roles",className:"form-label",children:"Roles"}),h.jsx("select",{id:"create_roles",name:"roles",multiple:!0,className:"form-select",size:Ve,value:H,onChange:me=>{const Me=Array.from(me.currentTarget.selectedOptions).map(Ue=>Ue.value);q(Me)},"aria-describedby":"create_roles_help",children:j.map(me=>h.jsx("option",{value:me.id,children:me.name},me.id))}),h.jsx("div",{id:"create_roles_help",className:"form-text",children:T?"Loading roles...":B??(j.length===0?"No roles available.":"Use Ctrl/Cmd-click to toggle selections.")})]}),h.jsx("div",{className:"col-12",children:h.jsx("button",{type:"submit",className:"btn btn-success",disabled:N,children:N?"Creating...":"Create"})})]})]})]})})]})]})}function Rk(t){return t.code==="AVATARS_NOT_ENABLED"}function Tk(t){return t.code==="AVATAR_TOO_LARGE"}function Pk(t){return t.note==="stub-only"&&!!t.file}function Dk(){const[t,e]=w.useState(null),[n,i]=w.useState(null),[a,o]=w.useState(null),[c,u]=w.useState(null),f=w.useRef(null);w.useEffect(()=>{if(f.current&&(URL.revokeObjectURL(f.current),f.current=null),t){const g=URL.createObjectURL(t);f.current=g,u(g)}else u(null);return()=>{f.current&&URL.revokeObjectURL(f.current)}},[t]);async function m(g){if(g.preventDefault(),i(null),o(null),!t){i("Choose an image first.");return}const v=new FormData;v.append("file",t);try{const x=await Tg("/api/avatar",v);if(Rk(x)){i("Avatars feature disabled (stub).");return}if(Tk(x)){i(`Image too large. Max ${x.limit.max_width}x${x.limit.max_height}px.`);return}if(Pk(x)){o(x.file),i("Validated. Not stored (stub).");return}i("Request completed.")}catch{i("Network error.")}}return h.jsxs("div",{className:"container py-3",children:[h.jsx("h1",{children:"Profile Avatar"}),n&&h.jsx("div",{className:"alert alert-info",children:n}),h.jsxs("form",{onSubmit:m,children:[h.jsxs("div",{className:"mb-3",children:[h.jsx("label",{className:"form-label",children:"Select image (WEBP/JPEG/PNG)"}),h.jsx("input",{className:"form-control",type:"file",accept:"image/webp,image/jpeg,image/png",onChange:g=>e(g.currentTarget.files?.[0]??null)})]}),h.jsx("button",{className:"btn btn-primary",type:"submit",children:"Validate (stub)"})]}),c&&h.jsx("div",{className:"row mt-3",children:h.jsx("div",{className:"col-auto",children:h.jsx("img",{src:c,alt:"preview",className:"img-thumbnail"})})}),a&&h.jsxs("div",{className:"mt-3",children:[h.jsx("h2",{children:"Image Metadata"}),h.jsxs("ul",{children:[h.jsxs("li",{children:["Name: ",a.original_name]}),h.jsxs("li",{children:["MIME: ",a.mime]}),h.jsxs("li",{children:["Size: ",a.size_bytes," bytes"]}),h.jsxs("li",{children:["Dimensions: ",a.width,"",a.height]}),h.jsxs("li",{children:["Format: ",a.format]})]}),h.jsx("p",{className:"text-muted",children:"Phase 4 stub. No processing or storage yet."})]})]})}const Lk=["color.primary","color.surface","color.text"],Ak=["none","default","light","heavy","custom"],Ok=["narrow","default","wide"],Fk=["small","medium","large"],Ik=["none","limited","full"],ag=50,og=480,lg=t=>({theme:t.theme,mode:t.mode,overrides:{...t.overrides},sidebar:{collapsed:t.sidebar.collapsed,width:t.sidebar.width,order:[...t.sidebar.order]}}),zk=(t,e)=>{const n={};return(!e||t.theme!==e.theme)&&(n.theme=t.theme),(!e||t.mode!==e.mode)&&(n.mode=t.mode),(!e||!Uk(t.overrides,e.overrides))&&(n.overrides=t.overrides),(!e||e.sidebar.collapsed!==t.sidebar.collapsed||e.sidebar.width!==t.sidebar.width||!Bk(e.sidebar.order,t.sidebar.order))&&(n.sidebar={...t.sidebar}),n},Uk=(t,e)=>{const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(const a of n)if(t[a]!==e[a])return!1;return!0},Bk=(t,e)=>t.length!==e.length?!1:t.every((n,i)=>n===e[i]);async function cl(t){try{return await t.json()}catch{return null}}function $k(){const[t,e]=w.useState(Nd),[n,i]=w.useState(Vn),[a,o]=w.useState(lg(fi)),[c,u]=w.useState(!0),[f,m]=w.useState(!1),[g,v]=w.useState(null),[x,_]=w.useState(!1),k=w.useRef(null),j=w.useRef(null),C=w.useMemo(()=>n.theme.default,[n]),T=w.useMemo(()=>[...t.themes,...t.packs],[t]),B=w.useMemo(()=>{const S=a.theme??C;return T.find(F=>F.slug===S)},[a.theme,T,C])?.supports?.mode??["light","dark"],z=n.theme.allow_user_override,H=n.theme.force_global,q=w.useCallback(S=>{const F=lg(S);j.current=F,o(F)},[]),N=w.useCallback(async S=>{u(!0),S?.preserveMessage||v(null);try{const[F,ee,ae]=await Promise.all([fetch("/api/settings/ui/themes",{method:"GET",credentials:"same-origin",headers:Dt()}),fetch("/api/settings/ui",{method:"GET",credentials:"same-origin",headers:Dt()}),fetch("/api/me/prefs/ui",{method:"GET",credentials:"same-origin",headers:Dt()})]);if(F.ok){const de=await cl(F);de&&Array.isArray(de.themes)&&e(de)}if(ee.ok){const de=await cl(ee);de?.config?.ui&&i(de.config.ui)}if(ae.status===403){_(!0),v("You do not have permission to manage UI preferences."),k.current=null,q(fi);return}if(!ae.ok){v("Failed to load preferences. Using defaults."),k.current=null,q(fi);return}k.current=ae.headers.get("ETag");const ce=await cl(ae);ce?.prefs?q(ce.prefs):q(fi),_(!1)}catch{v("Failed to load preferences. Using defaults."),k.current=null,q(fi)}finally{u(!1)}},[q]);w.useEffect(()=>{N()},[N]);const L=S=>{o(F=>({...F,theme:S}))},V=S=>{o(F=>({...F,mode:S}))},A=(S,F)=>{o(ee=>({...ee,overrides:{...ee.overrides,[S]:F}}))},D=(S,F)=>{o(ee=>({...ee,overrides:{...ee.overrides,[S]:F}}))},Y=S=>{o(F=>({...F,sidebar:{...F.sidebar,collapsed:S}}))},X=S=>{const F=Math.max(ag,Math.min(og,S));o(ee=>({...ee,sidebar:{...ee.sidebar,width:F}}))},ne=()=>{j.current&&(o(j.current),v("Reverted to last saved preferences."))},oe=()=>{const S=n.theme.overrides,F={theme:z&&!H?null:n.theme.default,mode:null,overrides:{...S},sidebar:{collapsed:fi.sidebar.collapsed,width:fi.sidebar.width,order:[...fi.sidebar.order]}};o(F),v("Preferences reset to global defaults.")},fe=async()=>{if(x){v("Read-only mode: preferences cannot be changed.");return}const S=j.current,F=zk(a,S);if(Object.keys(F).length===0){v("No changes to save.");return}const ee=k.current;if(!ee){await N(),v("Preferences version refreshed. Please retry.");return}m(!0),v(null);try{(H||!z)&&(F.theme=null),z||(F.overrides={});const ae=await fetch("/api/me/prefs/ui",{method:"PUT",credentials:"same-origin",headers:Dt({"Content-Type":"application/json","If-Match":ee}),body:JSON.stringify(F)}),ce=await cl(ae);if(ae.status===409){const ke=ce?.current_etag??ae.headers.get("ETag");ke&&(k.current=ke),v("Preferences changed elsewhere. Reloaded latest values."),await N({preserveMessage:!0});return}if(!ae.ok)throw new Error(`Save failed (HTTP ${ae.status}).`);const de=ae.headers.get("ETag")??ce?.etag??null;de&&(k.current=de),ce?.prefs?q(ce.prefs):j.current=a;const De=typeof ce?.message=="string"?ce.message:"Preferences saved.";v(De)}catch(ae){v(ae instanceof Error?ae.message:"Save failed.")}finally{m(!1)}},pe=!z||H||x||f||c,J=x||f||c||B.length===1,se=a.theme??C,M=f||c||x;return h.jsxs("main",{id:"profile-theme",className:"container py-3","aria-label":"theme-preferences",children:[h.jsx("h1",{className:"mb-3",children:"Theme Preferences"}),h.jsxs("section",{className:"card",children:[h.jsxs("div",{className:"card-header d-flex justify-content-between align-items-center",children:[h.jsx("strong",{children:"Personal Theme"}),h.jsxs("div",{className:"d-flex gap-2",children:[h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>void N(),disabled:c||f,children:"Reload"}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:ne,disabled:M,children:"Reset to saved"}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:oe,disabled:M,children:"Reset to global"}),h.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:()=>void fe(),disabled:M,children:f?"Saving":"Save"})]})]}),h.jsx("div",{className:"card-body vstack gap-4",children:c?h.jsx("p",{children:"Loading preferences"}):h.jsxs(h.Fragment,{children:[g&&h.jsx("div",{className:"alert alert-info mb-0",role:"status",children:g}),h.jsxs("fieldset",{className:"vstack gap-3",disabled:M,children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"prefTheme",className:"form-label fw-semibold",children:"Theme selection"}),h.jsx("select",{id:"prefTheme",className:"form-select",value:se,onChange:S=>L(S.target.value),disabled:pe,children:T.map(S=>h.jsxs("option",{value:S.slug,children:[S.name," (",S.source==="bootswatch"?"Bootswatch":"Pack",")"]},S.slug))}),!z&&h.jsx("div",{className:"form-text",children:"Theme overrides are disabled by your administrator."}),H&&h.jsx("div",{className:"form-text",children:"Global theme is enforced. Light/dark mode preference still applies when supported."})]}),h.jsxs("fieldset",{children:[h.jsx("legend",{className:"form-label fw-semibold",children:"Mode"}),h.jsxs("div",{className:"d-flex gap-3",children:[["light","dark"].map(S=>h.jsxs("label",{className:"form-check",children:[h.jsx("input",{className:"form-check-input",type:"radio",name:"themeMode",value:S,checked:a.mode===S,disabled:J||!B.includes(S),onChange:()=>V(S)}),h.jsx("span",{className:"form-check-label text-capitalize",children:S})]},S)),h.jsxs("label",{className:"form-check",children:[h.jsx("input",{className:"form-check-input",type:"radio",name:"themeMode",value:"system",checked:a.mode===null,disabled:J,onChange:()=>V(null)}),h.jsx("span",{className:"form-check-label",children:"Follow system"})]})]})]}),h.jsxs("div",{children:[h.jsx("h2",{className:"h5 mb-3",children:"Design tokens"}),h.jsx("div",{className:"row g-3",children:Lk.map(S=>h.jsxs("div",{className:"col-sm-4",children:[h.jsxs("label",{htmlFor:`pref-${S}`,className:"form-label text-capitalize",children:[S.replace("color.","")," color"]}),h.jsx("input",{id:`pref-${S}`,type:"color",className:"form-control form-control-color",value:a.overrides[S]??"#000000",onChange:F=>A(S,F.target.value)})]},S))}),h.jsxs("div",{className:"row g-3 mt-1",children:[h.jsxs("div",{className:"col-sm-3",children:[h.jsx("label",{htmlFor:"prefShadow",className:"form-label",children:"Shadow preset"}),h.jsx("select",{id:"prefShadow",className:"form-select",value:a.overrides.shadow??"default",onChange:S=>D("shadow",S.target.value),children:Ak.map(S=>h.jsx("option",{value:S,children:S},S))})]}),h.jsxs("div",{className:"col-sm-3",children:[h.jsx("label",{htmlFor:"prefSpacing",className:"form-label",children:"Spacing scale"}),h.jsx("select",{id:"prefSpacing",className:"form-select",value:a.overrides.spacing??"default",onChange:S=>D("spacing",S.target.value),children:Ok.map(S=>h.jsx("option",{value:S,children:S},S))})]}),h.jsxs("div",{className:"col-sm-3",children:[h.jsx("label",{htmlFor:"prefTypeScale",className:"form-label",children:"Type scale"}),h.jsx("select",{id:"prefTypeScale",className:"form-select",value:a.overrides.typeScale??"medium",onChange:S=>D("typeScale",S.target.value),children:Fk.map(S=>h.jsx("option",{value:S,children:S},S))})]}),h.jsxs("div",{className:"col-sm-3",children:[h.jsx("label",{htmlFor:"prefMotion",className:"form-label",children:"Motion"}),h.jsx("select",{id:"prefMotion",className:"form-select",value:a.overrides.motion??"full",onChange:S=>D("motion",S.target.value),children:Ik.map(S=>h.jsx("option",{value:S,children:S},S))})]})]})]}),h.jsxs("div",{children:[h.jsx("h2",{className:"h5 mb-3",children:"Sidebar"}),h.jsxs("div",{className:"form-check mb-2",children:[h.jsx("input",{id:"prefSidebarCollapsed",type:"checkbox",className:"form-check-input",checked:a.sidebar.collapsed,onChange:S=>Y(S.target.checked)}),h.jsx("label",{htmlFor:"prefSidebarCollapsed",className:"form-check-label",children:"Collapse sidebar by default"})]}),h.jsx("label",{htmlFor:"prefSidebarWidth",className:"form-label",children:"Sidebar width (px)"}),h.jsx("input",{id:"prefSidebarWidth",type:"range",className:"form-range",min:ag,max:og,value:a.sidebar.width,onChange:S=>X(Number(S.target.value))}),h.jsxs("div",{className:"form-text",children:["Current width: ",a.sidebar.width,"px (min 50px, max ~50% viewport)."]}),h.jsx("div",{className:"alert alert-secondary mt-3",role:"note",children:"Sidebar module ordering coming soon."})]})]})]})})]})]})}function Hk(){const[t,e]=w.useState(""),[n,i]=w.useState(""),[a,o]=w.useState(null),[c,u]=w.useState(null),[f,m]=w.useState(!1);w.useEffect(()=>{ob()&&u("Session expiredplease sign in again.")},[]);async function g(v){v.preventDefault(),o(null),m(!0);try{await lb({email:t,password:n});const x=ab()||"/dashboard";window.location.assign(x)}catch{o("Invalid credentials or server error.")}finally{m(!1)}}return h.jsxs("div",{className:"mx-auto mt-24 max-w-md rounded-2xl border p-6 shadow",children:[h.jsx("h1",{className:"mb-4 text-xl font-semibold",children:"Sign in"}),c&&h.jsx("div",{className:"mb-3 rounded-md bg-yellow-50 p-2 text-sm text-yellow-800",children:c}),h.jsxs("form",{onSubmit:g,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"mb-1 block text-sm font-medium",children:"Email"}),h.jsx("input",{type:"email",className:"w-full rounded-md border px-3 py-2",value:t,onChange:v=>e(v.currentTarget.value),required:!0,autoComplete:"username"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"mb-1 block text-sm font-medium",children:"Password"}),h.jsx("input",{type:"password",className:"w-full rounded-md border px-3 py-2",value:n,onChange:v=>i(v.currentTarget.value),required:!0,autoComplete:"current-password"})]}),a&&h.jsx("div",{className:"rounded-md bg-red-50 p-2 text-sm text-red-700",children:a}),h.jsx("button",{type:"submit",className:"w-full rounded-md bg-black px-4 py-2 text-white disabled:opacity-50",disabled:f,children:f?"Signing in...":"Sign in"})]})]})}const Wk=I0(Hu(h.jsxs(Jt,{path:"/",element:h.jsx(fb,{}),children:[h.jsx(Jt,{index:!0,element:h.jsx(Rm,{to:"/dashboard",replace:!0})}),h.jsx(Jt,{path:"auth",children:h.jsx(Jt,{path:"login",element:h.jsx(Hk,{})})}),h.jsx(Jt,{path:"dashboard",element:h.jsx(S1,{})}),h.jsxs(Jt,{path:"admin",children:[h.jsx(Jt,{index:!0,element:h.jsx(k1,{})}),h.jsx(Jt,{path:"settings",element:h.jsx(O1,{})}),h.jsx(Jt,{path:"roles",element:h.jsx(V1,{})}),h.jsx(Jt,{path:"users",element:h.jsx(Mk,{})}),h.jsx(Jt,{path:"user-roles",element:h.jsx(Y1,{})}),h.jsx(Jt,{path:"audit",element:h.jsx(ck,{})}),h.jsx(Jt,{path:"evidence",element:h.jsx(Ck,{})})]}),h.jsxs(Jt,{path:"profile",children:[h.jsx(Jt,{path:"avatar",element:h.jsx(Dk,{})}),h.jsx(Jt,{path:"theme",element:h.jsx($k,{})})]}),h.jsx(Jt,{path:"*",element:h.jsx(Rm,{to:"/dashboard",replace:!0})})]})));mx.createRoot(document.getElementById("root")).render(h.jsx(Tl.StrictMode,{children:h.jsx(Y0,{router:Wk,future:{v7_startTransition:!0}})}));
