function Ug(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in t)){const o=Object.getOwnPropertyDescriptor(i,a);o&&Object.defineProperty(t,a,o.get?o:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function Nd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Lu={exports:{}},Ea={},Ou={exports:{}},Ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tm;function Wx(){if(Tm)return Ye;Tm=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function x(S){return S===null||typeof S!="object"?null:(S=v&&S[v]||S["@@iterator"],typeof S=="function"?S:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,j={};function C(S,F,ee){this.props=S,this.context=F,this.refs=j,this.updater=ee||w}C.prototype.isReactComponent={},C.prototype.setState=function(S,F){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,F,"setState")},C.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function N(){}N.prototype=C.prototype;function P(S,F,ee){this.props=S,this.context=F,this.refs=j,this.updater=ee||w}var $=P.prototype=new N;$.constructor=P,k($,C.prototype),$.isPureReactComponent=!0;var I=Array.isArray,H=Object.prototype.hasOwnProperty,q={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function A(S,F,ee){var ie,ce={},de=null,Te=null;if(F!=null)for(ie in F.ref!==void 0&&(Te=F.ref),F.key!==void 0&&(de=""+F.key),F)H.call(F,ie)&&!R.hasOwnProperty(ie)&&(ce[ie]=F[ie]);var ke=arguments.length-2;if(ke===1)ce.children=ee;else if(1<ke){for(var Ve=Array(ke),Ge=0;Ge<ke;Ge++)Ve[Ge]=arguments[Ge+2];ce.children=Ve}if(S&&S.defaultProps)for(ie in ke=S.defaultProps,ke)ce[ie]===void 0&&(ce[ie]=ke[ie]);return{$$typeof:t,type:S,key:de,ref:Te,props:ce,_owner:q.current}}function K(S,F){return{$$typeof:t,type:S.type,key:F,ref:S.ref,props:S.props,_owner:S._owner}}function L(S){return typeof S=="object"&&S!==null&&S.$$typeof===t}function T(S){var F={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(ee){return F[ee]})}var Y=/\/+/g;function X(S,F){return typeof S=="object"&&S!==null&&S.key!=null?T(""+S.key):F.toString(36)}function te(S,F,ee,ie,ce){var de=typeof S;(de==="undefined"||de==="boolean")&&(S=null);var Te=!1;if(S===null)Te=!0;else switch(de){case"string":case"number":Te=!0;break;case"object":switch(S.$$typeof){case t:case e:Te=!0}}if(Te)return Te=S,ce=ce(Te),S=ie===""?"."+X(Te,0):ie,I(ce)?(ee="",S!=null&&(ee=S.replace(Y,"$&/")+"/"),te(ce,F,ee,"",function(Ge){return Ge})):ce!=null&&(L(ce)&&(ce=K(ce,ee+(!ce.key||Te&&Te.key===ce.key?"":(""+ce.key).replace(Y,"$&/")+"/")+S)),F.push(ce)),1;if(Te=0,ie=ie===""?".":ie+":",I(S))for(var ke=0;ke<S.length;ke++){de=S[ke];var Ve=ie+X(de,ke);Te+=te(de,F,ee,Ve,ce)}else if(Ve=x(S),typeof Ve=="function")for(S=Ve.call(S),ke=0;!(de=S.next()).done;)de=de.value,Ve=ie+X(de,ke++),Te+=te(de,F,ee,Ve,ce);else if(de==="object")throw F=String(S),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.");return Te}function se(S,F,ee){if(S==null)return S;var ie=[],ce=0;return te(S,ie,"","",function(de){return F.call(ee,de,ce++)}),ie}function he(S){if(S._status===-1){var F=S._result;F=F(),F.then(function(ee){(S._status===0||S._status===-1)&&(S._status=1,S._result=ee)},function(ee){(S._status===0||S._status===-1)&&(S._status=2,S._result=ee)}),S._status===-1&&(S._status=0,S._result=F)}if(S._status===1)return S._result.default;throw S._result}var ye={current:null},Z={transition:null},ne={ReactCurrentDispatcher:ye,ReactCurrentBatchConfig:Z,ReactCurrentOwner:q};function M(){throw Error("act(...) is not supported in production builds of React.")}return Ye.Children={map:se,forEach:function(S,F,ee){se(S,function(){F.apply(this,arguments)},ee)},count:function(S){var F=0;return se(S,function(){F++}),F},toArray:function(S){return se(S,function(F){return F})||[]},only:function(S){if(!L(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},Ye.Component=C,Ye.Fragment=n,Ye.Profiler=a,Ye.PureComponent=P,Ye.StrictMode=i,Ye.Suspense=f,Ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,Ye.act=M,Ye.cloneElement=function(S,F,ee){if(S==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+S+".");var ie=k({},S.props),ce=S.key,de=S.ref,Te=S._owner;if(F!=null){if(F.ref!==void 0&&(de=F.ref,Te=q.current),F.key!==void 0&&(ce=""+F.key),S.type&&S.type.defaultProps)var ke=S.type.defaultProps;for(Ve in F)H.call(F,Ve)&&!R.hasOwnProperty(Ve)&&(ie[Ve]=F[Ve]===void 0&&ke!==void 0?ke[Ve]:F[Ve])}var Ve=arguments.length-2;if(Ve===1)ie.children=ee;else if(1<Ve){ke=Array(Ve);for(var Ge=0;Ge<Ve;Ge++)ke[Ge]=arguments[Ge+2];ie.children=ke}return{$$typeof:t,type:S.type,key:ce,ref:de,props:ie,_owner:Te}},Ye.createContext=function(S){return S={$$typeof:c,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},S.Provider={$$typeof:o,_context:S},S.Consumer=S},Ye.createElement=A,Ye.createFactory=function(S){var F=A.bind(null,S);return F.type=S,F},Ye.createRef=function(){return{current:null}},Ye.forwardRef=function(S){return{$$typeof:u,render:S}},Ye.isValidElement=L,Ye.lazy=function(S){return{$$typeof:g,_payload:{_status:-1,_result:S},_init:he}},Ye.memo=function(S,F){return{$$typeof:m,type:S,compare:F===void 0?null:F}},Ye.startTransition=function(S){var F=Z.transition;Z.transition={};try{S()}finally{Z.transition=F}},Ye.unstable_act=M,Ye.useCallback=function(S,F){return ye.current.useCallback(S,F)},Ye.useContext=function(S){return ye.current.useContext(S)},Ye.useDebugValue=function(){},Ye.useDeferredValue=function(S){return ye.current.useDeferredValue(S)},Ye.useEffect=function(S,F){return ye.current.useEffect(S,F)},Ye.useId=function(){return ye.current.useId()},Ye.useImperativeHandle=function(S,F,ee){return ye.current.useImperativeHandle(S,F,ee)},Ye.useInsertionEffect=function(S,F){return ye.current.useInsertionEffect(S,F)},Ye.useLayoutEffect=function(S,F){return ye.current.useLayoutEffect(S,F)},Ye.useMemo=function(S,F){return ye.current.useMemo(S,F)},Ye.useReducer=function(S,F,ee){return ye.current.useReducer(S,F,ee)},Ye.useRef=function(S){return ye.current.useRef(S)},Ye.useState=function(S){return ye.current.useState(S)},Ye.useSyncExternalStore=function(S,F,ee){return ye.current.useSyncExternalStore(S,F,ee)},Ye.useTransition=function(){return ye.current.useTransition()},Ye.version="18.3.1",Ye}var Pm;function Rd(){return Pm||(Pm=1,Ou.exports=Wx()),Ou.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dm;function Vx(){if(Dm)return Ea;Dm=1;var t=Rd(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(u,f,m){var g,v={},x=null,w=null;m!==void 0&&(x=""+m),f.key!==void 0&&(x=""+f.key),f.ref!==void 0&&(w=f.ref);for(g in f)i.call(f,g)&&!o.hasOwnProperty(g)&&(v[g]=f[g]);if(u&&u.defaultProps)for(g in f=u.defaultProps,f)v[g]===void 0&&(v[g]=f[g]);return{$$typeof:e,type:u,key:x,ref:w,props:v,_owner:a.current}}return Ea.Fragment=n,Ea.jsx=c,Ea.jsxs=c,Ea}var Am;function Kx(){return Am||(Am=1,Lu.exports=Vx()),Lu.exports}var h=Kx(),b=Rd();const Vl=Nd(b),Yx=Ug({__proto__:null,default:Vl},[b]);var nl={},Fu={exports:{}},Cn={},Iu={exports:{}},zu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lm;function Xx(){return Lm||(Lm=1,(function(t){function e(Z,ne){var M=Z.length;Z.push(ne);e:for(;0<M;){var S=M-1>>>1,F=Z[S];if(0<a(F,ne))Z[S]=ne,Z[M]=F,M=S;else break e}}function n(Z){return Z.length===0?null:Z[0]}function i(Z){if(Z.length===0)return null;var ne=Z[0],M=Z.pop();if(M!==ne){Z[0]=M;e:for(var S=0,F=Z.length,ee=F>>>1;S<ee;){var ie=2*(S+1)-1,ce=Z[ie],de=ie+1,Te=Z[de];if(0>a(ce,M))de<F&&0>a(Te,ce)?(Z[S]=Te,Z[de]=M,S=de):(Z[S]=ce,Z[ie]=M,S=ie);else if(de<F&&0>a(Te,M))Z[S]=Te,Z[de]=M,S=de;else break e}}return ne}function a(Z,ne){var M=Z.sortIndex-ne.sortIndex;return M!==0?M:Z.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,u=c.now();t.unstable_now=function(){return c.now()-u}}var f=[],m=[],g=1,v=null,x=3,w=!1,k=!1,j=!1,C=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function $(Z){for(var ne=n(m);ne!==null;){if(ne.callback===null)i(m);else if(ne.startTime<=Z)i(m),ne.sortIndex=ne.expirationTime,e(f,ne);else break;ne=n(m)}}function I(Z){if(j=!1,$(Z),!k)if(n(f)!==null)k=!0,he(H);else{var ne=n(m);ne!==null&&ye(I,ne.startTime-Z)}}function H(Z,ne){k=!1,j&&(j=!1,N(A),A=-1),w=!0;var M=x;try{for($(ne),v=n(f);v!==null&&(!(v.expirationTime>ne)||Z&&!T());){var S=v.callback;if(typeof S=="function"){v.callback=null,x=v.priorityLevel;var F=S(v.expirationTime<=ne);ne=t.unstable_now(),typeof F=="function"?v.callback=F:v===n(f)&&i(f),$(ne)}else i(f);v=n(f)}if(v!==null)var ee=!0;else{var ie=n(m);ie!==null&&ye(I,ie.startTime-ne),ee=!1}return ee}finally{v=null,x=M,w=!1}}var q=!1,R=null,A=-1,K=5,L=-1;function T(){return!(t.unstable_now()-L<K)}function Y(){if(R!==null){var Z=t.unstable_now();L=Z;var ne=!0;try{ne=R(!0,Z)}finally{ne?X():(q=!1,R=null)}}else q=!1}var X;if(typeof P=="function")X=function(){P(Y)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,se=te.port2;te.port1.onmessage=Y,X=function(){se.postMessage(null)}}else X=function(){C(Y,0)};function he(Z){R=Z,q||(q=!0,X())}function ye(Z,ne){A=C(function(){Z(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_continueExecution=function(){k||w||(k=!0,he(H))},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(Z){switch(x){case 1:case 2:case 3:var ne=3;break;default:ne=x}var M=x;x=ne;try{return Z()}finally{x=M}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Z,ne){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var M=x;x=Z;try{return ne()}finally{x=M}},t.unstable_scheduleCallback=function(Z,ne,M){var S=t.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?S+M:S):M=S,Z){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=M+F,Z={id:g++,callback:ne,priorityLevel:Z,startTime:M,expirationTime:F,sortIndex:-1},M>S?(Z.sortIndex=M,e(m,Z),n(f)===null&&Z===n(m)&&(j?(N(A),A=-1):j=!0,ye(I,M-S))):(Z.sortIndex=F,e(f,Z),k||w||(k=!0,he(H))),Z},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(Z){var ne=x;return function(){var M=x;x=ne;try{return Z.apply(this,arguments)}finally{x=M}}}})(zu)),zu}var Om;function Qx(){return Om||(Om=1,Iu.exports=Xx()),Iu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fm;function Gx(){if(Fm)return Cn;Fm=1;var t=Rd(),e=Qx();function n(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,a={};function o(r,s){c(r,s),c(r+"Capture",s)}function c(r,s){for(a[r]=s,r=0;r<s.length;r++)i.add(s[r])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},v={};function x(r){return f.call(v,r)?!0:f.call(g,r)?!1:m.test(r)?v[r]=!0:(g[r]=!0,!1)}function w(r,s,l,d){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function k(r,s,l,d){if(s===null||typeof s>"u"||w(r,s,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function j(r,s,l,d,p,y,_){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=d,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=r,this.type=s,this.sanitizeURL=y,this.removeEmptyString=_}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){C[r]=new j(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];C[s]=new j(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){C[r]=new j(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){C[r]=new j(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){C[r]=new j(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){C[r]=new j(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){C[r]=new j(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){C[r]=new j(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){C[r]=new j(r,5,!1,r.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function P(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(N,P);C[s]=new j(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(N,P);C[s]=new j(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(N,P);C[s]=new j(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){C[r]=new j(r,1,!1,r.toLowerCase(),null,!1,!1)}),C.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){C[r]=new j(r,1,!1,r.toLowerCase(),null,!0,!0)});function $(r,s,l,d){var p=C.hasOwnProperty(s)?C[s]:null;(p!==null?p.type!==0:d||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(k(s,l,p,d)&&(l=null),d||p===null?x(s)&&(l===null?r.removeAttribute(s):r.setAttribute(s,""+l)):p.mustUseProperty?r[p.propertyName]=l===null?p.type===3?!1:"":l:(s=p.attributeName,d=p.attributeNamespace,l===null?r.removeAttribute(s):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,d?r.setAttributeNS(d,s,l):r.setAttribute(s,l))))}var I=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,H=Symbol.for("react.element"),q=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),T=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),se=Symbol.for("react.memo"),he=Symbol.for("react.lazy"),ye=Symbol.for("react.offscreen"),Z=Symbol.iterator;function ne(r){return r===null||typeof r!="object"?null:(r=Z&&r[Z]||r["@@iterator"],typeof r=="function"?r:null)}var M=Object.assign,S;function F(r){if(S===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);S=s&&s[1]||""}return`
`+S+r}var ee=!1;function ie(r,s){if(!r||ee)return"";ee=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(Q){var d=Q}Reflect.construct(r,[],s)}else{try{s.call()}catch(Q){d=Q}r.call(s.prototype)}else{try{throw Error()}catch(Q){d=Q}r()}}catch(Q){if(Q&&d&&typeof Q.stack=="string"){for(var p=Q.stack.split(`
`),y=d.stack.split(`
`),_=p.length-1,E=y.length-1;1<=_&&0<=E&&p[_]!==y[E];)E--;for(;1<=_&&0<=E;_--,E--)if(p[_]!==y[E]){if(_!==1||E!==1)do if(_--,E--,0>E||p[_]!==y[E]){var O=`
`+p[_].replace(" at new "," at ");return r.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",r.displayName)),O}while(1<=_&&0<=E);break}}}finally{ee=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?F(r):""}function ce(r){switch(r.tag){case 5:return F(r.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return r=ie(r.type,!1),r;case 11:return r=ie(r.type.render,!1),r;case 1:return r=ie(r.type,!0),r;default:return""}}function de(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case R:return"Fragment";case q:return"Portal";case K:return"Profiler";case A:return"StrictMode";case X:return"Suspense";case te:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case T:return(r.displayName||"Context")+".Consumer";case L:return(r._context.displayName||"Context")+".Provider";case Y:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case se:return s=r.displayName||null,s!==null?s:de(r.type)||"Memo";case he:s=r._payload,r=r._init;try{return de(r(s))}catch{}}return null}function Te(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return de(s);case 8:return s===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function ke(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ve(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ge(r){var s=Ve(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),d=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,y=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return p.call(this)},set:function(_){d=""+_,y.call(this,_)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(_){d=""+_},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function At(r){r._valueTracker||(r._valueTracker=Ge(r))}function rt(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),d="";return r&&(d=Ve(r)?r.checked?"true":"false":r.value),r=d,r!==l?(s.setValue(r),!0):!1}function Ze(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function wt(r,s){var l=s.checked;return M({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function on(r,s){var l=s.defaultValue==null?"":s.defaultValue,d=s.checked!=null?s.checked:s.defaultChecked;l=ke(s.value!=null?s.value:l),r._wrapperState={initialChecked:d,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function en(r,s){s=s.checked,s!=null&&$(r,"checked",s,!1)}function un(r,s){en(r,s);var l=ke(s.value),d=s.type;if(l!=null)d==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(d==="submit"||d==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?vt(r,s.type,l):s.hasOwnProperty("defaultValue")&&vt(r,s.type,ke(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function Qt(r,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var d=s.type;if(!(d!=="submit"&&d!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,l||s===r.value||(r.value=s),r.defaultValue=s}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function vt(r,s,l){(s!=="number"||Ze(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var $t=Array.isArray;function lt(r,s,l,d){if(r=r.options,s){s={};for(var p=0;p<l.length;p++)s["$"+l[p]]=!0;for(l=0;l<r.length;l++)p=s.hasOwnProperty("$"+r[l].value),r[l].selected!==p&&(r[l].selected=p),p&&d&&(r[l].defaultSelected=!0)}else{for(l=""+ke(l),s=null,p=0;p<r.length;p++){if(r[p].value===l){r[p].selected=!0,d&&(r[p].defaultSelected=!0);return}s!==null||r[p].disabled||(s=r[p])}s!==null&&(s.selected=!0)}}function ge(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(n(91));return M({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Me(r,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(n(92));if($t(l)){if(1<l.length)throw Error(n(93));l=l[0]}s=l}s==null&&(s=""),l=s}r._wrapperState={initialValue:ke(l)}}function Be(r,s){var l=ke(s.value),d=ke(s.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),s.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),d!=null&&(r.defaultValue=""+d)}function St(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function pt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tn(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?pt(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var ot,ct=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,d,p){MSApp.execUnsafeLocalFunction(function(){return r(s,l,d,p)})}:r})(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(ot=ot||document.createElement("div"),ot.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=ot.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function Ht(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var oe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Le=["Webkit","ms","Moz","O"];Object.keys(oe).forEach(function(r){Le.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),oe[s]=oe[r]})});function U(r,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||oe.hasOwnProperty(r)&&oe[r]?(""+s).trim():s+"px"}function pe(r,s){r=r.style;for(var l in s)if(s.hasOwnProperty(l)){var d=l.indexOf("--")===0,p=U(l,s[l],d);l==="float"&&(l="cssFloat"),d?r.setProperty(l,p):r[l]=p}}var He=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function it(r,s){if(s){if(He[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(n(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(n(61))}if(s.style!=null&&typeof s.style!="object")throw Error(n(62))}}function Rt(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wt=null;function Vt(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var kt=null,dn=null,fn=null;function Wr(r){if(r=fa(r)){if(typeof kt!="function")throw Error(n(280));var s=r.stateNode;s&&(s=yo(s),kt(r.stateNode,r.type,s))}}function Vr(r){dn?fn?fn.push(r):fn=[r]:dn=r}function Ci(){if(dn){var r=dn,s=fn;if(fn=dn=null,Wr(r),s)for(r=0;r<s.length;r++)Wr(s[r])}}function Kr(r,s){return r(s)}function Sr(){}var Pn=!1;function Ei(r,s,l){if(Pn)return r(s,l);Pn=!0;try{return Kr(r,s,l)}finally{Pn=!1,(dn!==null||fn!==null)&&(Sr(),Ci())}}function cr(r,s){var l=r.stateNode;if(l===null)return null;var d=yo(l);if(d===null)return null;l=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(n(231,s,typeof l));return l}var D=!1;if(u)try{var B={};Object.defineProperty(B,"passive",{get:function(){D=!0}}),window.addEventListener("test",B,B),window.removeEventListener("test",B,B)}catch{D=!1}function G(r,s,l,d,p,y,_,E,O){var Q=Array.prototype.slice.call(arguments,3);try{s.apply(l,Q)}catch(le){this.onError(le)}}var re=!1,me=null,Ne=!1,Pe=null,we={onError:function(r){re=!0,me=r}};function je(r,s,l,d,p,y,_,E,O){re=!1,me=null,G.apply(we,arguments)}function _e(r,s,l,d,p,y,_,E,O){if(je.apply(this,arguments),re){if(re){var Q=me;re=!1,me=null}else throw Error(n(198));Ne||(Ne=!0,Pe=Q)}}function ve(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function Oe(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function $e(r){if(ve(r)!==r)throw Error(n(188))}function Lt(r){var s=r.alternate;if(!s){if(s=ve(r),s===null)throw Error(n(188));return s!==r?null:r}for(var l=r,d=s;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(d=p.return,d!==null){l=d;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return $e(p),r;if(y===d)return $e(p),s;y=y.sibling}throw Error(n(188))}if(l.return!==d.return)l=p,d=y;else{for(var _=!1,E=p.child;E;){if(E===l){_=!0,l=p,d=y;break}if(E===d){_=!0,d=p,l=y;break}E=E.sibling}if(!_){for(E=y.child;E;){if(E===l){_=!0,l=y,d=p;break}if(E===d){_=!0,d=y,l=p;break}E=E.sibling}if(!_)throw Error(n(189))}}if(l.alternate!==d)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?r:s}function st(r){return r=Lt(r),r!==null?Qe(r):null}function Qe(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=Qe(r);if(s!==null)return s;r=r.sibling}return null}var mt=e.unstable_scheduleCallback,qn=e.unstable_cancelCallback,ur=e.unstable_shouldYield,Dn=e.unstable_requestPaint,qe=e.unstable_now,Ni=e.unstable_getCurrentPriorityLevel,Jn=e.unstable_ImmediatePriority,Un=e.unstable_UserBlockingPriority,Zn=e.unstable_NormalPriority,er=e.unstable_LowPriority,Xe=e.unstable_IdlePriority,ut=null,Gt=null;function Yr(r){if(Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(ut,r,void 0,(r.current.flags&128)===128)}catch{}}var Je=Math.clz32?Math.clz32:We,J=Math.log,be=Math.LN2;function We(r){return r>>>=0,r===0?32:31-(J(r)/be|0)|0}var ze=64,Fe=4194304;function Ke(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Mt(r,s){var l=r.pendingLanes;if(l===0)return 0;var d=0,p=r.suspendedLanes,y=r.pingedLanes,_=l&268435455;if(_!==0){var E=_&~p;E!==0?d=Ke(E):(y&=_,y!==0&&(d=Ke(y)))}else _=l&~p,_!==0?d=Ke(_):y!==0&&(d=Ke(y));if(d===0)return 0;if(s!==0&&s!==d&&(s&p)===0&&(p=d&-d,y=s&-s,p>=y||p===16&&(y&4194240)!==0))return s;if((d&4)!==0&&(d|=l&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=d;0<s;)l=31-Je(s),p=1<<l,d|=r[l],s&=~p;return d}function vn(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xr(r,s){for(var l=r.suspendedLanes,d=r.pingedLanes,p=r.expirationTimes,y=r.pendingLanes;0<y;){var _=31-Je(y),E=1<<_,O=p[_];O===-1?((E&l)===0||(E&d)!==0)&&(p[_]=vn(E,s)):O<=s&&(r.expiredLanes|=E),y&=~E}}function kr(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function ss(){var r=ze;return ze<<=1,(ze&4194240)===0&&(ze=64),r}function rc(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function Qs(r,s,l){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-Je(s),r[s]=l}function dv(r,s){var l=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var d=r.eventTimes;for(r=r.expirationTimes;0<l;){var p=31-Je(l),y=1<<p;s[p]=0,d[p]=-1,r[p]=-1,l&=~y}}function ic(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var d=31-Je(l),p=1<<d;p&s|r[d]&s&&(r[d]|=s),l&=~p}}var dt=0;function cf(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var uf,sc,df,ff,hf,ac=!1,to=[],Qr=null,Gr=null,qr=null,Gs=new Map,qs=new Map,Jr=[],fv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mf(r,s){switch(r){case"focusin":case"focusout":Qr=null;break;case"dragenter":case"dragleave":Gr=null;break;case"mouseover":case"mouseout":qr=null;break;case"pointerover":case"pointerout":Gs.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":qs.delete(s.pointerId)}}function Js(r,s,l,d,p,y){return r===null||r.nativeEvent!==y?(r={blockedOn:s,domEventName:l,eventSystemFlags:d,nativeEvent:y,targetContainers:[p]},s!==null&&(s=fa(s),s!==null&&sc(s)),r):(r.eventSystemFlags|=d,s=r.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),r)}function hv(r,s,l,d,p){switch(s){case"focusin":return Qr=Js(Qr,r,s,l,d,p),!0;case"dragenter":return Gr=Js(Gr,r,s,l,d,p),!0;case"mouseover":return qr=Js(qr,r,s,l,d,p),!0;case"pointerover":var y=p.pointerId;return Gs.set(y,Js(Gs.get(y)||null,r,s,l,d,p)),!0;case"gotpointercapture":return y=p.pointerId,qs.set(y,Js(qs.get(y)||null,r,s,l,d,p)),!0}return!1}function pf(r){var s=Ri(r.target);if(s!==null){var l=ve(s);if(l!==null){if(s=l.tag,s===13){if(s=Oe(l),s!==null){r.blockedOn=s,hf(r.priority,function(){df(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function no(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=lc(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var d=new l.constructor(l.type,l);Wt=d,l.target.dispatchEvent(d),Wt=null}else return s=fa(l),s!==null&&sc(s),r.blockedOn=l,!1;s.shift()}return!0}function gf(r,s,l){no(r)&&l.delete(s)}function mv(){ac=!1,Qr!==null&&no(Qr)&&(Qr=null),Gr!==null&&no(Gr)&&(Gr=null),qr!==null&&no(qr)&&(qr=null),Gs.forEach(gf),qs.forEach(gf)}function Zs(r,s){r.blockedOn===s&&(r.blockedOn=null,ac||(ac=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,mv)))}function ea(r){function s(p){return Zs(p,r)}if(0<to.length){Zs(to[0],r);for(var l=1;l<to.length;l++){var d=to[l];d.blockedOn===r&&(d.blockedOn=null)}}for(Qr!==null&&Zs(Qr,r),Gr!==null&&Zs(Gr,r),qr!==null&&Zs(qr,r),Gs.forEach(s),qs.forEach(s),l=0;l<Jr.length;l++)d=Jr[l],d.blockedOn===r&&(d.blockedOn=null);for(;0<Jr.length&&(l=Jr[0],l.blockedOn===null);)pf(l),l.blockedOn===null&&Jr.shift()}var as=I.ReactCurrentBatchConfig,ro=!0;function pv(r,s,l,d){var p=dt,y=as.transition;as.transition=null;try{dt=1,oc(r,s,l,d)}finally{dt=p,as.transition=y}}function gv(r,s,l,d){var p=dt,y=as.transition;as.transition=null;try{dt=4,oc(r,s,l,d)}finally{dt=p,as.transition=y}}function oc(r,s,l,d){if(ro){var p=lc(r,s,l,d);if(p===null)jc(r,s,d,io,l),mf(r,d);else if(hv(p,r,s,l,d))d.stopPropagation();else if(mf(r,d),s&4&&-1<fv.indexOf(r)){for(;p!==null;){var y=fa(p);if(y!==null&&uf(y),y=lc(r,s,l,d),y===null&&jc(r,s,d,io,l),y===p)break;p=y}p!==null&&d.stopPropagation()}else jc(r,s,d,null,l)}}var io=null;function lc(r,s,l,d){if(io=null,r=Vt(d),r=Ri(r),r!==null)if(s=ve(r),s===null)r=null;else if(l=s.tag,l===13){if(r=Oe(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return io=r,null}function yf(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ni()){case Jn:return 1;case Un:return 4;case Zn:case er:return 16;case Xe:return 536870912;default:return 16}default:return 16}}var Zr=null,cc=null,so=null;function vf(){if(so)return so;var r,s=cc,l=s.length,d,p="value"in Zr?Zr.value:Zr.textContent,y=p.length;for(r=0;r<l&&s[r]===p[r];r++);var _=l-r;for(d=1;d<=_&&s[l-d]===p[y-d];d++);return so=p.slice(r,1<d?1-d:void 0)}function ao(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function oo(){return!0}function xf(){return!1}function An(r){function s(l,d,p,y,_){this._reactName=l,this._targetInst=p,this.type=d,this.nativeEvent=y,this.target=_,this.currentTarget=null;for(var E in r)r.hasOwnProperty(E)&&(l=r[E],this[E]=l?l(y):y[E]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?oo:xf,this.isPropagationStopped=xf,this}return M(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=oo)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=oo)},persist:function(){},isPersistent:oo}),s}var os={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uc=An(os),ta=M({},os,{view:0,detail:0}),yv=An(ta),dc,fc,na,lo=M({},ta,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mc,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==na&&(na&&r.type==="mousemove"?(dc=r.screenX-na.screenX,fc=r.screenY-na.screenY):fc=dc=0,na=r),dc)},movementY:function(r){return"movementY"in r?r.movementY:fc}}),bf=An(lo),vv=M({},lo,{dataTransfer:0}),xv=An(vv),bv=M({},ta,{relatedTarget:0}),hc=An(bv),_v=M({},os,{animationName:0,elapsedTime:0,pseudoElement:0}),wv=An(_v),Sv=M({},os,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),kv=An(Sv),jv=M({},os,{data:0}),_f=An(jv),Cv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ev={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rv(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Nv[r])?!!s[r]:!1}function mc(){return Rv}var Mv=M({},ta,{key:function(r){if(r.key){var s=Cv[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=ao(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Ev[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mc,charCode:function(r){return r.type==="keypress"?ao(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ao(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Tv=An(Mv),Pv=M({},lo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wf=An(Pv),Dv=M({},ta,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mc}),Av=An(Dv),Lv=M({},os,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ov=An(Lv),Fv=M({},lo,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Iv=An(Fv),zv=[9,13,27,32],pc=u&&"CompositionEvent"in window,ra=null;u&&"documentMode"in document&&(ra=document.documentMode);var Uv=u&&"TextEvent"in window&&!ra,Sf=u&&(!pc||ra&&8<ra&&11>=ra),kf=" ",jf=!1;function Cf(r,s){switch(r){case"keyup":return zv.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ef(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ls=!1;function Bv(r,s){switch(r){case"compositionend":return Ef(s);case"keypress":return s.which!==32?null:(jf=!0,kf);case"textInput":return r=s.data,r===kf&&jf?null:r;default:return null}}function $v(r,s){if(ls)return r==="compositionend"||!pc&&Cf(r,s)?(r=vf(),so=cc=Zr=null,ls=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Sf&&s.locale!=="ko"?null:s.data;default:return null}}var Hv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nf(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Hv[r.type]:s==="textarea"}function Rf(r,s,l,d){Vr(d),s=mo(s,"onChange"),0<s.length&&(l=new uc("onChange","change",null,l,d),r.push({event:l,listeners:s}))}var ia=null,sa=null;function Wv(r){Yf(r,0)}function co(r){var s=hs(r);if(rt(s))return r}function Vv(r,s){if(r==="change")return s}var Mf=!1;if(u){var gc;if(u){var yc="oninput"in document;if(!yc){var Tf=document.createElement("div");Tf.setAttribute("oninput","return;"),yc=typeof Tf.oninput=="function"}gc=yc}else gc=!1;Mf=gc&&(!document.documentMode||9<document.documentMode)}function Pf(){ia&&(ia.detachEvent("onpropertychange",Df),sa=ia=null)}function Df(r){if(r.propertyName==="value"&&co(sa)){var s=[];Rf(s,sa,r,Vt(r)),Ei(Wv,s)}}function Kv(r,s,l){r==="focusin"?(Pf(),ia=s,sa=l,ia.attachEvent("onpropertychange",Df)):r==="focusout"&&Pf()}function Yv(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return co(sa)}function Xv(r,s){if(r==="click")return co(s)}function Qv(r,s){if(r==="input"||r==="change")return co(s)}function Gv(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var tr=typeof Object.is=="function"?Object.is:Gv;function aa(r,s){if(tr(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),d=Object.keys(s);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var p=l[d];if(!f.call(s,p)||!tr(r[p],s[p]))return!1}return!0}function Af(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Lf(r,s){var l=Af(r);r=0;for(var d;l;){if(l.nodeType===3){if(d=r+l.textContent.length,r<=s&&d>=s)return{node:l,offset:s-r};r=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Af(l)}}function Of(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Of(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Ff(){for(var r=window,s=Ze();s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=Ze(r.document)}return s}function vc(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function qv(r){var s=Ff(),l=r.focusedElem,d=r.selectionRange;if(s!==l&&l&&l.ownerDocument&&Of(l.ownerDocument.documentElement,l)){if(d!==null&&vc(l)){if(s=d.start,r=d.end,r===void 0&&(r=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(r,l.value.length);else if(r=(s=l.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var p=l.textContent.length,y=Math.min(d.start,p);d=d.end===void 0?y:Math.min(d.end,p),!r.extend&&y>d&&(p=d,d=y,y=p),p=Lf(l,y);var _=Lf(l,d);p&&_&&(r.rangeCount!==1||r.anchorNode!==p.node||r.anchorOffset!==p.offset||r.focusNode!==_.node||r.focusOffset!==_.offset)&&(s=s.createRange(),s.setStart(p.node,p.offset),r.removeAllRanges(),y>d?(r.addRange(s),r.extend(_.node,_.offset)):(s.setEnd(_.node,_.offset),r.addRange(s)))}}for(s=[],r=l;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)r=s[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var Jv=u&&"documentMode"in document&&11>=document.documentMode,cs=null,xc=null,oa=null,bc=!1;function If(r,s,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;bc||cs==null||cs!==Ze(d)||(d=cs,"selectionStart"in d&&vc(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),oa&&aa(oa,d)||(oa=d,d=mo(xc,"onSelect"),0<d.length&&(s=new uc("onSelect","select",null,s,l),r.push({event:s,listeners:d}),s.target=cs)))}function uo(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var us={animationend:uo("Animation","AnimationEnd"),animationiteration:uo("Animation","AnimationIteration"),animationstart:uo("Animation","AnimationStart"),transitionend:uo("Transition","TransitionEnd")},_c={},zf={};u&&(zf=document.createElement("div").style,"AnimationEvent"in window||(delete us.animationend.animation,delete us.animationiteration.animation,delete us.animationstart.animation),"TransitionEvent"in window||delete us.transitionend.transition);function fo(r){if(_c[r])return _c[r];if(!us[r])return r;var s=us[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in zf)return _c[r]=s[l];return r}var Uf=fo("animationend"),Bf=fo("animationiteration"),$f=fo("animationstart"),Hf=fo("transitionend"),Wf=new Map,Vf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ei(r,s){Wf.set(r,s),o(s,[r])}for(var wc=0;wc<Vf.length;wc++){var Sc=Vf[wc],Zv=Sc.toLowerCase(),ex=Sc[0].toUpperCase()+Sc.slice(1);ei(Zv,"on"+ex)}ei(Uf,"onAnimationEnd"),ei(Bf,"onAnimationIteration"),ei($f,"onAnimationStart"),ei("dblclick","onDoubleClick"),ei("focusin","onFocus"),ei("focusout","onBlur"),ei(Hf,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var la="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tx=new Set("cancel close invalid load scroll toggle".split(" ").concat(la));function Kf(r,s,l){var d=r.type||"unknown-event";r.currentTarget=l,_e(d,s,void 0,r),r.currentTarget=null}function Yf(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var d=r[l],p=d.event;d=d.listeners;e:{var y=void 0;if(s)for(var _=d.length-1;0<=_;_--){var E=d[_],O=E.instance,Q=E.currentTarget;if(E=E.listener,O!==y&&p.isPropagationStopped())break e;Kf(p,E,Q),y=O}else for(_=0;_<d.length;_++){if(E=d[_],O=E.instance,Q=E.currentTarget,E=E.listener,O!==y&&p.isPropagationStopped())break e;Kf(p,E,Q),y=O}}}if(Ne)throw r=Pe,Ne=!1,Pe=null,r}function jt(r,s){var l=s[Tc];l===void 0&&(l=s[Tc]=new Set);var d=r+"__bubble";l.has(d)||(Xf(s,r,2,!1),l.add(d))}function kc(r,s,l){var d=0;s&&(d|=4),Xf(l,r,d,s)}var ho="_reactListening"+Math.random().toString(36).slice(2);function ca(r){if(!r[ho]){r[ho]=!0,i.forEach(function(l){l!=="selectionchange"&&(tx.has(l)||kc(l,!1,r),kc(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[ho]||(s[ho]=!0,kc("selectionchange",!1,s))}}function Xf(r,s,l,d){switch(yf(s)){case 1:var p=pv;break;case 4:p=gv;break;default:p=oc}l=p.bind(null,s,l,r),p=void 0,!D||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),d?p!==void 0?r.addEventListener(s,l,{capture:!0,passive:p}):r.addEventListener(s,l,!0):p!==void 0?r.addEventListener(s,l,{passive:p}):r.addEventListener(s,l,!1)}function jc(r,s,l,d,p){var y=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var _=d.tag;if(_===3||_===4){var E=d.stateNode.containerInfo;if(E===p||E.nodeType===8&&E.parentNode===p)break;if(_===4)for(_=d.return;_!==null;){var O=_.tag;if((O===3||O===4)&&(O=_.stateNode.containerInfo,O===p||O.nodeType===8&&O.parentNode===p))return;_=_.return}for(;E!==null;){if(_=Ri(E),_===null)return;if(O=_.tag,O===5||O===6){d=y=_;continue e}E=E.parentNode}}d=d.return}Ei(function(){var Q=y,le=Vt(l),ue=[];e:{var ae=Wf.get(r);if(ae!==void 0){var xe=uc,Ce=r;switch(r){case"keypress":if(ao(l)===0)break e;case"keydown":case"keyup":xe=Tv;break;case"focusin":Ce="focus",xe=hc;break;case"focusout":Ce="blur",xe=hc;break;case"beforeblur":case"afterblur":xe=hc;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":xe=bf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":xe=xv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":xe=Av;break;case Uf:case Bf:case $f:xe=wv;break;case Hf:xe=Ov;break;case"scroll":xe=yv;break;case"wheel":xe=Iv;break;case"copy":case"cut":case"paste":xe=kv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":xe=wf}var Ee=(s&4)!==0,zt=!Ee&&r==="scroll",W=Ee?ae!==null?ae+"Capture":null:ae;Ee=[];for(var z=Q,V;z!==null;){V=z;var fe=V.stateNode;if(V.tag===5&&fe!==null&&(V=fe,W!==null&&(fe=cr(z,W),fe!=null&&Ee.push(ua(z,fe,V)))),zt)break;z=z.return}0<Ee.length&&(ae=new xe(ae,Ce,null,l,le),ue.push({event:ae,listeners:Ee}))}}if((s&7)===0){e:{if(ae=r==="mouseover"||r==="pointerover",xe=r==="mouseout"||r==="pointerout",ae&&l!==Wt&&(Ce=l.relatedTarget||l.fromElement)&&(Ri(Ce)||Ce[jr]))break e;if((xe||ae)&&(ae=le.window===le?le:(ae=le.ownerDocument)?ae.defaultView||ae.parentWindow:window,xe?(Ce=l.relatedTarget||l.toElement,xe=Q,Ce=Ce?Ri(Ce):null,Ce!==null&&(zt=ve(Ce),Ce!==zt||Ce.tag!==5&&Ce.tag!==6)&&(Ce=null)):(xe=null,Ce=Q),xe!==Ce)){if(Ee=bf,fe="onMouseLeave",W="onMouseEnter",z="mouse",(r==="pointerout"||r==="pointerover")&&(Ee=wf,fe="onPointerLeave",W="onPointerEnter",z="pointer"),zt=xe==null?ae:hs(xe),V=Ce==null?ae:hs(Ce),ae=new Ee(fe,z+"leave",xe,l,le),ae.target=zt,ae.relatedTarget=V,fe=null,Ri(le)===Q&&(Ee=new Ee(W,z+"enter",Ce,l,le),Ee.target=V,Ee.relatedTarget=zt,fe=Ee),zt=fe,xe&&Ce)t:{for(Ee=xe,W=Ce,z=0,V=Ee;V;V=ds(V))z++;for(V=0,fe=W;fe;fe=ds(fe))V++;for(;0<z-V;)Ee=ds(Ee),z--;for(;0<V-z;)W=ds(W),V--;for(;z--;){if(Ee===W||W!==null&&Ee===W.alternate)break t;Ee=ds(Ee),W=ds(W)}Ee=null}else Ee=null;xe!==null&&Qf(ue,ae,xe,Ee,!1),Ce!==null&&zt!==null&&Qf(ue,zt,Ce,Ee,!0)}}e:{if(ae=Q?hs(Q):window,xe=ae.nodeName&&ae.nodeName.toLowerCase(),xe==="select"||xe==="input"&&ae.type==="file")var Re=Vv;else if(Nf(ae))if(Mf)Re=Qv;else{Re=Yv;var De=Kv}else(xe=ae.nodeName)&&xe.toLowerCase()==="input"&&(ae.type==="checkbox"||ae.type==="radio")&&(Re=Xv);if(Re&&(Re=Re(r,Q))){Rf(ue,Re,l,le);break e}De&&De(r,ae,Q),r==="focusout"&&(De=ae._wrapperState)&&De.controlled&&ae.type==="number"&&vt(ae,"number",ae.value)}switch(De=Q?hs(Q):window,r){case"focusin":(Nf(De)||De.contentEditable==="true")&&(cs=De,xc=Q,oa=null);break;case"focusout":oa=xc=cs=null;break;case"mousedown":bc=!0;break;case"contextmenu":case"mouseup":case"dragend":bc=!1,If(ue,l,le);break;case"selectionchange":if(Jv)break;case"keydown":case"keyup":If(ue,l,le)}var Ae;if(pc)e:{switch(r){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else ls?Cf(r,l)&&(Ie="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Ie="onCompositionStart");Ie&&(Sf&&l.locale!=="ko"&&(ls||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&ls&&(Ae=vf()):(Zr=le,cc="value"in Zr?Zr.value:Zr.textContent,ls=!0)),De=mo(Q,Ie),0<De.length&&(Ie=new _f(Ie,r,null,l,le),ue.push({event:Ie,listeners:De}),Ae?Ie.data=Ae:(Ae=Ef(l),Ae!==null&&(Ie.data=Ae)))),(Ae=Uv?Bv(r,l):$v(r,l))&&(Q=mo(Q,"onBeforeInput"),0<Q.length&&(le=new _f("onBeforeInput","beforeinput",null,l,le),ue.push({event:le,listeners:Q}),le.data=Ae))}Yf(ue,s)})}function ua(r,s,l){return{instance:r,listener:s,currentTarget:l}}function mo(r,s){for(var l=s+"Capture",d=[];r!==null;){var p=r,y=p.stateNode;p.tag===5&&y!==null&&(p=y,y=cr(r,l),y!=null&&d.unshift(ua(r,y,p)),y=cr(r,s),y!=null&&d.push(ua(r,y,p))),r=r.return}return d}function ds(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Qf(r,s,l,d,p){for(var y=s._reactName,_=[];l!==null&&l!==d;){var E=l,O=E.alternate,Q=E.stateNode;if(O!==null&&O===d)break;E.tag===5&&Q!==null&&(E=Q,p?(O=cr(l,y),O!=null&&_.unshift(ua(l,O,E))):p||(O=cr(l,y),O!=null&&_.push(ua(l,O,E)))),l=l.return}_.length!==0&&r.push({event:s,listeners:_})}var nx=/\r\n?/g,rx=/\u0000|\uFFFD/g;function Gf(r){return(typeof r=="string"?r:""+r).replace(nx,`
`).replace(rx,"")}function po(r,s,l){if(s=Gf(s),Gf(r)!==s&&l)throw Error(n(425))}function go(){}var Cc=null,Ec=null;function Nc(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Rc=typeof setTimeout=="function"?setTimeout:void 0,ix=typeof clearTimeout=="function"?clearTimeout:void 0,qf=typeof Promise=="function"?Promise:void 0,sx=typeof queueMicrotask=="function"?queueMicrotask:typeof qf<"u"?function(r){return qf.resolve(null).then(r).catch(ax)}:Rc;function ax(r){setTimeout(function(){throw r})}function Mc(r,s){var l=s,d=0;do{var p=l.nextSibling;if(r.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(d===0){r.removeChild(p),ea(s);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=p}while(l);ea(s)}function ti(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function Jf(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}var fs=Math.random().toString(36).slice(2),dr="__reactFiber$"+fs,da="__reactProps$"+fs,jr="__reactContainer$"+fs,Tc="__reactEvents$"+fs,ox="__reactListeners$"+fs,lx="__reactHandles$"+fs;function Ri(r){var s=r[dr];if(s)return s;for(var l=r.parentNode;l;){if(s=l[jr]||l[dr]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=Jf(r);r!==null;){if(l=r[dr])return l;r=Jf(r)}return s}r=l,l=r.parentNode}return null}function fa(r){return r=r[dr]||r[jr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function hs(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function yo(r){return r[da]||null}var Pc=[],ms=-1;function ni(r){return{current:r}}function Ct(r){0>ms||(r.current=Pc[ms],Pc[ms]=null,ms--)}function xt(r,s){ms++,Pc[ms]=r.current,r.current=s}var ri={},hn=ni(ri),_n=ni(!1),Mi=ri;function ps(r,s){var l=r.type.contextTypes;if(!l)return ri;var d=r.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===s)return d.__reactInternalMemoizedMaskedChildContext;var p={},y;for(y in l)p[y]=s[y];return d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=p),p}function wn(r){return r=r.childContextTypes,r!=null}function vo(){Ct(_n),Ct(hn)}function Zf(r,s,l){if(hn.current!==ri)throw Error(n(168));xt(hn,s),xt(_n,l)}function eh(r,s,l){var d=r.stateNode;if(s=s.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var p in d)if(!(p in s))throw Error(n(108,Te(r)||"Unknown",p));return M({},l,d)}function xo(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||ri,Mi=hn.current,xt(hn,r),xt(_n,_n.current),!0}function th(r,s,l){var d=r.stateNode;if(!d)throw Error(n(169));l?(r=eh(r,s,Mi),d.__reactInternalMemoizedMergedChildContext=r,Ct(_n),Ct(hn),xt(hn,r)):Ct(_n),xt(_n,l)}var Cr=null,bo=!1,Dc=!1;function nh(r){Cr===null?Cr=[r]:Cr.push(r)}function cx(r){bo=!0,nh(r)}function ii(){if(!Dc&&Cr!==null){Dc=!0;var r=0,s=dt;try{var l=Cr;for(dt=1;r<l.length;r++){var d=l[r];do d=d(!0);while(d!==null)}Cr=null,bo=!1}catch(p){throw Cr!==null&&(Cr=Cr.slice(r+1)),mt(Jn,ii),p}finally{dt=s,Dc=!1}}return null}var gs=[],ys=0,_o=null,wo=0,Bn=[],$n=0,Ti=null,Er=1,Nr="";function Pi(r,s){gs[ys++]=wo,gs[ys++]=_o,_o=r,wo=s}function rh(r,s,l){Bn[$n++]=Er,Bn[$n++]=Nr,Bn[$n++]=Ti,Ti=r;var d=Er;r=Nr;var p=32-Je(d)-1;d&=~(1<<p),l+=1;var y=32-Je(s)+p;if(30<y){var _=p-p%5;y=(d&(1<<_)-1).toString(32),d>>=_,p-=_,Er=1<<32-Je(s)+p|l<<p|d,Nr=y+r}else Er=1<<y|l<<p|d,Nr=r}function Ac(r){r.return!==null&&(Pi(r,1),rh(r,1,0))}function Lc(r){for(;r===_o;)_o=gs[--ys],gs[ys]=null,wo=gs[--ys],gs[ys]=null;for(;r===Ti;)Ti=Bn[--$n],Bn[$n]=null,Nr=Bn[--$n],Bn[$n]=null,Er=Bn[--$n],Bn[$n]=null}var Ln=null,On=null,Tt=!1,nr=null;function ih(r,s){var l=Kn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=r,s=r.deletions,s===null?(r.deletions=[l],r.flags|=16):s.push(l)}function sh(r,s){switch(r.tag){case 5:var l=r.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,Ln=r,On=ti(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,Ln=r,On=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=Ti!==null?{id:Er,overflow:Nr}:null,r.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=Kn(18,null,null,0),l.stateNode=s,l.return=r,r.child=l,Ln=r,On=null,!0):!1;default:return!1}}function Oc(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Fc(r){if(Tt){var s=On;if(s){var l=s;if(!sh(r,s)){if(Oc(r))throw Error(n(418));s=ti(l.nextSibling);var d=Ln;s&&sh(r,s)?ih(d,l):(r.flags=r.flags&-4097|2,Tt=!1,Ln=r)}}else{if(Oc(r))throw Error(n(418));r.flags=r.flags&-4097|2,Tt=!1,Ln=r}}}function ah(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Ln=r}function So(r){if(r!==Ln)return!1;if(!Tt)return ah(r),Tt=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Nc(r.type,r.memoizedProps)),s&&(s=On)){if(Oc(r))throw oh(),Error(n(418));for(;s;)ih(r,s),s=ti(s.nextSibling)}if(ah(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(s===0){On=ti(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}r=r.nextSibling}On=null}}else On=Ln?ti(r.stateNode.nextSibling):null;return!0}function oh(){for(var r=On;r;)r=ti(r.nextSibling)}function vs(){On=Ln=null,Tt=!1}function Ic(r){nr===null?nr=[r]:nr.push(r)}var ux=I.ReactCurrentBatchConfig;function ha(r,s,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(n(309));var d=l.stateNode}if(!d)throw Error(n(147,r));var p=d,y=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===y?s.ref:(s=function(_){var E=p.refs;_===null?delete E[y]:E[y]=_},s._stringRef=y,s)}if(typeof r!="string")throw Error(n(284));if(!l._owner)throw Error(n(290,r))}return r}function ko(r,s){throw r=Object.prototype.toString.call(s),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function lh(r){var s=r._init;return s(r._payload)}function ch(r){function s(W,z){if(r){var V=W.deletions;V===null?(W.deletions=[z],W.flags|=16):V.push(z)}}function l(W,z){if(!r)return null;for(;z!==null;)s(W,z),z=z.sibling;return null}function d(W,z){for(W=new Map;z!==null;)z.key!==null?W.set(z.key,z):W.set(z.index,z),z=z.sibling;return W}function p(W,z){return W=fi(W,z),W.index=0,W.sibling=null,W}function y(W,z,V){return W.index=V,r?(V=W.alternate,V!==null?(V=V.index,V<z?(W.flags|=2,z):V):(W.flags|=2,z)):(W.flags|=1048576,z)}function _(W){return r&&W.alternate===null&&(W.flags|=2),W}function E(W,z,V,fe){return z===null||z.tag!==6?(z=Ru(V,W.mode,fe),z.return=W,z):(z=p(z,V),z.return=W,z)}function O(W,z,V,fe){var Re=V.type;return Re===R?le(W,z,V.props.children,fe,V.key):z!==null&&(z.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===he&&lh(Re)===z.type)?(fe=p(z,V.props),fe.ref=ha(W,z,V),fe.return=W,fe):(fe=Xo(V.type,V.key,V.props,null,W.mode,fe),fe.ref=ha(W,z,V),fe.return=W,fe)}function Q(W,z,V,fe){return z===null||z.tag!==4||z.stateNode.containerInfo!==V.containerInfo||z.stateNode.implementation!==V.implementation?(z=Mu(V,W.mode,fe),z.return=W,z):(z=p(z,V.children||[]),z.return=W,z)}function le(W,z,V,fe,Re){return z===null||z.tag!==7?(z=Ui(V,W.mode,fe,Re),z.return=W,z):(z=p(z,V),z.return=W,z)}function ue(W,z,V){if(typeof z=="string"&&z!==""||typeof z=="number")return z=Ru(""+z,W.mode,V),z.return=W,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case H:return V=Xo(z.type,z.key,z.props,null,W.mode,V),V.ref=ha(W,null,z),V.return=W,V;case q:return z=Mu(z,W.mode,V),z.return=W,z;case he:var fe=z._init;return ue(W,fe(z._payload),V)}if($t(z)||ne(z))return z=Ui(z,W.mode,V,null),z.return=W,z;ko(W,z)}return null}function ae(W,z,V,fe){var Re=z!==null?z.key:null;if(typeof V=="string"&&V!==""||typeof V=="number")return Re!==null?null:E(W,z,""+V,fe);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case H:return V.key===Re?O(W,z,V,fe):null;case q:return V.key===Re?Q(W,z,V,fe):null;case he:return Re=V._init,ae(W,z,Re(V._payload),fe)}if($t(V)||ne(V))return Re!==null?null:le(W,z,V,fe,null);ko(W,V)}return null}function xe(W,z,V,fe,Re){if(typeof fe=="string"&&fe!==""||typeof fe=="number")return W=W.get(V)||null,E(z,W,""+fe,Re);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case H:return W=W.get(fe.key===null?V:fe.key)||null,O(z,W,fe,Re);case q:return W=W.get(fe.key===null?V:fe.key)||null,Q(z,W,fe,Re);case he:var De=fe._init;return xe(W,z,V,De(fe._payload),Re)}if($t(fe)||ne(fe))return W=W.get(V)||null,le(z,W,fe,Re,null);ko(z,fe)}return null}function Ce(W,z,V,fe){for(var Re=null,De=null,Ae=z,Ie=z=0,sn=null;Ae!==null&&Ie<V.length;Ie++){Ae.index>Ie?(sn=Ae,Ae=null):sn=Ae.sibling;var at=ae(W,Ae,V[Ie],fe);if(at===null){Ae===null&&(Ae=sn);break}r&&Ae&&at.alternate===null&&s(W,Ae),z=y(at,z,Ie),De===null?Re=at:De.sibling=at,De=at,Ae=sn}if(Ie===V.length)return l(W,Ae),Tt&&Pi(W,Ie),Re;if(Ae===null){for(;Ie<V.length;Ie++)Ae=ue(W,V[Ie],fe),Ae!==null&&(z=y(Ae,z,Ie),De===null?Re=Ae:De.sibling=Ae,De=Ae);return Tt&&Pi(W,Ie),Re}for(Ae=d(W,Ae);Ie<V.length;Ie++)sn=xe(Ae,W,Ie,V[Ie],fe),sn!==null&&(r&&sn.alternate!==null&&Ae.delete(sn.key===null?Ie:sn.key),z=y(sn,z,Ie),De===null?Re=sn:De.sibling=sn,De=sn);return r&&Ae.forEach(function(hi){return s(W,hi)}),Tt&&Pi(W,Ie),Re}function Ee(W,z,V,fe){var Re=ne(V);if(typeof Re!="function")throw Error(n(150));if(V=Re.call(V),V==null)throw Error(n(151));for(var De=Re=null,Ae=z,Ie=z=0,sn=null,at=V.next();Ae!==null&&!at.done;Ie++,at=V.next()){Ae.index>Ie?(sn=Ae,Ae=null):sn=Ae.sibling;var hi=ae(W,Ae,at.value,fe);if(hi===null){Ae===null&&(Ae=sn);break}r&&Ae&&hi.alternate===null&&s(W,Ae),z=y(hi,z,Ie),De===null?Re=hi:De.sibling=hi,De=hi,Ae=sn}if(at.done)return l(W,Ae),Tt&&Pi(W,Ie),Re;if(Ae===null){for(;!at.done;Ie++,at=V.next())at=ue(W,at.value,fe),at!==null&&(z=y(at,z,Ie),De===null?Re=at:De.sibling=at,De=at);return Tt&&Pi(W,Ie),Re}for(Ae=d(W,Ae);!at.done;Ie++,at=V.next())at=xe(Ae,W,Ie,at.value,fe),at!==null&&(r&&at.alternate!==null&&Ae.delete(at.key===null?Ie:at.key),z=y(at,z,Ie),De===null?Re=at:De.sibling=at,De=at);return r&&Ae.forEach(function(Hx){return s(W,Hx)}),Tt&&Pi(W,Ie),Re}function zt(W,z,V,fe){if(typeof V=="object"&&V!==null&&V.type===R&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case H:e:{for(var Re=V.key,De=z;De!==null;){if(De.key===Re){if(Re=V.type,Re===R){if(De.tag===7){l(W,De.sibling),z=p(De,V.props.children),z.return=W,W=z;break e}}else if(De.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===he&&lh(Re)===De.type){l(W,De.sibling),z=p(De,V.props),z.ref=ha(W,De,V),z.return=W,W=z;break e}l(W,De);break}else s(W,De);De=De.sibling}V.type===R?(z=Ui(V.props.children,W.mode,fe,V.key),z.return=W,W=z):(fe=Xo(V.type,V.key,V.props,null,W.mode,fe),fe.ref=ha(W,z,V),fe.return=W,W=fe)}return _(W);case q:e:{for(De=V.key;z!==null;){if(z.key===De)if(z.tag===4&&z.stateNode.containerInfo===V.containerInfo&&z.stateNode.implementation===V.implementation){l(W,z.sibling),z=p(z,V.children||[]),z.return=W,W=z;break e}else{l(W,z);break}else s(W,z);z=z.sibling}z=Mu(V,W.mode,fe),z.return=W,W=z}return _(W);case he:return De=V._init,zt(W,z,De(V._payload),fe)}if($t(V))return Ce(W,z,V,fe);if(ne(V))return Ee(W,z,V,fe);ko(W,V)}return typeof V=="string"&&V!==""||typeof V=="number"?(V=""+V,z!==null&&z.tag===6?(l(W,z.sibling),z=p(z,V),z.return=W,W=z):(l(W,z),z=Ru(V,W.mode,fe),z.return=W,W=z),_(W)):l(W,z)}return zt}var xs=ch(!0),uh=ch(!1),jo=ni(null),Co=null,bs=null,zc=null;function Uc(){zc=bs=Co=null}function Bc(r){var s=jo.current;Ct(jo),r._currentValue=s}function $c(r,s,l){for(;r!==null;){var d=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),r===l)break;r=r.return}}function _s(r,s){Co=r,zc=bs=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(Sn=!0),r.firstContext=null)}function Hn(r){var s=r._currentValue;if(zc!==r)if(r={context:r,memoizedValue:s,next:null},bs===null){if(Co===null)throw Error(n(308));bs=r,Co.dependencies={lanes:0,firstContext:r}}else bs=bs.next=r;return s}var Di=null;function Hc(r){Di===null?Di=[r]:Di.push(r)}function dh(r,s,l,d){var p=s.interleaved;return p===null?(l.next=l,Hc(s)):(l.next=p.next,p.next=l),s.interleaved=l,Rr(r,d)}function Rr(r,s){r.lanes|=s;var l=r.alternate;for(l!==null&&(l.lanes|=s),l=r,r=r.return;r!==null;)r.childLanes|=s,l=r.alternate,l!==null&&(l.childLanes|=s),l=r,r=r.return;return l.tag===3?l.stateNode:null}var si=!1;function Wc(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fh(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Mr(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function ai(r,s,l){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(et&2)!==0){var p=d.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),d.pending=s,Rr(r,l)}return p=d.interleaved,p===null?(s.next=s,Hc(d)):(s.next=p.next,p.next=s),d.interleaved=s,Rr(r,l)}function Eo(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var d=s.lanes;d&=r.pendingLanes,l|=d,s.lanes=l,ic(r,l)}}function hh(r,s){var l=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var _={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?p=y=_:y=y.next=_,l=l.next}while(l!==null);y===null?p=y=s:y=y.next=s}else p=y=s;l={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:d.shared,effects:d.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}function No(r,s,l,d){var p=r.updateQueue;si=!1;var y=p.firstBaseUpdate,_=p.lastBaseUpdate,E=p.shared.pending;if(E!==null){p.shared.pending=null;var O=E,Q=O.next;O.next=null,_===null?y=Q:_.next=Q,_=O;var le=r.alternate;le!==null&&(le=le.updateQueue,E=le.lastBaseUpdate,E!==_&&(E===null?le.firstBaseUpdate=Q:E.next=Q,le.lastBaseUpdate=O))}if(y!==null){var ue=p.baseState;_=0,le=Q=O=null,E=y;do{var ae=E.lane,xe=E.eventTime;if((d&ae)===ae){le!==null&&(le=le.next={eventTime:xe,lane:0,tag:E.tag,payload:E.payload,callback:E.callback,next:null});e:{var Ce=r,Ee=E;switch(ae=s,xe=l,Ee.tag){case 1:if(Ce=Ee.payload,typeof Ce=="function"){ue=Ce.call(xe,ue,ae);break e}ue=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=Ee.payload,ae=typeof Ce=="function"?Ce.call(xe,ue,ae):Ce,ae==null)break e;ue=M({},ue,ae);break e;case 2:si=!0}}E.callback!==null&&E.lane!==0&&(r.flags|=64,ae=p.effects,ae===null?p.effects=[E]:ae.push(E))}else xe={eventTime:xe,lane:ae,tag:E.tag,payload:E.payload,callback:E.callback,next:null},le===null?(Q=le=xe,O=ue):le=le.next=xe,_|=ae;if(E=E.next,E===null){if(E=p.shared.pending,E===null)break;ae=E,E=ae.next,ae.next=null,p.lastBaseUpdate=ae,p.shared.pending=null}}while(!0);if(le===null&&(O=ue),p.baseState=O,p.firstBaseUpdate=Q,p.lastBaseUpdate=le,s=p.shared.interleaved,s!==null){p=s;do _|=p.lane,p=p.next;while(p!==s)}else y===null&&(p.shared.lanes=0);Oi|=_,r.lanes=_,r.memoizedState=ue}}function mh(r,s,l){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var d=r[s],p=d.callback;if(p!==null){if(d.callback=null,d=l,typeof p!="function")throw Error(n(191,p));p.call(d)}}}var ma={},fr=ni(ma),pa=ni(ma),ga=ni(ma);function Ai(r){if(r===ma)throw Error(n(174));return r}function Vc(r,s){switch(xt(ga,s),xt(pa,r),xt(fr,ma),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:tn(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=tn(s,r)}Ct(fr),xt(fr,s)}function ws(){Ct(fr),Ct(pa),Ct(ga)}function ph(r){Ai(ga.current);var s=Ai(fr.current),l=tn(s,r.type);s!==l&&(xt(pa,r),xt(fr,l))}function Kc(r){pa.current===r&&(Ct(fr),Ct(pa))}var Ot=ni(0);function Ro(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Yc=[];function Xc(){for(var r=0;r<Yc.length;r++)Yc[r]._workInProgressVersionPrimary=null;Yc.length=0}var Mo=I.ReactCurrentDispatcher,Qc=I.ReactCurrentBatchConfig,Li=0,Ft=null,qt=null,nn=null,To=!1,ya=!1,va=0,dx=0;function mn(){throw Error(n(321))}function Gc(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!tr(r[l],s[l]))return!1;return!0}function qc(r,s,l,d,p,y){if(Li=y,Ft=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Mo.current=r===null||r.memoizedState===null?px:gx,r=l(d,p),ya){y=0;do{if(ya=!1,va=0,25<=y)throw Error(n(301));y+=1,nn=qt=null,s.updateQueue=null,Mo.current=yx,r=l(d,p)}while(ya)}if(Mo.current=Ao,s=qt!==null&&qt.next!==null,Li=0,nn=qt=Ft=null,To=!1,s)throw Error(n(300));return r}function Jc(){var r=va!==0;return va=0,r}function hr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nn===null?Ft.memoizedState=nn=r:nn=nn.next=r,nn}function Wn(){if(qt===null){var r=Ft.alternate;r=r!==null?r.memoizedState:null}else r=qt.next;var s=nn===null?Ft.memoizedState:nn.next;if(s!==null)nn=s,qt=r;else{if(r===null)throw Error(n(310));qt=r,r={memoizedState:qt.memoizedState,baseState:qt.baseState,baseQueue:qt.baseQueue,queue:qt.queue,next:null},nn===null?Ft.memoizedState=nn=r:nn=nn.next=r}return nn}function xa(r,s){return typeof s=="function"?s(r):s}function Zc(r){var s=Wn(),l=s.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var d=qt,p=d.baseQueue,y=l.pending;if(y!==null){if(p!==null){var _=p.next;p.next=y.next,y.next=_}d.baseQueue=p=y,l.pending=null}if(p!==null){y=p.next,d=d.baseState;var E=_=null,O=null,Q=y;do{var le=Q.lane;if((Li&le)===le)O!==null&&(O=O.next={lane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),d=Q.hasEagerState?Q.eagerState:r(d,Q.action);else{var ue={lane:le,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null};O===null?(E=O=ue,_=d):O=O.next=ue,Ft.lanes|=le,Oi|=le}Q=Q.next}while(Q!==null&&Q!==y);O===null?_=d:O.next=E,tr(d,s.memoizedState)||(Sn=!0),s.memoizedState=d,s.baseState=_,s.baseQueue=O,l.lastRenderedState=d}if(r=l.interleaved,r!==null){p=r;do y=p.lane,Ft.lanes|=y,Oi|=y,p=p.next;while(p!==r)}else p===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function eu(r){var s=Wn(),l=s.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var d=l.dispatch,p=l.pending,y=s.memoizedState;if(p!==null){l.pending=null;var _=p=p.next;do y=r(y,_.action),_=_.next;while(_!==p);tr(y,s.memoizedState)||(Sn=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),l.lastRenderedState=y}return[y,d]}function gh(){}function yh(r,s){var l=Ft,d=Wn(),p=s(),y=!tr(d.memoizedState,p);if(y&&(d.memoizedState=p,Sn=!0),d=d.queue,tu(bh.bind(null,l,d,r),[r]),d.getSnapshot!==s||y||nn!==null&&nn.memoizedState.tag&1){if(l.flags|=2048,ba(9,xh.bind(null,l,d,p,s),void 0,null),rn===null)throw Error(n(349));(Li&30)!==0||vh(l,s,p)}return p}function vh(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=Ft.updateQueue,s===null?(s={lastEffect:null,stores:null},Ft.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function xh(r,s,l,d){s.value=l,s.getSnapshot=d,_h(s)&&wh(r)}function bh(r,s,l){return l(function(){_h(s)&&wh(r)})}function _h(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!tr(r,l)}catch{return!0}}function wh(r){var s=Rr(r,1);s!==null&&ar(s,r,1,-1)}function Sh(r){var s=hr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:r},s.queue=r,r=r.dispatch=mx.bind(null,Ft,r),[s.memoizedState,r]}function ba(r,s,l,d){return r={tag:r,create:s,destroy:l,deps:d,next:null},s=Ft.updateQueue,s===null?(s={lastEffect:null,stores:null},Ft.updateQueue=s,s.lastEffect=r.next=r):(l=s.lastEffect,l===null?s.lastEffect=r.next=r:(d=l.next,l.next=r,r.next=d,s.lastEffect=r)),r}function kh(){return Wn().memoizedState}function Po(r,s,l,d){var p=hr();Ft.flags|=r,p.memoizedState=ba(1|s,l,void 0,d===void 0?null:d)}function Do(r,s,l,d){var p=Wn();d=d===void 0?null:d;var y=void 0;if(qt!==null){var _=qt.memoizedState;if(y=_.destroy,d!==null&&Gc(d,_.deps)){p.memoizedState=ba(s,l,y,d);return}}Ft.flags|=r,p.memoizedState=ba(1|s,l,y,d)}function jh(r,s){return Po(8390656,8,r,s)}function tu(r,s){return Do(2048,8,r,s)}function Ch(r,s){return Do(4,2,r,s)}function Eh(r,s){return Do(4,4,r,s)}function Nh(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Rh(r,s,l){return l=l!=null?l.concat([r]):null,Do(4,4,Nh.bind(null,s,r),l)}function nu(){}function Mh(r,s){var l=Wn();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&Gc(s,d[1])?d[0]:(l.memoizedState=[r,s],r)}function Th(r,s){var l=Wn();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&Gc(s,d[1])?d[0]:(r=r(),l.memoizedState=[r,s],r)}function Ph(r,s,l){return(Li&21)===0?(r.baseState&&(r.baseState=!1,Sn=!0),r.memoizedState=l):(tr(l,s)||(l=ss(),Ft.lanes|=l,Oi|=l,r.baseState=!0),s)}function fx(r,s){var l=dt;dt=l!==0&&4>l?l:4,r(!0);var d=Qc.transition;Qc.transition={};try{r(!1),s()}finally{dt=l,Qc.transition=d}}function Dh(){return Wn().memoizedState}function hx(r,s,l){var d=ui(r);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},Ah(r))Lh(s,l);else if(l=dh(r,s,l,d),l!==null){var p=bn();ar(l,r,d,p),Oh(l,s,d)}}function mx(r,s,l){var d=ui(r),p={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(Ah(r))Lh(s,p);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var _=s.lastRenderedState,E=y(_,l);if(p.hasEagerState=!0,p.eagerState=E,tr(E,_)){var O=s.interleaved;O===null?(p.next=p,Hc(s)):(p.next=O.next,O.next=p),s.interleaved=p;return}}catch{}finally{}l=dh(r,s,p,d),l!==null&&(p=bn(),ar(l,r,d,p),Oh(l,s,d))}}function Ah(r){var s=r.alternate;return r===Ft||s!==null&&s===Ft}function Lh(r,s){ya=To=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function Oh(r,s,l){if((l&4194240)!==0){var d=s.lanes;d&=r.pendingLanes,l|=d,s.lanes=l,ic(r,l)}}var Ao={readContext:Hn,useCallback:mn,useContext:mn,useEffect:mn,useImperativeHandle:mn,useInsertionEffect:mn,useLayoutEffect:mn,useMemo:mn,useReducer:mn,useRef:mn,useState:mn,useDebugValue:mn,useDeferredValue:mn,useTransition:mn,useMutableSource:mn,useSyncExternalStore:mn,useId:mn,unstable_isNewReconciler:!1},px={readContext:Hn,useCallback:function(r,s){return hr().memoizedState=[r,s===void 0?null:s],r},useContext:Hn,useEffect:jh,useImperativeHandle:function(r,s,l){return l=l!=null?l.concat([r]):null,Po(4194308,4,Nh.bind(null,s,r),l)},useLayoutEffect:function(r,s){return Po(4194308,4,r,s)},useInsertionEffect:function(r,s){return Po(4,2,r,s)},useMemo:function(r,s){var l=hr();return s=s===void 0?null:s,r=r(),l.memoizedState=[r,s],r},useReducer:function(r,s,l){var d=hr();return s=l!==void 0?l(s):s,d.memoizedState=d.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},d.queue=r,r=r.dispatch=hx.bind(null,Ft,r),[d.memoizedState,r]},useRef:function(r){var s=hr();return r={current:r},s.memoizedState=r},useState:Sh,useDebugValue:nu,useDeferredValue:function(r){return hr().memoizedState=r},useTransition:function(){var r=Sh(!1),s=r[0];return r=fx.bind(null,r[1]),hr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,l){var d=Ft,p=hr();if(Tt){if(l===void 0)throw Error(n(407));l=l()}else{if(l=s(),rn===null)throw Error(n(349));(Li&30)!==0||vh(d,s,l)}p.memoizedState=l;var y={value:l,getSnapshot:s};return p.queue=y,jh(bh.bind(null,d,y,r),[r]),d.flags|=2048,ba(9,xh.bind(null,d,y,l,s),void 0,null),l},useId:function(){var r=hr(),s=rn.identifierPrefix;if(Tt){var l=Nr,d=Er;l=(d&~(1<<32-Je(d)-1)).toString(32)+l,s=":"+s+"R"+l,l=va++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=dx++,s=":"+s+"r"+l.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},gx={readContext:Hn,useCallback:Mh,useContext:Hn,useEffect:tu,useImperativeHandle:Rh,useInsertionEffect:Ch,useLayoutEffect:Eh,useMemo:Th,useReducer:Zc,useRef:kh,useState:function(){return Zc(xa)},useDebugValue:nu,useDeferredValue:function(r){var s=Wn();return Ph(s,qt.memoizedState,r)},useTransition:function(){var r=Zc(xa)[0],s=Wn().memoizedState;return[r,s]},useMutableSource:gh,useSyncExternalStore:yh,useId:Dh,unstable_isNewReconciler:!1},yx={readContext:Hn,useCallback:Mh,useContext:Hn,useEffect:tu,useImperativeHandle:Rh,useInsertionEffect:Ch,useLayoutEffect:Eh,useMemo:Th,useReducer:eu,useRef:kh,useState:function(){return eu(xa)},useDebugValue:nu,useDeferredValue:function(r){var s=Wn();return qt===null?s.memoizedState=r:Ph(s,qt.memoizedState,r)},useTransition:function(){var r=eu(xa)[0],s=Wn().memoizedState;return[r,s]},useMutableSource:gh,useSyncExternalStore:yh,useId:Dh,unstable_isNewReconciler:!1};function rr(r,s){if(r&&r.defaultProps){s=M({},s),r=r.defaultProps;for(var l in r)s[l]===void 0&&(s[l]=r[l]);return s}return s}function ru(r,s,l,d){s=r.memoizedState,l=l(d,s),l=l==null?s:M({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Lo={isMounted:function(r){return(r=r._reactInternals)?ve(r)===r:!1},enqueueSetState:function(r,s,l){r=r._reactInternals;var d=bn(),p=ui(r),y=Mr(d,p);y.payload=s,l!=null&&(y.callback=l),s=ai(r,y,p),s!==null&&(ar(s,r,p,d),Eo(s,r,p))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var d=bn(),p=ui(r),y=Mr(d,p);y.tag=1,y.payload=s,l!=null&&(y.callback=l),s=ai(r,y,p),s!==null&&(ar(s,r,p,d),Eo(s,r,p))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=bn(),d=ui(r),p=Mr(l,d);p.tag=2,s!=null&&(p.callback=s),s=ai(r,p,d),s!==null&&(ar(s,r,d,l),Eo(s,r,d))}};function Fh(r,s,l,d,p,y,_){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,y,_):s.prototype&&s.prototype.isPureReactComponent?!aa(l,d)||!aa(p,y):!0}function Ih(r,s,l){var d=!1,p=ri,y=s.contextType;return typeof y=="object"&&y!==null?y=Hn(y):(p=wn(s)?Mi:hn.current,d=s.contextTypes,y=(d=d!=null)?ps(r,p):ri),s=new s(l,y),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Lo,r.stateNode=s,s._reactInternals=r,d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=p,r.__reactInternalMemoizedMaskedChildContext=y),s}function zh(r,s,l,d){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,d),s.state!==r&&Lo.enqueueReplaceState(s,s.state,null)}function iu(r,s,l,d){var p=r.stateNode;p.props=l,p.state=r.memoizedState,p.refs={},Wc(r);var y=s.contextType;typeof y=="object"&&y!==null?p.context=Hn(y):(y=wn(s)?Mi:hn.current,p.context=ps(r,y)),p.state=r.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(ru(r,s,y,l),p.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(s=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),s!==p.state&&Lo.enqueueReplaceState(p,p.state,null),No(r,l,p,d),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308)}function Ss(r,s){try{var l="",d=s;do l+=ce(d),d=d.return;while(d);var p=l}catch(y){p=`
Error generating stack: `+y.message+`
`+y.stack}return{value:r,source:s,stack:p,digest:null}}function su(r,s,l){return{value:r,source:null,stack:l??null,digest:s??null}}function au(r,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var vx=typeof WeakMap=="function"?WeakMap:Map;function Uh(r,s,l){l=Mr(-1,l),l.tag=3,l.payload={element:null};var d=s.value;return l.callback=function(){$o||($o=!0,_u=d),au(r,s)},l}function Bh(r,s,l){l=Mr(-1,l),l.tag=3;var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var p=s.value;l.payload=function(){return d(p)},l.callback=function(){au(r,s)}}var y=r.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){au(r,s),typeof d!="function"&&(li===null?li=new Set([this]):li.add(this));var _=s.stack;this.componentDidCatch(s.value,{componentStack:_!==null?_:""})}),l}function $h(r,s,l){var d=r.pingCache;if(d===null){d=r.pingCache=new vx;var p=new Set;d.set(s,p)}else p=d.get(s),p===void 0&&(p=new Set,d.set(s,p));p.has(l)||(p.add(l),r=Px.bind(null,r,s,l),s.then(r,r))}function Hh(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function Wh(r,s,l,d,p){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=Mr(-1,1),s.tag=2,ai(l,s,1))),l.lanes|=1),r):(r.flags|=65536,r.lanes=p,r)}var xx=I.ReactCurrentOwner,Sn=!1;function xn(r,s,l,d){s.child=r===null?uh(s,null,l,d):xs(s,r.child,l,d)}function Vh(r,s,l,d,p){l=l.render;var y=s.ref;return _s(s,p),d=qc(r,s,l,d,y,p),l=Jc(),r!==null&&!Sn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,Tr(r,s,p)):(Tt&&l&&Ac(s),s.flags|=1,xn(r,s,d,p),s.child)}function Kh(r,s,l,d,p){if(r===null){var y=l.type;return typeof y=="function"&&!Nu(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=y,Yh(r,s,y,d,p)):(r=Xo(l.type,null,d,s,s.mode,p),r.ref=s.ref,r.return=s,s.child=r)}if(y=r.child,(r.lanes&p)===0){var _=y.memoizedProps;if(l=l.compare,l=l!==null?l:aa,l(_,d)&&r.ref===s.ref)return Tr(r,s,p)}return s.flags|=1,r=fi(y,d),r.ref=s.ref,r.return=s,s.child=r}function Yh(r,s,l,d,p){if(r!==null){var y=r.memoizedProps;if(aa(y,d)&&r.ref===s.ref)if(Sn=!1,s.pendingProps=d=y,(r.lanes&p)!==0)(r.flags&131072)!==0&&(Sn=!0);else return s.lanes=r.lanes,Tr(r,s,p)}return ou(r,s,l,d,p)}function Xh(r,s,l){var d=s.pendingProps,p=d.children,y=r!==null?r.memoizedState:null;if(d.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},xt(js,Fn),Fn|=l;else{if((l&1073741824)===0)return r=y!==null?y.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,xt(js,Fn),Fn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=y!==null?y.baseLanes:l,xt(js,Fn),Fn|=d}else y!==null?(d=y.baseLanes|l,s.memoizedState=null):d=l,xt(js,Fn),Fn|=d;return xn(r,s,p,l),s.child}function Qh(r,s){var l=s.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function ou(r,s,l,d,p){var y=wn(l)?Mi:hn.current;return y=ps(s,y),_s(s,p),l=qc(r,s,l,d,y,p),d=Jc(),r!==null&&!Sn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,Tr(r,s,p)):(Tt&&d&&Ac(s),s.flags|=1,xn(r,s,l,p),s.child)}function Gh(r,s,l,d,p){if(wn(l)){var y=!0;xo(s)}else y=!1;if(_s(s,p),s.stateNode===null)Fo(r,s),Ih(s,l,d),iu(s,l,d,p),d=!0;else if(r===null){var _=s.stateNode,E=s.memoizedProps;_.props=E;var O=_.context,Q=l.contextType;typeof Q=="object"&&Q!==null?Q=Hn(Q):(Q=wn(l)?Mi:hn.current,Q=ps(s,Q));var le=l.getDerivedStateFromProps,ue=typeof le=="function"||typeof _.getSnapshotBeforeUpdate=="function";ue||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(E!==d||O!==Q)&&zh(s,_,d,Q),si=!1;var ae=s.memoizedState;_.state=ae,No(s,d,_,p),O=s.memoizedState,E!==d||ae!==O||_n.current||si?(typeof le=="function"&&(ru(s,l,le,d),O=s.memoizedState),(E=si||Fh(s,l,E,d,ae,O,Q))?(ue||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=O),_.props=d,_.state=O,_.context=Q,d=E):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{_=s.stateNode,fh(r,s),E=s.memoizedProps,Q=s.type===s.elementType?E:rr(s.type,E),_.props=Q,ue=s.pendingProps,ae=_.context,O=l.contextType,typeof O=="object"&&O!==null?O=Hn(O):(O=wn(l)?Mi:hn.current,O=ps(s,O));var xe=l.getDerivedStateFromProps;(le=typeof xe=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(E!==ue||ae!==O)&&zh(s,_,d,O),si=!1,ae=s.memoizedState,_.state=ae,No(s,d,_,p);var Ce=s.memoizedState;E!==ue||ae!==Ce||_n.current||si?(typeof xe=="function"&&(ru(s,l,xe,d),Ce=s.memoizedState),(Q=si||Fh(s,l,Q,d,ae,Ce,O)||!1)?(le||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(d,Ce,O),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(d,Ce,O)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||E===r.memoizedProps&&ae===r.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&ae===r.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=Ce),_.props=d,_.state=Ce,_.context=O,d=Q):(typeof _.componentDidUpdate!="function"||E===r.memoizedProps&&ae===r.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&ae===r.memoizedState||(s.flags|=1024),d=!1)}return lu(r,s,l,d,y,p)}function lu(r,s,l,d,p,y){Qh(r,s);var _=(s.flags&128)!==0;if(!d&&!_)return p&&th(s,l,!1),Tr(r,s,y);d=s.stateNode,xx.current=s;var E=_&&typeof l.getDerivedStateFromError!="function"?null:d.render();return s.flags|=1,r!==null&&_?(s.child=xs(s,r.child,null,y),s.child=xs(s,null,E,y)):xn(r,s,E,y),s.memoizedState=d.state,p&&th(s,l,!0),s.child}function qh(r){var s=r.stateNode;s.pendingContext?Zf(r,s.pendingContext,s.pendingContext!==s.context):s.context&&Zf(r,s.context,!1),Vc(r,s.containerInfo)}function Jh(r,s,l,d,p){return vs(),Ic(p),s.flags|=256,xn(r,s,l,d),s.child}var cu={dehydrated:null,treeContext:null,retryLane:0};function uu(r){return{baseLanes:r,cachePool:null,transitions:null}}function Zh(r,s,l){var d=s.pendingProps,p=Ot.current,y=!1,_=(s.flags&128)!==0,E;if((E=_)||(E=r!==null&&r.memoizedState===null?!1:(p&2)!==0),E?(y=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(p|=1),xt(Ot,p&1),r===null)return Fc(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(_=d.children,r=d.fallback,y?(d=s.mode,y=s.child,_={mode:"hidden",children:_},(d&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=_):y=Qo(_,d,0,null),r=Ui(r,d,l,null),y.return=s,r.return=s,y.sibling=r,s.child=y,s.child.memoizedState=uu(l),s.memoizedState=cu,r):du(s,_));if(p=r.memoizedState,p!==null&&(E=p.dehydrated,E!==null))return bx(r,s,_,d,E,p,l);if(y){y=d.fallback,_=s.mode,p=r.child,E=p.sibling;var O={mode:"hidden",children:d.children};return(_&1)===0&&s.child!==p?(d=s.child,d.childLanes=0,d.pendingProps=O,s.deletions=null):(d=fi(p,O),d.subtreeFlags=p.subtreeFlags&14680064),E!==null?y=fi(E,y):(y=Ui(y,_,l,null),y.flags|=2),y.return=s,d.return=s,d.sibling=y,s.child=d,d=y,y=s.child,_=r.child.memoizedState,_=_===null?uu(l):{baseLanes:_.baseLanes|l,cachePool:null,transitions:_.transitions},y.memoizedState=_,y.childLanes=r.childLanes&~l,s.memoizedState=cu,d}return y=r.child,r=y.sibling,d=fi(y,{mode:"visible",children:d.children}),(s.mode&1)===0&&(d.lanes=l),d.return=s,d.sibling=null,r!==null&&(l=s.deletions,l===null?(s.deletions=[r],s.flags|=16):l.push(r)),s.child=d,s.memoizedState=null,d}function du(r,s){return s=Qo({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Oo(r,s,l,d){return d!==null&&Ic(d),xs(s,r.child,null,l),r=du(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function bx(r,s,l,d,p,y,_){if(l)return s.flags&256?(s.flags&=-257,d=su(Error(n(422))),Oo(r,s,_,d)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(y=d.fallback,p=s.mode,d=Qo({mode:"visible",children:d.children},p,0,null),y=Ui(y,p,_,null),y.flags|=2,d.return=s,y.return=s,d.sibling=y,s.child=d,(s.mode&1)!==0&&xs(s,r.child,null,_),s.child.memoizedState=uu(_),s.memoizedState=cu,y);if((s.mode&1)===0)return Oo(r,s,_,null);if(p.data==="$!"){if(d=p.nextSibling&&p.nextSibling.dataset,d)var E=d.dgst;return d=E,y=Error(n(419)),d=su(y,d,void 0),Oo(r,s,_,d)}if(E=(_&r.childLanes)!==0,Sn||E){if(d=rn,d!==null){switch(_&-_){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(d.suspendedLanes|_))!==0?0:p,p!==0&&p!==y.retryLane&&(y.retryLane=p,Rr(r,p),ar(d,r,p,-1))}return Eu(),d=su(Error(n(421))),Oo(r,s,_,d)}return p.data==="$?"?(s.flags|=128,s.child=r.child,s=Dx.bind(null,r),p._reactRetry=s,null):(r=y.treeContext,On=ti(p.nextSibling),Ln=s,Tt=!0,nr=null,r!==null&&(Bn[$n++]=Er,Bn[$n++]=Nr,Bn[$n++]=Ti,Er=r.id,Nr=r.overflow,Ti=s),s=du(s,d.children),s.flags|=4096,s)}function em(r,s,l){r.lanes|=s;var d=r.alternate;d!==null&&(d.lanes|=s),$c(r.return,s,l)}function fu(r,s,l,d,p){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:p}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=l,y.tailMode=p)}function tm(r,s,l){var d=s.pendingProps,p=d.revealOrder,y=d.tail;if(xn(r,s,d.children,l),d=Ot.current,(d&2)!==0)d=d&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&em(r,l,s);else if(r.tag===19)em(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}if(xt(Ot,d),(s.mode&1)===0)s.memoizedState=null;else switch(p){case"forwards":for(l=s.child,p=null;l!==null;)r=l.alternate,r!==null&&Ro(r)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),fu(s,!1,p,l,y);break;case"backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(r=p.alternate,r!==null&&Ro(r)===null){s.child=p;break}r=p.sibling,p.sibling=l,l=p,p=r}fu(s,!0,l,null,y);break;case"together":fu(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Fo(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Tr(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),Oi|=s.lanes,(l&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(n(153));if(s.child!==null){for(r=s.child,l=fi(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=fi(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function _x(r,s,l){switch(s.tag){case 3:qh(s),vs();break;case 5:ph(s);break;case 1:wn(s.type)&&xo(s);break;case 4:Vc(s,s.stateNode.containerInfo);break;case 10:var d=s.type._context,p=s.memoizedProps.value;xt(jo,d._currentValue),d._currentValue=p;break;case 13:if(d=s.memoizedState,d!==null)return d.dehydrated!==null?(xt(Ot,Ot.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?Zh(r,s,l):(xt(Ot,Ot.current&1),r=Tr(r,s,l),r!==null?r.sibling:null);xt(Ot,Ot.current&1);break;case 19:if(d=(l&s.childLanes)!==0,(r.flags&128)!==0){if(d)return tm(r,s,l);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),xt(Ot,Ot.current),d)break;return null;case 22:case 23:return s.lanes=0,Xh(r,s,l)}return Tr(r,s,l)}var nm,hu,rm,im;nm=function(r,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},hu=function(){},rm=function(r,s,l,d){var p=r.memoizedProps;if(p!==d){r=s.stateNode,Ai(fr.current);var y=null;switch(l){case"input":p=wt(r,p),d=wt(r,d),y=[];break;case"select":p=M({},p,{value:void 0}),d=M({},d,{value:void 0}),y=[];break;case"textarea":p=ge(r,p),d=ge(r,d),y=[];break;default:typeof p.onClick!="function"&&typeof d.onClick=="function"&&(r.onclick=go)}it(l,d);var _;l=null;for(Q in p)if(!d.hasOwnProperty(Q)&&p.hasOwnProperty(Q)&&p[Q]!=null)if(Q==="style"){var E=p[Q];for(_ in E)E.hasOwnProperty(_)&&(l||(l={}),l[_]="")}else Q!=="dangerouslySetInnerHTML"&&Q!=="children"&&Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&Q!=="autoFocus"&&(a.hasOwnProperty(Q)?y||(y=[]):(y=y||[]).push(Q,null));for(Q in d){var O=d[Q];if(E=p?.[Q],d.hasOwnProperty(Q)&&O!==E&&(O!=null||E!=null))if(Q==="style")if(E){for(_ in E)!E.hasOwnProperty(_)||O&&O.hasOwnProperty(_)||(l||(l={}),l[_]="");for(_ in O)O.hasOwnProperty(_)&&E[_]!==O[_]&&(l||(l={}),l[_]=O[_])}else l||(y||(y=[]),y.push(Q,l)),l=O;else Q==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,E=E?E.__html:void 0,O!=null&&E!==O&&(y=y||[]).push(Q,O)):Q==="children"?typeof O!="string"&&typeof O!="number"||(y=y||[]).push(Q,""+O):Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&(a.hasOwnProperty(Q)?(O!=null&&Q==="onScroll"&&jt("scroll",r),y||E===O||(y=[])):(y=y||[]).push(Q,O))}l&&(y=y||[]).push("style",l);var Q=y;(s.updateQueue=Q)&&(s.flags|=4)}},im=function(r,s,l,d){l!==d&&(s.flags|=4)};function _a(r,s){if(!Tt)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function pn(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,d=0;if(s)for(var p=r.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags&14680064,d|=p.flags&14680064,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=d,r.childLanes=l,s}function wx(r,s,l){var d=s.pendingProps;switch(Lc(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pn(s),null;case 1:return wn(s.type)&&vo(),pn(s),null;case 3:return d=s.stateNode,ws(),Ct(_n),Ct(hn),Xc(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(So(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,nr!==null&&(ku(nr),nr=null))),hu(r,s),pn(s),null;case 5:Kc(s);var p=Ai(ga.current);if(l=s.type,r!==null&&s.stateNode!=null)rm(r,s,l,d,p),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!d){if(s.stateNode===null)throw Error(n(166));return pn(s),null}if(r=Ai(fr.current),So(s)){d=s.stateNode,l=s.type;var y=s.memoizedProps;switch(d[dr]=s,d[da]=y,r=(s.mode&1)!==0,l){case"dialog":jt("cancel",d),jt("close",d);break;case"iframe":case"object":case"embed":jt("load",d);break;case"video":case"audio":for(p=0;p<la.length;p++)jt(la[p],d);break;case"source":jt("error",d);break;case"img":case"image":case"link":jt("error",d),jt("load",d);break;case"details":jt("toggle",d);break;case"input":on(d,y),jt("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!y.multiple},jt("invalid",d);break;case"textarea":Me(d,y),jt("invalid",d)}it(l,y),p=null;for(var _ in y)if(y.hasOwnProperty(_)){var E=y[_];_==="children"?typeof E=="string"?d.textContent!==E&&(y.suppressHydrationWarning!==!0&&po(d.textContent,E,r),p=["children",E]):typeof E=="number"&&d.textContent!==""+E&&(y.suppressHydrationWarning!==!0&&po(d.textContent,E,r),p=["children",""+E]):a.hasOwnProperty(_)&&E!=null&&_==="onScroll"&&jt("scroll",d)}switch(l){case"input":At(d),Qt(d,y,!0);break;case"textarea":At(d),St(d);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(d.onclick=go)}d=p,s.updateQueue=d,d!==null&&(s.flags|=4)}else{_=p.nodeType===9?p:p.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=pt(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=_.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof d.is=="string"?r=_.createElement(l,{is:d.is}):(r=_.createElement(l),l==="select"&&(_=r,d.multiple?_.multiple=!0:d.size&&(_.size=d.size))):r=_.createElementNS(r,l),r[dr]=s,r[da]=d,nm(r,s,!1,!1),s.stateNode=r;e:{switch(_=Rt(l,d),l){case"dialog":jt("cancel",r),jt("close",r),p=d;break;case"iframe":case"object":case"embed":jt("load",r),p=d;break;case"video":case"audio":for(p=0;p<la.length;p++)jt(la[p],r);p=d;break;case"source":jt("error",r),p=d;break;case"img":case"image":case"link":jt("error",r),jt("load",r),p=d;break;case"details":jt("toggle",r),p=d;break;case"input":on(r,d),p=wt(r,d),jt("invalid",r);break;case"option":p=d;break;case"select":r._wrapperState={wasMultiple:!!d.multiple},p=M({},d,{value:void 0}),jt("invalid",r);break;case"textarea":Me(r,d),p=ge(r,d),jt("invalid",r);break;default:p=d}it(l,p),E=p;for(y in E)if(E.hasOwnProperty(y)){var O=E[y];y==="style"?pe(r,O):y==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,O!=null&&ct(r,O)):y==="children"?typeof O=="string"?(l!=="textarea"||O!=="")&&Ht(r,O):typeof O=="number"&&Ht(r,""+O):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(a.hasOwnProperty(y)?O!=null&&y==="onScroll"&&jt("scroll",r):O!=null&&$(r,y,O,_))}switch(l){case"input":At(r),Qt(r,d,!1);break;case"textarea":At(r),St(r);break;case"option":d.value!=null&&r.setAttribute("value",""+ke(d.value));break;case"select":r.multiple=!!d.multiple,y=d.value,y!=null?lt(r,!!d.multiple,y,!1):d.defaultValue!=null&&lt(r,!!d.multiple,d.defaultValue,!0);break;default:typeof p.onClick=="function"&&(r.onclick=go)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return pn(s),null;case 6:if(r&&s.stateNode!=null)im(r,s,r.memoizedProps,d);else{if(typeof d!="string"&&s.stateNode===null)throw Error(n(166));if(l=Ai(ga.current),Ai(fr.current),So(s)){if(d=s.stateNode,l=s.memoizedProps,d[dr]=s,(y=d.nodeValue!==l)&&(r=Ln,r!==null))switch(r.tag){case 3:po(d.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&po(d.nodeValue,l,(r.mode&1)!==0)}y&&(s.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[dr]=s,s.stateNode=d}return pn(s),null;case 13:if(Ct(Ot),d=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Tt&&On!==null&&(s.mode&1)!==0&&(s.flags&128)===0)oh(),vs(),s.flags|=98560,y=!1;else if(y=So(s),d!==null&&d.dehydrated!==null){if(r===null){if(!y)throw Error(n(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(n(317));y[dr]=s}else vs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;pn(s),y=!1}else nr!==null&&(ku(nr),nr=null),y=!0;if(!y)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(d=d!==null,d!==(r!==null&&r.memoizedState!==null)&&d&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(Ot.current&1)!==0?Jt===0&&(Jt=3):Eu())),s.updateQueue!==null&&(s.flags|=4),pn(s),null);case 4:return ws(),hu(r,s),r===null&&ca(s.stateNode.containerInfo),pn(s),null;case 10:return Bc(s.type._context),pn(s),null;case 17:return wn(s.type)&&vo(),pn(s),null;case 19:if(Ct(Ot),y=s.memoizedState,y===null)return pn(s),null;if(d=(s.flags&128)!==0,_=y.rendering,_===null)if(d)_a(y,!1);else{if(Jt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(_=Ro(r),_!==null){for(s.flags|=128,_a(y,!1),d=_.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),s.subtreeFlags=0,d=l,l=s.child;l!==null;)y=l,r=d,y.flags&=14680066,_=y.alternate,_===null?(y.childLanes=0,y.lanes=r,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=_.childLanes,y.lanes=_.lanes,y.child=_.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=_.memoizedProps,y.memoizedState=_.memoizedState,y.updateQueue=_.updateQueue,y.type=_.type,r=_.dependencies,y.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return xt(Ot,Ot.current&1|2),s.child}r=r.sibling}y.tail!==null&&qe()>Cs&&(s.flags|=128,d=!0,_a(y,!1),s.lanes=4194304)}else{if(!d)if(r=Ro(_),r!==null){if(s.flags|=128,d=!0,l=r.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),_a(y,!0),y.tail===null&&y.tailMode==="hidden"&&!_.alternate&&!Tt)return pn(s),null}else 2*qe()-y.renderingStartTime>Cs&&l!==1073741824&&(s.flags|=128,d=!0,_a(y,!1),s.lanes=4194304);y.isBackwards?(_.sibling=s.child,s.child=_):(l=y.last,l!==null?l.sibling=_:s.child=_,y.last=_)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=qe(),s.sibling=null,l=Ot.current,xt(Ot,d?l&1|2:l&1),s):(pn(s),null);case 22:case 23:return Cu(),d=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==d&&(s.flags|=8192),d&&(s.mode&1)!==0?(Fn&1073741824)!==0&&(pn(s),s.subtreeFlags&6&&(s.flags|=8192)):pn(s),null;case 24:return null;case 25:return null}throw Error(n(156,s.tag))}function Sx(r,s){switch(Lc(s),s.tag){case 1:return wn(s.type)&&vo(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return ws(),Ct(_n),Ct(hn),Xc(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return Kc(s),null;case 13:if(Ct(Ot),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(n(340));vs()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Ct(Ot),null;case 4:return ws(),null;case 10:return Bc(s.type._context),null;case 22:case 23:return Cu(),null;case 24:return null;default:return null}}var Io=!1,gn=!1,kx=typeof WeakSet=="function"?WeakSet:Set,Se=null;function ks(r,s){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){It(r,s,d)}else l.current=null}function mu(r,s,l){try{l()}catch(d){It(r,s,d)}}var sm=!1;function jx(r,s){if(Cc=ro,r=Ff(),vc(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var p=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var _=0,E=-1,O=-1,Q=0,le=0,ue=r,ae=null;t:for(;;){for(var xe;ue!==l||p!==0&&ue.nodeType!==3||(E=_+p),ue!==y||d!==0&&ue.nodeType!==3||(O=_+d),ue.nodeType===3&&(_+=ue.nodeValue.length),(xe=ue.firstChild)!==null;)ae=ue,ue=xe;for(;;){if(ue===r)break t;if(ae===l&&++Q===p&&(E=_),ae===y&&++le===d&&(O=_),(xe=ue.nextSibling)!==null)break;ue=ae,ae=ue.parentNode}ue=xe}l=E===-1||O===-1?null:{start:E,end:O}}else l=null}l=l||{start:0,end:0}}else l=null;for(Ec={focusedElem:r,selectionRange:l},ro=!1,Se=s;Se!==null;)if(s=Se,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,Se=r;else for(;Se!==null;){s=Se;try{var Ce=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Ce!==null){var Ee=Ce.memoizedProps,zt=Ce.memoizedState,W=s.stateNode,z=W.getSnapshotBeforeUpdate(s.elementType===s.type?Ee:rr(s.type,Ee),zt);W.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var V=s.stateNode.containerInfo;V.nodeType===1?V.textContent="":V.nodeType===9&&V.documentElement&&V.removeChild(V.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(fe){It(s,s.return,fe)}if(r=s.sibling,r!==null){r.return=s.return,Se=r;break}Se=s.return}return Ce=sm,sm=!1,Ce}function wa(r,s,l){var d=s.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var p=d=d.next;do{if((p.tag&r)===r){var y=p.destroy;p.destroy=void 0,y!==void 0&&mu(s,l,y)}p=p.next}while(p!==d)}}function zo(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&r)===r){var d=l.create;l.destroy=d()}l=l.next}while(l!==s)}}function pu(r){var s=r.ref;if(s!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof s=="function"?s(r):s.current=r}}function am(r){var s=r.alternate;s!==null&&(r.alternate=null,am(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[dr],delete s[da],delete s[Tc],delete s[ox],delete s[lx])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function om(r){return r.tag===5||r.tag===3||r.tag===4}function lm(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||om(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function gu(r,s,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(r,s):l.insertBefore(r,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(r,l)):(s=l,s.appendChild(r)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=go));else if(d!==4&&(r=r.child,r!==null))for(gu(r,s,l),r=r.sibling;r!==null;)gu(r,s,l),r=r.sibling}function yu(r,s,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(d!==4&&(r=r.child,r!==null))for(yu(r,s,l),r=r.sibling;r!==null;)yu(r,s,l),r=r.sibling}var ln=null,ir=!1;function oi(r,s,l){for(l=l.child;l!==null;)cm(r,s,l),l=l.sibling}function cm(r,s,l){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(ut,l)}catch{}switch(l.tag){case 5:gn||ks(l,s);case 6:var d=ln,p=ir;ln=null,oi(r,s,l),ln=d,ir=p,ln!==null&&(ir?(r=ln,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):ln.removeChild(l.stateNode));break;case 18:ln!==null&&(ir?(r=ln,l=l.stateNode,r.nodeType===8?Mc(r.parentNode,l):r.nodeType===1&&Mc(r,l),ea(r)):Mc(ln,l.stateNode));break;case 4:d=ln,p=ir,ln=l.stateNode.containerInfo,ir=!0,oi(r,s,l),ln=d,ir=p;break;case 0:case 11:case 14:case 15:if(!gn&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){p=d=d.next;do{var y=p,_=y.destroy;y=y.tag,_!==void 0&&((y&2)!==0||(y&4)!==0)&&mu(l,s,_),p=p.next}while(p!==d)}oi(r,s,l);break;case 1:if(!gn&&(ks(l,s),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(E){It(l,s,E)}oi(r,s,l);break;case 21:oi(r,s,l);break;case 22:l.mode&1?(gn=(d=gn)||l.memoizedState!==null,oi(r,s,l),gn=d):oi(r,s,l);break;default:oi(r,s,l)}}function um(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new kx),s.forEach(function(d){var p=Ax.bind(null,r,d);l.has(d)||(l.add(d),d.then(p,p))})}}function sr(r,s){var l=s.deletions;if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];try{var y=r,_=s,E=_;e:for(;E!==null;){switch(E.tag){case 5:ln=E.stateNode,ir=!1;break e;case 3:ln=E.stateNode.containerInfo,ir=!0;break e;case 4:ln=E.stateNode.containerInfo,ir=!0;break e}E=E.return}if(ln===null)throw Error(n(160));cm(y,_,p),ln=null,ir=!1;var O=p.alternate;O!==null&&(O.return=null),p.return=null}catch(Q){It(p,s,Q)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)dm(s,r),s=s.sibling}function dm(r,s){var l=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(sr(s,r),mr(r),d&4){try{wa(3,r,r.return),zo(3,r)}catch(Ee){It(r,r.return,Ee)}try{wa(5,r,r.return)}catch(Ee){It(r,r.return,Ee)}}break;case 1:sr(s,r),mr(r),d&512&&l!==null&&ks(l,l.return);break;case 5:if(sr(s,r),mr(r),d&512&&l!==null&&ks(l,l.return),r.flags&32){var p=r.stateNode;try{Ht(p,"")}catch(Ee){It(r,r.return,Ee)}}if(d&4&&(p=r.stateNode,p!=null)){var y=r.memoizedProps,_=l!==null?l.memoizedProps:y,E=r.type,O=r.updateQueue;if(r.updateQueue=null,O!==null)try{E==="input"&&y.type==="radio"&&y.name!=null&&en(p,y),Rt(E,_);var Q=Rt(E,y);for(_=0;_<O.length;_+=2){var le=O[_],ue=O[_+1];le==="style"?pe(p,ue):le==="dangerouslySetInnerHTML"?ct(p,ue):le==="children"?Ht(p,ue):$(p,le,ue,Q)}switch(E){case"input":un(p,y);break;case"textarea":Be(p,y);break;case"select":var ae=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!y.multiple;var xe=y.value;xe!=null?lt(p,!!y.multiple,xe,!1):ae!==!!y.multiple&&(y.defaultValue!=null?lt(p,!!y.multiple,y.defaultValue,!0):lt(p,!!y.multiple,y.multiple?[]:"",!1))}p[da]=y}catch(Ee){It(r,r.return,Ee)}}break;case 6:if(sr(s,r),mr(r),d&4){if(r.stateNode===null)throw Error(n(162));p=r.stateNode,y=r.memoizedProps;try{p.nodeValue=y}catch(Ee){It(r,r.return,Ee)}}break;case 3:if(sr(s,r),mr(r),d&4&&l!==null&&l.memoizedState.isDehydrated)try{ea(s.containerInfo)}catch(Ee){It(r,r.return,Ee)}break;case 4:sr(s,r),mr(r);break;case 13:sr(s,r),mr(r),p=r.child,p.flags&8192&&(y=p.memoizedState!==null,p.stateNode.isHidden=y,!y||p.alternate!==null&&p.alternate.memoizedState!==null||(bu=qe())),d&4&&um(r);break;case 22:if(le=l!==null&&l.memoizedState!==null,r.mode&1?(gn=(Q=gn)||le,sr(s,r),gn=Q):sr(s,r),mr(r),d&8192){if(Q=r.memoizedState!==null,(r.stateNode.isHidden=Q)&&!le&&(r.mode&1)!==0)for(Se=r,le=r.child;le!==null;){for(ue=Se=le;Se!==null;){switch(ae=Se,xe=ae.child,ae.tag){case 0:case 11:case 14:case 15:wa(4,ae,ae.return);break;case 1:ks(ae,ae.return);var Ce=ae.stateNode;if(typeof Ce.componentWillUnmount=="function"){d=ae,l=ae.return;try{s=d,Ce.props=s.memoizedProps,Ce.state=s.memoizedState,Ce.componentWillUnmount()}catch(Ee){It(d,l,Ee)}}break;case 5:ks(ae,ae.return);break;case 22:if(ae.memoizedState!==null){mm(ue);continue}}xe!==null?(xe.return=ae,Se=xe):mm(ue)}le=le.sibling}e:for(le=null,ue=r;;){if(ue.tag===5){if(le===null){le=ue;try{p=ue.stateNode,Q?(y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(E=ue.stateNode,O=ue.memoizedProps.style,_=O!=null&&O.hasOwnProperty("display")?O.display:null,E.style.display=U("display",_))}catch(Ee){It(r,r.return,Ee)}}}else if(ue.tag===6){if(le===null)try{ue.stateNode.nodeValue=Q?"":ue.memoizedProps}catch(Ee){It(r,r.return,Ee)}}else if((ue.tag!==22&&ue.tag!==23||ue.memoizedState===null||ue===r)&&ue.child!==null){ue.child.return=ue,ue=ue.child;continue}if(ue===r)break e;for(;ue.sibling===null;){if(ue.return===null||ue.return===r)break e;le===ue&&(le=null),ue=ue.return}le===ue&&(le=null),ue.sibling.return=ue.return,ue=ue.sibling}}break;case 19:sr(s,r),mr(r),d&4&&um(r);break;case 21:break;default:sr(s,r),mr(r)}}function mr(r){var s=r.flags;if(s&2){try{e:{for(var l=r.return;l!==null;){if(om(l)){var d=l;break e}l=l.return}throw Error(n(160))}switch(d.tag){case 5:var p=d.stateNode;d.flags&32&&(Ht(p,""),d.flags&=-33);var y=lm(r);yu(r,y,p);break;case 3:case 4:var _=d.stateNode.containerInfo,E=lm(r);gu(r,E,_);break;default:throw Error(n(161))}}catch(O){It(r,r.return,O)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function Cx(r,s,l){Se=r,fm(r)}function fm(r,s,l){for(var d=(r.mode&1)!==0;Se!==null;){var p=Se,y=p.child;if(p.tag===22&&d){var _=p.memoizedState!==null||Io;if(!_){var E=p.alternate,O=E!==null&&E.memoizedState!==null||gn;E=Io;var Q=gn;if(Io=_,(gn=O)&&!Q)for(Se=p;Se!==null;)_=Se,O=_.child,_.tag===22&&_.memoizedState!==null?pm(p):O!==null?(O.return=_,Se=O):pm(p);for(;y!==null;)Se=y,fm(y),y=y.sibling;Se=p,Io=E,gn=Q}hm(r)}else(p.subtreeFlags&8772)!==0&&y!==null?(y.return=p,Se=y):hm(r)}}function hm(r){for(;Se!==null;){var s=Se;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:gn||zo(5,s);break;case 1:var d=s.stateNode;if(s.flags&4&&!gn)if(l===null)d.componentDidMount();else{var p=s.elementType===s.type?l.memoizedProps:rr(s.type,l.memoizedProps);d.componentDidUpdate(p,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var y=s.updateQueue;y!==null&&mh(s,y,d);break;case 3:var _=s.updateQueue;if(_!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}mh(s,_,l)}break;case 5:var E=s.stateNode;if(l===null&&s.flags&4){l=E;var O=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":O.autoFocus&&l.focus();break;case"img":O.src&&(l.src=O.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var Q=s.alternate;if(Q!==null){var le=Q.memoizedState;if(le!==null){var ue=le.dehydrated;ue!==null&&ea(ue)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}gn||s.flags&512&&pu(s)}catch(ae){It(s,s.return,ae)}}if(s===r){Se=null;break}if(l=s.sibling,l!==null){l.return=s.return,Se=l;break}Se=s.return}}function mm(r){for(;Se!==null;){var s=Se;if(s===r){Se=null;break}var l=s.sibling;if(l!==null){l.return=s.return,Se=l;break}Se=s.return}}function pm(r){for(;Se!==null;){var s=Se;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{zo(4,s)}catch(O){It(s,l,O)}break;case 1:var d=s.stateNode;if(typeof d.componentDidMount=="function"){var p=s.return;try{d.componentDidMount()}catch(O){It(s,p,O)}}var y=s.return;try{pu(s)}catch(O){It(s,y,O)}break;case 5:var _=s.return;try{pu(s)}catch(O){It(s,_,O)}}}catch(O){It(s,s.return,O)}if(s===r){Se=null;break}var E=s.sibling;if(E!==null){E.return=s.return,Se=E;break}Se=s.return}}var Ex=Math.ceil,Uo=I.ReactCurrentDispatcher,vu=I.ReactCurrentOwner,Vn=I.ReactCurrentBatchConfig,et=0,rn=null,Kt=null,cn=0,Fn=0,js=ni(0),Jt=0,Sa=null,Oi=0,Bo=0,xu=0,ka=null,kn=null,bu=0,Cs=1/0,Pr=null,$o=!1,_u=null,li=null,Ho=!1,ci=null,Wo=0,ja=0,wu=null,Vo=-1,Ko=0;function bn(){return(et&6)!==0?qe():Vo!==-1?Vo:Vo=qe()}function ui(r){return(r.mode&1)===0?1:(et&2)!==0&&cn!==0?cn&-cn:ux.transition!==null?(Ko===0&&(Ko=ss()),Ko):(r=dt,r!==0||(r=window.event,r=r===void 0?16:yf(r.type)),r)}function ar(r,s,l,d){if(50<ja)throw ja=0,wu=null,Error(n(185));Qs(r,l,d),((et&2)===0||r!==rn)&&(r===rn&&((et&2)===0&&(Bo|=l),Jt===4&&di(r,cn)),jn(r,d),l===1&&et===0&&(s.mode&1)===0&&(Cs=qe()+500,bo&&ii()))}function jn(r,s){var l=r.callbackNode;Xr(r,s);var d=Mt(r,r===rn?cn:0);if(d===0)l!==null&&qn(l),r.callbackNode=null,r.callbackPriority=0;else if(s=d&-d,r.callbackPriority!==s){if(l!=null&&qn(l),s===1)r.tag===0?cx(ym.bind(null,r)):nh(ym.bind(null,r)),sx(function(){(et&6)===0&&ii()}),l=null;else{switch(cf(d)){case 1:l=Jn;break;case 4:l=Un;break;case 16:l=Zn;break;case 536870912:l=Xe;break;default:l=Zn}l=jm(l,gm.bind(null,r))}r.callbackPriority=s,r.callbackNode=l}}function gm(r,s){if(Vo=-1,Ko=0,(et&6)!==0)throw Error(n(327));var l=r.callbackNode;if(Es()&&r.callbackNode!==l)return null;var d=Mt(r,r===rn?cn:0);if(d===0)return null;if((d&30)!==0||(d&r.expiredLanes)!==0||s)s=Yo(r,d);else{s=d;var p=et;et|=2;var y=xm();(rn!==r||cn!==s)&&(Pr=null,Cs=qe()+500,Ii(r,s));do try{Mx();break}catch(E){vm(r,E)}while(!0);Uc(),Uo.current=y,et=p,Kt!==null?s=0:(rn=null,cn=0,s=Jt)}if(s!==0){if(s===2&&(p=kr(r),p!==0&&(d=p,s=Su(r,p))),s===1)throw l=Sa,Ii(r,0),di(r,d),jn(r,qe()),l;if(s===6)di(r,d);else{if(p=r.current.alternate,(d&30)===0&&!Nx(p)&&(s=Yo(r,d),s===2&&(y=kr(r),y!==0&&(d=y,s=Su(r,y))),s===1))throw l=Sa,Ii(r,0),di(r,d),jn(r,qe()),l;switch(r.finishedWork=p,r.finishedLanes=d,s){case 0:case 1:throw Error(n(345));case 2:zi(r,kn,Pr);break;case 3:if(di(r,d),(d&130023424)===d&&(s=bu+500-qe(),10<s)){if(Mt(r,0)!==0)break;if(p=r.suspendedLanes,(p&d)!==d){bn(),r.pingedLanes|=r.suspendedLanes&p;break}r.timeoutHandle=Rc(zi.bind(null,r,kn,Pr),s);break}zi(r,kn,Pr);break;case 4:if(di(r,d),(d&4194240)===d)break;for(s=r.eventTimes,p=-1;0<d;){var _=31-Je(d);y=1<<_,_=s[_],_>p&&(p=_),d&=~y}if(d=p,d=qe()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*Ex(d/1960))-d,10<d){r.timeoutHandle=Rc(zi.bind(null,r,kn,Pr),d);break}zi(r,kn,Pr);break;case 5:zi(r,kn,Pr);break;default:throw Error(n(329))}}}return jn(r,qe()),r.callbackNode===l?gm.bind(null,r):null}function Su(r,s){var l=ka;return r.current.memoizedState.isDehydrated&&(Ii(r,s).flags|=256),r=Yo(r,s),r!==2&&(s=kn,kn=l,s!==null&&ku(s)),r}function ku(r){kn===null?kn=r:kn.push.apply(kn,r)}function Nx(r){for(var s=r;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var p=l[d],y=p.getSnapshot;p=p.value;try{if(!tr(y(),p))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function di(r,s){for(s&=~xu,s&=~Bo,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var l=31-Je(s),d=1<<l;r[l]=-1,s&=~d}}function ym(r){if((et&6)!==0)throw Error(n(327));Es();var s=Mt(r,0);if((s&1)===0)return jn(r,qe()),null;var l=Yo(r,s);if(r.tag!==0&&l===2){var d=kr(r);d!==0&&(s=d,l=Su(r,d))}if(l===1)throw l=Sa,Ii(r,0),di(r,s),jn(r,qe()),l;if(l===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,zi(r,kn,Pr),jn(r,qe()),null}function ju(r,s){var l=et;et|=1;try{return r(s)}finally{et=l,et===0&&(Cs=qe()+500,bo&&ii())}}function Fi(r){ci!==null&&ci.tag===0&&(et&6)===0&&Es();var s=et;et|=1;var l=Vn.transition,d=dt;try{if(Vn.transition=null,dt=1,r)return r()}finally{dt=d,Vn.transition=l,et=s,(et&6)===0&&ii()}}function Cu(){Fn=js.current,Ct(js)}function Ii(r,s){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,ix(l)),Kt!==null)for(l=Kt.return;l!==null;){var d=l;switch(Lc(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&vo();break;case 3:ws(),Ct(_n),Ct(hn),Xc();break;case 5:Kc(d);break;case 4:ws();break;case 13:Ct(Ot);break;case 19:Ct(Ot);break;case 10:Bc(d.type._context);break;case 22:case 23:Cu()}l=l.return}if(rn=r,Kt=r=fi(r.current,null),cn=Fn=s,Jt=0,Sa=null,xu=Bo=Oi=0,kn=ka=null,Di!==null){for(s=0;s<Di.length;s++)if(l=Di[s],d=l.interleaved,d!==null){l.interleaved=null;var p=d.next,y=l.pending;if(y!==null){var _=y.next;y.next=p,d.next=_}l.pending=d}Di=null}return r}function vm(r,s){do{var l=Kt;try{if(Uc(),Mo.current=Ao,To){for(var d=Ft.memoizedState;d!==null;){var p=d.queue;p!==null&&(p.pending=null),d=d.next}To=!1}if(Li=0,nn=qt=Ft=null,ya=!1,va=0,vu.current=null,l===null||l.return===null){Jt=1,Sa=s,Kt=null;break}e:{var y=r,_=l.return,E=l,O=s;if(s=cn,E.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){var Q=O,le=E,ue=le.tag;if((le.mode&1)===0&&(ue===0||ue===11||ue===15)){var ae=le.alternate;ae?(le.updateQueue=ae.updateQueue,le.memoizedState=ae.memoizedState,le.lanes=ae.lanes):(le.updateQueue=null,le.memoizedState=null)}var xe=Hh(_);if(xe!==null){xe.flags&=-257,Wh(xe,_,E,y,s),xe.mode&1&&$h(y,Q,s),s=xe,O=Q;var Ce=s.updateQueue;if(Ce===null){var Ee=new Set;Ee.add(O),s.updateQueue=Ee}else Ce.add(O);break e}else{if((s&1)===0){$h(y,Q,s),Eu();break e}O=Error(n(426))}}else if(Tt&&E.mode&1){var zt=Hh(_);if(zt!==null){(zt.flags&65536)===0&&(zt.flags|=256),Wh(zt,_,E,y,s),Ic(Ss(O,E));break e}}y=O=Ss(O,E),Jt!==4&&(Jt=2),ka===null?ka=[y]:ka.push(y),y=_;do{switch(y.tag){case 3:y.flags|=65536,s&=-s,y.lanes|=s;var W=Uh(y,O,s);hh(y,W);break e;case 1:E=O;var z=y.type,V=y.stateNode;if((y.flags&128)===0&&(typeof z.getDerivedStateFromError=="function"||V!==null&&typeof V.componentDidCatch=="function"&&(li===null||!li.has(V)))){y.flags|=65536,s&=-s,y.lanes|=s;var fe=Bh(y,E,s);hh(y,fe);break e}}y=y.return}while(y!==null)}_m(l)}catch(Re){s=Re,Kt===l&&l!==null&&(Kt=l=l.return);continue}break}while(!0)}function xm(){var r=Uo.current;return Uo.current=Ao,r===null?Ao:r}function Eu(){(Jt===0||Jt===3||Jt===2)&&(Jt=4),rn===null||(Oi&268435455)===0&&(Bo&268435455)===0||di(rn,cn)}function Yo(r,s){var l=et;et|=2;var d=xm();(rn!==r||cn!==s)&&(Pr=null,Ii(r,s));do try{Rx();break}catch(p){vm(r,p)}while(!0);if(Uc(),et=l,Uo.current=d,Kt!==null)throw Error(n(261));return rn=null,cn=0,Jt}function Rx(){for(;Kt!==null;)bm(Kt)}function Mx(){for(;Kt!==null&&!ur();)bm(Kt)}function bm(r){var s=km(r.alternate,r,Fn);r.memoizedProps=r.pendingProps,s===null?_m(r):Kt=s,vu.current=null}function _m(r){var s=r;do{var l=s.alternate;if(r=s.return,(s.flags&32768)===0){if(l=wx(l,s,Fn),l!==null){Kt=l;return}}else{if(l=Sx(l,s),l!==null){l.flags&=32767,Kt=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Jt=6,Kt=null;return}}if(s=s.sibling,s!==null){Kt=s;return}Kt=s=r}while(s!==null);Jt===0&&(Jt=5)}function zi(r,s,l){var d=dt,p=Vn.transition;try{Vn.transition=null,dt=1,Tx(r,s,l,d)}finally{Vn.transition=p,dt=d}return null}function Tx(r,s,l,d){do Es();while(ci!==null);if((et&6)!==0)throw Error(n(327));l=r.finishedWork;var p=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var y=l.lanes|l.childLanes;if(dv(r,y),r===rn&&(Kt=rn=null,cn=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Ho||(Ho=!0,jm(Zn,function(){return Es(),null})),y=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||y){y=Vn.transition,Vn.transition=null;var _=dt;dt=1;var E=et;et|=4,vu.current=null,jx(r,l),dm(l,r),qv(Ec),ro=!!Cc,Ec=Cc=null,r.current=l,Cx(l),Dn(),et=E,dt=_,Vn.transition=y}else r.current=l;if(Ho&&(Ho=!1,ci=r,Wo=p),y=r.pendingLanes,y===0&&(li=null),Yr(l.stateNode),jn(r,qe()),s!==null)for(d=r.onRecoverableError,l=0;l<s.length;l++)p=s[l],d(p.value,{componentStack:p.stack,digest:p.digest});if($o)throw $o=!1,r=_u,_u=null,r;return(Wo&1)!==0&&r.tag!==0&&Es(),y=r.pendingLanes,(y&1)!==0?r===wu?ja++:(ja=0,wu=r):ja=0,ii(),null}function Es(){if(ci!==null){var r=cf(Wo),s=Vn.transition,l=dt;try{if(Vn.transition=null,dt=16>r?16:r,ci===null)var d=!1;else{if(r=ci,ci=null,Wo=0,(et&6)!==0)throw Error(n(331));var p=et;for(et|=4,Se=r.current;Se!==null;){var y=Se,_=y.child;if((Se.flags&16)!==0){var E=y.deletions;if(E!==null){for(var O=0;O<E.length;O++){var Q=E[O];for(Se=Q;Se!==null;){var le=Se;switch(le.tag){case 0:case 11:case 15:wa(8,le,y)}var ue=le.child;if(ue!==null)ue.return=le,Se=ue;else for(;Se!==null;){le=Se;var ae=le.sibling,xe=le.return;if(am(le),le===Q){Se=null;break}if(ae!==null){ae.return=xe,Se=ae;break}Se=xe}}}var Ce=y.alternate;if(Ce!==null){var Ee=Ce.child;if(Ee!==null){Ce.child=null;do{var zt=Ee.sibling;Ee.sibling=null,Ee=zt}while(Ee!==null)}}Se=y}}if((y.subtreeFlags&2064)!==0&&_!==null)_.return=y,Se=_;else e:for(;Se!==null;){if(y=Se,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:wa(9,y,y.return)}var W=y.sibling;if(W!==null){W.return=y.return,Se=W;break e}Se=y.return}}var z=r.current;for(Se=z;Se!==null;){_=Se;var V=_.child;if((_.subtreeFlags&2064)!==0&&V!==null)V.return=_,Se=V;else e:for(_=z;Se!==null;){if(E=Se,(E.flags&2048)!==0)try{switch(E.tag){case 0:case 11:case 15:zo(9,E)}}catch(Re){It(E,E.return,Re)}if(E===_){Se=null;break e}var fe=E.sibling;if(fe!==null){fe.return=E.return,Se=fe;break e}Se=E.return}}if(et=p,ii(),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(ut,r)}catch{}d=!0}return d}finally{dt=l,Vn.transition=s}}return!1}function wm(r,s,l){s=Ss(l,s),s=Uh(r,s,1),r=ai(r,s,1),s=bn(),r!==null&&(Qs(r,1,s),jn(r,s))}function It(r,s,l){if(r.tag===3)wm(r,r,l);else for(;s!==null;){if(s.tag===3){wm(s,r,l);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(li===null||!li.has(d))){r=Ss(l,r),r=Bh(s,r,1),s=ai(s,r,1),r=bn(),s!==null&&(Qs(s,1,r),jn(s,r));break}}s=s.return}}function Px(r,s,l){var d=r.pingCache;d!==null&&d.delete(s),s=bn(),r.pingedLanes|=r.suspendedLanes&l,rn===r&&(cn&l)===l&&(Jt===4||Jt===3&&(cn&130023424)===cn&&500>qe()-bu?Ii(r,0):xu|=l),jn(r,s)}function Sm(r,s){s===0&&((r.mode&1)===0?s=1:(s=Fe,Fe<<=1,(Fe&130023424)===0&&(Fe=4194304)));var l=bn();r=Rr(r,s),r!==null&&(Qs(r,s,l),jn(r,l))}function Dx(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),Sm(r,l)}function Ax(r,s){var l=0;switch(r.tag){case 13:var d=r.stateNode,p=r.memoizedState;p!==null&&(l=p.retryLane);break;case 19:d=r.stateNode;break;default:throw Error(n(314))}d!==null&&d.delete(s),Sm(r,l)}var km;km=function(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps||_n.current)Sn=!0;else{if((r.lanes&l)===0&&(s.flags&128)===0)return Sn=!1,_x(r,s,l);Sn=(r.flags&131072)!==0}else Sn=!1,Tt&&(s.flags&1048576)!==0&&rh(s,wo,s.index);switch(s.lanes=0,s.tag){case 2:var d=s.type;Fo(r,s),r=s.pendingProps;var p=ps(s,hn.current);_s(s,l),p=qc(null,s,d,r,p,l);var y=Jc();return s.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,wn(d)?(y=!0,xo(s)):y=!1,s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Wc(s),p.updater=Lo,s.stateNode=p,p._reactInternals=s,iu(s,d,r,l),s=lu(null,s,d,!0,y,l)):(s.tag=0,Tt&&y&&Ac(s),xn(null,s,p,l),s=s.child),s;case 16:d=s.elementType;e:{switch(Fo(r,s),r=s.pendingProps,p=d._init,d=p(d._payload),s.type=d,p=s.tag=Ox(d),r=rr(d,r),p){case 0:s=ou(null,s,d,r,l);break e;case 1:s=Gh(null,s,d,r,l);break e;case 11:s=Vh(null,s,d,r,l);break e;case 14:s=Kh(null,s,d,rr(d.type,r),l);break e}throw Error(n(306,d,""))}return s;case 0:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:rr(d,p),ou(r,s,d,p,l);case 1:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:rr(d,p),Gh(r,s,d,p,l);case 3:e:{if(qh(s),r===null)throw Error(n(387));d=s.pendingProps,y=s.memoizedState,p=y.element,fh(r,s),No(s,d,null,l);var _=s.memoizedState;if(d=_.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){p=Ss(Error(n(423)),s),s=Jh(r,s,d,l,p);break e}else if(d!==p){p=Ss(Error(n(424)),s),s=Jh(r,s,d,l,p);break e}else for(On=ti(s.stateNode.containerInfo.firstChild),Ln=s,Tt=!0,nr=null,l=uh(s,null,d,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(vs(),d===p){s=Tr(r,s,l);break e}xn(r,s,d,l)}s=s.child}return s;case 5:return ph(s),r===null&&Fc(s),d=s.type,p=s.pendingProps,y=r!==null?r.memoizedProps:null,_=p.children,Nc(d,p)?_=null:y!==null&&Nc(d,y)&&(s.flags|=32),Qh(r,s),xn(r,s,_,l),s.child;case 6:return r===null&&Fc(s),null;case 13:return Zh(r,s,l);case 4:return Vc(s,s.stateNode.containerInfo),d=s.pendingProps,r===null?s.child=xs(s,null,d,l):xn(r,s,d,l),s.child;case 11:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:rr(d,p),Vh(r,s,d,p,l);case 7:return xn(r,s,s.pendingProps,l),s.child;case 8:return xn(r,s,s.pendingProps.children,l),s.child;case 12:return xn(r,s,s.pendingProps.children,l),s.child;case 10:e:{if(d=s.type._context,p=s.pendingProps,y=s.memoizedProps,_=p.value,xt(jo,d._currentValue),d._currentValue=_,y!==null)if(tr(y.value,_)){if(y.children===p.children&&!_n.current){s=Tr(r,s,l);break e}}else for(y=s.child,y!==null&&(y.return=s);y!==null;){var E=y.dependencies;if(E!==null){_=y.child;for(var O=E.firstContext;O!==null;){if(O.context===d){if(y.tag===1){O=Mr(-1,l&-l),O.tag=2;var Q=y.updateQueue;if(Q!==null){Q=Q.shared;var le=Q.pending;le===null?O.next=O:(O.next=le.next,le.next=O),Q.pending=O}}y.lanes|=l,O=y.alternate,O!==null&&(O.lanes|=l),$c(y.return,l,s),E.lanes|=l;break}O=O.next}}else if(y.tag===10)_=y.type===s.type?null:y.child;else if(y.tag===18){if(_=y.return,_===null)throw Error(n(341));_.lanes|=l,E=_.alternate,E!==null&&(E.lanes|=l),$c(_,l,s),_=y.sibling}else _=y.child;if(_!==null)_.return=y;else for(_=y;_!==null;){if(_===s){_=null;break}if(y=_.sibling,y!==null){y.return=_.return,_=y;break}_=_.return}y=_}xn(r,s,p.children,l),s=s.child}return s;case 9:return p=s.type,d=s.pendingProps.children,_s(s,l),p=Hn(p),d=d(p),s.flags|=1,xn(r,s,d,l),s.child;case 14:return d=s.type,p=rr(d,s.pendingProps),p=rr(d.type,p),Kh(r,s,d,p,l);case 15:return Yh(r,s,s.type,s.pendingProps,l);case 17:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:rr(d,p),Fo(r,s),s.tag=1,wn(d)?(r=!0,xo(s)):r=!1,_s(s,l),Ih(s,d,p),iu(s,d,p,l),lu(null,s,d,!0,r,l);case 19:return tm(r,s,l);case 22:return Xh(r,s,l)}throw Error(n(156,s.tag))};function jm(r,s){return mt(r,s)}function Lx(r,s,l,d){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(r,s,l,d){return new Lx(r,s,l,d)}function Nu(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Ox(r){if(typeof r=="function")return Nu(r)?1:0;if(r!=null){if(r=r.$$typeof,r===Y)return 11;if(r===se)return 14}return 2}function fi(r,s){var l=r.alternate;return l===null?(l=Kn(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function Xo(r,s,l,d,p,y){var _=2;if(d=r,typeof r=="function")Nu(r)&&(_=1);else if(typeof r=="string")_=5;else e:switch(r){case R:return Ui(l.children,p,y,s);case A:_=8,p|=8;break;case K:return r=Kn(12,l,s,p|2),r.elementType=K,r.lanes=y,r;case X:return r=Kn(13,l,s,p),r.elementType=X,r.lanes=y,r;case te:return r=Kn(19,l,s,p),r.elementType=te,r.lanes=y,r;case ye:return Qo(l,p,y,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case L:_=10;break e;case T:_=9;break e;case Y:_=11;break e;case se:_=14;break e;case he:_=16,d=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return s=Kn(_,l,s,p),s.elementType=r,s.type=d,s.lanes=y,s}function Ui(r,s,l,d){return r=Kn(7,r,d,s),r.lanes=l,r}function Qo(r,s,l,d){return r=Kn(22,r,d,s),r.elementType=ye,r.lanes=l,r.stateNode={isHidden:!1},r}function Ru(r,s,l){return r=Kn(6,r,null,s),r.lanes=l,r}function Mu(r,s,l){return s=Kn(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function Fx(r,s,l,d,p){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rc(0),this.expirationTimes=rc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rc(0),this.identifierPrefix=d,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function Tu(r,s,l,d,p,y,_,E,O){return r=new Fx(r,s,l,E,O),s===1?(s=1,y===!0&&(s|=8)):s=0,y=Kn(3,null,null,s),r.current=y,y.stateNode=r,y.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wc(y),r}function Ix(r,s,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:q,key:d==null?null:""+d,children:r,containerInfo:s,implementation:l}}function Cm(r){if(!r)return ri;r=r._reactInternals;e:{if(ve(r)!==r||r.tag!==1)throw Error(n(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(wn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(n(171))}if(r.tag===1){var l=r.type;if(wn(l))return eh(r,l,s)}return s}function Em(r,s,l,d,p,y,_,E,O){return r=Tu(l,d,!0,r,p,y,_,E,O),r.context=Cm(null),l=r.current,d=bn(),p=ui(l),y=Mr(d,p),y.callback=s??null,ai(l,y,p),r.current.lanes=p,Qs(r,p,d),jn(r,d),r}function Go(r,s,l,d){var p=s.current,y=bn(),_=ui(p);return l=Cm(l),s.context===null?s.context=l:s.pendingContext=l,s=Mr(y,_),s.payload={element:r},d=d===void 0?null:d,d!==null&&(s.callback=d),r=ai(p,s,_),r!==null&&(ar(r,p,_,y),Eo(r,p,_)),_}function qo(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Nm(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function Pu(r,s){Nm(r,s),(r=r.alternate)&&Nm(r,s)}function zx(){return null}var Rm=typeof reportError=="function"?reportError:function(r){console.error(r)};function Du(r){this._internalRoot=r}Jo.prototype.render=Du.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(n(409));Go(r,s,null,null)},Jo.prototype.unmount=Du.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Fi(function(){Go(null,r,null,null)}),s[jr]=null}};function Jo(r){this._internalRoot=r}Jo.prototype.unstable_scheduleHydration=function(r){if(r){var s=ff();r={blockedOn:null,target:r,priority:s};for(var l=0;l<Jr.length&&s!==0&&s<Jr[l].priority;l++);Jr.splice(l,0,r),l===0&&pf(r)}};function Au(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Zo(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Mm(){}function Ux(r,s,l,d,p){if(p){if(typeof d=="function"){var y=d;d=function(){var Q=qo(_);y.call(Q)}}var _=Em(s,d,r,0,null,!1,!1,"",Mm);return r._reactRootContainer=_,r[jr]=_.current,ca(r.nodeType===8?r.parentNode:r),Fi(),_}for(;p=r.lastChild;)r.removeChild(p);if(typeof d=="function"){var E=d;d=function(){var Q=qo(O);E.call(Q)}}var O=Tu(r,0,!1,null,null,!1,!1,"",Mm);return r._reactRootContainer=O,r[jr]=O.current,ca(r.nodeType===8?r.parentNode:r),Fi(function(){Go(s,O,l,d)}),O}function el(r,s,l,d,p){var y=l._reactRootContainer;if(y){var _=y;if(typeof p=="function"){var E=p;p=function(){var O=qo(_);E.call(O)}}Go(s,_,r,p)}else _=Ux(l,s,r,p,d);return qo(_)}uf=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var l=Ke(s.pendingLanes);l!==0&&(ic(s,l|1),jn(s,qe()),(et&6)===0&&(Cs=qe()+500,ii()))}break;case 13:Fi(function(){var d=Rr(r,1);if(d!==null){var p=bn();ar(d,r,1,p)}}),Pu(r,1)}},sc=function(r){if(r.tag===13){var s=Rr(r,134217728);if(s!==null){var l=bn();ar(s,r,134217728,l)}Pu(r,134217728)}},df=function(r){if(r.tag===13){var s=ui(r),l=Rr(r,s);if(l!==null){var d=bn();ar(l,r,s,d)}Pu(r,s)}},ff=function(){return dt},hf=function(r,s){var l=dt;try{return dt=r,s()}finally{dt=l}},kt=function(r,s,l){switch(s){case"input":if(un(r,l),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var d=l[s];if(d!==r&&d.form===r.form){var p=yo(d);if(!p)throw Error(n(90));rt(d),un(d,p)}}}break;case"textarea":Be(r,l);break;case"select":s=l.value,s!=null&&lt(r,!!l.multiple,s,!1)}},Kr=ju,Sr=Fi;var Bx={usingClientEntryPoint:!1,Events:[fa,hs,yo,Vr,Ci,ju]},Ca={findFiberByHostInstance:Ri,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$x={bundleType:Ca.bundleType,version:Ca.version,rendererPackageName:Ca.rendererPackageName,rendererConfig:Ca.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=st(r),r===null?null:r.stateNode},findFiberByHostInstance:Ca.findFiberByHostInstance||zx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tl.isDisabled&&tl.supportsFiber)try{ut=tl.inject($x),Gt=tl}catch{}}return Cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bx,Cn.createPortal=function(r,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Au(s))throw Error(n(200));return Ix(r,s,null,l)},Cn.createRoot=function(r,s){if(!Au(r))throw Error(n(299));var l=!1,d="",p=Rm;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),s=Tu(r,1,!1,null,null,l,!1,d,p),r[jr]=s.current,ca(r.nodeType===8?r.parentNode:r),new Du(s)},Cn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=st(s),r=r===null?null:r.stateNode,r},Cn.flushSync=function(r){return Fi(r)},Cn.hydrate=function(r,s,l){if(!Zo(s))throw Error(n(200));return el(null,r,s,!0,l)},Cn.hydrateRoot=function(r,s,l){if(!Au(r))throw Error(n(405));var d=l!=null&&l.hydratedSources||null,p=!1,y="",_=Rm;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(_=l.onRecoverableError)),s=Em(s,null,r,1,l??null,p,!1,y,_),r[jr]=s.current,ca(r),d)for(r=0;r<d.length;r++)l=d[r],p=l._getVersion,p=p(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,p]:s.mutableSourceEagerHydrationData.push(l,p);return new Jo(s)},Cn.render=function(r,s,l){if(!Zo(s))throw Error(n(200));return el(null,r,s,!1,l)},Cn.unmountComponentAtNode=function(r){if(!Zo(r))throw Error(n(40));return r._reactRootContainer?(Fi(function(){el(null,null,r,!1,function(){r._reactRootContainer=null,r[jr]=null})}),!0):!1},Cn.unstable_batchedUpdates=ju,Cn.unstable_renderSubtreeIntoContainer=function(r,s,l,d){if(!Zo(l))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return el(r,s,l,!1,d)},Cn.version="18.3.1-next-f1338f8080-20240426",Cn}var Im;function Bg(){if(Im)return Fu.exports;Im=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Fu.exports=Gx(),Fu.exports}var zm;function qx(){if(zm)return nl;zm=1;var t=Bg();return nl.createRoot=t.createRoot,nl.hydrateRoot=t.hydrateRoot,nl}var Jx=qx();const Zx=Nd(Jx);var $g=Bg();const eb=Nd($g),tb=Ug({__proto__:null,default:eb},[$g]);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dt(){return Dt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Dt.apply(this,arguments)}var Yt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Yt||(Yt={}));const Um="popstate";function nb(t){t===void 0&&(t={});function e(i,a){let{pathname:o,search:c,hash:u}=i.location;return Ka("",{pathname:o,search:c,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){return typeof a=="string"?a:es(a)}return ib(e,n,null,t)}function Ue(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Is(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function rb(){return Math.random().toString(36).substr(2,8)}function Bm(t,e){return{usr:t.state,key:t.key,idx:e}}function Ka(t,e,n,i){return n===void 0&&(n=null),Dt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ki(e):e,{state:n,key:e&&e.key||i||rb()})}function es(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function ki(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function ib(t,e,n,i){i===void 0&&(i={});let{window:a=document.defaultView,v5Compat:o=!1}=i,c=a.history,u=Yt.Pop,f=null,m=g();m==null&&(m=0,c.replaceState(Dt({},c.state,{idx:m}),""));function g(){return(c.state||{idx:null}).idx}function v(){u=Yt.Pop;let C=g(),N=C==null?null:C-m;m=C,f&&f({action:u,location:j.location,delta:N})}function x(C,N){u=Yt.Push;let P=Ka(j.location,C,N);m=g()+1;let $=Bm(P,m),I=j.createHref(P);try{c.pushState($,"",I)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;a.location.assign(I)}o&&f&&f({action:u,location:j.location,delta:1})}function w(C,N){u=Yt.Replace;let P=Ka(j.location,C,N);m=g();let $=Bm(P,m),I=j.createHref(P);c.replaceState($,"",I),o&&f&&f({action:u,location:j.location,delta:0})}function k(C){let N=a.location.origin!=="null"?a.location.origin:a.location.href,P=typeof C=="string"?C:es(C);return P=P.replace(/ $/,"%20"),Ue(N,"No window.location.(origin|href) available to create URL for href: "+P),new URL(P,N)}let j={get action(){return u},get location(){return t(a,c)},listen(C){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(Um,v),f=C,()=>{a.removeEventListener(Um,v),f=null}},createHref(C){return e(a,C)},createURL:k,encodeLocation(C){let N=k(C);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:x,replace:w,go(C){return c.go(C)}};return j}var ft;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ft||(ft={}));const sb=new Set(["lazy","caseSensitive","path","id","index","children"]);function ab(t){return t.index===!0}function Rl(t,e,n,i){return n===void 0&&(n=[]),i===void 0&&(i={}),t.map((a,o)=>{let c=[...n,String(o)],u=typeof a.id=="string"?a.id:c.join("-");if(Ue(a.index!==!0||!a.children,"Cannot specify children on an index route"),Ue(!i[u],'Found a route id collision on id "'+u+`".  Route id's must be globally unique within Data Router usages`),ab(a)){let f=Dt({},a,e(a),{id:u});return i[u]=f,f}else{let f=Dt({},a,e(a),{id:u,children:void 0});return i[u]=f,a.children&&(f.children=Rl(a.children,e,c,i)),f}})}function Vi(t,e,n){return n===void 0&&(n="/"),kl(t,e,n,!1)}function kl(t,e,n,i){let a=typeof e=="string"?ki(e):e,o=Ur(a.pathname||"/",n);if(o==null)return null;let c=Hg(t);lb(c);let u=null;for(let f=0;u==null&&f<c.length;++f){let m=xb(o);u=yb(c[f],m,i)}return u}function ob(t,e){let{route:n,pathname:i,params:a}=t;return{id:n.id,pathname:i,params:a,data:e[n.id],handle:n.handle}}function Hg(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let a=(o,c,u)=>{let f={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};f.relativePath.startsWith("/")&&(Ue(f.relativePath.startsWith(i),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(i.length));let m=zr([i,f.relativePath]),g=n.concat(f);o.children&&o.children.length>0&&(Ue(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),Hg(o.children,e,g,m)),!(o.path==null&&!o.index)&&e.push({path:m,score:pb(m,o.index),routesMeta:g})};return t.forEach((o,c)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))a(o,c);else for(let f of Wg(o.path))a(o,c,f)}),e}function Wg(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(i.length===0)return a?[o,""]:[o];let c=Wg(i.join("/")),u=[];return u.push(...c.map(f=>f===""?o:[o,f].join("/"))),a&&u.push(...c),u.map(f=>t.startsWith("/")&&f===""?"/":f)}function lb(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:gb(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const cb=/^:[\w-]+$/,ub=3,db=2,fb=1,hb=10,mb=-2,$m=t=>t==="*";function pb(t,e){let n=t.split("/"),i=n.length;return n.some($m)&&(i+=mb),e&&(i+=db),n.filter(a=>!$m(a)).reduce((a,o)=>a+(cb.test(o)?ub:o===""?fb:hb),i)}function gb(t,e){return t.length===e.length&&t.slice(0,-1).every((i,a)=>i===e[a])?t[t.length-1]-e[e.length-1]:0}function yb(t,e,n){n===void 0&&(n=!1);let{routesMeta:i}=t,a={},o="/",c=[];for(let u=0;u<i.length;++u){let f=i[u],m=u===i.length-1,g=o==="/"?e:e.slice(o.length)||"/",v=Ml({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},g),x=f.route;if(!v&&m&&n&&!i[i.length-1].route.index&&(v=Ml({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!v)return null;Object.assign(a,v.params),c.push({params:a,pathname:zr([o,v.pathname]),pathnameBase:wb(zr([o,v.pathnameBase])),route:x}),v.pathnameBase!=="/"&&(o=zr([o,v.pathnameBase]))}return c}function Ml(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=vb(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let o=a[0],c=o.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:i.reduce((m,g,v)=>{let{paramName:x,isOptional:w}=g;if(x==="*"){let j=u[v]||"";c=o.slice(0,o.length-j.length).replace(/(.)\/+$/,"$1")}const k=u[v];return w&&!k?m[x]=void 0:m[x]=(k||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:c,pattern:t}}function vb(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Is(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,f)=>(i.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function xb(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Is(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ur(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function bb(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:a=""}=typeof t=="string"?ki(t):t;return{pathname:n?n.startsWith("/")?n:_b(n,e):e,search:Sb(i),hash:kb(a)}}function _b(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Uu(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Vg(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Kl(t,e){let n=Vg(t);return e?n.map((i,a)=>a===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function Yl(t,e,n,i){i===void 0&&(i=!1);let a;typeof t=="string"?a=ki(t):(a=Dt({},t),Ue(!a.pathname||!a.pathname.includes("?"),Uu("?","pathname","search",a)),Ue(!a.pathname||!a.pathname.includes("#"),Uu("#","pathname","hash",a)),Ue(!a.search||!a.search.includes("#"),Uu("#","search","hash",a)));let o=t===""||a.pathname==="",c=o?"/":a.pathname,u;if(c==null)u=n;else{let v=e.length-1;if(!i&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),v-=1;a.pathname=x.join("/")}u=v>=0?e[v]:"/"}let f=bb(a,u),m=c&&c!=="/"&&c.endsWith("/"),g=(o||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(m||g)&&(f.pathname+="/"),f}const zr=t=>t.join("/").replace(/\/\/+/g,"/"),wb=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Sb=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,kb=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Tl{constructor(e,n,i,a){a===void 0&&(a=!1),this.status=e,this.statusText=n||"",this.internal=a,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}}function Ya(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Kg=["post","put","patch","delete"],jb=new Set(Kg),Cb=["get",...Kg],Eb=new Set(Cb),Nb=new Set([301,302,303,307,308]),Rb=new Set([307,308]),Bu={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Mb={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Na={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Md=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tb=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),Yg="remix-router-transitions";function Pb(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",i=!n;Ue(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let a;if(t.mapRouteProperties)a=t.mapRouteProperties;else if(t.detectErrorBoundary){let D=t.detectErrorBoundary;a=B=>({hasErrorBoundary:D(B)})}else a=Tb;let o={},c=Rl(t.routes,a,void 0,o),u,f=t.basename||"/",m=t.dataStrategy||Ob,g=t.patchRoutesOnNavigation,v=Dt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),x=null,w=new Set,k=null,j=null,C=null,N=t.hydrationData!=null,P=Vi(c,t.history.location,f),$=!1,I=null;if(P==null&&!g){let D=Nn(404,{pathname:t.history.location.pathname}),{matches:B,route:G}=Zm(c);P=B,I={[G.id]:D}}P&&!t.hydrationData&&Sr(P,c,t.history.location.pathname).active&&(P=null);let H;if(P)if(P.some(D=>D.route.lazy))H=!1;else if(!P.some(D=>D.route.loader))H=!0;else if(v.v7_partialHydration){let D=t.hydrationData?t.hydrationData.loaderData:null,B=t.hydrationData?t.hydrationData.errors:null;if(B){let G=P.findIndex(re=>B[re.route.id]!==void 0);H=P.slice(0,G+1).every(re=>!cd(re.route,D,B))}else H=P.every(G=>!cd(G.route,D,B))}else H=t.hydrationData!=null;else if(H=!1,P=[],v.v7_partialHydration){let D=Sr(null,c,t.history.location.pathname);D.active&&D.matches&&($=!0,P=D.matches)}let q,R={historyAction:t.history.action,location:t.history.location,matches:P,initialized:H,navigation:Bu,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||I,fetchers:new Map,blockers:new Map},A=Yt.Pop,K=!1,L,T=!1,Y=new Map,X=null,te=!1,se=!1,he=[],ye=new Set,Z=new Map,ne=0,M=-1,S=new Map,F=new Set,ee=new Map,ie=new Map,ce=new Set,de=new Map,Te=new Map,ke;function Ve(){if(x=t.history.listen(D=>{let{action:B,location:G,delta:re}=D;if(ke){ke(),ke=void 0;return}Is(Te.size===0||re!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let me=kt({currentLocation:R.location,nextLocation:G,historyAction:B});if(me&&re!=null){let Ne=new Promise(Pe=>{ke=Pe});t.history.go(re*-1),Vt(me,{state:"blocked",location:G,proceed(){Vt(me,{state:"proceeding",proceed:void 0,reset:void 0,location:G}),Ne.then(()=>t.history.go(re))},reset(){let Pe=new Map(R.blockers);Pe.set(me,Na),rt({blockers:Pe})}});return}return en(B,G)}),n){Gb(e,Y);let D=()=>qb(e,Y);e.addEventListener("pagehide",D),X=()=>e.removeEventListener("pagehide",D)}return R.initialized||en(Yt.Pop,R.location,{initialHydration:!0}),q}function Ge(){x&&x(),X&&X(),w.clear(),L&&L.abort(),R.fetchers.forEach((D,B)=>oe(B)),R.blockers.forEach((D,B)=>Wt(B))}function At(D){return w.add(D),()=>w.delete(D)}function rt(D,B){B===void 0&&(B={}),R=Dt({},R,D);let G=[],re=[];v.v7_fetcherPersist&&R.fetchers.forEach((me,Ne)=>{me.state==="idle"&&(ce.has(Ne)?re.push(Ne):G.push(Ne))}),ce.forEach(me=>{!R.fetchers.has(me)&&!Z.has(me)&&re.push(me)}),[...w].forEach(me=>me(R,{deletedFetchers:re,viewTransitionOpts:B.viewTransitionOpts,flushSync:B.flushSync===!0})),v.v7_fetcherPersist?(G.forEach(me=>R.fetchers.delete(me)),re.forEach(me=>oe(me))):re.forEach(me=>ce.delete(me))}function Ze(D,B,G){var re,me;let{flushSync:Ne}=G===void 0?{}:G,Pe=R.actionData!=null&&R.navigation.formMethod!=null&&or(R.navigation.formMethod)&&R.navigation.state==="loading"&&((re=D.state)==null?void 0:re._isRedirect)!==!0,we;B.actionData?Object.keys(B.actionData).length>0?we=B.actionData:we=null:Pe?we=R.actionData:we=null;let je=B.loaderData?qm(R.loaderData,B.loaderData,B.matches||[],B.errors):R.loaderData,_e=R.blockers;_e.size>0&&(_e=new Map(_e),_e.forEach(($e,Lt)=>_e.set(Lt,Na)));let ve=K===!0||R.navigation.formMethod!=null&&or(R.navigation.formMethod)&&((me=D.state)==null?void 0:me._isRedirect)!==!0;u&&(c=u,u=void 0),te||A===Yt.Pop||(A===Yt.Push?t.history.push(D,D.state):A===Yt.Replace&&t.history.replace(D,D.state));let Oe;if(A===Yt.Pop){let $e=Y.get(R.location.pathname);$e&&$e.has(D.pathname)?Oe={currentLocation:R.location,nextLocation:D}:Y.has(D.pathname)&&(Oe={currentLocation:D,nextLocation:R.location})}else if(T){let $e=Y.get(R.location.pathname);$e?$e.add(D.pathname):($e=new Set([D.pathname]),Y.set(R.location.pathname,$e)),Oe={currentLocation:R.location,nextLocation:D}}rt(Dt({},B,{actionData:we,loaderData:je,historyAction:A,location:D,initialized:!0,navigation:Bu,revalidation:"idle",restoreScrollPosition:Kr(D,B.matches||R.matches),preventScrollReset:ve,blockers:_e}),{viewTransitionOpts:Oe,flushSync:Ne===!0}),A=Yt.Pop,K=!1,T=!1,te=!1,se=!1,he=[]}async function wt(D,B){if(typeof D=="number"){t.history.go(D);return}let G=ld(R.location,R.matches,f,v.v7_prependBasename,D,v.v7_relativeSplatPath,B?.fromRouteId,B?.relative),{path:re,submission:me,error:Ne}=Hm(v.v7_normalizeFormMethod,!1,G,B),Pe=R.location,we=Ka(R.location,re,B&&B.state);we=Dt({},we,t.history.encodeLocation(we));let je=B&&B.replace!=null?B.replace:void 0,_e=Yt.Push;je===!0?_e=Yt.Replace:je===!1||me!=null&&or(me.formMethod)&&me.formAction===R.location.pathname+R.location.search&&(_e=Yt.Replace);let ve=B&&"preventScrollReset"in B?B.preventScrollReset===!0:void 0,Oe=(B&&B.flushSync)===!0,$e=kt({currentLocation:Pe,nextLocation:we,historyAction:_e});if($e){Vt($e,{state:"blocked",location:we,proceed(){Vt($e,{state:"proceeding",proceed:void 0,reset:void 0,location:we}),wt(D,B)},reset(){let Lt=new Map(R.blockers);Lt.set($e,Na),rt({blockers:Lt})}});return}return await en(_e,we,{submission:me,pendingError:Ne,preventScrollReset:ve,replace:B&&B.replace,enableViewTransition:B&&B.viewTransition,flushSync:Oe})}function on(){if(tn(),rt({revalidation:"loading"}),R.navigation.state!=="submitting"){if(R.navigation.state==="idle"){en(R.historyAction,R.location,{startUninterruptedRevalidation:!0});return}en(A||R.historyAction,R.navigation.location,{overrideNavigation:R.navigation,enableViewTransition:T===!0})}}async function en(D,B,G){L&&L.abort(),L=null,A=D,te=(G&&G.startUninterruptedRevalidation)===!0,Ci(R.location,R.matches),K=(G&&G.preventScrollReset)===!0,T=(G&&G.enableViewTransition)===!0;let re=u||c,me=G&&G.overrideNavigation,Ne=G!=null&&G.initialHydration&&R.matches&&R.matches.length>0&&!$?R.matches:Vi(re,B,f),Pe=(G&&G.flushSync)===!0;if(Ne&&R.initialized&&!se&&$b(R.location,B)&&!(G&&G.submission&&or(G.submission.formMethod))){Ze(B,{matches:Ne},{flushSync:Pe});return}let we=Sr(Ne,re,B.pathname);if(we.active&&we.matches&&(Ne=we.matches),!Ne){let{error:st,notFoundMatches:Qe,route:mt}=dn(B.pathname);Ze(B,{matches:Qe,loaderData:{},errors:{[mt.id]:st}},{flushSync:Pe});return}L=new AbortController;let je=Ns(t.history,B,L.signal,G&&G.submission),_e;if(G&&G.pendingError)_e=[Ki(Ne).route.id,{type:ft.error,error:G.pendingError}];else if(G&&G.submission&&or(G.submission.formMethod)){let st=await un(je,B,G.submission,Ne,we.active,{replace:G.replace,flushSync:Pe});if(st.shortCircuited)return;if(st.pendingActionResult){let[Qe,mt]=st.pendingActionResult;if(zn(mt)&&Ya(mt.error)&&mt.error.status===404){L=null,Ze(B,{matches:st.matches,loaderData:{},errors:{[Qe]:mt.error}});return}}Ne=st.matches||Ne,_e=st.pendingActionResult,me=$u(B,G.submission),Pe=!1,we.active=!1,je=Ns(t.history,je.url,je.signal)}let{shortCircuited:ve,matches:Oe,loaderData:$e,errors:Lt}=await Qt(je,B,Ne,we.active,me,G&&G.submission,G&&G.fetcherSubmission,G&&G.replace,G&&G.initialHydration===!0,Pe,_e);ve||(L=null,Ze(B,Dt({matches:Oe||Ne},Jm(_e),{loaderData:$e,errors:Lt})))}async function un(D,B,G,re,me,Ne){Ne===void 0&&(Ne={}),tn();let Pe=Xb(B,G);if(rt({navigation:Pe},{flushSync:Ne.flushSync===!0}),me){let _e=await Pn(re,B.pathname,D.signal);if(_e.type==="aborted")return{shortCircuited:!0};if(_e.type==="error"){let ve=Ki(_e.partialMatches).route.id;return{matches:_e.partialMatches,pendingActionResult:[ve,{type:ft.error,error:_e.error}]}}else if(_e.matches)re=_e.matches;else{let{notFoundMatches:ve,error:Oe,route:$e}=dn(B.pathname);return{matches:ve,pendingActionResult:[$e.id,{type:ft.error,error:Oe}]}}}let we,je=Fa(re,B);if(!je.route.action&&!je.route.lazy)we={type:ft.error,error:Nn(405,{method:D.method,pathname:B.pathname,routeId:je.route.id})};else if(we=(await St("action",R,D,[je],re,null))[je.route.id],D.signal.aborted)return{shortCircuited:!0};if(Xi(we)){let _e;return Ne&&Ne.replace!=null?_e=Ne.replace:_e=Xm(we.response.headers.get("Location"),new URL(D.url),f)===R.location.pathname+R.location.search,await Be(D,we,!0,{submission:G,replace:_e}),{shortCircuited:!0}}if(gi(we))throw Nn(400,{type:"defer-action"});if(zn(we)){let _e=Ki(re,je.route.id);return(Ne&&Ne.replace)!==!0&&(A=Yt.Push),{matches:re,pendingActionResult:[_e.route.id,we]}}return{matches:re,pendingActionResult:[je.route.id,we]}}async function Qt(D,B,G,re,me,Ne,Pe,we,je,_e,ve){let Oe=me||$u(B,Ne),$e=Ne||Pe||tp(Oe),Lt=!te&&(!v.v7_partialHydration||!je);if(re){if(Lt){let ut=vt(ve);rt(Dt({navigation:Oe},ut!==void 0?{actionData:ut}:{}),{flushSync:_e})}let Xe=await Pn(G,B.pathname,D.signal);if(Xe.type==="aborted")return{shortCircuited:!0};if(Xe.type==="error"){let ut=Ki(Xe.partialMatches).route.id;return{matches:Xe.partialMatches,loaderData:{},errors:{[ut]:Xe.error}}}else if(Xe.matches)G=Xe.matches;else{let{error:ut,notFoundMatches:Gt,route:Yr}=dn(B.pathname);return{matches:Gt,loaderData:{},errors:{[Yr.id]:ut}}}}let st=u||c,[Qe,mt]=Vm(t.history,R,G,$e,B,v.v7_partialHydration&&je===!0,v.v7_skipActionErrorRevalidation,se,he,ye,ce,ee,F,st,f,ve);if(fn(Xe=>!(G&&G.some(ut=>ut.route.id===Xe))||Qe&&Qe.some(ut=>ut.route.id===Xe)),M=++ne,Qe.length===0&&mt.length===0){let Xe=He();return Ze(B,Dt({matches:G,loaderData:{},errors:ve&&zn(ve[1])?{[ve[0]]:ve[1].error}:null},Jm(ve),Xe?{fetchers:new Map(R.fetchers)}:{}),{flushSync:_e}),{shortCircuited:!0}}if(Lt){let Xe={};if(!re){Xe.navigation=Oe;let ut=vt(ve);ut!==void 0&&(Xe.actionData=ut)}mt.length>0&&(Xe.fetchers=$t(mt)),rt(Xe,{flushSync:_e})}mt.forEach(Xe=>{U(Xe.key),Xe.controller&&Z.set(Xe.key,Xe.controller)});let qn=()=>mt.forEach(Xe=>U(Xe.key));L&&L.signal.addEventListener("abort",qn);let{loaderResults:ur,fetcherResults:Dn}=await pt(R,G,Qe,mt,D);if(D.signal.aborted)return{shortCircuited:!0};L&&L.signal.removeEventListener("abort",qn),mt.forEach(Xe=>Z.delete(Xe.key));let qe=rl(ur);if(qe)return await Be(D,qe.result,!0,{replace:we}),{shortCircuited:!0};if(qe=rl(Dn),qe)return F.add(qe.key),await Be(D,qe.result,!0,{replace:we}),{shortCircuited:!0};let{loaderData:Ni,errors:Jn}=Gm(R,G,ur,ve,mt,Dn,de);de.forEach((Xe,ut)=>{Xe.subscribe(Gt=>{(Gt||Xe.done)&&de.delete(ut)})}),v.v7_partialHydration&&je&&R.errors&&(Jn=Dt({},R.errors,Jn));let Un=He(),Zn=it(M),er=Un||Zn||mt.length>0;return Dt({matches:G,loaderData:Ni,errors:Jn},er?{fetchers:new Map(R.fetchers)}:{})}function vt(D){if(D&&!zn(D[1]))return{[D[0]]:D[1].data};if(R.actionData)return Object.keys(R.actionData).length===0?null:R.actionData}function $t(D){return D.forEach(B=>{let G=R.fetchers.get(B.key),re=Ra(void 0,G?G.data:void 0);R.fetchers.set(B.key,re)}),new Map(R.fetchers)}function lt(D,B,G,re){if(i)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");U(D);let me=(re&&re.flushSync)===!0,Ne=u||c,Pe=ld(R.location,R.matches,f,v.v7_prependBasename,G,v.v7_relativeSplatPath,B,re?.relative),we=Vi(Ne,Pe,f),je=Sr(we,Ne,Pe);if(je.active&&je.matches&&(we=je.matches),!we){ct(D,B,Nn(404,{pathname:Pe}),{flushSync:me});return}let{path:_e,submission:ve,error:Oe}=Hm(v.v7_normalizeFormMethod,!0,Pe,re);if(Oe){ct(D,B,Oe,{flushSync:me});return}let $e=Fa(we,_e),Lt=(re&&re.preventScrollReset)===!0;if(ve&&or(ve.formMethod)){ge(D,B,_e,$e,we,je.active,me,Lt,ve);return}ee.set(D,{routeId:B,path:_e}),Me(D,B,_e,$e,we,je.active,me,Lt,ve)}async function ge(D,B,G,re,me,Ne,Pe,we,je){tn(),ee.delete(D);function _e(Je){if(!Je.route.action&&!Je.route.lazy){let J=Nn(405,{method:je.formMethod,pathname:G,routeId:B});return ct(D,B,J,{flushSync:Pe}),!0}return!1}if(!Ne&&_e(re))return;let ve=R.fetchers.get(D);ot(D,Qb(je,ve),{flushSync:Pe});let Oe=new AbortController,$e=Ns(t.history,G,Oe.signal,je);if(Ne){let Je=await Pn(me,new URL($e.url).pathname,$e.signal,D);if(Je.type==="aborted")return;if(Je.type==="error"){ct(D,B,Je.error,{flushSync:Pe});return}else if(Je.matches){if(me=Je.matches,re=Fa(me,G),_e(re))return}else{ct(D,B,Nn(404,{pathname:G}),{flushSync:Pe});return}}Z.set(D,Oe);let Lt=ne,Qe=(await St("action",R,$e,[re],me,D))[re.route.id];if($e.signal.aborted){Z.get(D)===Oe&&Z.delete(D);return}if(v.v7_fetcherPersist&&ce.has(D)){if(Xi(Qe)||zn(Qe)){ot(D,pi(void 0));return}}else{if(Xi(Qe))if(Z.delete(D),M>Lt){ot(D,pi(void 0));return}else return F.add(D),ot(D,Ra(je)),Be($e,Qe,!1,{fetcherSubmission:je,preventScrollReset:we});if(zn(Qe)){ct(D,B,Qe.error);return}}if(gi(Qe))throw Nn(400,{type:"defer-action"});let mt=R.navigation.location||R.location,qn=Ns(t.history,mt,Oe.signal),ur=u||c,Dn=R.navigation.state!=="idle"?Vi(ur,R.navigation.location,f):R.matches;Ue(Dn,"Didn't find any matches after fetcher action");let qe=++ne;S.set(D,qe);let Ni=Ra(je,Qe.data);R.fetchers.set(D,Ni);let[Jn,Un]=Vm(t.history,R,Dn,je,mt,!1,v.v7_skipActionErrorRevalidation,se,he,ye,ce,ee,F,ur,f,[re.route.id,Qe]);Un.filter(Je=>Je.key!==D).forEach(Je=>{let J=Je.key,be=R.fetchers.get(J),We=Ra(void 0,be?be.data:void 0);R.fetchers.set(J,We),U(J),Je.controller&&Z.set(J,Je.controller)}),rt({fetchers:new Map(R.fetchers)});let Zn=()=>Un.forEach(Je=>U(Je.key));Oe.signal.addEventListener("abort",Zn);let{loaderResults:er,fetcherResults:Xe}=await pt(R,Dn,Jn,Un,qn);if(Oe.signal.aborted)return;Oe.signal.removeEventListener("abort",Zn),S.delete(D),Z.delete(D),Un.forEach(Je=>Z.delete(Je.key));let ut=rl(er);if(ut)return Be(qn,ut.result,!1,{preventScrollReset:we});if(ut=rl(Xe),ut)return F.add(ut.key),Be(qn,ut.result,!1,{preventScrollReset:we});let{loaderData:Gt,errors:Yr}=Gm(R,Dn,er,void 0,Un,Xe,de);if(R.fetchers.has(D)){let Je=pi(Qe.data);R.fetchers.set(D,Je)}it(qe),R.navigation.state==="loading"&&qe>M?(Ue(A,"Expected pending action"),L&&L.abort(),Ze(R.navigation.location,{matches:Dn,loaderData:Gt,errors:Yr,fetchers:new Map(R.fetchers)})):(rt({errors:Yr,loaderData:qm(R.loaderData,Gt,Dn,Yr),fetchers:new Map(R.fetchers)}),se=!1)}async function Me(D,B,G,re,me,Ne,Pe,we,je){let _e=R.fetchers.get(D);ot(D,Ra(je,_e?_e.data:void 0),{flushSync:Pe});let ve=new AbortController,Oe=Ns(t.history,G,ve.signal);if(Ne){let Qe=await Pn(me,new URL(Oe.url).pathname,Oe.signal,D);if(Qe.type==="aborted")return;if(Qe.type==="error"){ct(D,B,Qe.error,{flushSync:Pe});return}else if(Qe.matches)me=Qe.matches,re=Fa(me,G);else{ct(D,B,Nn(404,{pathname:G}),{flushSync:Pe});return}}Z.set(D,ve);let $e=ne,st=(await St("loader",R,Oe,[re],me,D))[re.route.id];if(gi(st)&&(st=await Td(st,Oe.signal,!0)||st),Z.get(D)===ve&&Z.delete(D),!Oe.signal.aborted){if(ce.has(D)){ot(D,pi(void 0));return}if(Xi(st))if(M>$e){ot(D,pi(void 0));return}else{F.add(D),await Be(Oe,st,!1,{preventScrollReset:we});return}if(zn(st)){ct(D,B,st.error);return}Ue(!gi(st),"Unhandled fetcher deferred data"),ot(D,pi(st.data))}}async function Be(D,B,G,re){let{submission:me,fetcherSubmission:Ne,preventScrollReset:Pe,replace:we}=re===void 0?{}:re;B.response.headers.has("X-Remix-Revalidate")&&(se=!0);let je=B.response.headers.get("Location");Ue(je,"Expected a Location header on the redirect Response"),je=Xm(je,new URL(D.url),f);let _e=Ka(R.location,je,{_isRedirect:!0});if(n){let Qe=!1;if(B.response.headers.has("X-Remix-Reload-Document"))Qe=!0;else if(Md.test(je)){const mt=t.history.createURL(je);Qe=mt.origin!==e.location.origin||Ur(mt.pathname,f)==null}if(Qe){we?e.location.replace(je):e.location.assign(je);return}}L=null;let ve=we===!0||B.response.headers.has("X-Remix-Replace")?Yt.Replace:Yt.Push,{formMethod:Oe,formAction:$e,formEncType:Lt}=R.navigation;!me&&!Ne&&Oe&&$e&&Lt&&(me=tp(R.navigation));let st=me||Ne;if(Rb.has(B.response.status)&&st&&or(st.formMethod))await en(ve,_e,{submission:Dt({},st,{formAction:je}),preventScrollReset:Pe||K,enableViewTransition:G?T:void 0});else{let Qe=$u(_e,me);await en(ve,_e,{overrideNavigation:Qe,fetcherSubmission:Ne,preventScrollReset:Pe||K,enableViewTransition:G?T:void 0})}}async function St(D,B,G,re,me,Ne){let Pe,we={};try{Pe=await Fb(m,D,B,G,re,me,Ne,o,a)}catch(je){return re.forEach(_e=>{we[_e.route.id]={type:ft.error,error:je}}),we}for(let[je,_e]of Object.entries(Pe))if(Hb(_e)){let ve=_e.result;we[je]={type:ft.redirect,response:Ub(ve,G,je,me,f,v.v7_relativeSplatPath)}}else we[je]=await zb(_e);return we}async function pt(D,B,G,re,me){let Ne=D.matches,Pe=St("loader",D,me,G,B,null),we=Promise.all(re.map(async ve=>{if(ve.matches&&ve.match&&ve.controller){let $e=(await St("loader",D,Ns(t.history,ve.path,ve.controller.signal),[ve.match],ve.matches,ve.key))[ve.match.route.id];return{[ve.key]:$e}}else return Promise.resolve({[ve.key]:{type:ft.error,error:Nn(404,{pathname:ve.path})}})})),je=await Pe,_e=(await we).reduce((ve,Oe)=>Object.assign(ve,Oe),{});return await Promise.all([Kb(B,je,me.signal,Ne,D.loaderData),Yb(B,_e,re)]),{loaderResults:je,fetcherResults:_e}}function tn(){se=!0,he.push(...fn()),ee.forEach((D,B)=>{Z.has(B)&&ye.add(B),U(B)})}function ot(D,B,G){G===void 0&&(G={}),R.fetchers.set(D,B),rt({fetchers:new Map(R.fetchers)},{flushSync:(G&&G.flushSync)===!0})}function ct(D,B,G,re){re===void 0&&(re={});let me=Ki(R.matches,B);oe(D),rt({errors:{[me.route.id]:G},fetchers:new Map(R.fetchers)},{flushSync:(re&&re.flushSync)===!0})}function Ht(D){return ie.set(D,(ie.get(D)||0)+1),ce.has(D)&&ce.delete(D),R.fetchers.get(D)||Mb}function oe(D){let B=R.fetchers.get(D);Z.has(D)&&!(B&&B.state==="loading"&&S.has(D))&&U(D),ee.delete(D),S.delete(D),F.delete(D),v.v7_fetcherPersist&&ce.delete(D),ye.delete(D),R.fetchers.delete(D)}function Le(D){let B=(ie.get(D)||0)-1;B<=0?(ie.delete(D),ce.add(D),v.v7_fetcherPersist||oe(D)):ie.set(D,B),rt({fetchers:new Map(R.fetchers)})}function U(D){let B=Z.get(D);B&&(B.abort(),Z.delete(D))}function pe(D){for(let B of D){let G=Ht(B),re=pi(G.data);R.fetchers.set(B,re)}}function He(){let D=[],B=!1;for(let G of F){let re=R.fetchers.get(G);Ue(re,"Expected fetcher: "+G),re.state==="loading"&&(F.delete(G),D.push(G),B=!0)}return pe(D),B}function it(D){let B=[];for(let[G,re]of S)if(re<D){let me=R.fetchers.get(G);Ue(me,"Expected fetcher: "+G),me.state==="loading"&&(U(G),S.delete(G),B.push(G))}return pe(B),B.length>0}function Rt(D,B){let G=R.blockers.get(D)||Na;return Te.get(D)!==B&&Te.set(D,B),G}function Wt(D){R.blockers.delete(D),Te.delete(D)}function Vt(D,B){let G=R.blockers.get(D)||Na;Ue(G.state==="unblocked"&&B.state==="blocked"||G.state==="blocked"&&B.state==="blocked"||G.state==="blocked"&&B.state==="proceeding"||G.state==="blocked"&&B.state==="unblocked"||G.state==="proceeding"&&B.state==="unblocked","Invalid blocker state transition: "+G.state+" -> "+B.state);let re=new Map(R.blockers);re.set(D,B),rt({blockers:re})}function kt(D){let{currentLocation:B,nextLocation:G,historyAction:re}=D;if(Te.size===0)return;Te.size>1&&Is(!1,"A router only supports one blocker at a time");let me=Array.from(Te.entries()),[Ne,Pe]=me[me.length-1],we=R.blockers.get(Ne);if(!(we&&we.state==="proceeding")&&Pe({currentLocation:B,nextLocation:G,historyAction:re}))return Ne}function dn(D){let B=Nn(404,{pathname:D}),G=u||c,{matches:re,route:me}=Zm(G);return fn(),{notFoundMatches:re,route:me,error:B}}function fn(D){let B=[];return de.forEach((G,re)=>{(!D||D(re))&&(G.cancel(),B.push(re),de.delete(re))}),B}function Wr(D,B,G){if(k=D,C=B,j=G||null,!N&&R.navigation===Bu){N=!0;let re=Kr(R.location,R.matches);re!=null&&rt({restoreScrollPosition:re})}return()=>{k=null,C=null,j=null}}function Vr(D,B){return j&&j(D,B.map(re=>ob(re,R.loaderData)))||D.key}function Ci(D,B){if(k&&C){let G=Vr(D,B);k[G]=C()}}function Kr(D,B){if(k){let G=Vr(D,B),re=k[G];if(typeof re=="number")return re}return null}function Sr(D,B,G){if(g)if(D){if(Object.keys(D[0].params).length>0)return{active:!0,matches:kl(B,G,f,!0)}}else return{active:!0,matches:kl(B,G,f,!0)||[]};return{active:!1,matches:null}}async function Pn(D,B,G,re){if(!g)return{type:"success",matches:D};let me=D;for(;;){let Ne=u==null,Pe=u||c,we=o;try{await g({signal:G,path:B,matches:me,fetcherKey:re,patch:(ve,Oe)=>{G.aborted||Ym(ve,Oe,Pe,we,a)}})}catch(ve){return{type:"error",error:ve,partialMatches:me}}finally{Ne&&!G.aborted&&(c=[...c])}if(G.aborted)return{type:"aborted"};let je=Vi(Pe,B,f);if(je)return{type:"success",matches:je};let _e=kl(Pe,B,f,!0);if(!_e||me.length===_e.length&&me.every((ve,Oe)=>ve.route.id===_e[Oe].route.id))return{type:"success",matches:null};me=_e}}function Ei(D){o={},u=Rl(D,a,void 0,o)}function cr(D,B){let G=u==null;Ym(D,B,u||c,o,a),G&&(c=[...c],rt({}))}return q={get basename(){return f},get future(){return v},get state(){return R},get routes(){return c},get window(){return e},initialize:Ve,subscribe:At,enableScrollRestoration:Wr,navigate:wt,fetch:lt,revalidate:on,createHref:D=>t.history.createHref(D),encodeLocation:D=>t.history.encodeLocation(D),getFetcher:Ht,deleteFetcher:Le,dispose:Ge,getBlocker:Rt,deleteBlocker:Wt,patchRoutes:cr,_internalFetchControllers:Z,_internalActiveDeferreds:de,_internalSetRoutes:Ei},q}function Db(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function ld(t,e,n,i,a,o,c,u){let f,m;if(c){f=[];for(let v of e)if(f.push(v),v.route.id===c){m=v;break}}else f=e,m=e[e.length-1];let g=Yl(a||".",Kl(f,o),Ur(t.pathname,n)||t.pathname,u==="path");if(a==null&&(g.search=t.search,g.hash=t.hash),(a==null||a===""||a===".")&&m){let v=Pd(g.search);if(m.route.index&&!v)g.search=g.search?g.search.replace(/^\?/,"?index&"):"?index";else if(!m.route.index&&v){let x=new URLSearchParams(g.search),w=x.getAll("index");x.delete("index"),w.filter(j=>j).forEach(j=>x.append("index",j));let k=x.toString();g.search=k?"?"+k:""}}return i&&n!=="/"&&(g.pathname=g.pathname==="/"?n:zr([n,g.pathname])),es(g)}function Hm(t,e,n,i){if(!i||!Db(i))return{path:n};if(i.formMethod&&!Vb(i.formMethod))return{path:n,error:Nn(405,{method:i.formMethod})};let a=()=>({path:n,error:Nn(400,{type:"invalid-body"})}),o=i.formMethod||"get",c=t?o.toUpperCase():o.toLowerCase(),u=Gg(n);if(i.body!==void 0){if(i.formEncType==="text/plain"){if(!or(c))return a();let x=typeof i.body=="string"?i.body:i.body instanceof FormData||i.body instanceof URLSearchParams?Array.from(i.body.entries()).reduce((w,k)=>{let[j,C]=k;return""+w+j+"="+C+`
`},""):String(i.body);return{path:n,submission:{formMethod:c,formAction:u,formEncType:i.formEncType,formData:void 0,json:void 0,text:x}}}else if(i.formEncType==="application/json"){if(!or(c))return a();try{let x=typeof i.body=="string"?JSON.parse(i.body):i.body;return{path:n,submission:{formMethod:c,formAction:u,formEncType:i.formEncType,formData:void 0,json:x,text:void 0}}}catch{return a()}}}Ue(typeof FormData=="function","FormData is not available in this environment");let f,m;if(i.formData)f=ud(i.formData),m=i.formData;else if(i.body instanceof FormData)f=ud(i.body),m=i.body;else if(i.body instanceof URLSearchParams)f=i.body,m=Qm(f);else if(i.body==null)f=new URLSearchParams,m=new FormData;else try{f=new URLSearchParams(i.body),m=Qm(f)}catch{return a()}let g={formMethod:c,formAction:u,formEncType:i&&i.formEncType||"application/x-www-form-urlencoded",formData:m,json:void 0,text:void 0};if(or(g.formMethod))return{path:n,submission:g};let v=ki(n);return e&&v.search&&Pd(v.search)&&f.append("index",""),v.search="?"+f,{path:es(v),submission:g}}function Wm(t,e,n){n===void 0&&(n=!1);let i=t.findIndex(a=>a.route.id===e);return i>=0?t.slice(0,n?i+1:i):t}function Vm(t,e,n,i,a,o,c,u,f,m,g,v,x,w,k,j){let C=j?zn(j[1])?j[1].error:j[1].data:void 0,N=t.createURL(e.location),P=t.createURL(a),$=n;o&&e.errors?$=Wm(n,Object.keys(e.errors)[0],!0):j&&zn(j[1])&&($=Wm(n,j[0]));let I=j?j[1].statusCode:void 0,H=c&&I&&I>=400,q=$.filter((A,K)=>{let{route:L}=A;if(L.lazy)return!0;if(L.loader==null)return!1;if(o)return cd(L,e.loaderData,e.errors);if(Ab(e.loaderData,e.matches[K],A)||f.some(X=>X===A.route.id))return!0;let T=e.matches[K],Y=A;return Km(A,Dt({currentUrl:N,currentParams:T.params,nextUrl:P,nextParams:Y.params},i,{actionResult:C,actionStatus:I,defaultShouldRevalidate:H?!1:u||N.pathname+N.search===P.pathname+P.search||N.search!==P.search||Xg(T,Y)}))}),R=[];return v.forEach((A,K)=>{if(o||!n.some(te=>te.route.id===A.routeId)||g.has(K))return;let L=Vi(w,A.path,k);if(!L){R.push({key:K,routeId:A.routeId,path:A.path,matches:null,match:null,controller:null});return}let T=e.fetchers.get(K),Y=Fa(L,A.path),X=!1;x.has(K)?X=!1:m.has(K)?(m.delete(K),X=!0):T&&T.state!=="idle"&&T.data===void 0?X=u:X=Km(Y,Dt({currentUrl:N,currentParams:e.matches[e.matches.length-1].params,nextUrl:P,nextParams:n[n.length-1].params},i,{actionResult:C,actionStatus:I,defaultShouldRevalidate:H?!1:u})),X&&R.push({key:K,routeId:A.routeId,path:A.path,matches:L,match:Y,controller:new AbortController})}),[q,R]}function cd(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let i=e!=null&&e[t.id]!==void 0,a=n!=null&&n[t.id]!==void 0;return!i&&a?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!i&&!a}function Ab(t,e,n){let i=!e||n.route.id!==e.route.id,a=t[n.route.id]===void 0;return i||a}function Xg(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Km(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function Ym(t,e,n,i,a){var o;let c;if(t){let m=i[t];Ue(m,"No route found to patch children into: routeId = "+t),m.children||(m.children=[]),c=m.children}else c=n;let u=e.filter(m=>!c.some(g=>Qg(m,g))),f=Rl(u,a,[t||"_","patch",String(((o=c)==null?void 0:o.length)||"0")],i);c.push(...f)}function Qg(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,i)=>{var a;return(a=e.children)==null?void 0:a.some(o=>Qg(n,o))}):!1}async function Lb(t,e,n){if(!t.lazy)return;let i=await t.lazy();if(!t.lazy)return;let a=n[t.id];Ue(a,"No route found in manifest");let o={};for(let c in i){let f=a[c]!==void 0&&c!=="hasErrorBoundary";Is(!f,'Route "'+a.id+'" has a static property "'+c+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+c+'" will be ignored.')),!f&&!sb.has(c)&&(o[c]=i[c])}Object.assign(a,o),Object.assign(a,Dt({},e(a),{lazy:void 0}))}async function Ob(t){let{matches:e}=t,n=e.filter(a=>a.shouldLoad);return(await Promise.all(n.map(a=>a.resolve()))).reduce((a,o,c)=>Object.assign(a,{[n[c].route.id]:o}),{})}async function Fb(t,e,n,i,a,o,c,u,f,m){let g=o.map(w=>w.route.lazy?Lb(w.route,f,u):void 0),v=o.map((w,k)=>{let j=g[k],C=a.some(P=>P.route.id===w.route.id);return Dt({},w,{shouldLoad:C,resolve:async P=>(P&&i.method==="GET"&&(w.route.lazy||w.route.loader)&&(C=!0),C?Ib(e,i,w,j,P,m):Promise.resolve({type:ft.data,result:void 0}))})}),x=await t({matches:v,request:i,params:o[0].params,fetcherKey:c,context:m});try{await Promise.all(g)}catch{}return x}async function Ib(t,e,n,i,a,o){let c,u,f=m=>{let g,v=new Promise((k,j)=>g=j);u=()=>g(),e.signal.addEventListener("abort",u);let x=k=>typeof m!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):m({request:e,params:n.params,context:o},...k!==void 0?[k]:[]),w=(async()=>{try{return{type:"data",result:await(a?a(j=>x(j)):x())}}catch(k){return{type:"error",result:k}}})();return Promise.race([w,v])};try{let m=n.route[t];if(i)if(m){let g,[v]=await Promise.all([f(m).catch(x=>{g=x}),i]);if(g!==void 0)throw g;c=v}else if(await i,m=n.route[t],m)c=await f(m);else if(t==="action"){let g=new URL(e.url),v=g.pathname+g.search;throw Nn(405,{method:e.method,pathname:v,routeId:n.route.id})}else return{type:ft.data,result:void 0};else if(m)c=await f(m);else{let g=new URL(e.url),v=g.pathname+g.search;throw Nn(404,{pathname:v})}Ue(c.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(m){return{type:ft.error,result:m}}finally{u&&e.signal.removeEventListener("abort",u)}return c}async function zb(t){let{result:e,type:n}=t;if(qg(e)){let v;try{let x=e.headers.get("Content-Type");x&&/\bapplication\/json\b/.test(x)?e.body==null?v=null:v=await e.json():v=await e.text()}catch(x){return{type:ft.error,error:x}}return n===ft.error?{type:ft.error,error:new Tl(e.status,e.statusText,v),statusCode:e.status,headers:e.headers}:{type:ft.data,data:v,statusCode:e.status,headers:e.headers}}if(n===ft.error){if(ep(e)){var i,a;if(e.data instanceof Error){var o,c;return{type:ft.error,error:e.data,statusCode:(o=e.init)==null?void 0:o.status,headers:(c=e.init)!=null&&c.headers?new Headers(e.init.headers):void 0}}return{type:ft.error,error:new Tl(((i=e.init)==null?void 0:i.status)||500,void 0,e.data),statusCode:Ya(e)?e.status:void 0,headers:(a=e.init)!=null&&a.headers?new Headers(e.init.headers):void 0}}return{type:ft.error,error:e,statusCode:Ya(e)?e.status:void 0}}if(Wb(e)){var u,f;return{type:ft.deferred,deferredData:e,statusCode:(u=e.init)==null?void 0:u.status,headers:((f=e.init)==null?void 0:f.headers)&&new Headers(e.init.headers)}}if(ep(e)){var m,g;return{type:ft.data,data:e.data,statusCode:(m=e.init)==null?void 0:m.status,headers:(g=e.init)!=null&&g.headers?new Headers(e.init.headers):void 0}}return{type:ft.data,data:e}}function Ub(t,e,n,i,a,o){let c=t.headers.get("Location");if(Ue(c,"Redirects returned/thrown from loaders/actions must have a Location header"),!Md.test(c)){let u=i.slice(0,i.findIndex(f=>f.route.id===n)+1);c=ld(new URL(e.url),u,a,!0,c,o),t.headers.set("Location",c)}return t}function Xm(t,e,n){if(Md.test(t)){let i=t,a=i.startsWith("//")?new URL(e.protocol+i):new URL(i),o=Ur(a.pathname,n)!=null;if(a.origin===e.origin&&o)return a.pathname+a.search+a.hash}return t}function Ns(t,e,n,i){let a=t.createURL(Gg(e)).toString(),o={signal:n};if(i&&or(i.formMethod)){let{formMethod:c,formEncType:u}=i;o.method=c.toUpperCase(),u==="application/json"?(o.headers=new Headers({"Content-Type":u}),o.body=JSON.stringify(i.json)):u==="text/plain"?o.body=i.text:u==="application/x-www-form-urlencoded"&&i.formData?o.body=ud(i.formData):o.body=i.formData}return new Request(a,o)}function ud(t){let e=new URLSearchParams;for(let[n,i]of t.entries())e.append(n,typeof i=="string"?i:i.name);return e}function Qm(t){let e=new FormData;for(let[n,i]of t.entries())e.append(n,i);return e}function Bb(t,e,n,i,a){let o={},c=null,u,f=!1,m={},g=n&&zn(n[1])?n[1].error:void 0;return t.forEach(v=>{if(!(v.route.id in e))return;let x=v.route.id,w=e[x];if(Ue(!Xi(w),"Cannot handle redirect results in processLoaderData"),zn(w)){let k=w.error;g!==void 0&&(k=g,g=void 0),c=c||{};{let j=Ki(t,x);c[j.route.id]==null&&(c[j.route.id]=k)}o[x]=void 0,f||(f=!0,u=Ya(w.error)?w.error.status:500),w.headers&&(m[x]=w.headers)}else gi(w)?(i.set(x,w.deferredData),o[x]=w.deferredData.data,w.statusCode!=null&&w.statusCode!==200&&!f&&(u=w.statusCode),w.headers&&(m[x]=w.headers)):(o[x]=w.data,w.statusCode&&w.statusCode!==200&&!f&&(u=w.statusCode),w.headers&&(m[x]=w.headers))}),g!==void 0&&n&&(c={[n[0]]:g},o[n[0]]=void 0),{loaderData:o,errors:c,statusCode:u||200,loaderHeaders:m}}function Gm(t,e,n,i,a,o,c){let{loaderData:u,errors:f}=Bb(e,n,i,c);return a.forEach(m=>{let{key:g,match:v,controller:x}=m,w=o[g];if(Ue(w,"Did not find corresponding fetcher result"),!(x&&x.signal.aborted))if(zn(w)){let k=Ki(t.matches,v?.route.id);f&&f[k.route.id]||(f=Dt({},f,{[k.route.id]:w.error})),t.fetchers.delete(g)}else if(Xi(w))Ue(!1,"Unhandled fetcher revalidation redirect");else if(gi(w))Ue(!1,"Unhandled fetcher deferred data");else{let k=pi(w.data);t.fetchers.set(g,k)}}),{loaderData:u,errors:f}}function qm(t,e,n,i){let a=Dt({},e);for(let o of n){let c=o.route.id;if(e.hasOwnProperty(c)?e[c]!==void 0&&(a[c]=e[c]):t[c]!==void 0&&o.route.loader&&(a[c]=t[c]),i&&i.hasOwnProperty(c))break}return a}function Jm(t){return t?zn(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Ki(t,e){return(e?t.slice(0,t.findIndex(i=>i.route.id===e)+1):[...t]).reverse().find(i=>i.route.hasErrorBoundary===!0)||t[0]}function Zm(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Nn(t,e){let{pathname:n,routeId:i,method:a,type:o,message:c}=e===void 0?{}:e,u="Unknown Server Error",f="Unknown @remix-run/router error";return t===400?(u="Bad Request",a&&n&&i?f="You made a "+a+' request to "'+n+'" but '+('did not provide a `loader` for route "'+i+'", ')+"so there is no way to handle the request.":o==="defer-action"?f="defer() is not supported in actions":o==="invalid-body"&&(f="Unable to encode submission body")):t===403?(u="Forbidden",f='Route "'+i+'" does not match URL "'+n+'"'):t===404?(u="Not Found",f='No route matches URL "'+n+'"'):t===405&&(u="Method Not Allowed",a&&n&&i?f="You made a "+a.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+i+'", ')+"so there is no way to handle the request.":a&&(f='Invalid request method "'+a.toUpperCase()+'"')),new Tl(t||500,u,new Error(f),!0)}function rl(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[i,a]=e[n];if(Xi(a))return{key:i,result:a}}}function Gg(t){let e=typeof t=="string"?ki(t):t;return es(Dt({},e,{hash:""}))}function $b(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Hb(t){return qg(t.result)&&Nb.has(t.result.status)}function gi(t){return t.type===ft.deferred}function zn(t){return t.type===ft.error}function Xi(t){return(t&&t.type)===ft.redirect}function ep(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function Wb(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function qg(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function Vb(t){return Eb.has(t.toLowerCase())}function or(t){return jb.has(t.toLowerCase())}async function Kb(t,e,n,i,a){let o=Object.entries(e);for(let c=0;c<o.length;c++){let[u,f]=o[c],m=t.find(x=>x?.route.id===u);if(!m)continue;let g=i.find(x=>x.route.id===m.route.id),v=g!=null&&!Xg(g,m)&&(a&&a[m.route.id])!==void 0;gi(f)&&v&&await Td(f,n,!1).then(x=>{x&&(e[u]=x)})}}async function Yb(t,e,n){for(let i=0;i<n.length;i++){let{key:a,routeId:o,controller:c}=n[i],u=e[a];t.find(m=>m?.route.id===o)&&gi(u)&&(Ue(c,"Expected an AbortController for revalidating fetcher deferred result"),await Td(u,c.signal,!0).then(m=>{m&&(e[a]=m)}))}}async function Td(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:ft.data,data:t.deferredData.unwrappedData}}catch(a){return{type:ft.error,error:a}}return{type:ft.data,data:t.deferredData.data}}}function Pd(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Fa(t,e){let n=typeof e=="string"?ki(e).search:e.search;if(t[t.length-1].route.index&&Pd(n||""))return t[t.length-1];let i=Vg(t);return i[i.length-1]}function tp(t){let{formMethod:e,formAction:n,formEncType:i,text:a,formData:o,json:c}=t;if(!(!e||!n||!i)){if(a!=null)return{formMethod:e,formAction:n,formEncType:i,formData:void 0,json:void 0,text:a};if(o!=null)return{formMethod:e,formAction:n,formEncType:i,formData:o,json:void 0,text:void 0};if(c!==void 0)return{formMethod:e,formAction:n,formEncType:i,formData:void 0,json:c,text:void 0}}}function $u(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Xb(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Ra(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Qb(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function pi(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Gb(t,e){try{let n=t.sessionStorage.getItem(Yg);if(n){let i=JSON.parse(n);for(let[a,o]of Object.entries(i||{}))o&&Array.isArray(o)&&e.set(a,new Set(o||[]))}}catch{}}function qb(t,e){if(e.size>0){let n={};for(let[i,a]of e)n[i]=[...a];try{t.sessionStorage.setItem(Yg,JSON.stringify(n))}catch(i){Is(!1,"Failed to save applied view transitions in sessionStorage ("+i+").")}}}/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pl(){return Pl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Pl.apply(this,arguments)}const Za=b.createContext(null),Dd=b.createContext(null),Br=b.createContext(null),Ad=b.createContext(null),$r=b.createContext({outlet:null,matches:[],isDataRoute:!1}),Jg=b.createContext(null);function Jb(t,e){let{relative:n}=e===void 0?{}:e;Bs()||Ue(!1);let{basename:i,navigator:a}=b.useContext(Br),{hash:o,pathname:c,search:u}=Ql(t,{relative:n}),f=c;return i!=="/"&&(f=c==="/"?i:zr([i,c])),a.createHref({pathname:f,search:u,hash:o})}function Bs(){return b.useContext(Ad)!=null}function Hr(){return Bs()||Ue(!1),b.useContext(Ad).location}function Zg(t){b.useContext(Br).static||b.useLayoutEffect(t)}function Xl(){let{isDataRoute:t}=b.useContext($r);return t?f0():Zb()}function Zb(){Bs()||Ue(!1);let t=b.useContext(Za),{basename:e,future:n,navigator:i}=b.useContext(Br),{matches:a}=b.useContext($r),{pathname:o}=Hr(),c=JSON.stringify(Kl(a,n.v7_relativeSplatPath)),u=b.useRef(!1);return Zg(()=>{u.current=!0}),b.useCallback(function(m,g){if(g===void 0&&(g={}),!u.current)return;if(typeof m=="number"){i.go(m);return}let v=Yl(m,JSON.parse(c),o,g.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:zr([e,v.pathname])),(g.replace?i.replace:i.push)(v,g.state,g)},[e,i,c,o,t])}const e0=b.createContext(null);function t0(t){let e=b.useContext($r).outlet;return e&&b.createElement(e0.Provider,{value:t},e)}function Ql(t,e){let{relative:n}=e===void 0?{}:e,{future:i}=b.useContext(Br),{matches:a}=b.useContext($r),{pathname:o}=Hr(),c=JSON.stringify(Kl(a,i.v7_relativeSplatPath));return b.useMemo(()=>Yl(t,JSON.parse(c),o,n==="path"),[t,c,o,n])}function n0(t,e,n,i){Bs()||Ue(!1);let{navigator:a}=b.useContext(Br),{matches:o}=b.useContext($r),c=o[o.length-1],u=c?c.params:{};c&&c.pathname;let f=c?c.pathnameBase:"/";c&&c.route;let m=Hr(),g;g=m;let v=g.pathname||"/",x=v;if(f!=="/"){let j=f.replace(/^\//,"").split("/");x="/"+v.replace(/^\//,"").split("/").slice(j.length).join("/")}let w=Vi(t,{pathname:x});return o0(w&&w.map(j=>Object.assign({},j,{params:Object.assign({},u,j.params),pathname:zr([f,a.encodeLocation?a.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?f:zr([f,a.encodeLocation?a.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),o,n,i)}function r0(){let t=d0(),e=Ya(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:a},n):null,null)}const i0=b.createElement(r0,null);class s0 extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?b.createElement($r.Provider,{value:this.props.routeContext},b.createElement(Jg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function a0(t){let{routeContext:e,match:n,children:i}=t,a=b.useContext(Za);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement($r.Provider,{value:e},i)}function o0(t,e,n,i){var a;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=i)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let c=t,u=(a=n)==null?void 0:a.errors;if(u!=null){let g=c.findIndex(v=>v.route.id&&u?.[v.route.id]!==void 0);g>=0||Ue(!1),c=c.slice(0,Math.min(c.length,g+1))}let f=!1,m=-1;if(n&&i&&i.v7_partialHydration)for(let g=0;g<c.length;g++){let v=c[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(m=g),v.route.id){let{loaderData:x,errors:w}=n,k=v.route.loader&&x[v.route.id]===void 0&&(!w||w[v.route.id]===void 0);if(v.route.lazy||k){f=!0,m>=0?c=c.slice(0,m+1):c=[c[0]];break}}}return c.reduceRight((g,v,x)=>{let w,k=!1,j=null,C=null;n&&(w=u&&v.route.id?u[v.route.id]:void 0,j=v.route.errorElement||i0,f&&(m<0&&x===0?(h0("route-fallback"),k=!0,C=null):m===x&&(k=!0,C=v.route.hydrateFallbackElement||null)));let N=e.concat(c.slice(0,x+1)),P=()=>{let $;return w?$=j:k?$=C:v.route.Component?$=b.createElement(v.route.Component,null):v.route.element?$=v.route.element:$=g,b.createElement(a0,{match:v,routeContext:{outlet:g,matches:N,isDataRoute:n!=null},children:$})};return n&&(v.route.ErrorBoundary||v.route.errorElement||x===0)?b.createElement(s0,{location:n.location,revalidation:n.revalidation,component:j,error:w,children:P(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):P()},null)}var ey=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(ey||{}),ty=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(ty||{});function l0(t){let e=b.useContext(Za);return e||Ue(!1),e}function c0(t){let e=b.useContext(Dd);return e||Ue(!1),e}function u0(t){let e=b.useContext($r);return e||Ue(!1),e}function ny(t){let e=u0(),n=e.matches[e.matches.length-1];return n.route.id||Ue(!1),n.route.id}function d0(){var t;let e=b.useContext(Jg),n=c0(),i=ny();return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}function f0(){let{router:t}=l0(ey.UseNavigateStable),e=ny(ty.UseNavigateStable),n=b.useRef(!1);return Zg(()=>{n.current=!0}),b.useCallback(function(a,o){o===void 0&&(o={}),n.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,Pl({fromRouteId:e},o)))},[t,e])}const np={};function h0(t,e,n){np[t]||(np[t]=!0)}function m0(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function rp(t){let{to:e,replace:n,state:i,relative:a}=t;Bs()||Ue(!1);let{future:o,static:c}=b.useContext(Br),{matches:u}=b.useContext($r),{pathname:f}=Hr(),m=Xl(),g=Yl(e,Kl(u,o.v7_relativeSplatPath),f,a==="path"),v=JSON.stringify(g);return b.useEffect(()=>m(JSON.parse(v),{replace:n,state:i,relative:a}),[m,v,a,n,i]),null}function ip(t){return t0(t.context)}function Pt(t){Ue(!1)}function p0(t){let{basename:e="/",children:n=null,location:i,navigationType:a=Yt.Pop,navigator:o,static:c=!1,future:u}=t;Bs()&&Ue(!1);let f=e.replace(/^\/*/,"/"),m=b.useMemo(()=>({basename:f,navigator:o,static:c,future:Pl({v7_relativeSplatPath:!1},u)}),[f,u,o,c]);typeof i=="string"&&(i=ki(i));let{pathname:g="/",search:v="",hash:x="",state:w=null,key:k="default"}=i,j=b.useMemo(()=>{let C=Ur(g,f);return C==null?null:{location:{pathname:C,search:v,hash:x,state:w,key:k},navigationType:a}},[f,g,v,x,w,k,a]);return j==null?null:b.createElement(Br.Provider,{value:m},b.createElement(Ad.Provider,{children:n,value:j}))}new Promise(()=>{});function dd(t,e){e===void 0&&(e=[]);let n=[];return b.Children.forEach(t,(i,a)=>{if(!b.isValidElement(i))return;let o=[...e,a];if(i.type===b.Fragment){n.push.apply(n,dd(i.props.children,o));return}i.type!==Pt&&Ue(!1),!i.props.index||!i.props.children||Ue(!1);let c={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=dd(i.props.children,o)),n.push(c)}),n}function g0(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:b.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:b.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:b.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zs(){return zs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},zs.apply(this,arguments)}function ry(t,e){if(t==null)return{};var n={},i=Object.keys(t),a,o;for(o=0;o<i.length;o++)a=i[o],!(e.indexOf(a)>=0)&&(n[a]=t[a]);return n}function y0(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function v0(t,e){return t.button===0&&(!e||e==="_self")&&!y0(t)}const x0=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],b0=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],_0="6";try{window.__reactRouterVersion=_0}catch{}function w0(t,e){return Pb({basename:void 0,future:zs({},void 0,{v7_prependBasename:!0}),history:nb({window:void 0}),hydrationData:S0(),routes:t,mapRouteProperties:g0,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function S0(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=zs({},e,{errors:k0(e.errors)})),e}function k0(t){if(!t)return null;let e=Object.entries(t),n={};for(let[i,a]of e)if(a&&a.__type==="RouteErrorResponse")n[i]=new Tl(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let o=window[a.__subType];if(typeof o=="function")try{let c=new o(a.message);c.stack="",n[i]=c}catch{}}if(n[i]==null){let o=new Error(a.message);o.stack="",n[i]=o}}else n[i]=a;return n}const iy=b.createContext({isTransitioning:!1}),j0=b.createContext(new Map),C0="startTransition",sp=Yx[C0],E0="flushSync",ap=tb[E0];function N0(t){sp?sp(t):t()}function Ma(t){ap?ap(t):t()}class R0{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",n(i))}})}}function M0(t){let{fallbackElement:e,router:n,future:i}=t,[a,o]=b.useState(n.state),[c,u]=b.useState(),[f,m]=b.useState({isTransitioning:!1}),[g,v]=b.useState(),[x,w]=b.useState(),[k,j]=b.useState(),C=b.useRef(new Map),{v7_startTransition:N}=i||{},P=b.useCallback(A=>{N?N0(A):A()},[N]),$=b.useCallback((A,K)=>{let{deletedFetchers:L,flushSync:T,viewTransitionOpts:Y}=K;A.fetchers.forEach((te,se)=>{te.data!==void 0&&C.current.set(se,te.data)}),L.forEach(te=>C.current.delete(te));let X=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!Y||X){T?Ma(()=>o(A)):P(()=>o(A));return}if(T){Ma(()=>{x&&(g&&g.resolve(),x.skipTransition()),m({isTransitioning:!0,flushSync:!0,currentLocation:Y.currentLocation,nextLocation:Y.nextLocation})});let te=n.window.document.startViewTransition(()=>{Ma(()=>o(A))});te.finished.finally(()=>{Ma(()=>{v(void 0),w(void 0),u(void 0),m({isTransitioning:!1})})}),Ma(()=>w(te));return}x?(g&&g.resolve(),x.skipTransition(),j({state:A,currentLocation:Y.currentLocation,nextLocation:Y.nextLocation})):(u(A),m({isTransitioning:!0,flushSync:!1,currentLocation:Y.currentLocation,nextLocation:Y.nextLocation}))},[n.window,x,g,C,P]);b.useLayoutEffect(()=>n.subscribe($),[n,$]),b.useEffect(()=>{f.isTransitioning&&!f.flushSync&&v(new R0)},[f]),b.useEffect(()=>{if(g&&c&&n.window){let A=c,K=g.promise,L=n.window.document.startViewTransition(async()=>{P(()=>o(A)),await K});L.finished.finally(()=>{v(void 0),w(void 0),u(void 0),m({isTransitioning:!1})}),w(L)}},[P,c,g,n.window]),b.useEffect(()=>{g&&c&&a.location.key===c.location.key&&g.resolve()},[g,x,a.location,c]),b.useEffect(()=>{!f.isTransitioning&&k&&(u(k.state),m({isTransitioning:!0,flushSync:!1,currentLocation:k.currentLocation,nextLocation:k.nextLocation}),j(void 0))},[f.isTransitioning,k]),b.useEffect(()=>{},[]);let I=b.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:A=>n.navigate(A),push:(A,K,L)=>n.navigate(A,{state:K,preventScrollReset:L?.preventScrollReset}),replace:(A,K,L)=>n.navigate(A,{replace:!0,state:K,preventScrollReset:L?.preventScrollReset})}),[n]),H=n.basename||"/",q=b.useMemo(()=>({router:n,navigator:I,static:!1,basename:H}),[n,I,H]),R=b.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return b.useEffect(()=>m0(i,n.future),[i,n.future]),b.createElement(b.Fragment,null,b.createElement(Za.Provider,{value:q},b.createElement(Dd.Provider,{value:a},b.createElement(j0.Provider,{value:C.current},b.createElement(iy.Provider,{value:f},b.createElement(p0,{basename:H,location:a.location,navigationType:a.historyAction,navigator:I,future:R},a.initialized||n.future.v7_partialHydration?b.createElement(T0,{routes:n.routes,future:n.future,state:a}):e))))),null)}const T0=b.memo(P0);function P0(t){let{routes:e,future:n,state:i}=t;return n0(e,void 0,i,n)}const D0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",A0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fr=b.forwardRef(function(e,n){let{onClick:i,relative:a,reloadDocument:o,replace:c,state:u,target:f,to:m,preventScrollReset:g,viewTransition:v}=e,x=ry(e,x0),{basename:w}=b.useContext(Br),k,j=!1;if(typeof m=="string"&&A0.test(m)&&(k=m,D0))try{let $=new URL(window.location.href),I=m.startsWith("//")?new URL($.protocol+m):new URL(m),H=Ur(I.pathname,w);I.origin===$.origin&&H!=null?m=H+I.search+I.hash:j=!0}catch{}let C=Jb(m,{relative:a}),N=O0(m,{replace:c,state:u,target:f,preventScrollReset:g,relative:a,viewTransition:v});function P($){i&&i($),$.defaultPrevented||N($)}return b.createElement("a",zs({},x,{href:k||C,onClick:j||o?i:P,ref:n,target:f}))}),il=b.forwardRef(function(e,n){let{"aria-current":i="page",caseSensitive:a=!1,className:o="",end:c=!1,style:u,to:f,viewTransition:m,children:g}=e,v=ry(e,b0),x=Ql(f,{relative:v.relative}),w=Hr(),k=b.useContext(Dd),{navigator:j,basename:C}=b.useContext(Br),N=k!=null&&F0(x)&&m===!0,P=j.encodeLocation?j.encodeLocation(x).pathname:x.pathname,$=w.pathname,I=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;a||($=$.toLowerCase(),I=I?I.toLowerCase():null,P=P.toLowerCase()),I&&C&&(I=Ur(I,C)||I);const H=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let q=$===P||!c&&$.startsWith(P)&&$.charAt(H)==="/",R=I!=null&&(I===P||!c&&I.startsWith(P)&&I.charAt(P.length)==="/"),A={isActive:q,isPending:R,isTransitioning:N},K=q?i:void 0,L;typeof o=="function"?L=o(A):L=[o,q?"active":null,R?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let T=typeof u=="function"?u(A):u;return b.createElement(Fr,zs({},v,{"aria-current":K,className:L,ref:n,style:T,to:f,viewTransition:m}),typeof g=="function"?g(A):g)});var fd;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(fd||(fd={}));var op;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(op||(op={}));function L0(t){let e=b.useContext(Za);return e||Ue(!1),e}function O0(t,e){let{target:n,replace:i,state:a,preventScrollReset:o,relative:c,viewTransition:u}=e===void 0?{}:e,f=Xl(),m=Hr(),g=Ql(t,{relative:c});return b.useCallback(v=>{if(v0(v,n)){v.preventDefault();let x=i!==void 0?i:es(m)===es(g);f(t,{replace:x,state:a,preventScrollReset:o,relative:c,viewTransition:u})}},[m,f,g,i,a,n,t,o,c,u])}function F0(t,e){e===void 0&&(e={});let n=b.useContext(iy);n==null&&Ue(!1);let{basename:i}=L0(fd.useViewTransitionState),a=Ql(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=Ur(n.currentLocation.pathname,i)||n.currentLocation.pathname,c=Ur(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Ml(a.pathname,c)!=null||Ml(a.pathname,o)!=null}const ji="",Dl="phpgrc_intended_path",Al="phpgrc_session_expired",Ld="phpgrc_auth_token";let As;function Od(){if(typeof window>"u")return null;try{return window.localStorage}catch{return null}}function I0(){const t=Od();if(!t)return null;try{const e=t.getItem(Ld);return e&&e.length>0?e:null}catch{return null}}function sy(){return As!==void 0||(As=I0()),As}function z0(){const t=sy();return typeof t=="string"&&t.length>0}function U0(t){As=t;const e=Od();if(e)try{e.setItem(Ld,t)}catch{}}function ay(){As=null;const t=Od();if(t)try{t.removeItem(Ld)}catch{}}function _t(t){const e={Accept:"application/json","X-Requested-With":"XMLHttpRequest"},n=sy();return n&&(e.Authorization=`Bearer ${n}`),{...e,...t}}function oy(t){if(!t)return"";const e=new URLSearchParams;for(const[i,a]of Object.entries(t))a!=null&&e.set(i,typeof a=="boolean"?a?"true":"false":String(a));const n=e.toString();return n?`?${n}`:""}class Bt extends Error{status;body;constructor(e,n,i){super(i??`HTTP ${e}`),this.status=e,this.body=n}}async function $s(t){const e=t.headers.get("content-type")||"",n=e.includes("application/json")||e.includes("+json");try{return n?await t.json():await t.text()}catch{return null}}const hd=new Set;function B0(t){return hd.add(t),()=>hd.delete(t)}function Hs(t){ay(),hd.forEach(e=>{try{e(t)}catch{}})}async function Qn(t,e,n){const i=t.startsWith("/")?t:`/${t}`,a=`${ji}${i}${oy(e)}`,o=await fetch(a,{method:"GET",credentials:"same-origin",headers:_t(),signal:n}),c=await $s(o);if(!o.ok){const u=new Bt(o.status,c);throw o.status===401&&Hs(u),u}return c??{}}async function $0(t,e,n){const i=t.startsWith("/")?t:`/${t}`,a=`${ji}${i}`,o=await fetch(a,{method:"PUT",credentials:"same-origin",headers:_t({"Content-Type":"application/json"}),body:e===void 0?"{}":JSON.stringify(e),signal:n}),c=await $s(o);if(!o.ok){const u=new Bt(o.status,c);throw o.status===401&&Hs(u),u}return c??{}}async function H0(t,e,n){const i=t.startsWith("/")?t:`/${t}`,a=`${ji}${i}`,o=await fetch(a,{method:"PATCH",credentials:"same-origin",headers:_t({"Content-Type":"application/json"}),body:e===void 0?"{}":JSON.stringify(e),signal:n}),c=await $s(o);if(!o.ok){const u=new Bt(o.status,c);throw o.status===401&&Hs(u),u}return c??{}}async function is(t,e,n){const i=t.startsWith("/")?t:`/${t}`,a=`${ji}${i}`,o=await fetch(a,{method:"POST",credentials:"same-origin",headers:_t({"Content-Type":"application/json"}),body:e===void 0?"{}":JSON.stringify(e),signal:n}),c=await $s(o);if(!o.ok){const u=new Bt(o.status,c);throw o.status===401&&Hs(u),u}return c??{}}async function ly(t,e,n){const i=t.startsWith("/")?t:`/${t}`,a=`${ji}${i}`,o=await fetch(a,{method:"POST",credentials:"same-origin",headers:_t(),body:e,signal:n}),c=await $s(o);if(!o.ok){const u=new Bt(o.status,c);throw o.status===401&&Hs(u),u}return c??{}}async function Gl(t,e){const n=t.startsWith("/")?t:`/${t}`,i=`${ji}${n}`,a=await fetch(i,{method:"DELETE",credentials:"same-origin",headers:_t(),signal:e}),o=await $s(a);if(!a.ok){const c=new Bt(a.status,o);throw a.status===401&&Hs(c),c}return o??{}}function Hu(t){try{t&&t!=="/auth/login"&&sessionStorage.setItem(Dl,t)}catch{}}function W0(){try{const t=sessionStorage.getItem(Dl);return t&&sessionStorage.removeItem(Dl),t}catch{return null}}function sl(){try{sessionStorage.setItem(Al,"1")}catch{}}function V0(){try{const t=sessionStorage.getItem(Al);return t&&sessionStorage.removeItem(Al),t==="1"}catch{return!1}}async function K0(t){const e=await is("/api/auth/login",t),n=e?.token,i=e?.user;if(!n||typeof n!="string")throw new Error("Missing auth token in login response");if(!i||typeof i.id>"u")throw new Error("Missing user payload in login response");return U0(n),i}async function Y0(){try{await is("/api/auth/logout",{})}catch{}ay();try{sessionStorage.removeItem(Dl),sessionStorage.removeItem(Al)}catch{}}async function X0(){const e=(await Qn("/api/auth/me"))?.user;if(!e||typeof e.id>"u")throw new Error("Missing user payload in auth/me response");return e}const Q0="/assets/bootstrap.min-Bmwwozog.css",G0="/assets/bootstrap.min-Q9g3hQB7.css",q0="/assets/bootstrap.min-88E44Rpq.css",J0="/assets/bootstrap.min-CI_a7-UG.css",Z0="/assets/bootstrap.min-C9ekKKp9.css",e_="/assets/bootstrap.min-BXtGUBhC.css",t_="/assets/bootstrap.min-D7tuEIVV.css",n_="/assets/bootstrap.min-JXPEk_5n.css",r_="/assets/bootstrap.min-DtyHuuJy.css",i_="/assets/bootstrap.min-CHitj9zK.css",s_="/assets/bootstrap.min-CWsoXVTE.css",a_="/assets/bootstrap.min-BZQE6Dhd.css",o_="/assets/bootstrap.min-6OsnpXDO.css",l_="/assets/bootstrap.min-BRwI2niL.css",c_="/assets/bootstrap.min-CHrSCAIO.css",u_="/assets/bootstrap.min-B9Ta7Jou.css",d_="/assets/bootstrap.min-CNLdrARh.css",f_="/assets/bootstrap.min-C4r-DQMA.css",h_="/assets/bootstrap.min-CtU96xCh.css",m_="/assets/bootstrap.min-5NHe92vk.css",p_="/assets/bootstrap.min-D2CbZOse.css",g_="/assets/bootstrap.min-B6G6dRgC.css",y_="/assets/bootstrap.min-BCsPR365.css",v_="/assets/bootstrap.min-DzUX-LSS.css",x_="/assets/bootstrap.min-DgsMJor-.css",ql=[{slug:"cerulean",name:"Cerulean",mode:"light",href:Q0},{slug:"cosmo",name:"Cosmo",mode:"light",href:G0},{slug:"cyborg",name:"Cyborg",mode:"dark",href:q0},{slug:"darkly",name:"Darkly",mode:"dark",href:J0},{slug:"flatly",name:"Flatly",mode:"light",href:Z0},{slug:"journal",name:"Journal",mode:"light",href:e_},{slug:"litera",name:"Litera",mode:"light",href:t_},{slug:"lumen",name:"Lumen",mode:"light",href:n_},{slug:"lux",name:"Lux",mode:"light",href:r_},{slug:"materia",name:"Materia",mode:"light",href:i_},{slug:"minty",name:"Minty",mode:"light",href:s_},{slug:"morph",name:"Morph",mode:"light",href:a_},{slug:"pulse",name:"Pulse",mode:"light",href:o_},{slug:"quartz",name:"Quartz",mode:"dark",href:l_},{slug:"sandstone",name:"Sandstone",mode:"light",href:c_},{slug:"simplex",name:"Simplex",mode:"light",href:u_},{slug:"sketchy",name:"Sketchy",mode:"light",href:d_},{slug:"slate",name:"Slate",mode:"dark",href:f_},{slug:"solar",name:"Solar",mode:"dark",href:h_},{slug:"spacelab",name:"Spacelab",mode:"light",href:m_},{slug:"superhero",name:"Superhero",mode:"dark",href:p_},{slug:"united",name:"United",mode:"light",href:g_},{slug:"vapor",name:"Vapor",mode:"dark",href:y_},{slug:"yeti",name:"Yeti",mode:"light",href:v_},{slug:"zephyr",name:"Zephyr",mode:"light",href:x_}],lp=ql.reduce((t,e)=>(t[e.slug]=e.href,t),{}),Ji={version:"5.3.3",defaults:{dark:"slate",light:"flatly"},themes:ql.map(t=>({slug:t.slug,name:t.name,source:"bootswatch",supports:{mode:[t.mode]}})),packs:[]},gt={theme:{default:Ji.defaults.dark,allow_user_override:!0,force_global:!1,overrides:{"color.primary":"#0d6efd","color.surface":"#1b1e21","color.text":"#f8f9fa",shadow:"default",spacing:"default",typeScale:"medium",motion:"full"}},nav:{sidebar:{default_order:[]}},brand:{title_text:"phpGRC  Dashboard",favicon_asset_id:null,primary_logo_asset_id:null,secondary_logo_asset_id:null,header_logo_asset_id:null,footer_logo_asset_id:null,footer_logo_disabled:!1}},yn={theme:null,mode:null,overrides:{"color.primary":"#0d6efd","color.surface":"#1b1e21","color.text":"#f8f9fa",shadow:"default",spacing:"default",typeScale:"medium",motion:"full"},sidebar:{collapsed:!1,width:280,order:[]}},cp="phpgrc-theme-css",Gn=t=>{if(typeof structuredClone=="function")try{return structuredClone(t)}catch{}return JSON.parse(JSON.stringify(t))};let Fd=Gn(Ji),bi=Gn(gt),Ws=Gn(yn),_r=null,Rs=null;const md=new Set,pd=new Set,cy=()=>{const t=Gn(Ws);md.forEach(e=>{try{e(t)}catch{}})},uy=()=>{const t=Gn(bi);pd.forEach(e=>{try{e(t)}catch{}})},b_=()=>typeof window>"u"||typeof window.matchMedia!="function"?!1:window.matchMedia("(prefers-color-scheme: dark)").matches,__=()=>{if(typeof document>"u")return null;let t=document.getElementById(cp);return t||(t=document.createElement("link"),t.id=cp,t.rel="stylesheet",t.type="text/css",document.head.appendChild(t)),t},w_=t=>[...t.themes??[],...t.packs??[]],Ia=(t,e)=>{const n=e?.trim();if(n)return w_(t).find(i=>i.slug===n)},Yi=t=>{if(typeof t!="string")return null;const e=t.trim();return e.length>0?e:null},dy=t=>t?.supports?.mode?t.supports.mode.filter(e=>e==="light"||e==="dark"):[],gd=t=>ql.find(n=>n.slug===t)?.mode??"light",S_=()=>{const t=Fd,e=bi,n=Ws,i=Yi(e.theme.default)??Yi(t.defaults?.dark??null)??Yi(t.defaults?.light??null)??ql[0]?.slug??"slate";let a=i;const o=e.theme.allow_user_override&&!e.theme.force_global,c=o?Yi(n.theme):null;c&&Ia(t,c)&&(a=c),Ia(t,a)||(a=i),Ia(t,a)||(a=Yi(t.defaults?.dark)??a);const u=Ia(t,a),f=dy(u);let m=null;o&&n.mode?(n.mode==="light"||n.mode==="dark")&&(m=n.mode):!o&&e.theme.force_global&&(m=e.theme.default===a?gd(a):null);let g;if(m&&f.includes(m))g=m;else if(f.length===0)g=m??gd(a);else if(f.length===1)g=f[0];else{const w=b_()?"dark":"light";f.includes(w)?g=w:g=f[0]}const v=u?.source??"bootswatch";return{slug:a,mode:g,source:v}},k_=t=>t in lp?lp[t]:null,fy=t=>{if(typeof document>"u")return;const e=__(),n=k_(t.slug);e&&n&&e.href!==n&&(e.href=n);const i=document.documentElement;i.setAttribute("data-theme",t.slug),i.setAttribute("data-mode",t.mode),i.setAttribute("data-theme-source",t.source),_r=t},Jl=()=>{const t=S_();_r&&_r.slug===t.slug&&_r.mode===t.mode&&_r.source===t.source||fy(t)},Wu=async t=>{try{const e=await fetch(t,{method:"GET",credentials:"same-origin",headers:_t()});return e.ok?await e.json():null}catch{return null}},hy=async t=>Rs?t?.fetchUserPrefs?(await Rs,hy(t)):Rs:(Rs=(async()=>{const e=await Wu("/api/settings/ui/themes");e&&Array.isArray(e.themes)&&(Fd=e);const n=await Wu("/api/settings/ui");if(n?.config?.ui&&(bi=n.config.ui,uy()),t?.fetchUserPrefs??(bi.theme.allow_user_override&&!bi.theme.force_global)){const a=await Wu("/api/me/prefs/ui");a?.prefs&&(Ws=a.prefs,cy())}Jl()})().catch(()=>{}).finally(()=>{Rs=null}),Rs),my=t=>{Fd=Gn(t),Jl()},Qi=t=>{bi=Gn(t),Jl(),uy()},yd=t=>{Ws=Gn(t),Jl(),cy()},j_=()=>{if(_r)return _r;const t=Yi(Ji.defaults.dark)??Yi(Ji.defaults.light)??"slate",e=Ia(Ji,t),n=dy(e)[0]??gd(t);return _r={slug:t,mode:n,source:e?.source??"bootswatch"},fy(_r),_r},up=()=>Gn(bi),C_=()=>Gn(Ws),E_=t=>{md.add(t);try{t(Gn(Ws))}catch{}return()=>{md.delete(t)}},N_=t=>{pd.add(t);try{t(Gn(bi))}catch{}return()=>{pd.delete(t)}};typeof document<"u"&&j_();const Id=[{id:"dashboard",label:"Dashboard",path:"/dashboard",placement:"sidebar"},{id:"risks",label:"Risks",path:"/risks",placement:"core"},{id:"compliance",label:"Compliance",path:"/compliance",placement:"core"},{id:"audits",label:"Audits",path:"/audits",placement:"core"},{id:"policies",label:"Policies",path:"/policies",placement:"core"},{id:"evidence",label:"Evidence",path:"/evidence",placement:"sidebar"},{id:"exports",label:"Exports",path:"/exports",placement:"sidebar"},{id:"admin",label:"Admin",path:"/admin",placement:"sidebar"}],R_=(t,e)=>t.label.localeCompare(e.label,void 0,{sensitivity:"base"}),M_=Id.filter(t=>t.placement==="core").sort(R_),Vu=Id.filter(t=>t.placement==="sidebar"),T_=new Map(Id.map(t=>[t.id,t])),Ls=50,dp=.5,P_=t=>Math.round(Number.isFinite(t)?t:0);function py(t,e){const n=Number.isFinite(e)&&e&&e>0?e:typeof window<"u"&&Number.isFinite(window.innerWidth)?window.innerWidth:Ls/dp,i=Math.max(Ls,Math.floor(n*dp)),a=P_(t);return Number.isFinite(a)?Math.min(Math.max(a,Ls),i):Ls}const D_=t=>{if(typeof t!="string")return null;const e=t.trim();return e===""?null:e};function Ku(t,e,n){const i=new Map(t.map(m=>[m.id,m])),a=new Set,o=m=>{if(!m)return[];const g=[];for(const v of m){const x=D_(v);!x||a.has(x)||i.has(x)&&(a.add(x),g.push(x))}return g},c=o(n),u=o(e),f=t.filter(m=>!a.has(m.id)).sort((m,g)=>m.label.localeCompare(g.label,void 0,{sensitivity:"base"})).map(m=>m.id);return[...c,...u,...f]}const A_="/api/images/phpGRC-light-horizontal-trans.png",L_=600,al=(t,e)=>t.length!==e.length?!1:t.every((n,i)=>n===e[i]);async function Yu(t){try{return await t.json()}catch{return null}}const Ms=t=>{const e=t?.nav?.sidebar?.default_order;if(!Array.isArray(e))return[];const n=[];for(const i of e){if(typeof i!="string")continue;const a=i.trim();a!==""&&n.push(a)}return n},Ts=t=>{const e=t?.brand??gt.brand,n=e?.title_text,i=String(n??gt.brand.title_text).trim(),a=i!==""?i:gt.brand.title_text,o=typeof e?.header_logo_asset_id=="string"?e.header_logo_asset_id:null,c=typeof e?.primary_logo_asset_id=="string"?e.primary_logo_asset_id:null;return{title:a,headerLogoId:o,primaryLogoId:c}},O_=t=>t.headerLogoId?`/api/settings/ui/brand-assets/${encodeURIComponent(t.headerLogoId)}/download`:t.primaryLogoId?`/api/settings/ui/brand-assets/${encodeURIComponent(t.primaryLogoId)}/download`:A_,pr=t=>{const e=t??yn.sidebar,n=!!e.collapsed,i=typeof e.width=="number"?e.width:yn.sidebar.width,a=py(i),o=Array.isArray(e.order)?e.order.map(c=>typeof c=="string"?c.trim():"").filter(c=>c!==""):[];return{collapsed:n,width:a,order:o}};function F_(){const t=Hr(),e=Xl(),[n,i]=b.useState(!0),[a,o]=b.useState(!1),[c,u]=b.useState(!1),[f,m]=b.useState(()=>Ts(up())),[g,v]=b.useState(()=>Ms(up())),[x,w]=b.useState(()=>pr(C_().sidebar)),k=b.useRef(x);b.useEffect(()=>{k.current=x},[x]);const j=b.useRef(null),[C,N]=b.useState(null),[P,$]=b.useState(!1),[I,H]=b.useState(!1),[q,R]=b.useState(!1),[A,K]=b.useState(!1),L=b.useRef(!1);b.useEffect(()=>{L.current=A},[A]);const[T,Y]=b.useState([]),X=b.useRef([]),te=b.useRef(null),se=b.useRef(!1),he=b.useRef(0),ye=b.useRef(0),[Z,ne]=b.useState(!1),M=b.useRef(null),S=b.useCallback(oe=>{w(Le=>{const U=oe(Le);return Le.collapsed===U.collapsed&&Le.width===U.width&&al(Le.order,U.order)?(k.current=Le,Le):(k.current=U,U)})},[]);b.useEffect(()=>{const oe=E_(U=>{L.current||S(()=>pr(U.sidebar))}),Le=N_(U=>{m(Ts(U)),v(Ms(U))});return()=>{oe(),Le()}},[S]);const F=b.useCallback(async()=>{if(!c){m(Ts(gt)),v(Ms(gt));return}try{const oe=await fetch("/api/settings/ui",{method:"GET",credentials:"same-origin",headers:_t()});if(!oe.ok)throw new Error(`Failed to load UI settings (HTTP ${oe.status})`);const U=(await Yu(oe))?.config?.ui??null;U&&(m(Ts(U)),v(Ms(U)),Qi(U))}catch{m(Ts(gt)),v(Ms(gt))}},[c]),ee=b.useCallback(async()=>{if(!c){S(()=>pr(yn.sidebar)),j.current=null,H(!0);return}R(!0),N(null);try{const oe=await fetch("/api/me/prefs/ui",{method:"GET",credentials:"same-origin",headers:_t()});if(oe.status===403){H(!0),j.current=oe.headers.get("ETag"),N("You do not have permission to customize the sidebar."),S(()=>pr(yn.sidebar));return}const Le=await Yu(oe),U=oe.headers.get("ETag")??Le?.etag??null;if(j.current=U,!oe.ok||!Le?.prefs){H(!1),S(()=>pr(yn.sidebar));return}const pe=pr(Le.prefs.sidebar);S(()=>pe),yd(Le.prefs),H(!1)}catch{H(!0),j.current=null,N("Failed to load sidebar preferences. Using defaults."),S(()=>pr(yn.sidebar))}finally{R(!1)}},[c,S]),ie=b.useCallback(async oe=>{if(!c||I||!j.current&&(await ee(),!j.current))return!1;const Le=pr({...k.current,...oe});$(!0),N(null);try{const U=await fetch("/api/me/prefs/ui",{method:"PUT",credentials:"same-origin",headers:_t({"Content-Type":"application/json","If-Match":j.current??""}),body:JSON.stringify({sidebar:Le})}),pe=await Yu(U);if(U.status===409){const it=pe?.current_etag??U.headers.get("ETag")??null;return j.current=it,N("Sidebar preferences changed elsewhere. Reloaded latest values."),await ee(),!1}if(U.status===403)return H(!0),N("You do not have permission to customize the sidebar."),!1;if(!U.ok)throw new Error(`Save failed (HTTP ${U.status})`);const He=U.headers.get("ETag")??pe?.etag??null;if(j.current=He,pe?.prefs){const it=pr(pe.prefs.sidebar);S(()=>it),yd(pe.prefs)}else S(()=>Le);return N("Sidebar preferences saved."),!0}catch(U){const pe=U instanceof Error?U.message:"Failed to save sidebar preferences.";return N(pe),!1}finally{$(!1)}},[c,I,ee,S]);b.useEffect(()=>{const oe=B0(()=>{if(!t.pathname.startsWith("/auth/")){const U=`${t.pathname}${t.search}${t.hash}`;Hu(U),sl(),e("/auth/login",{replace:!0})}});async function Le(){i(!0);try{const pe=!!(await Qn("/api/health/fingerprint"))?.summary?.rbac?.require_auth;if(o(pe),pe){if(!z0()){u(!1);return}try{await X0(),u(!0)}catch{u(!1)}}else u(!0)}finally{i(!1)}}return Le(),()=>oe()},[t.pathname]),b.useEffect(()=>{hy({fetchUserPrefs:c})},[a,c]),b.useEffect(()=>{if(!c){m(Ts(gt)),v(Ms(gt));return}F()},[c,F]),b.useEffect(()=>{if(!c){S(()=>pr(yn.sidebar)),j.current=null,H(!0);return}ee()},[c,ee,S]),b.useEffect(()=>{if(!Z)return;const oe=U=>{M.current&&!M.current.contains(U.target)&&ne(!1)},Le=U=>{U.key==="Escape"&&ne(!1)};return document.addEventListener("pointerdown",oe),document.addEventListener("keydown",Le),()=>{document.removeEventListener("pointerdown",oe),document.removeEventListener("keydown",Le)}},[Z]);const ce=b.useCallback(()=>{const oe=!k.current.collapsed;S(Le=>({...Le,collapsed:oe})),I||ie({collapsed:oe})},[I,ie,S]),de=oe=>{I||(se.current=!0,he.current=oe.clientX,ye.current=k.current.width,oe.target.setPointerCapture(oe.pointerId),oe.preventDefault())},Te=oe=>{if(!se.current)return;const Le=oe.clientX-he.current,U=typeof window<"u"?window.innerWidth:void 0,pe=py(ye.current+Le,U);S(He=>He.width===pe?He:{...He,width:pe})},ke=b.useCallback(oe=>{I||oe!==ye.current&&ie({width:oe})},[I,ie]),Ve=oe=>{se.current&&(se.current=!1,oe.target.releasePointerCapture(oe.pointerId),ke(k.current.width))},Ge=()=>{se.current&&(se.current=!1,S(oe=>({...oe,width:ye.current})))},At=b.useCallback(()=>{if(I)return;const oe=Ku(Vu,g,k.current.order);X.current=[...oe],Y(oe),K(!0)},[I,g]),rt=()=>{te.current!==null&&(window.clearTimeout(te.current),te.current=null)},Ze=()=>{A||I||(rt(),te.current=window.setTimeout(()=>{At(),te.current=null},L_))},wt=()=>{rt()},on=b.useCallback((oe=!1)=>{const Le=!al(T,X.current);!oe&&Le&&!window.confirm("Discard unsaved sidebar changes?")||(Y([]),K(!1),rt())},[T]),en=()=>{Y([...X.current]),on(!0)},un=()=>{const oe=Ku(Vu,g,[]);Y(oe)},Qt=async()=>{if(I||P)return;if(al(T,X.current)){on(!0);return}await ie({order:T})&&(X.current=[...T],S(Le=>({...Le,order:T})),on(!0))},vt=(oe,Le)=>{Y(U=>{const pe=U.indexOf(oe);if(pe===-1)return U;const He=pe+Le;if(He<0||He>=U.length)return U;const it=[...U],[Rt]=it.splice(pe,1);return it.splice(He,0,Rt),it})},$t=b.useCallback(async()=>{ne(!1),await Y0(),sl(),e("/auth/login",{replace:!0})},[e]),lt=b.useCallback(()=>{ne(!1);const oe=`${t.pathname}${t.search}${t.hash}`;Hu(oe),sl(),e("/auth/login",{replace:!0})},[t.pathname,t.search,t.hash,e]),ge=b.useCallback(()=>{ne(!1),e("/profile/theme")},[e]),Me=b.useMemo(()=>Ku(Vu,g,x.order),[g,x.order]);if(n)return null;if(a&&!c&&!t.pathname.startsWith("/auth/")){const oe=`${t.pathname}${t.search}${t.hash}`;return Hu(oe),sl(),e("/auth/login",{replace:!0}),null}if(t.pathname.startsWith("/auth/"))return h.jsx("main",{id:"main",role:"main",children:h.jsx(ip,{})});const pt=(A?T:Me).map(oe=>T_.get(oe)).filter(oe=>!!oe),tn=M_,ot=Math.max(x.width,Ls),ct=O_(f),Ht=!al(T,X.current);return h.jsxs("div",{className:"app-shell d-flex flex-column min-vh-100",children:[h.jsx("header",{className:"border-bottom bg-body",children:h.jsxs("div",{className:"container-fluid d-flex align-items-center gap-3 py-2",children:[h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm","aria-label":x.collapsed?"Show sidebar":"Hide sidebar","aria-pressed":!x.collapsed,onClick:ce,disabled:q,children:x.collapsed?"Show menu":"Hide menu"}),h.jsxs(il,{to:"/",className:"navbar-brand d-flex align-items-center gap-2 text-decoration-none",children:[h.jsx("span",{className:"d-inline-flex align-items-center justify-content-center",style:{minHeight:"40px",padding:"4px 0"},children:h.jsx("img",{src:ct,alt:f.title,height:40,style:{width:"auto",maxHeight:"40px"}})}),h.jsx("span",{className:"fw-semibold d-none d-sm-inline",children:f.title})]}),h.jsx("nav",{className:"nav nav-pills gap-1 ms-3 flex-wrap","aria-label":"Primary navigation",children:tn.map(oe=>h.jsx(il,{to:oe.path,className:({isActive:Le})=>`nav-link py-1 px-2${Le?" active fw-semibold":""}`,children:oe.label},oe.id))}),h.jsx("div",{className:"ms-auto d-flex align-items-center gap-2",children:a&&!c?h.jsx(il,{className:"btn btn-primary btn-sm",to:"/auth/login",children:"Login"}):h.jsxs("div",{className:"dropdown",ref:M,children:[h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm dropdown-toggle","aria-expanded":Z,onClick:()=>ne(oe=>!oe),children:"Account"}),h.jsxs("div",{className:`dropdown-menu dropdown-menu-end${Z?" show":""}`,children:[h.jsx("button",{type:"button",className:"dropdown-item",onClick:ge,children:"Profile"}),h.jsx("button",{type:"button",className:"dropdown-item",onClick:lt,children:"Lock"}),h.jsx("button",{type:"button",className:"dropdown-item text-danger",onClick:$t,children:"Logout"})]})]})})]})}),h.jsxs("div",{className:"app-body d-flex flex-grow-1 position-relative",children:[!x.collapsed&&h.jsxs(h.Fragment,{children:[h.jsx("aside",{className:"border-end bg-body","aria-label":"Secondary navigation",style:{width:`${ot}px`,minWidth:`${Ls}px`},children:h.jsxs("div",{className:"d-flex flex-column h-100",children:[h.jsxs("div",{className:"px-3 py-3 border-bottom",children:[h.jsxs("div",{className:"d-flex align-items-center justify-content-between gap-2",children:[h.jsx("h2",{className:"h6 mb-0",children:"Modules"}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onPointerDown:Ze,onPointerUp:wt,onPointerLeave:wt,onPointerCancel:wt,onKeyDown:oe=>{(oe.key==="Enter"||oe.key===" ")&&(oe.preventDefault(),At())},disabled:I||q,children:"Customize"})]}),h.jsx("small",{className:"text-muted d-block mt-1",children:"Hold to customize sidebar"})]}),A&&h.jsxs("div",{className:"px-3 py-2 border-bottom d-flex flex-wrap gap-2",children:[h.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:()=>void Qt(),disabled:!Ht||P,children:P?"Saving":"Save"}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:en,children:"Cancel"}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:un,children:"Default"}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>on(),children:"Exit"})]}),C&&h.jsx("div",{className:"px-3 py-2",children:h.jsx("div",{className:"alert alert-info mb-2 text-wrap",children:C})}),h.jsx("div",{className:"flex-grow-1 overflow-auto",children:A?h.jsx("ul",{className:"list-group list-group-flush",children:pt.map((oe,Le)=>h.jsxs("li",{className:"list-group-item d-flex align-items-center justify-content-between gap-2",children:[h.jsx("span",{children:oe.label}),h.jsxs("div",{className:"btn-group btn-group-sm",role:"group","aria-label":`${oe.label} position`,children:[h.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>vt(oe.id,-1),disabled:Le===0,"aria-label":`Move ${oe.label} up`,children:""}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>vt(oe.id,1),disabled:Le===pt.length-1,"aria-label":`Move ${oe.label} down`,children:""})]})]},oe.id))}):h.jsx("nav",{className:"nav flex-column gap-1 px-2 py-3","aria-label":"Sidebar modules",children:pt.map(oe=>h.jsx(il,{to:oe.path,className:({isActive:Le})=>`nav-link text-truncate${Le?" active fw-semibold":""}`,children:oe.label},oe.id))})})]})}),h.jsx("div",{role:"separator","aria-orientation":"vertical",className:"bg-body border-end",style:{width:"4px",cursor:I?"not-allowed":"col-resize"},onPointerDown:de,onPointerMove:Te,onPointerUp:Ve,onPointerCancel:Ge})]}),h.jsx("main",{id:"main",role:"main",className:"flex-grow-1 overflow-auto",children:h.jsx(ip,{})})]})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function eo(t){return t+.5|0}const yi=(t,e,n)=>Math.max(Math.min(t,n),e);function za(t){return yi(eo(t*2.55),0,255)}function _i(t){return yi(eo(t*255),0,255)}function Or(t){return yi(eo(t/2.55)/100,0,1)}function fp(t){return yi(eo(t*100),0,100)}const Yn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},vd=[..."0123456789ABCDEF"],I_=t=>vd[t&15],z_=t=>vd[(t&240)>>4]+vd[t&15],ol=t=>(t&240)>>4===(t&15),U_=t=>ol(t.r)&&ol(t.g)&&ol(t.b)&&ol(t.a);function B_(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Yn[t[1]]*17,g:255&Yn[t[2]]*17,b:255&Yn[t[3]]*17,a:e===5?Yn[t[4]]*17:255}:(e===7||e===9)&&(n={r:Yn[t[1]]<<4|Yn[t[2]],g:Yn[t[3]]<<4|Yn[t[4]],b:Yn[t[5]]<<4|Yn[t[6]],a:e===9?Yn[t[7]]<<4|Yn[t[8]]:255})),n}const $_=(t,e)=>t<255?e(t):"";function H_(t){var e=U_(t)?I_:z_;return t?"#"+e(t.r)+e(t.g)+e(t.b)+$_(t.a,e):void 0}const W_=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function gy(t,e,n){const i=e*Math.min(n,1-n),a=(o,c=(o+t/30)%12)=>n-i*Math.max(Math.min(c-3,9-c,1),-1);return[a(0),a(8),a(4)]}function V_(t,e,n){const i=(a,o=(a+t/60)%6)=>n-n*e*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function K_(t,e,n){const i=gy(t,1,.5);let a;for(e+n>1&&(a=1/(e+n),e*=a,n*=a),a=0;a<3;a++)i[a]*=1-e-n,i[a]+=e;return i}function Y_(t,e,n,i,a){return t===a?(e-n)/i+(e<n?6:0):e===a?(n-t)/i+2:(t-e)/i+4}function zd(t){const n=t.r/255,i=t.g/255,a=t.b/255,o=Math.max(n,i,a),c=Math.min(n,i,a),u=(o+c)/2;let f,m,g;return o!==c&&(g=o-c,m=u>.5?g/(2-o-c):g/(o+c),f=Y_(n,i,a,g,o),f=f*60+.5),[f|0,m||0,u]}function Ud(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(_i)}function Bd(t,e,n){return Ud(gy,t,e,n)}function X_(t,e,n){return Ud(K_,t,e,n)}function Q_(t,e,n){return Ud(V_,t,e,n)}function yy(t){return(t%360+360)%360}function G_(t){const e=W_.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?za(+e[5]):_i(+e[5]));const a=yy(+e[2]),o=+e[3]/100,c=+e[4]/100;return e[1]==="hwb"?i=X_(a,o,c):e[1]==="hsv"?i=Q_(a,o,c):i=Bd(a,o,c),{r:i[0],g:i[1],b:i[2],a:n}}function q_(t,e){var n=zd(t);n[0]=yy(n[0]+e),n=Bd(n),t.r=n[0],t.g=n[1],t.b=n[2]}function J_(t){if(!t)return;const e=zd(t),n=e[0],i=fp(e[1]),a=fp(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${a}%, ${Or(t.a)})`:`hsl(${n}, ${i}%, ${a}%)`}const hp={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},mp={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Z_(){const t={},e=Object.keys(mp),n=Object.keys(hp);let i,a,o,c,u;for(i=0;i<e.length;i++){for(c=u=e[i],a=0;a<n.length;a++)o=n[a],u=u.replace(o,hp[o]);o=parseInt(mp[c],16),t[u]=[o>>16&255,o>>8&255,o&255]}return t}let ll;function ew(t){ll||(ll=Z_(),ll.transparent=[0,0,0,0]);const e=ll[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const tw=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function nw(t){const e=tw.exec(t);let n=255,i,a,o;if(e){if(e[7]!==i){const c=+e[7];n=e[8]?za(c):yi(c*255,0,255)}return i=+e[1],a=+e[3],o=+e[5],i=255&(e[2]?za(i):yi(i,0,255)),a=255&(e[4]?za(a):yi(a,0,255)),o=255&(e[6]?za(o):yi(o,0,255)),{r:i,g:a,b:o,a:n}}}function rw(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Or(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Xu=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Ps=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function iw(t,e,n){const i=Ps(Or(t.r)),a=Ps(Or(t.g)),o=Ps(Or(t.b));return{r:_i(Xu(i+n*(Ps(Or(e.r))-i))),g:_i(Xu(a+n*(Ps(Or(e.g))-a))),b:_i(Xu(o+n*(Ps(Or(e.b))-o))),a:t.a+n*(e.a-t.a)}}function cl(t,e,n){if(t){let i=zd(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=Bd(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function vy(t,e){return t&&Object.assign(e||{},t)}function pp(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=_i(t[3]))):(e=vy(t,{r:0,g:0,b:0,a:1}),e.a=_i(e.a)),e}function sw(t){return t.charAt(0)==="r"?nw(t):G_(t)}class Xa{constructor(e){if(e instanceof Xa)return e;const n=typeof e;let i;n==="object"?i=pp(e):n==="string"&&(i=B_(e)||ew(e)||sw(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=vy(this._rgb);return e&&(e.a=Or(e.a)),e}set rgb(e){this._rgb=pp(e)}rgbString(){return this._valid?rw(this._rgb):void 0}hexString(){return this._valid?H_(this._rgb):void 0}hslString(){return this._valid?J_(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,a=e.rgb;let o;const c=n===o?.5:n,u=2*c-1,f=i.a-a.a,m=((u*f===-1?u:(u+f)/(1+u*f))+1)/2;o=1-m,i.r=255&m*i.r+o*a.r+.5,i.g=255&m*i.g+o*a.g+.5,i.b=255&m*i.b+o*a.b+.5,i.a=c*i.a+(1-c)*a.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=iw(this._rgb,e._rgb,n)),this}clone(){return new Xa(this.rgb)}alpha(e){return this._rgb.a=_i(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=eo(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return cl(this._rgb,2,e),this}darken(e){return cl(this._rgb,2,-e),this}saturate(e){return cl(this._rgb,1,e),this}desaturate(e){return cl(this._rgb,1,-e),this}rotate(e){return q_(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Dr(){}const aw=(()=>{let t=0;return()=>t++})();function yt(t){return t==null}function an(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function nt(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Xn(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function gr(t,e){return Xn(t)?t:e}function tt(t,e){return typeof t>"u"?e:t}const ow=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,xy=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Et(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function ht(t,e,n,i){let a,o,c;if(an(t))for(o=t.length,a=0;a<o;a++)e.call(n,t[a],a);else if(nt(t))for(c=Object.keys(t),o=c.length,a=0;a<o;a++)e.call(n,t[c[a]],c[a])}function Ll(t,e){let n,i,a,o;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(a=t[n],o=e[n],a.datasetIndex!==o.datasetIndex||a.index!==o.index)return!1;return!0}function Ol(t){if(an(t))return t.map(Ol);if(nt(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let a=0;for(;a<i;++a)e[n[a]]=Ol(t[n[a]]);return e}return t}function by(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function lw(t,e,n,i){if(!by(t))return;const a=e[t],o=n[t];nt(a)&&nt(o)?Qa(a,o,i):e[t]=Ol(o)}function Qa(t,e,n){const i=an(e)?e:[e],a=i.length;if(!nt(t))return t;n=n||{};const o=n.merger||lw;let c;for(let u=0;u<a;++u){if(c=i[u],!nt(c))continue;const f=Object.keys(c);for(let m=0,g=f.length;m<g;++m)o(f[m],t,c,n)}return t}function $a(t,e){return Qa(t,e,{merger:cw})}function cw(t,e,n){if(!by(t))return;const i=e[t],a=n[t];nt(i)&&nt(a)?$a(i,a):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Ol(a))}const gp={"":t=>t,x:t=>t.x,y:t=>t.y};function uw(t){const e=t.split("."),n=[];let i="";for(const a of e)i+=a,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function dw(t){const e=uw(t);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function ts(t,e){return(gp[e]||(gp[e]=dw(e)))(t)}function $d(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Ga=t=>typeof t<"u",Si=t=>typeof t=="function",yp=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function fw(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Nt=Math.PI,Xt=2*Nt,Fl=Number.POSITIVE_INFINITY,hw=Nt/180,Zt=Nt/2,Bi=Nt/4,vp=Nt*2/3,_y=Math.log10,wi=Math.sign;function jl(t,e,n){return Math.abs(t-e)<n}function xp(t){const e=Math.round(t);t=jl(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(_y(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function mw(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((a,o)=>a-o).pop(),e}function pw(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Il(t){return!pw(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function gw(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function yw(t,e,n){let i,a,o;for(i=0,a=t.length;i<a;i++)o=t[i][n],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function Ir(t){return t*(Nt/180)}function vw(t){return t*(180/Nt)}function bp(t){if(!Xn(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function wy(t,e){const n=e.x-t.x,i=e.y-t.y,a=Math.sqrt(n*n+i*i);let o=Math.atan2(i,n);return o<-.5*Nt&&(o+=Xt),{angle:o,distance:a}}function xw(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function br(t){return(t%Xt+Xt)%Xt}function zl(t,e,n,i){const a=br(t),o=br(e),c=br(n),u=br(o-a),f=br(c-a),m=br(a-o),g=br(a-c);return a===o||a===c||i&&o===c||u>f&&m<g}function Mn(t,e,n){return Math.max(e,Math.min(n,t))}function bw(t){return Mn(t,-32768,32767)}function Gi(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function Hd(t,e,n){n=n||(c=>t[c]<e);let i=t.length-1,a=0,o;for(;i-a>1;)o=a+i>>1,n(o)?a=o:i=o;return{lo:a,hi:i}}const xd=(t,e,n,i)=>Hd(t,n,i?a=>{const o=t[a][e];return o<n||o===n&&t[a+1][e]===n}:a=>t[a][e]<n),_w=(t,e,n)=>Hd(t,n,i=>t[i][e]>=n);function ww(t,e,n){let i=0,a=t.length;for(;i<a&&t[i]<e;)i++;for(;a>i&&t[a-1]>n;)a--;return i>0||a<t.length?t.slice(i,a):t}const Sy=["push","pop","shift","splice","unshift"];function Sw(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Sy.forEach(n=>{const i="_onData"+$d(n),a=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...o){const c=a.apply(this,o);return t._chartjs.listeners.forEach(u=>{typeof u[i]=="function"&&u[i](...o)}),c}})})}function _p(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,a=i.indexOf(e);a!==-1&&i.splice(a,1),!(i.length>0)&&(Sy.forEach(o=>{delete t[o]}),delete t._chartjs)}function ky(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const jy=(function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame})();function Cy(t,e){let n=[],i=!1;return function(...a){n=a,i||(i=!0,jy.call(window,()=>{i=!1,t.apply(e,n)}))}}function kw(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const Ey=t=>t==="start"?"left":t==="end"?"right":"center",In=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,jw=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e,ul=t=>t===0||t===1,wp=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Xt/n)),Sp=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Xt/n)+1,Ha={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Zt)+1,easeOutSine:t=>Math.sin(t*Zt),easeInOutSine:t=>-.5*(Math.cos(Nt*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>ul(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>ul(t)?t:wp(t,.075,.3),easeOutElastic:t=>ul(t)?t:Sp(t,.075,.3),easeInOutElastic(t){return ul(t)?t:t<.5?.5*wp(t*2,.1125,.45):.5+.5*Sp(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Ha.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Ha.easeInBounce(t*2)*.5:Ha.easeOutBounce(t*2-1)*.5+.5};function Ny(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function kp(t){return Ny(t)?t:new Xa(t)}function Qu(t){return Ny(t)?t:new Xa(t).saturate(.5).darken(.1).hexString()}const Cw=["x","y","borderWidth","radius","tension"],Ew=["color","borderColor","backgroundColor"];function Nw(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:Ew},numbers:{type:"number",properties:Cw}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function Rw(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const jp=new Map;function Mw(t,e){e=e||{};const n=t+JSON.stringify(e);let i=jp.get(n);return i||(i=new Intl.NumberFormat(t,e),jp.set(n,i)),i}function Wd(t,e,n){return Mw(e,n).format(t)}const Tw={values(t){return an(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let a,o=t;if(n.length>1){const m=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(m<1e-4||m>1e15)&&(a="scientific"),o=Pw(t,n)}const c=_y(Math.abs(o)),u=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),f={notation:a,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(f,this.options.ticks.format),Wd(t,i,f)}};function Pw(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Ry={formatters:Tw};function Dw(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ry.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const ns=Object.create(null),bd=Object.create(null);function Wa(t,e){if(!e)return t;const n=e.split(".");for(let i=0,a=n.length;i<a;++i){const o=n[i];t=t[o]||(t[o]=Object.create(null))}return t}function Gu(t,e,n){return typeof e=="string"?Qa(Wa(t,e),n):Qa(Wa(t,""),e)}class Aw{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,a)=>Qu(a.backgroundColor),this.hoverBorderColor=(i,a)=>Qu(a.borderColor),this.hoverColor=(i,a)=>Qu(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Gu(this,e,n)}get(e){return Wa(this,e)}describe(e,n){return Gu(bd,e,n)}override(e,n){return Gu(ns,e,n)}route(e,n,i,a){const o=Wa(this,e),c=Wa(this,i),u="_"+n;Object.defineProperties(o,{[u]:{value:o[n],writable:!0},[n]:{enumerable:!0,get(){const f=this[u],m=c[a];return nt(f)?Object.assign({},m,f):tt(f,m)},set(f){this[u]=f}}})}apply(e){e.forEach(n=>n(this))}}var Ut=new Aw({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Nw,Rw,Dw]);function Lw(t){return!t||yt(t.size)||yt(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Cp(t,e,n,i,a){let o=e[a];return o||(o=e[a]=t.measureText(a).width,n.push(a)),o>i&&(i=o),i}function $i(t,e,n){const i=t.currentDevicePixelRatio,a=n!==0?Math.max(n/2,.5):0;return Math.round((e-a)*i)/i+a}function Ep(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Np(t,e,n,i){My(t,e,n,i,null)}function My(t,e,n,i,a){let o,c,u,f,m,g,v,x;const w=e.pointStyle,k=e.rotation,j=e.radius;let C=(k||0)*hw;if(w&&typeof w=="object"&&(o=w.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(C),t.drawImage(w,-w.width/2,-w.height/2,w.width,w.height),t.restore();return}if(!(isNaN(j)||j<=0)){switch(t.beginPath(),w){default:a?t.ellipse(n,i,a/2,j,0,0,Xt):t.arc(n,i,j,0,Xt),t.closePath();break;case"triangle":g=a?a/2:j,t.moveTo(n+Math.sin(C)*g,i-Math.cos(C)*j),C+=vp,t.lineTo(n+Math.sin(C)*g,i-Math.cos(C)*j),C+=vp,t.lineTo(n+Math.sin(C)*g,i-Math.cos(C)*j),t.closePath();break;case"rectRounded":m=j*.516,f=j-m,c=Math.cos(C+Bi)*f,v=Math.cos(C+Bi)*(a?a/2-m:f),u=Math.sin(C+Bi)*f,x=Math.sin(C+Bi)*(a?a/2-m:f),t.arc(n-v,i-u,m,C-Nt,C-Zt),t.arc(n+x,i-c,m,C-Zt,C),t.arc(n+v,i+u,m,C,C+Zt),t.arc(n-x,i+c,m,C+Zt,C+Nt),t.closePath();break;case"rect":if(!k){f=Math.SQRT1_2*j,g=a?a/2:f,t.rect(n-g,i-f,2*g,2*f);break}C+=Bi;case"rectRot":v=Math.cos(C)*(a?a/2:j),c=Math.cos(C)*j,u=Math.sin(C)*j,x=Math.sin(C)*(a?a/2:j),t.moveTo(n-v,i-u),t.lineTo(n+x,i-c),t.lineTo(n+v,i+u),t.lineTo(n-x,i+c),t.closePath();break;case"crossRot":C+=Bi;case"cross":v=Math.cos(C)*(a?a/2:j),c=Math.cos(C)*j,u=Math.sin(C)*j,x=Math.sin(C)*(a?a/2:j),t.moveTo(n-v,i-u),t.lineTo(n+v,i+u),t.moveTo(n+x,i-c),t.lineTo(n-x,i+c);break;case"star":v=Math.cos(C)*(a?a/2:j),c=Math.cos(C)*j,u=Math.sin(C)*j,x=Math.sin(C)*(a?a/2:j),t.moveTo(n-v,i-u),t.lineTo(n+v,i+u),t.moveTo(n+x,i-c),t.lineTo(n-x,i+c),C+=Bi,v=Math.cos(C)*(a?a/2:j),c=Math.cos(C)*j,u=Math.sin(C)*j,x=Math.sin(C)*(a?a/2:j),t.moveTo(n-v,i-u),t.lineTo(n+v,i+u),t.moveTo(n+x,i-c),t.lineTo(n-x,i+c);break;case"line":c=a?a/2:Math.cos(C)*j,u=Math.sin(C)*j,t.moveTo(n-c,i-u),t.lineTo(n+c,i+u);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(C)*(a?a/2:j),i+Math.sin(C)*j);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Ty(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Vd(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Kd(t){t.restore()}function Ow(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),yt(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function Fw(t,e,n,i,a){if(a.strikethrough||a.underline){const o=t.measureText(i),c=e-o.actualBoundingBoxLeft,u=e+o.actualBoundingBoxRight,f=n-o.actualBoundingBoxAscent,m=n+o.actualBoundingBoxDescent,g=a.strikethrough?(f+m)/2:m;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=a.decorationWidth||2,t.moveTo(c,g),t.lineTo(u,g),t.stroke()}}function Iw(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Ul(t,e,n,i,a,o={}){const c=an(e)?e:[e],u=o.strokeWidth>0&&o.strokeColor!=="";let f,m;for(t.save(),t.font=a.string,Ow(t,o),f=0;f<c.length;++f)m=c[f],o.backdrop&&Iw(t,o.backdrop),u&&(o.strokeColor&&(t.strokeStyle=o.strokeColor),yt(o.strokeWidth)||(t.lineWidth=o.strokeWidth),t.strokeText(m,n,i,o.maxWidth)),t.fillText(m,n,i,o.maxWidth),Fw(t,n,i,m,o),i+=Number(a.lineHeight);t.restore()}function Bl(t,e){const{x:n,y:i,w:a,h:o,radius:c}=e;t.arc(n+c.topLeft,i+c.topLeft,c.topLeft,1.5*Nt,Nt,!0),t.lineTo(n,i+o-c.bottomLeft),t.arc(n+c.bottomLeft,i+o-c.bottomLeft,c.bottomLeft,Nt,Zt,!0),t.lineTo(n+a-c.bottomRight,i+o),t.arc(n+a-c.bottomRight,i+o-c.bottomRight,c.bottomRight,Zt,0,!0),t.lineTo(n+a,i+c.topRight),t.arc(n+a-c.topRight,i+c.topRight,c.topRight,0,-Zt,!0),t.lineTo(n+c.topLeft,i)}const zw=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Uw=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Bw(t,e){const n=(""+t).match(zw);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const $w=t=>+t||0;function Yd(t,e){const n={},i=nt(e),a=i?Object.keys(e):e,o=nt(t)?i?c=>tt(t[c],t[e[c]]):c=>t[c]:()=>t;for(const c of a)n[c]=$w(o(c));return n}function Py(t){return Yd(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Os(t){return Yd(t,["topLeft","topRight","bottomLeft","bottomRight"])}function lr(t){const e=Py(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Tn(t,e){t=t||{},e=e||Ut.font;let n=tt(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=tt(t.style,e.style);i&&!(""+i).match(Uw)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const a={family:tt(t.family,e.family),lineHeight:Bw(tt(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:tt(t.weight,e.weight),string:""};return a.string=Lw(a),a}function dl(t,e,n,i){let a,o,c;for(a=0,o=t.length;a<o;++a)if(c=t[a],c!==void 0&&c!==void 0)return c}function Hw(t,e,n){const{min:i,max:a}=t,o=xy(e,(a-i)/2),c=(u,f)=>n&&u===0?0:u+f;return{min:c(i,-Math.abs(o)),max:c(a,o)}}function Vs(t,e){return Object.assign(Object.create(t),e)}function Xd(t,e=[""],n,i,a=()=>t[0]){const o=n||t;typeof i>"u"&&(i=Oy("_fallback",t));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:o,_fallback:i,_getTarget:a,override:u=>Xd([u,...t],e,o,i)};return new Proxy(c,{deleteProperty(u,f){return delete u[f],delete u._keys,delete t[0][f],!0},get(u,f){return Ay(u,f,()=>qw(f,e,t,u))},getOwnPropertyDescriptor(u,f){return Reflect.getOwnPropertyDescriptor(u._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(u,f){return Mp(u).includes(f)},ownKeys(u){return Mp(u)},set(u,f,m){const g=u._storage||(u._storage=a());return u[f]=g[f]=m,delete u._keys,!0}})}function Us(t,e,n,i){const a={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:Dy(t,i),setContext:o=>Us(t,o,n,i),override:o=>Us(t.override(o),e,n,i)};return new Proxy(a,{deleteProperty(o,c){return delete o[c],delete t[c],!0},get(o,c,u){return Ay(o,c,()=>Vw(o,c,u))},getOwnPropertyDescriptor(o,c){return o._descriptors.allKeys?Reflect.has(t,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,c)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(o,c){return Reflect.has(t,c)},ownKeys(){return Reflect.ownKeys(t)},set(o,c,u){return t[c]=u,delete o[c],!0}})}function Dy(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:a=e.allKeys}=t;return{allKeys:a,scriptable:n,indexable:i,isScriptable:Si(n)?n:()=>n,isIndexable:Si(i)?i:()=>i}}const Ww=(t,e)=>t?t+$d(e):e,Qd=(t,e)=>nt(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Ay(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const i=n();return t[e]=i,i}function Vw(t,e,n){const{_proxy:i,_context:a,_subProxy:o,_descriptors:c}=t;let u=i[e];return Si(u)&&c.isScriptable(e)&&(u=Kw(e,u,t,n)),an(u)&&u.length&&(u=Yw(e,u,t,c.isIndexable)),Qd(e,u)&&(u=Us(u,a,o&&o[e],c)),u}function Kw(t,e,n,i){const{_proxy:a,_context:o,_subProxy:c,_stack:u}=n;if(u.has(t))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+t);u.add(t);let f=e(o,c||i);return u.delete(t),Qd(t,f)&&(f=Gd(a._scopes,a,t,f)),f}function Yw(t,e,n,i){const{_proxy:a,_context:o,_subProxy:c,_descriptors:u}=n;if(typeof o.index<"u"&&i(t))return e[o.index%e.length];if(nt(e[0])){const f=e,m=a._scopes.filter(g=>g!==f);e=[];for(const g of f){const v=Gd(m,a,t,g);e.push(Us(v,o,c&&c[t],u))}}return e}function Ly(t,e,n){return Si(t)?t(e,n):t}const Xw=(t,e)=>t===!0?e:typeof t=="string"?ts(e,t):void 0;function Qw(t,e,n,i,a){for(const o of e){const c=Xw(n,o);if(c){t.add(c);const u=Ly(c._fallback,n,a);if(typeof u<"u"&&u!==n&&u!==i)return u}else if(c===!1&&typeof i<"u"&&n!==i)return null}return!1}function Gd(t,e,n,i){const a=e._rootScopes,o=Ly(e._fallback,n,i),c=[...t,...a],u=new Set;u.add(i);let f=Rp(u,c,n,o||n,i);return f===null||typeof o<"u"&&o!==n&&(f=Rp(u,c,o,f,i),f===null)?!1:Xd(Array.from(u),[""],a,o,()=>Gw(e,n,i))}function Rp(t,e,n,i,a){for(;n;)n=Qw(t,e,n,i,a);return n}function Gw(t,e,n){const i=t._getTarget();e in i||(i[e]={});const a=i[e];return an(a)&&nt(n)?n:a||{}}function qw(t,e,n,i){let a;for(const o of e)if(a=Oy(Ww(o,t),n),typeof a<"u")return Qd(t,a)?Gd(n,i,t,a):a}function Oy(t,e){for(const n of e){if(!n)continue;const i=n[t];if(typeof i<"u")return i}}function Mp(t){let e=t._keys;return e||(e=t._keys=Jw(t._scopes)),e}function Jw(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(a=>!a.startsWith("_")))e.add(i);return Array.from(e)}function qd(){return typeof window<"u"&&typeof document<"u"}function Jd(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function $l(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const Zl=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function Zw(t,e){return Zl(t).getPropertyValue(e)}const eS=["top","right","bottom","left"];function Zi(t,e,n){const i={};n=n?"-"+n:"";for(let a=0;a<4;a++){const o=eS[a];i[o]=parseFloat(t[e+"-"+o+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const tS=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function nS(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:a,offsetY:o}=i;let c=!1,u,f;if(tS(a,o,t.target))u=a,f=o;else{const m=e.getBoundingClientRect();u=i.clientX-m.left,f=i.clientY-m.top,c=!0}return{x:u,y:f,box:c}}function Wi(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,a=Zl(n),o=a.boxSizing==="border-box",c=Zi(a,"padding"),u=Zi(a,"border","width"),{x:f,y:m,box:g}=nS(t,n),v=c.left+(g&&u.left),x=c.top+(g&&u.top);let{width:w,height:k}=e;return o&&(w-=c.width+u.width,k-=c.height+u.height),{x:Math.round((f-v)/w*n.width/i),y:Math.round((m-x)/k*n.height/i)}}function rS(t,e,n){let i,a;if(e===void 0||n===void 0){const o=t&&Jd(t);if(!o)e=t.clientWidth,n=t.clientHeight;else{const c=o.getBoundingClientRect(),u=Zl(o),f=Zi(u,"border","width"),m=Zi(u,"padding");e=c.width-m.width-f.width,n=c.height-m.height-f.height,i=$l(u.maxWidth,o,"clientWidth"),a=$l(u.maxHeight,o,"clientHeight")}}return{width:e,height:n,maxWidth:i||Fl,maxHeight:a||Fl}}const fl=t=>Math.round(t*10)/10;function iS(t,e,n,i){const a=Zl(t),o=Zi(a,"margin"),c=$l(a.maxWidth,t,"clientWidth")||Fl,u=$l(a.maxHeight,t,"clientHeight")||Fl,f=rS(t,e,n);let{width:m,height:g}=f;if(a.boxSizing==="content-box"){const x=Zi(a,"border","width"),w=Zi(a,"padding");m-=w.width+x.width,g-=w.height+x.height}return m=Math.max(0,m-o.width),g=Math.max(0,i?m/i:g-o.height),m=fl(Math.min(m,c,f.maxWidth)),g=fl(Math.min(g,u,f.maxHeight)),m&&!g&&(g=fl(m/2)),(e!==void 0||n!==void 0)&&i&&f.height&&g>f.height&&(g=f.height,m=fl(Math.floor(g*i))),{width:m,height:g}}function Tp(t,e,n){const i=e||1,a=Math.floor(t.height*i),o=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const c=t.canvas;return c.style&&(n||!c.style.height&&!c.style.width)&&(c.style.height=`${t.height}px`,c.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||c.height!==a||c.width!==o?(t.currentDevicePixelRatio=i,c.height=a,c.width=o,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const sS=(function(){let t=!1;try{const e={get passive(){return t=!0,!1}};qd()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t})();function Pp(t,e){const n=Zw(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}const aS=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},oS=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Fs(t,e,n){return t?aS(e,n):oS()}function Fy(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function Iy(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function hl(t,e,n){return t.options.clip?t[n]:e[n]}function lS(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:hl(n,e,"left"),right:hl(n,e,"right"),top:hl(i,e,"top"),bottom:hl(i,e,"bottom")}:e}function cS(t,e){const n=e._clip;if(n.disabled)return!1;const i=lS(e,t.chartArea);return{left:n.left===!1?0:i.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:i.right+(n.right===!0?0:n.right),top:n.top===!1?0:i.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:i.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class uS{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,a){const o=n.listeners[a],c=n.duration;o.forEach(u=>u({chart:e,initial:n.initial,numSteps:c,currentStep:Math.min(i-n.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=jy.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,a)=>{if(!i.running||!i.items.length)return;const o=i.items;let c=o.length-1,u=!1,f;for(;c>=0;--c)f=o[c],f._active?(f._total>i.duration&&(i.duration=f._total),f.tick(e),u=!0):(o[c]=o[o.length-1],o.pop());u&&(a.draw(),this._notify(a,i,e,"progress")),o.length||(i.running=!1,this._notify(a,i,e,"complete"),i.initial=!1),n+=o.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,a)=>Math.max(i,a._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let a=i.length-1;for(;a>=0;--a)i[a].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Ar=new uS;const Dp="transparent",dS={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=kp(t||Dp),a=i.valid&&kp(e||Dp);return a&&a.valid?a.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class fS{constructor(e,n,i,a){const o=n[i];a=dl([e.to,a,o,e.from]);const c=dl([e.from,o,a]);this._active=!0,this._fn=e.fn||dS[e.type||typeof c],this._easing=Ha[e.easing]||Ha.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=c,this._to=a,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const a=this._target[this._prop],o=i-this._start,c=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(c,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=dl([e.to,n,a,e.from]),this._from=dl([e.from,a,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,a=this._prop,o=this._from,c=this._loop,u=this._to;let f;if(this._active=o!==u&&(c||n<i),!this._active){this._target[a]=u,this._notify(!0);return}if(n<0){this._target[a]=o;return}f=n/i%2,f=c&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[a]=this._fn(o,u,f)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let a=0;a<i.length;a++)i[a][n]()}}class zy{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!nt(e))return;const n=Object.keys(Ut.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(a=>{const o=e[a];if(!nt(o))return;const c={};for(const u of n)c[u]=o[u];(an(o.properties)&&o.properties||[a]).forEach(u=>{(u===a||!i.has(u))&&i.set(u,c)})})}_animateOptions(e,n){const i=n.options,a=mS(e,i);if(!a)return[];const o=this._createAnimations(a,i);return i.$shared&&hS(e.options.$animations,i).then(()=>{e.options=i},()=>{}),o}_createAnimations(e,n){const i=this._properties,a=[],o=e.$animations||(e.$animations={}),c=Object.keys(n),u=Date.now();let f;for(f=c.length-1;f>=0;--f){const m=c[f];if(m.charAt(0)==="$")continue;if(m==="options"){a.push(...this._animateOptions(e,n));continue}const g=n[m];let v=o[m];const x=i.get(m);if(v)if(x&&v.active()){v.update(x,g,u);continue}else v.cancel();if(!x||!x.duration){e[m]=g;continue}o[m]=v=new fS(x,e,m,g),a.push(v)}return a}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return Ar.add(this._chart,i),!0}}function hS(t,e){const n=[],i=Object.keys(e);for(let a=0;a<i.length;a++){const o=t[i[a]];o&&o.active()&&n.push(o.wait())}return Promise.all(n)}function mS(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Ap(t,e){const n=t&&t.options||{},i=n.reverse,a=n.min===void 0?e:0,o=n.max===void 0?e:0;return{start:i?o:a,end:i?a:o}}function pS(t,e,n){if(n===!1)return!1;const i=Ap(t,n),a=Ap(e,n);return{top:a.end,right:i.end,bottom:a.start,left:i.start}}function gS(t){let e,n,i,a;return nt(t)?(e=t.top,n=t.right,i=t.bottom,a=t.left):e=n=i=a=t,{top:e,right:n,bottom:i,left:a,disabled:t===!1}}function Uy(t,e){const n=[],i=t._getSortedDatasetMetas(e);let a,o;for(a=0,o=i.length;a<o;++a)n.push(i[a].index);return n}function Lp(t,e,n,i={}){const a=t.keys,o=i.mode==="single";let c,u,f,m;if(e===null)return;let g=!1;for(c=0,u=a.length;c<u;++c){if(f=+a[c],f===n){if(g=!0,i.all)continue;break}m=t.values[f],Xn(m)&&(o||e===0||wi(e)===wi(m))&&(e+=m)}return!g&&!i.all?0:e}function yS(t,e){const{iScale:n,vScale:i}=e,a=n.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",c=Object.keys(t),u=new Array(c.length);let f,m,g;for(f=0,m=c.length;f<m;++f)g=c[f],u[f]={[a]:g,[o]:t[g]};return u}function qu(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function vS(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function xS(t){const{min:e,max:n,minDefined:i,maxDefined:a}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:a?n:Number.POSITIVE_INFINITY}}function bS(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function Op(t,e,n,i){for(const a of e.getMatchingVisibleMetas(i).reverse()){const o=t[a.index];if(n&&o>0||!n&&o<0)return a.index}return null}function Fp(t,e){const{chart:n,_cachedMeta:i}=t,a=n._stacks||(n._stacks={}),{iScale:o,vScale:c,index:u}=i,f=o.axis,m=c.axis,g=vS(o,c,i),v=e.length;let x;for(let w=0;w<v;++w){const k=e[w],{[f]:j,[m]:C}=k,N=k._stacks||(k._stacks={});x=N[m]=bS(a,g,j),x[u]=C,x._top=Op(x,c,!0,i.type),x._bottom=Op(x,c,!1,i.type);const P=x._visualValues||(x._visualValues={});P[u]=C}}function Ju(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function _S(t,e){return Vs(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function wS(t,e,n){return Vs(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Ta(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const a of e){const o=a._stacks;if(!o||o[i]===void 0||o[i][n]===void 0)return;delete o[i][n],o[i]._visualValues!==void 0&&o[i]._visualValues[n]!==void 0&&delete o[i]._visualValues[n]}}}const Zu=t=>t==="reset"||t==="none",Ip=(t,e)=>e?t:Object.assign({},t),SS=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:Uy(n,!0),values:null};class Zd{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=qu(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Ta(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),a=(v,x,w,k)=>v==="x"?x:v==="r"?k:w,o=n.xAxisID=tt(i.xAxisID,Ju(e,"x")),c=n.yAxisID=tt(i.yAxisID,Ju(e,"y")),u=n.rAxisID=tt(i.rAxisID,Ju(e,"r")),f=n.indexAxis,m=n.iAxisID=a(f,o,c,u),g=n.vAxisID=a(f,c,o,u);n.xScale=this.getScaleForId(o),n.yScale=this.getScaleForId(c),n.rScale=this.getScaleForId(u),n.iScale=this.getScaleForId(m),n.vScale=this.getScaleForId(g)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&_p(this._data,this),e._stacked&&Ta(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(nt(n)){const a=this._cachedMeta;this._data=yS(n,a)}else if(i!==n){if(i){_p(i,this);const a=this._cachedMeta;Ta(a),a._parsed=[]}n&&Object.isExtensible(n)&&Sw(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let a=!1;this._dataCheck();const o=n._stacked;n._stacked=qu(n.vScale,n),n.stack!==i.stack&&(a=!0,Ta(n),n.stack=i.stack),this._resyncElements(e),(a||o!==n._stacked)&&(Fp(this,n._parsed),n._stacked=qu(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:a}=this,{iScale:o,_stacked:c}=i,u=o.axis;let f=e===0&&n===a.length?!0:i._sorted,m=e>0&&i._parsed[e-1],g,v,x;if(this._parsing===!1)i._parsed=a,i._sorted=!0,x=a;else{an(a[e])?x=this.parseArrayData(i,a,e,n):nt(a[e])?x=this.parseObjectData(i,a,e,n):x=this.parsePrimitiveData(i,a,e,n);const w=()=>v[u]===null||m&&v[u]<m[u];for(g=0;g<n;++g)i._parsed[g+e]=v=x[g],f&&(w()&&(f=!1),m=v);i._sorted=f}c&&Fp(this,x)}parsePrimitiveData(e,n,i,a){const{iScale:o,vScale:c}=e,u=o.axis,f=c.axis,m=o.getLabels(),g=o===c,v=new Array(a);let x,w,k;for(x=0,w=a;x<w;++x)k=x+i,v[x]={[u]:g||o.parse(m[k],k),[f]:c.parse(n[k],k)};return v}parseArrayData(e,n,i,a){const{xScale:o,yScale:c}=e,u=new Array(a);let f,m,g,v;for(f=0,m=a;f<m;++f)g=f+i,v=n[g],u[f]={x:o.parse(v[0],g),y:c.parse(v[1],g)};return u}parseObjectData(e,n,i,a){const{xScale:o,yScale:c}=e,{xAxisKey:u="x",yAxisKey:f="y"}=this._parsing,m=new Array(a);let g,v,x,w;for(g=0,v=a;g<v;++g)x=g+i,w=n[x],m[g]={x:o.parse(ts(w,u),x),y:c.parse(ts(w,f),x)};return m}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const a=this.chart,o=this._cachedMeta,c=n[e.axis],u={keys:Uy(a,!0),values:n._stacks[e.axis]._visualValues};return Lp(u,c,o.index,{mode:i})}updateRangeFromParsed(e,n,i,a){const o=i[n.axis];let c=o===null?NaN:o;const u=a&&i._stacks[n.axis];a&&u&&(a.values=u,c=Lp(a,o,this._cachedMeta.index)),e.min=Math.min(e.min,c),e.max=Math.max(e.max,c)}getMinMax(e,n){const i=this._cachedMeta,a=i._parsed,o=i._sorted&&e===i.iScale,c=a.length,u=this._getOtherScale(e),f=SS(n,i,this.chart),m={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:g,max:v}=xS(u);let x,w;function k(){w=a[x];const j=w[u.axis];return!Xn(w[e.axis])||g>j||v<j}for(x=0;x<c&&!(!k()&&(this.updateRangeFromParsed(m,e,w,f),o));++x);if(o){for(x=c-1;x>=0;--x)if(!k()){this.updateRangeFromParsed(m,e,w,f);break}}return m}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let a,o,c;for(a=0,o=n.length;a<o;++a)c=n[a][e.axis],Xn(c)&&i.push(c);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,a=n.vScale,o=this.getParsed(e);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:a?""+a.getLabelForValue(o[a.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=gS(tt(this.options.clip,pS(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,a=i.data||[],o=n.chartArea,c=[],u=this._drawStart||0,f=this._drawCount||a.length-u,m=this.options.drawActiveElementsOnTop;let g;for(i.dataset&&i.dataset.draw(e,o,u,f),g=u;g<u+f;++g){const v=a[g];v.hidden||(v.active&&m?c.push(v):v.draw(e,o))}for(g=0;g<c.length;++g)c[g].draw(e,o)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const a=this.getDataset();let o;if(e>=0&&e<this._cachedMeta.data.length){const c=this._cachedMeta.data[e];o=c.$context||(c.$context=wS(this.getContext(),e,c)),o.parsed=this.getParsed(e),o.raw=a.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=_S(this.chart.getContext(),this.index)),o.dataset=a,o.index=o.datasetIndex=this.index;return o.active=!!n,o.mode=i,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const a=n==="active",o=this._cachedDataOpts,c=e+"-"+n,u=o[c],f=this.enableOptionSharing&&Ga(i);if(u)return Ip(u,f);const m=this.chart.config,g=m.datasetElementScopeKeys(this._type,e),v=a?[`${e}Hover`,"hover",e,""]:[e,""],x=m.getOptionScopes(this.getDataset(),g),w=Object.keys(Ut.elements[e]),k=()=>this.getContext(i,a,n),j=m.resolveNamedOptions(x,w,k,v);return j.$shared&&(j.$shared=f,o[c]=Object.freeze(Ip(j,f))),j}_resolveAnimations(e,n,i){const a=this.chart,o=this._cachedDataOpts,c=`animation-${n}`,u=o[c];if(u)return u;let f;if(a.options.animation!==!1){const g=this.chart.config,v=g.datasetAnimationScopeKeys(this._type,n),x=g.getOptionScopes(this.getDataset(),v);f=g.createResolver(x,this.getContext(e,i,n))}const m=new zy(a,f&&f.animations);return f&&f._cacheable&&(o[c]=Object.freeze(m)),m}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Zu(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),a=this._sharedOptions,o=this.getSharedOptions(i),c=this.includeOptions(n,o)||o!==a;return this.updateSharedOptions(o,n,i),{sharedOptions:o,includeOptions:c}}updateElement(e,n,i,a){Zu(a)?Object.assign(e,i):this._resolveAnimations(n,a).update(e,i)}updateSharedOptions(e,n,i){e&&!Zu(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,a){e.active=a;const o=this.getStyle(n,a);this._resolveAnimations(n,i,a).update(e,{options:!a&&this.getSharedOptions(o)||o})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[u,f,m]of this._syncList)this[u](f,m);this._syncList=[];const a=i.length,o=n.length,c=Math.min(o,a);c&&this.parse(0,c),o>a?this._insertElements(a,o-a,e):o<a&&this._removeElements(o,a-o)}_insertElements(e,n,i=!0){const a=this._cachedMeta,o=a.data,c=e+n;let u;const f=m=>{for(m.length+=n,u=m.length-1;u>=c;u--)m[u]=m[u-n]};for(f(o),u=e;u<c;++u)o[u]=new this.dataElementType;this._parsing&&f(a._parsed),this.parse(e,n),i&&this.updateElements(o,e,n,"reset")}updateElements(e,n,i,a){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const a=i._parsed.splice(e,n);i._stacked&&Ta(i,a)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,a]=e;this[n](i,a)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function kS(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let i=[];for(let a=0,o=n.length;a<o;a++)i=i.concat(n[a].controller.getAllParsedValues(t));t._cache.$bar=ky(i.sort((a,o)=>a-o))}return t._cache.$bar}function jS(t){const e=t.iScale,n=kS(e,t.type);let i=e._length,a,o,c,u;const f=()=>{c===32767||c===-32768||(Ga(u)&&(i=Math.min(i,Math.abs(c-u)||i)),u=c)};for(a=0,o=n.length;a<o;++a)c=e.getPixelForValue(n[a]),f();for(u=void 0,a=0,o=e.ticks.length;a<o;++a)c=e.getPixelForTick(a),f();return i}function CS(t,e,n,i){const a=n.barThickness;let o,c;return yt(a)?(o=e.min*n.categoryPercentage,c=n.barPercentage):(o=a*i,c=1),{chunk:o/i,ratio:c,start:e.pixels[t]-o/2}}function ES(t,e,n,i){const a=e.pixels,o=a[t];let c=t>0?a[t-1]:null,u=t<a.length-1?a[t+1]:null;const f=n.categoryPercentage;c===null&&(c=o-(u===null?e.end-e.start:u-o)),u===null&&(u=o+o-c);const m=o-(o-Math.min(c,u))/2*f;return{chunk:Math.abs(u-c)/2*f/i,ratio:n.barPercentage,start:m}}function NS(t,e,n,i){const a=n.parse(t[0],i),o=n.parse(t[1],i),c=Math.min(a,o),u=Math.max(a,o);let f=c,m=u;Math.abs(c)>Math.abs(u)&&(f=u,m=c),e[n.axis]=m,e._custom={barStart:f,barEnd:m,start:a,end:o,min:c,max:u}}function By(t,e,n,i){return an(t)?NS(t,e,n,i):e[n.axis]=n.parse(t,i),e}function zp(t,e,n,i){const a=t.iScale,o=t.vScale,c=a.getLabels(),u=a===o,f=[];let m,g,v,x;for(m=n,g=n+i;m<g;++m)x=e[m],v={},v[a.axis]=u||a.parse(c[m],m),f.push(By(x,v,o,m));return f}function ed(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function RS(t,e,n){return t!==0?wi(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function MS(t){let e,n,i,a,o;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(a="end",o="start"):(a="start",o="end"),{start:n,end:i,reverse:e,top:a,bottom:o}}function TS(t,e,n,i){let a=e.borderSkipped;const o={};if(!a){t.borderSkipped=o;return}if(a===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:c,end:u,reverse:f,top:m,bottom:g}=MS(t);a==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?a=m:(n._bottom||0)===i?a=g:(o[Up(g,c,u,f)]=!0,a=m)),o[Up(a,c,u,f)]=!0,t.borderSkipped=o}function Up(t,e,n,i){return i?(t=PS(t,e,n),t=Bp(t,n,e)):t=Bp(t,e,n),t}function PS(t,e,n){return t===e?n:t===n?e:t}function Bp(t,e,n){return t==="start"?e:t==="end"?n:t}function DS(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class AS extends Zd{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,n,i,a){return zp(e,n,i,a)}parseArrayData(e,n,i,a){return zp(e,n,i,a)}parseObjectData(e,n,i,a){const{iScale:o,vScale:c}=e,{xAxisKey:u="x",yAxisKey:f="y"}=this._parsing,m=o.axis==="x"?u:f,g=c.axis==="x"?u:f,v=[];let x,w,k,j;for(x=i,w=i+a;x<w;++x)j=n[x],k={},k[o.axis]=o.parse(ts(j,m),x),v.push(By(ts(j,g),k,c,x));return v}updateRangeFromParsed(e,n,i,a){super.updateRangeFromParsed(e,n,i,a);const o=i._custom;o&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,o.min),e.max=Math.max(e.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:i,vScale:a}=n,o=this.getParsed(e),c=o._custom,u=ed(c)?"["+c.start+", "+c.end+"]":""+a.getLabelForValue(o[a.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,i,a){const o=a==="reset",{index:c,_cachedMeta:{vScale:u}}=this,f=u.getBasePixel(),m=u.isHorizontal(),g=this._getRuler(),{sharedOptions:v,includeOptions:x}=this._getSharedOptions(n,a);for(let w=n;w<n+i;w++){const k=this.getParsed(w),j=o||yt(k[u.axis])?{base:f,head:f}:this._calculateBarValuePixels(w),C=this._calculateBarIndexPixels(w,g),N=(k._stacks||{})[u.axis],P={horizontal:m,base:j.base,enableBorderRadius:!N||ed(k._custom)||c===N._top||c===N._bottom,x:m?j.head:C.center,y:m?C.center:j.head,height:m?C.size:Math.abs(j.size),width:m?Math.abs(j.size):C.size};x&&(P.options=v||this.resolveDataElementOptions(w,e[w].active?"active":a));const $=P.options||e[w].options;TS(P,$,N,c),DS(P,$,g.ratio),this.updateElement(e[w],w,P,a)}}_getStacks(e,n){const{iScale:i}=this._cachedMeta,a=i.getMatchingVisibleMetas(this._type).filter(g=>g.controller.options.grouped),o=i.options.stacked,c=[],u=this._cachedMeta.controller.getParsed(n),f=u&&u[i.axis],m=g=>{const v=g._parsed.find(w=>w[i.axis]===f),x=v&&v[g.vScale.axis];if(yt(x)||isNaN(x))return!0};for(const g of a)if(!(n!==void 0&&m(g))&&((o===!1||c.indexOf(g.stack)===-1||o===void 0&&g.stack===void 0)&&c.push(g.stack),g.index===e))break;return c.length||c.push(void 0),c}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(i=>e[i].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)e[tt(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,i){const a=this._getStacks(e,i),o=n!==void 0?a.indexOf(n):-1;return o===-1?a.length-1:o}_getRuler(){const e=this.options,n=this._cachedMeta,i=n.iScale,a=[];let o,c;for(o=0,c=n.data.length;o<c;++o)a.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const u=e.barThickness;return{min:u||jS(n),pixels:a,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:u?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:i,index:a},options:{base:o,minBarLength:c}}=this,u=o||0,f=this.getParsed(e),m=f._custom,g=ed(m);let v=f[n.axis],x=0,w=i?this.applyStack(n,f,i):v,k,j;w!==v&&(x=w-v,w=v),g&&(v=m.barStart,w=m.barEnd-m.barStart,v!==0&&wi(v)!==wi(m.barEnd)&&(x=0),x+=v);const C=!yt(o)&&!g?o:x;let N=n.getPixelForValue(C);if(this.chart.getDataVisibility(e)?k=n.getPixelForValue(x+w):k=N,j=k-N,Math.abs(j)<c){j=RS(j,n,u)*c,v===u&&(N-=j/2);const P=n.getPixelForDecimal(0),$=n.getPixelForDecimal(1),I=Math.min(P,$),H=Math.max(P,$);N=Math.max(Math.min(N,H),I),k=N+j,i&&!g&&(f._stacks[n.axis]._visualValues[a]=n.getValueForPixel(k)-n.getValueForPixel(N))}if(N===n.getPixelForValue(u)){const P=wi(j)*n.getLineWidthForValue(u)/2;N+=P,j-=P}return{size:j,base:N,head:k,center:k+j/2}}_calculateBarIndexPixels(e,n){const i=n.scale,a=this.options,o=a.skipNull,c=tt(a.maxBarThickness,1/0);let u,f;const m=this._getAxisCount();if(n.grouped){const g=o?this._getStackCount(e):n.stackCount,v=a.barThickness==="flex"?ES(e,n,a,g*m):CS(e,n,a,g*m),x=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,w=this._getAxis().indexOf(tt(x,this.getFirstScaleIdForIndexAxis())),k=this._getStackIndex(this.index,this._cachedMeta.stack,o?e:void 0)+w;u=v.start+v.chunk*k+v.chunk/2,f=Math.min(c,v.chunk*v.ratio)}else u=i.getPixelForValue(this.getParsed(e)[i.axis],e),f=Math.min(c,n.min*n.ratio);return{base:u-f/2,head:u+f/2,center:u,size:f}}draw(){const e=this._cachedMeta,n=e.vScale,i=e.data,a=i.length;let o=0;for(;o<a;++o)this.getParsed(o)[n.axis]!==null&&!i[o].hidden&&i[o].draw(this._ctx)}}function LS(t,e,n){let i=1,a=1,o=0,c=0;if(e<Xt){const u=t,f=u+e,m=Math.cos(u),g=Math.sin(u),v=Math.cos(f),x=Math.sin(f),w=($,I,H)=>zl($,u,f,!0)?1:Math.max(I,I*n,H,H*n),k=($,I,H)=>zl($,u,f,!0)?-1:Math.min(I,I*n,H,H*n),j=w(0,m,v),C=w(Zt,g,x),N=k(Nt,m,v),P=k(Nt+Zt,g,x);i=(j-N)/2,a=(C-P)/2,o=-(j+N)/2,c=-(C+P)/2}return{ratioX:i,ratioY:a,offsetX:o,offsetY:c}}class OS extends Zd{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:a}}=e.legend.options;return n.labels.map((o,c)=>{const f=e.getDatasetMeta(0).controller.getStyle(c);return{text:o,fillStyle:f.backgroundColor,strokeStyle:f.borderColor,fontColor:a,lineWidth:f.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(c),index:c}})}return[]}},onClick(e,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}};constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const i=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=i;else{let o=f=>+i[f];if(nt(i[e])){const{key:f="value"}=this._parsing;o=m=>+ts(i[m],f)}let c,u;for(c=e,u=e+n;c<u;++c)a._parsed[c]=o(c)}}_getRotation(){return Ir(this.options.rotation-90)}_getCircumference(){return Ir(this.options.circumference)}_getRotationExtents(){let e=Xt,n=-Xt;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const a=this.chart.getDatasetMeta(i).controller,o=a._getRotation(),c=a._getCircumference();e=Math.min(e,o),n=Math.max(n,o+c)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:i}=n,a=this._cachedMeta,o=a.data,c=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,u=Math.max((Math.min(i.width,i.height)-c)/2,0),f=Math.min(ow(this.options.cutout,u),1),m=this._getRingWeight(this.index),{circumference:g,rotation:v}=this._getRotationExtents(),{ratioX:x,ratioY:w,offsetX:k,offsetY:j}=LS(v,g,f),C=(i.width-c)/x,N=(i.height-c)/w,P=Math.max(Math.min(C,N)/2,0),$=xy(this.options.radius,P),I=Math.max($*f,0),H=($-I)/this._getVisibleDatasetWeightTotal();this.offsetX=k*$,this.offsetY=j*$,a.total=this.calculateTotal(),this.outerRadius=$-H*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-H*m,0),this.updateElements(o,0,o.length,e)}_circumference(e,n){const i=this.options,a=this._cachedMeta,o=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||a._parsed[e]===null||a.data[e].hidden?0:this.calculateCircumference(a._parsed[e]*o/Xt)}updateElements(e,n,i,a){const o=a==="reset",c=this.chart,u=c.chartArea,m=c.options.animation,g=(u.left+u.right)/2,v=(u.top+u.bottom)/2,x=o&&m.animateScale,w=x?0:this.innerRadius,k=x?0:this.outerRadius,{sharedOptions:j,includeOptions:C}=this._getSharedOptions(n,a);let N=this._getRotation(),P;for(P=0;P<n;++P)N+=this._circumference(P,o);for(P=n;P<n+i;++P){const $=this._circumference(P,o),I=e[P],H={x:g+this.offsetX,y:v+this.offsetY,startAngle:N,endAngle:N+$,circumference:$,outerRadius:k,innerRadius:w};C&&(H.options=j||this.resolveDataElementOptions(P,I.active?"active":a)),N+=$,this.updateElement(I,P,H,a)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let i=0,a;for(a=0;a<n.length;a++){const o=e._parsed[a];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(a)&&!n[a].hidden&&(i+=Math.abs(o))}return i}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?Xt*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,a=i.data.labels||[],o=Wd(n._parsed[e],i.options.locale);return{label:a[e]||"",value:o}}getMaxBorderWidth(e){let n=0;const i=this.chart;let a,o,c,u,f;if(!e){for(a=0,o=i.data.datasets.length;a<o;++a)if(i.isDatasetVisible(a)){c=i.getDatasetMeta(a),e=c.data,u=c.controller;break}}if(!e)return 0;for(a=0,o=e.length;a<o;++a)f=u.resolveDataElementOptions(a),f.borderAlign!=="inner"&&(n=Math.max(n,f.borderWidth||0,f.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let i=0,a=e.length;i<a;++i){const o=this.resolveDataElementOptions(i);n=Math.max(n,o.offset||0,o.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(e){return Math.max(tt(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class FS extends OS{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}function Hi(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class ef{static override(e){Object.assign(ef.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return Hi()}parse(){return Hi()}format(){return Hi()}add(){return Hi()}diff(){return Hi()}startOf(){return Hi()}endOf(){return Hi()}}var IS={_date:ef};function zS(t,e,n,i){const{controller:a,data:o,_sorted:c}=t,u=a._cachedMeta.iScale,f=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(u&&e===u.axis&&e!=="r"&&c&&o.length){const m=u._reversePixels?_w:xd;if(i){if(a._sharedOptions){const g=o[0],v=typeof g.getRange=="function"&&g.getRange(e);if(v){const x=m(o,e,n-v),w=m(o,e,n+v);return{lo:x.lo,hi:w.hi}}}}else{const g=m(o,e,n);if(f){const{vScale:v}=a._cachedMeta,{_parsed:x}=t,w=x.slice(0,g.lo+1).reverse().findIndex(j=>!yt(j[v.axis]));g.lo-=Math.max(0,w);const k=x.slice(g.hi).findIndex(j=>!yt(j[v.axis]));g.hi+=Math.max(0,k)}return g}}return{lo:0,hi:o.length-1}}function ec(t,e,n,i,a){const o=t.getSortedVisibleDatasetMetas(),c=n[e];for(let u=0,f=o.length;u<f;++u){const{index:m,data:g}=o[u],{lo:v,hi:x}=zS(o[u],e,c,a);for(let w=v;w<=x;++w){const k=g[w];k.skip||i(k,m,w)}}}function US(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,a){const o=e?Math.abs(i.x-a.x):0,c=n?Math.abs(i.y-a.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(c,2))}}function td(t,e,n,i,a){const o=[];return!a&&!t.isPointInArea(e)||ec(t,n,e,function(u,f,m){!a&&!Ty(u,t.chartArea,0)||u.inRange(e.x,e.y,i)&&o.push({element:u,datasetIndex:f,index:m})},!0),o}function BS(t,e,n,i){let a=[];function o(c,u,f){const{startAngle:m,endAngle:g}=c.getProps(["startAngle","endAngle"],i),{angle:v}=wy(c,{x:e.x,y:e.y});zl(v,m,g)&&a.push({element:c,datasetIndex:u,index:f})}return ec(t,n,e,o),a}function $S(t,e,n,i,a,o){let c=[];const u=US(n);let f=Number.POSITIVE_INFINITY;function m(g,v,x){const w=g.inRange(e.x,e.y,a);if(i&&!w)return;const k=g.getCenterPoint(a);if(!(!!o||t.isPointInArea(k))&&!w)return;const C=u(e,k);C<f?(c=[{element:g,datasetIndex:v,index:x}],f=C):C===f&&c.push({element:g,datasetIndex:v,index:x})}return ec(t,n,e,m),c}function nd(t,e,n,i,a,o){return!o&&!t.isPointInArea(e)?[]:n==="r"&&!i?BS(t,e,n,a):$S(t,e,n,i,a,o)}function $p(t,e,n,i,a){const o=[],c=n==="x"?"inXRange":"inYRange";let u=!1;return ec(t,n,e,(f,m,g)=>{f[c]&&f[c](e[n],a)&&(o.push({element:f,datasetIndex:m,index:g}),u=u||f.inRange(e.x,e.y,a))}),i&&!u?[]:o}var HS={modes:{index(t,e,n,i){const a=Wi(e,t),o=n.axis||"x",c=n.includeInvisible||!1,u=n.intersect?td(t,a,o,i,c):nd(t,a,o,!1,i,c),f=[];return u.length?(t.getSortedVisibleDatasetMetas().forEach(m=>{const g=u[0].index,v=m.data[g];v&&!v.skip&&f.push({element:v,datasetIndex:m.index,index:g})}),f):[]},dataset(t,e,n,i){const a=Wi(e,t),o=n.axis||"xy",c=n.includeInvisible||!1;let u=n.intersect?td(t,a,o,i,c):nd(t,a,o,!1,i,c);if(u.length>0){const f=u[0].datasetIndex,m=t.getDatasetMeta(f).data;u=[];for(let g=0;g<m.length;++g)u.push({element:m[g],datasetIndex:f,index:g})}return u},point(t,e,n,i){const a=Wi(e,t),o=n.axis||"xy",c=n.includeInvisible||!1;return td(t,a,o,i,c)},nearest(t,e,n,i){const a=Wi(e,t),o=n.axis||"xy",c=n.includeInvisible||!1;return nd(t,a,o,n.intersect,i,c)},x(t,e,n,i){const a=Wi(e,t);return $p(t,a,"x",n.intersect,i)},y(t,e,n,i){const a=Wi(e,t);return $p(t,a,"y",n.intersect,i)}}};const $y=["left","top","right","bottom"];function Pa(t,e){return t.filter(n=>n.pos===e)}function Hp(t,e){return t.filter(n=>$y.indexOf(n.pos)===-1&&n.box.axis===e)}function Da(t,e){return t.sort((n,i)=>{const a=e?i:n,o=e?n:i;return a.weight===o.weight?a.index-o.index:a.weight-o.weight})}function WS(t){const e=[];let n,i,a,o,c,u;for(n=0,i=(t||[]).length;n<i;++n)a=t[n],{position:o,options:{stack:c,stackWeight:u=1}}=a,e.push({index:n,box:a,pos:o,horizontal:a.isHorizontal(),weight:a.weight,stack:c&&o+c,stackWeight:u});return e}function VS(t){const e={};for(const n of t){const{stack:i,pos:a,stackWeight:o}=n;if(!i||!$y.includes(a))continue;const c=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=o}return e}function KS(t,e){const n=VS(t),{vBoxMaxWidth:i,hBoxMaxHeight:a}=e;let o,c,u;for(o=0,c=t.length;o<c;++o){u=t[o];const{fullSize:f}=u.box,m=n[u.stack],g=m&&u.stackWeight/m.weight;u.horizontal?(u.width=g?g*i:f&&e.availableWidth,u.height=a):(u.width=i,u.height=g?g*a:f&&e.availableHeight)}return n}function YS(t){const e=WS(t),n=Da(e.filter(m=>m.box.fullSize),!0),i=Da(Pa(e,"left"),!0),a=Da(Pa(e,"right")),o=Da(Pa(e,"top"),!0),c=Da(Pa(e,"bottom")),u=Hp(e,"x"),f=Hp(e,"y");return{fullSize:n,leftAndTop:i.concat(o),rightAndBottom:a.concat(f).concat(c).concat(u),chartArea:Pa(e,"chartArea"),vertical:i.concat(a).concat(f),horizontal:o.concat(c).concat(u)}}function Wp(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function Hy(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function XS(t,e,n,i){const{pos:a,box:o}=n,c=t.maxPadding;if(!nt(a)){n.size&&(t[a]-=n.size);const v=i[n.stack]||{size:0,count:1};v.size=Math.max(v.size,n.horizontal?o.height:o.width),n.size=v.size/v.count,t[a]+=n.size}o.getPadding&&Hy(c,o.getPadding());const u=Math.max(0,e.outerWidth-Wp(c,t,"left","right")),f=Math.max(0,e.outerHeight-Wp(c,t,"top","bottom")),m=u!==t.w,g=f!==t.h;return t.w=u,t.h=f,n.horizontal?{same:m,other:g}:{same:g,other:m}}function QS(t){const e=t.maxPadding;function n(i){const a=Math.max(e[i]-t[i],0);return t[i]+=a,a}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function GS(t,e){const n=e.maxPadding;function i(a){const o={left:0,top:0,right:0,bottom:0};return a.forEach(c=>{o[c]=Math.max(e[c],n[c])}),o}return i(t?["left","right"]:["top","bottom"])}function Ua(t,e,n,i){const a=[];let o,c,u,f,m,g;for(o=0,c=t.length,m=0;o<c;++o){u=t[o],f=u.box,f.update(u.width||e.w,u.height||e.h,GS(u.horizontal,e));const{same:v,other:x}=XS(e,n,u,i);m|=v&&a.length,g=g||x,f.fullSize||a.push(u)}return m&&Ua(a,e,n,i)||g}function ml(t,e,n,i,a){t.top=n,t.left=e,t.right=e+i,t.bottom=n+a,t.width=i,t.height=a}function Vp(t,e,n,i){const a=n.padding;let{x:o,y:c}=e;for(const u of t){const f=u.box,m=i[u.stack]||{placed:0,weight:1},g=u.stackWeight/m.weight||1;if(u.horizontal){const v=e.w*g,x=m.size||f.height;Ga(m.start)&&(c=m.start),f.fullSize?ml(f,a.left,c,n.outerWidth-a.right-a.left,x):ml(f,e.left+m.placed,c,v,x),m.start=c,m.placed+=v,c=f.bottom}else{const v=e.h*g,x=m.size||f.width;Ga(m.start)&&(o=m.start),f.fullSize?ml(f,o,a.top,x,n.outerHeight-a.bottom-a.top):ml(f,o,e.top+m.placed,x,v),m.start=o,m.placed+=v,o=f.right}}e.x=o,e.y=c}var vi={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const a=lr(t.options.layout.padding),o=Math.max(e-a.width,0),c=Math.max(n-a.height,0),u=YS(t.boxes),f=u.vertical,m=u.horizontal;ht(t.boxes,j=>{typeof j.beforeLayout=="function"&&j.beforeLayout()});const g=f.reduce((j,C)=>C.box.options&&C.box.options.display===!1?j:j+1,0)||1,v=Object.freeze({outerWidth:e,outerHeight:n,padding:a,availableWidth:o,availableHeight:c,vBoxMaxWidth:o/2/g,hBoxMaxHeight:c/2}),x=Object.assign({},a);Hy(x,lr(i));const w=Object.assign({maxPadding:x,w:o,h:c,x:a.left,y:a.top},a),k=KS(f.concat(m),v);Ua(u.fullSize,w,v,k),Ua(f,w,v,k),Ua(m,w,v,k)&&Ua(f,w,v,k),QS(w),Vp(u.leftAndTop,w,v,k),w.x+=w.w,w.y+=w.h,Vp(u.rightAndBottom,w,v,k),t.chartArea={left:w.left,top:w.top,right:w.left+w.w,bottom:w.top+w.h,height:w.h,width:w.w},ht(u.chartArea,j=>{const C=j.box;Object.assign(C,t.chartArea),C.update(w.w,w.h,{left:0,top:0,right:0,bottom:0})})}};class Wy{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,a){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,a?Math.floor(n/a):i)}}isAttached(e){return!0}updateConfig(e){}}class qS extends Wy{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Cl="$chartjs",JS={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Kp=t=>t===null||t==="";function ZS(t,e){const n=t.style,i=t.getAttribute("height"),a=t.getAttribute("width");if(t[Cl]={initial:{height:i,width:a,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Kp(a)){const o=Pp(t,"width");o!==void 0&&(t.width=o)}if(Kp(i))if(t.style.height==="")t.height=t.width/(e||2);else{const o=Pp(t,"height");o!==void 0&&(t.height=o)}return t}const Vy=sS?{passive:!0}:!1;function ek(t,e,n){t&&t.addEventListener(e,n,Vy)}function tk(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,Vy)}function nk(t,e){const n=JS[t.type]||t.type,{x:i,y:a}=Wi(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:a!==void 0?a:null}}function Hl(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function rk(t,e,n){const i=t.canvas,a=new MutationObserver(o=>{let c=!1;for(const u of o)c=c||Hl(u.addedNodes,i),c=c&&!Hl(u.removedNodes,i);c&&n()});return a.observe(document,{childList:!0,subtree:!0}),a}function ik(t,e,n){const i=t.canvas,a=new MutationObserver(o=>{let c=!1;for(const u of o)c=c||Hl(u.removedNodes,i),c=c&&!Hl(u.addedNodes,i);c&&n()});return a.observe(document,{childList:!0,subtree:!0}),a}const qa=new Map;let Yp=0;function Ky(){const t=window.devicePixelRatio;t!==Yp&&(Yp=t,qa.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function sk(t,e){qa.size||window.addEventListener("resize",Ky),qa.set(t,e)}function ak(t){qa.delete(t),qa.size||window.removeEventListener("resize",Ky)}function ok(t,e,n){const i=t.canvas,a=i&&Jd(i);if(!a)return;const o=Cy((u,f)=>{const m=a.clientWidth;n(u,f),m<a.clientWidth&&n()},window),c=new ResizeObserver(u=>{const f=u[0],m=f.contentRect.width,g=f.contentRect.height;m===0&&g===0||o(m,g)});return c.observe(a),sk(t,o),c}function rd(t,e,n){n&&n.disconnect(),e==="resize"&&ak(t)}function lk(t,e,n){const i=t.canvas,a=Cy(o=>{t.ctx!==null&&n(nk(o,t))},t);return ek(i,e,a),a}class ck extends Wy{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(ZS(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[Cl])return!1;const i=n[Cl].initial;["height","width"].forEach(o=>{const c=i[o];yt(c)?n.removeAttribute(o):n.setAttribute(o,c)});const a=i.style||{};return Object.keys(a).forEach(o=>{n.style[o]=a[o]}),n.width=n.width,delete n[Cl],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const a=e.$proxies||(e.$proxies={}),c={attach:rk,detach:ik,resize:ok}[n]||lk;a[n]=c(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),a=i[n];if(!a)return;({attach:rd,detach:rd,resize:rd}[n]||tk)(e,n,a),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,a){return iS(e,n,i,a)}isAttached(e){const n=e&&Jd(e);return!!(n&&n.isConnected)}}function uk(t){return!qd()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?qS:ck}class Ks{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return Il(this.x)&&Il(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const a={};return e.forEach(o=>{a[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),a}}function dk(t,e){const n=t.options.ticks,i=fk(t),a=Math.min(n.maxTicksLimit||i,i),o=n.major.enabled?mk(e):[],c=o.length,u=o[0],f=o[c-1],m=[];if(c>a)return pk(e,m,o,c/a),m;const g=hk(o,e,a);if(c>0){let v,x;const w=c>1?Math.round((f-u)/(c-1)):null;for(pl(e,m,g,yt(w)?0:u-w,u),v=0,x=c-1;v<x;v++)pl(e,m,g,o[v],o[v+1]);return pl(e,m,g,f,yt(w)?e.length:f+w),m}return pl(e,m,g),m}function fk(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),a=t._maxLength/n;return Math.floor(Math.min(i,a))}function hk(t,e,n){const i=gk(t),a=e.length/n;if(!i)return Math.max(a,1);const o=mw(i);for(let c=0,u=o.length-1;c<u;c++){const f=o[c];if(f>a)return f}return Math.max(a,1)}function mk(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function pk(t,e,n,i){let a=0,o=n[0],c;for(i=Math.ceil(i),c=0;c<t.length;c++)c===o&&(e.push(t[c]),a++,o=n[a*i])}function pl(t,e,n,i,a){const o=tt(i,0),c=Math.min(tt(a,t.length),t.length);let u=0,f,m,g;for(n=Math.ceil(n),a&&(f=a-i,n=f/Math.floor(f/n)),g=o;g<0;)u++,g=Math.round(o+u*n);for(m=Math.max(o,0);m<c;m++)m===g&&(e.push(t[m]),u++,g=Math.round(o+u*n))}function gk(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const yk=t=>t==="left"?"right":t==="right"?"left":t,Xp=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,Qp=(t,e)=>Math.min(e||t,t);function Gp(t,e){const n=[],i=t.length/e,a=t.length;let o=0;for(;o<a;o+=i)n.push(t[Math.floor(o)]);return n}function vk(t,e,n){const i=t.ticks.length,a=Math.min(e,i-1),o=t._startPixel,c=t._endPixel,u=1e-6;let f=t.getPixelForTick(a),m;if(!(n&&(i===1?m=Math.max(f-o,c-f):e===0?m=(t.getPixelForTick(1)-f)/2:m=(f-t.getPixelForTick(a-1))/2,f+=a<e?m:-m,f<o-u||f>c+u)))return f}function xk(t,e){ht(t,n=>{const i=n.gc,a=i.length/2;let o;if(a>e){for(o=0;o<a;++o)delete n.data[i[o]];i.splice(0,a)}})}function Aa(t){return t.drawTicks?t.tickLength:0}function qp(t,e){if(!t.display)return 0;const n=Tn(t.font,e),i=lr(t.padding);return(an(t.text)?t.text.length:1)*n.lineHeight+i.height}function bk(t,e){return Vs(t,{scale:e,type:"scale"})}function _k(t,e,n){return Vs(t,{tick:n,index:e,type:"tick"})}function wk(t,e,n){let i=Ey(t);return(n&&e!=="right"||!n&&e==="right")&&(i=yk(i)),i}function Sk(t,e,n,i){const{top:a,left:o,bottom:c,right:u,chart:f}=t,{chartArea:m,scales:g}=f;let v=0,x,w,k;const j=c-a,C=u-o;if(t.isHorizontal()){if(w=In(i,o,u),nt(n)){const N=Object.keys(n)[0],P=n[N];k=g[N].getPixelForValue(P)+j-e}else n==="center"?k=(m.bottom+m.top)/2+j-e:k=Xp(t,n,e);x=u-o}else{if(nt(n)){const N=Object.keys(n)[0],P=n[N];w=g[N].getPixelForValue(P)-C+e}else n==="center"?w=(m.left+m.right)/2-C+e:w=Xp(t,n,e);k=In(i,c,a),v=n==="left"?-Zt:Zt}return{titleX:w,titleY:k,maxWidth:x,rotation:v}}class Ys extends Ks{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:a}=this;return e=gr(e,Number.POSITIVE_INFINITY),n=gr(n,Number.NEGATIVE_INFINITY),i=gr(i,Number.POSITIVE_INFINITY),a=gr(a,Number.NEGATIVE_INFINITY),{min:gr(e,i),max:gr(n,a),minDefined:Xn(e),maxDefined:Xn(n)}}getMinMax(e){let{min:n,max:i,minDefined:a,maxDefined:o}=this.getUserBounds(),c;if(a&&o)return{min:n,max:i};const u=this.getMatchingVisibleMetas();for(let f=0,m=u.length;f<m;++f)c=u[f].controller.getMinMax(this,e),a||(n=Math.min(n,c.min)),o||(i=Math.max(i,c.max));return n=o&&n>i?i:n,i=a&&n>i?n:i,{min:gr(n,gr(i,n)),max:gr(i,gr(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Et(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:a,grace:o,ticks:c}=this.options,u=c.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Hw(this,o,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=u<this.ticks.length;this._convertTicksToLabels(f?Gp(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=dk(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Et(this.options.afterUpdate,[this])}beforeSetDimensions(){Et(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Et(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Et(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Et(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,a,o;for(i=0,a=e.length;i<a;i++)o=e[i],o.label=Et(n.callback,[o.value,i,e],this)}afterTickToLabelConversion(){Et(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Et(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=Qp(this.ticks.length,e.ticks.maxTicksLimit),a=n.minRotation||0,o=n.maxRotation;let c=a,u,f,m;if(!this._isVisible()||!n.display||a>=o||i<=1||!this.isHorizontal()){this.labelRotation=a;return}const g=this._getLabelSizes(),v=g.widest.width,x=g.highest.height,w=Mn(this.chart.width-v,0,this.maxWidth);u=e.offset?this.maxWidth/i:w/(i-1),v+6>u&&(u=w/(i-(e.offset?.5:1)),f=this.maxHeight-Aa(e.grid)-n.padding-qp(e.title,this.chart.options.font),m=Math.sqrt(v*v+x*x),c=vw(Math.min(Math.asin(Mn((g.highest.height+6)/u,-1,1)),Math.asin(Mn(f/m,-1,1))-Math.asin(Mn(x/m,-1,1)))),c=Math.max(a,Math.min(o,c))),this.labelRotation=c}afterCalculateLabelRotation(){Et(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Et(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:a,grid:o}}=this,c=this._isVisible(),u=this.isHorizontal();if(c){const f=qp(a,n.options.font);if(u?(e.width=this.maxWidth,e.height=Aa(o)+f):(e.height=this.maxHeight,e.width=Aa(o)+f),i.display&&this.ticks.length){const{first:m,last:g,widest:v,highest:x}=this._getLabelSizes(),w=i.padding*2,k=Ir(this.labelRotation),j=Math.cos(k),C=Math.sin(k);if(u){const N=i.mirror?0:C*v.width+j*x.height;e.height=Math.min(this.maxHeight,e.height+N+w)}else{const N=i.mirror?0:j*v.width+C*x.height;e.width=Math.min(this.maxWidth,e.width+N+w)}this._calculatePadding(m,g,C,j)}}this._handleMargins(),u?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,a){const{ticks:{align:o,padding:c},position:u}=this.options,f=this.labelRotation!==0,m=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const g=this.getPixelForTick(0)-this.left,v=this.right-this.getPixelForTick(this.ticks.length-1);let x=0,w=0;f?m?(x=a*e.width,w=i*n.height):(x=i*e.height,w=a*n.width):o==="start"?w=n.width:o==="end"?x=e.width:o!=="inner"&&(x=e.width/2,w=n.width/2),this.paddingLeft=Math.max((x-g+c)*this.width/(this.width-g),0),this.paddingRight=Math.max((w-v+c)*this.width/(this.width-v),0)}else{let g=n.height/2,v=e.height/2;o==="start"?(g=0,v=e.height):o==="end"&&(g=n.height,v=0),this.paddingTop=g+c,this.paddingBottom=v+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Et(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)yt(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=Gp(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){const{ctx:a,_longestTextCache:o}=this,c=[],u=[],f=Math.floor(n/Qp(n,i));let m=0,g=0,v,x,w,k,j,C,N,P,$,I,H;for(v=0;v<n;v+=f){if(k=e[v].label,j=this._resolveTickFontOptions(v),a.font=C=j.string,N=o[C]=o[C]||{data:{},gc:[]},P=j.lineHeight,$=I=0,!yt(k)&&!an(k))$=Cp(a,N.data,N.gc,$,k),I=P;else if(an(k))for(x=0,w=k.length;x<w;++x)H=k[x],!yt(H)&&!an(H)&&($=Cp(a,N.data,N.gc,$,H),I+=P);c.push($),u.push(I),m=Math.max($,m),g=Math.max(I,g)}xk(o,n);const q=c.indexOf(m),R=u.indexOf(g),A=K=>({width:c[K]||0,height:u[K]||0});return{first:A(0),last:A(n-1),widest:A(q),highest:A(R),widths:c,heights:u}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return bw(this._alignToPixels?$i(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=_k(this.getContext(),e,i))}return this.$context||(this.$context=bk(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Ir(this.labelRotation),i=Math.abs(Math.cos(n)),a=Math.abs(Math.sin(n)),o=this._getLabelSizes(),c=e.autoSkipPadding||0,u=o?o.widest.width+c:0,f=o?o.highest.height+c:0;return this.isHorizontal()?f*i>u*a?u/i:f/a:f*a<u*i?f/i:u/a}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,a=this.options,{grid:o,position:c,border:u}=a,f=o.offset,m=this.isHorizontal(),v=this.ticks.length+(f?1:0),x=Aa(o),w=[],k=u.setContext(this.getContext()),j=k.display?k.width:0,C=j/2,N=function(he){return $i(i,he,j)};let P,$,I,H,q,R,A,K,L,T,Y,X;if(c==="top")P=N(this.bottom),R=this.bottom-x,K=P-C,T=N(e.top)+C,X=e.bottom;else if(c==="bottom")P=N(this.top),T=e.top,X=N(e.bottom)-C,R=P+C,K=this.top+x;else if(c==="left")P=N(this.right),q=this.right-x,A=P-C,L=N(e.left)+C,Y=e.right;else if(c==="right")P=N(this.left),L=e.left,Y=N(e.right)-C,q=P+C,A=this.left+x;else if(n==="x"){if(c==="center")P=N((e.top+e.bottom)/2+.5);else if(nt(c)){const he=Object.keys(c)[0],ye=c[he];P=N(this.chart.scales[he].getPixelForValue(ye))}T=e.top,X=e.bottom,R=P+C,K=R+x}else if(n==="y"){if(c==="center")P=N((e.left+e.right)/2);else if(nt(c)){const he=Object.keys(c)[0],ye=c[he];P=N(this.chart.scales[he].getPixelForValue(ye))}q=P-C,A=q-x,L=e.left,Y=e.right}const te=tt(a.ticks.maxTicksLimit,v),se=Math.max(1,Math.ceil(v/te));for($=0;$<v;$+=se){const he=this.getContext($),ye=o.setContext(he),Z=u.setContext(he),ne=ye.lineWidth,M=ye.color,S=Z.dash||[],F=Z.dashOffset,ee=ye.tickWidth,ie=ye.tickColor,ce=ye.tickBorderDash||[],de=ye.tickBorderDashOffset;I=vk(this,$,f),I!==void 0&&(H=$i(i,I,ne),m?q=A=L=Y=H:R=K=T=X=H,w.push({tx1:q,ty1:R,tx2:A,ty2:K,x1:L,y1:T,x2:Y,y2:X,width:ne,color:M,borderDash:S,borderDashOffset:F,tickWidth:ee,tickColor:ie,tickBorderDash:ce,tickBorderDashOffset:de}))}return this._ticksLength=v,this._borderValue=P,w}_computeLabelItems(e){const n=this.axis,i=this.options,{position:a,ticks:o}=i,c=this.isHorizontal(),u=this.ticks,{align:f,crossAlign:m,padding:g,mirror:v}=o,x=Aa(i.grid),w=x+g,k=v?-g:w,j=-Ir(this.labelRotation),C=[];let N,P,$,I,H,q,R,A,K,L,T,Y,X="middle";if(a==="top")q=this.bottom-k,R=this._getXAxisLabelAlignment();else if(a==="bottom")q=this.top+k,R=this._getXAxisLabelAlignment();else if(a==="left"){const se=this._getYAxisLabelAlignment(x);R=se.textAlign,H=se.x}else if(a==="right"){const se=this._getYAxisLabelAlignment(x);R=se.textAlign,H=se.x}else if(n==="x"){if(a==="center")q=(e.top+e.bottom)/2+w;else if(nt(a)){const se=Object.keys(a)[0],he=a[se];q=this.chart.scales[se].getPixelForValue(he)+w}R=this._getXAxisLabelAlignment()}else if(n==="y"){if(a==="center")H=(e.left+e.right)/2-w;else if(nt(a)){const se=Object.keys(a)[0],he=a[se];H=this.chart.scales[se].getPixelForValue(he)}R=this._getYAxisLabelAlignment(x).textAlign}n==="y"&&(f==="start"?X="top":f==="end"&&(X="bottom"));const te=this._getLabelSizes();for(N=0,P=u.length;N<P;++N){$=u[N],I=$.label;const se=o.setContext(this.getContext(N));A=this.getPixelForTick(N)+o.labelOffset,K=this._resolveTickFontOptions(N),L=K.lineHeight,T=an(I)?I.length:1;const he=T/2,ye=se.color,Z=se.textStrokeColor,ne=se.textStrokeWidth;let M=R;c?(H=A,R==="inner"&&(N===P-1?M=this.options.reverse?"left":"right":N===0?M=this.options.reverse?"right":"left":M="center"),a==="top"?m==="near"||j!==0?Y=-T*L+L/2:m==="center"?Y=-te.highest.height/2-he*L+L:Y=-te.highest.height+L/2:m==="near"||j!==0?Y=L/2:m==="center"?Y=te.highest.height/2-he*L:Y=te.highest.height-T*L,v&&(Y*=-1),j!==0&&!se.showLabelBackdrop&&(H+=L/2*Math.sin(j))):(q=A,Y=(1-T)*L/2);let S;if(se.showLabelBackdrop){const F=lr(se.backdropPadding),ee=te.heights[N],ie=te.widths[N];let ce=Y-F.top,de=0-F.left;switch(X){case"middle":ce-=ee/2;break;case"bottom":ce-=ee;break}switch(R){case"center":de-=ie/2;break;case"right":de-=ie;break;case"inner":N===P-1?de-=ie:N>0&&(de-=ie/2);break}S={left:de,top:ce,width:ie+F.width,height:ee+F.height,color:se.backdropColor}}C.push({label:I,font:K,textOffset:Y,options:{rotation:j,color:ye,strokeColor:Z,strokeWidth:ne,textAlign:M,textBaseline:X,translation:[H,q],backdrop:S}})}return C}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Ir(this.labelRotation))return e==="top"?"left":"right";let a="center";return n.align==="start"?a="left":n.align==="end"?a="right":n.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:a,padding:o}}=this.options,c=this._getLabelSizes(),u=e+o,f=c.widest.width;let m,g;return n==="left"?a?(g=this.right+o,i==="near"?m="left":i==="center"?(m="center",g+=f/2):(m="right",g+=f)):(g=this.right-u,i==="near"?m="right":i==="center"?(m="center",g-=f/2):(m="left",g=this.left)):n==="right"?a?(g=this.left+o,i==="near"?m="right":i==="center"?(m="center",g-=f/2):(m="left",g-=f)):(g=this.left+u,i==="near"?m="left":i==="center"?(m="center",g+=f/2):(m="right",g=this.right)):m="right",{textAlign:m,x:g}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:a,width:o,height:c}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,a,o,c),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const a=this.ticks.findIndex(o=>o.value===e);return a>=0?n.setContext(this.getContext(a)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let o,c;const u=(f,m,g)=>{!g.width||!g.color||(i.save(),i.lineWidth=g.width,i.strokeStyle=g.color,i.setLineDash(g.borderDash||[]),i.lineDashOffset=g.borderDashOffset,i.beginPath(),i.moveTo(f.x,f.y),i.lineTo(m.x,m.y),i.stroke(),i.restore())};if(n.display)for(o=0,c=a.length;o<c;++o){const f=a[o];n.drawOnChartArea&&u({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),n.drawTicks&&u({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:i,grid:a}}=this,o=i.setContext(this.getContext()),c=i.display?o.width:0;if(!c)return;const u=a.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let m,g,v,x;this.isHorizontal()?(m=$i(e,this.left,c)-c/2,g=$i(e,this.right,u)+u/2,v=x=f):(v=$i(e,this.top,c)-c/2,x=$i(e,this.bottom,u)+u/2,m=g=f),n.save(),n.lineWidth=o.width,n.strokeStyle=o.color,n.beginPath(),n.moveTo(m,v),n.lineTo(g,x),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,a=this._computeLabelArea();a&&Vd(i,a);const o=this.getLabelItems(e);for(const c of o){const u=c.options,f=c.font,m=c.label,g=c.textOffset;Ul(i,m,0,g,f,u)}a&&Kd(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:a}}=this;if(!i.display)return;const o=Tn(i.font),c=lr(i.padding),u=i.align;let f=o.lineHeight/2;n==="bottom"||n==="center"||nt(n)?(f+=c.bottom,an(i.text)&&(f+=o.lineHeight*(i.text.length-1))):f+=c.top;const{titleX:m,titleY:g,maxWidth:v,rotation:x}=Sk(this,f,n,u);Ul(e,i.text,0,0,o,{color:i.color,maxWidth:v,rotation:x,textAlign:wk(u,n,a),textBaseline:"middle",translation:[m,g]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=tt(e.grid&&e.grid.z,-1),a=tt(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Ys.prototype.draw?[{z:n,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:n,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",a=[];let o,c;for(o=0,c=n.length;o<c;++o){const u=n[o];u[i]===this.id&&(!e||u.type===e)&&a.push(u)}return a}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Tn(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class gl{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;Ck(n)&&(i=this.register(n));const a=this.items,o=e.id,c=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in a||(a[o]=e,kk(e,c,i),this.override&&Ut.override(e.id,e.overrides)),c}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,a=this.scope;i in n&&delete n[i],a&&i in Ut[a]&&(delete Ut[a][i],this.override&&delete ns[i])}}function kk(t,e,n){const i=Qa(Object.create(null),[n?Ut.get(n):{},Ut.get(e),t.defaults]);Ut.set(e,i),t.defaultRoutes&&jk(e,t.defaultRoutes),t.descriptors&&Ut.describe(e,t.descriptors)}function jk(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),a=i.pop(),o=[t].concat(i).join("."),c=e[n].split("."),u=c.pop(),f=c.join(".");Ut.route(o,a,f,u)})}function Ck(t){return"id"in t&&"defaults"in t}class Ek{constructor(){this.controllers=new gl(Zd,"datasets",!0),this.elements=new gl(Ks,"elements"),this.plugins=new gl(Object,"plugins"),this.scales=new gl(Ys,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(a=>{const o=i||this._getRegistryForType(a);i||o.isForType(a)||o===this.plugins&&a.id?this._exec(e,o,a):ht(a,c=>{const u=i||this._getRegistryForType(c);this._exec(e,u,c)})})}_exec(e,n,i){const a=$d(e);Et(i["before"+a],[],i),n[e](i),Et(i["after"+a],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const a=n.get(e);if(a===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return a}}var xr=new Ek;class Nk{constructor(){this._init=[]}notify(e,n,i,a){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const o=a?this._descriptors(e).filter(a):this._descriptors(e),c=this._notify(o,e,n,i);return n==="afterDestroy"&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall")),c}_notify(e,n,i,a){a=a||{};for(const o of e){const c=o.plugin,u=c[i],f=[n,a,o.options];if(Et(u,f,c)===!1&&a.cancelable)return!1}return!0}invalidate(){yt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,a=tt(i.options&&i.options.plugins,{}),o=Rk(i);return a===!1&&!n?[]:Tk(e,o,a,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,a=(o,c)=>o.filter(u=>!c.some(f=>u.plugin.id===f.plugin.id));this._notify(a(n,i),e,"stop"),this._notify(a(i,n),e,"start")}}function Rk(t){const e={},n=[],i=Object.keys(xr.plugins.items);for(let o=0;o<i.length;o++)n.push(xr.getPlugin(i[o]));const a=t.plugins||[];for(let o=0;o<a.length;o++){const c=a[o];n.indexOf(c)===-1&&(n.push(c),e[c.id]=!0)}return{plugins:n,localIds:e}}function Mk(t,e){return!e&&t===!1?null:t===!0?{}:t}function Tk(t,{plugins:e,localIds:n},i,a){const o=[],c=t.getContext();for(const u of e){const f=u.id,m=Mk(i[f],a);m!==null&&o.push({plugin:u,options:Pk(t.config,{plugin:u,local:n[f]},m,c)})}return o}function Pk(t,{plugin:e,local:n},i,a){const o=t.pluginScopeKeys(e),c=t.getOptionScopes(i,o);return n&&e.defaults&&c.push(e.defaults),t.createResolver(c,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function _d(t,e){const n=Ut.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function Dk(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function Ak(t,e){return t===e?"_index_":"_value_"}function Jp(t){if(t==="x"||t==="y"||t==="r")return t}function Lk(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function wd(t,...e){if(Jp(t))return t;for(const n of e){const i=n.axis||Lk(n.position)||t.length>1&&Jp(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function Zp(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function Ok(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return Zp(t,"x",n[0])||Zp(t,"y",n[0])}return{}}function Fk(t,e){const n=ns[t.type]||{scales:{}},i=e.scales||{},a=_d(t.type,e),o=Object.create(null);return Object.keys(i).forEach(c=>{const u=i[c];if(!nt(u))return console.error(`Invalid scale configuration for scale: ${c}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const f=wd(c,u,Ok(c,t),Ut.scales[u.type]),m=Ak(f,a),g=n.scales||{};o[c]=$a(Object.create(null),[{axis:f},u,g[f],g[m]])}),t.data.datasets.forEach(c=>{const u=c.type||t.type,f=c.indexAxis||_d(u,e),g=(ns[u]||{}).scales||{};Object.keys(g).forEach(v=>{const x=Dk(v,f),w=c[x+"AxisID"]||x;o[w]=o[w]||Object.create(null),$a(o[w],[{axis:x},i[w],g[v]])})}),Object.keys(o).forEach(c=>{const u=o[c];$a(u,[Ut.scales[u.type],Ut.scale])}),o}function Yy(t){const e=t.options||(t.options={});e.plugins=tt(e.plugins,{}),e.scales=Fk(t,e)}function Xy(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function Ik(t){return t=t||{},t.data=Xy(t.data),Yy(t),t}const eg=new Map,Qy=new Set;function yl(t,e){let n=eg.get(t);return n||(n=e(),eg.set(t,n),Qy.add(n)),n}const La=(t,e,n)=>{const i=ts(e,n);i!==void 0&&t.add(i)};class zk{constructor(e){this._config=Ik(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Xy(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Yy(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return yl(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return yl(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return yl(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return yl(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let a=i.get(e);return(!a||n)&&(a=new Map,i.set(e,a)),a}getOptionScopes(e,n,i){const{options:a,type:o}=this,c=this._cachedScopes(e,i),u=c.get(n);if(u)return u;const f=new Set;n.forEach(g=>{e&&(f.add(e),g.forEach(v=>La(f,e,v))),g.forEach(v=>La(f,a,v)),g.forEach(v=>La(f,ns[o]||{},v)),g.forEach(v=>La(f,Ut,v)),g.forEach(v=>La(f,bd,v))});const m=Array.from(f);return m.length===0&&m.push(Object.create(null)),Qy.has(n)&&c.set(n,m),m}chartOptionScopes(){const{options:e,type:n}=this;return[e,ns[n]||{},Ut.datasets[n]||{},{type:n},Ut,bd]}resolveNamedOptions(e,n,i,a=[""]){const o={$shared:!0},{resolver:c,subPrefixes:u}=tg(this._resolverCache,e,a);let f=c;if(Bk(c,n)){o.$shared=!1,i=Si(i)?i():i;const m=this.createResolver(e,i,u);f=Us(c,i,m)}for(const m of n)o[m]=f[m];return o}createResolver(e,n,i=[""],a){const{resolver:o}=tg(this._resolverCache,e,i);return nt(n)?Us(o,n,void 0,a):o}}function tg(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const a=n.join();let o=i.get(a);return o||(o={resolver:Xd(e,n),subPrefixes:n.filter(u=>!u.toLowerCase().includes("hover"))},i.set(a,o)),o}const Uk=t=>nt(t)&&Object.getOwnPropertyNames(t).some(e=>Si(t[e]));function Bk(t,e){const{isScriptable:n,isIndexable:i}=Dy(t);for(const a of e){const o=n(a),c=i(a),u=(c||o)&&t[a];if(o&&(Si(u)||Uk(u))||c&&an(u))return!0}return!1}var $k="4.5.0";const Hk=["top","bottom","left","right","chartArea"];function ng(t,e){return t==="top"||t==="bottom"||Hk.indexOf(t)===-1&&e==="x"}function rg(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function ig(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Et(n&&n.onComplete,[t],e)}function Wk(t){const e=t.chart,n=e.options.animation;Et(n&&n.onProgress,[t],e)}function Gy(t){return qd()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const El={},sg=t=>{const e=Gy(t);return Object.values(El).filter(n=>n.canvas===e).pop()};function Vk(t,e,n){const i=Object.keys(t);for(const a of i){const o=+a;if(o>=e){const c=t[a];delete t[a],(n>0||o>e)&&(t[o+n]=c)}}}function Kk(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}let tc=class{static defaults=Ut;static instances=El;static overrides=ns;static registry=xr;static version=$k;static getChart=sg;static register(...e){xr.add(...e),ag()}static unregister(...e){xr.remove(...e),ag()}constructor(e,n){const i=this.config=new zk(n),a=Gy(e),o=sg(a);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const c=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||uk(a)),this.platform.updateConfig(i);const u=this.platform.acquireContext(a,c.aspectRatio),f=u&&u.canvas,m=f&&f.height,g=f&&f.width;if(this.id=aw(),this.ctx=u,this.canvas=f,this.width=g,this.height=m,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Nk,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=kw(v=>this.update(v),c.resizeDelay||0),this._dataChanges=[],El[this.id]=this,!u||!f){console.error("Failed to create chart: can't acquire context from the given item");return}Ar.listen(this,"complete",ig),Ar.listen(this,"progress",Wk),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:a,_aspectRatio:o}=this;return yt(e)?n&&o?o:a?i/a:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return xr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Tp(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Ep(this.canvas,this.ctx),this}stop(){return Ar.stop(this),this}resize(e,n){Ar.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,a=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(a,e,n,o),u=i.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,Tp(this,u,!0)&&(this.notifyPlugins("resize",{size:c}),Et(i.onResize,[this,c],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};ht(n,(i,a)=>{i.id=a})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,a=Object.keys(i).reduce((c,u)=>(c[u]=!1,c),{});let o=[];n&&(o=o.concat(Object.keys(n).map(c=>{const u=n[c],f=wd(c,u),m=f==="r",g=f==="x";return{options:u,dposition:m?"chartArea":g?"bottom":"left",dtype:m?"radialLinear":g?"category":"linear"}}))),ht(o,c=>{const u=c.options,f=u.id,m=wd(f,u),g=tt(u.type,c.dtype);(u.position===void 0||ng(u.position,m)!==ng(c.dposition))&&(u.position=c.dposition),a[f]=!0;let v=null;if(f in i&&i[f].type===g)v=i[f];else{const x=xr.getScale(g);v=new x({id:f,type:g,ctx:this.ctx,chart:this}),i[v.id]=v}v.init(u,e)}),ht(a,(c,u)=>{c||delete i[u]}),ht(i,c=>{vi.configure(this,c,c.options),vi.addBox(this,c)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((a,o)=>a.index-o.index),i>n){for(let a=n;a<i;++a)this._destroyDatasetMeta(a);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(rg("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,a)=>{n.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,a;for(this._removeUnreferencedMetasets(),i=0,a=n.length;i<a;i++){const o=n[i];let c=this.getDatasetMeta(i);const u=o.type||this.config.type;if(c.type&&c.type!==u&&(this._destroyDatasetMeta(i),c=this.getDatasetMeta(i)),c.type=u,c.indexAxis=o.indexAxis||_d(u,this.options),c.order=o.order||0,c.index=i,c.label=""+o.label,c.visible=this.isDatasetVisible(i),c.controller)c.controller.updateIndex(i),c.controller.linkScales();else{const f=xr.getController(u),{datasetElementType:m,dataElementType:g}=Ut.datasets[u];Object.assign(f,{dataElementType:xr.getElement(g),datasetElementType:m&&xr.getElement(m)}),c.controller=new f(this,i),e.push(c.controller)}}return this._updateMetasets(),e}_resetElements(){ht(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let m=0,g=this.data.datasets.length;m<g;m++){const{controller:v}=this.getDatasetMeta(m),x=!a&&o.indexOf(v)===-1;v.buildOrUpdateElements(x),c=Math.max(+v.getMaxOverflow(),c)}c=this._minPadding=i.layout.autoPadding?c:0,this._updateLayout(c),a||ht(o,m=>{m.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(rg("z","_idx"));const{_active:u,_lastEvent:f}=this;f?this._eventHandler(f,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){ht(this.scales,e=>{vi.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!yp(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:a,count:o}of n){const c=i==="_removeElements"?-o:o;Vk(e,a,c)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=o=>new Set(e.filter(c=>c[0]===o).map((c,u)=>u+","+c.splice(1).join(","))),a=i(0);for(let o=1;o<n;o++)if(!yp(a,i(o)))return;return Array.from(a).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;vi.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],ht(this.boxes,a=>{i&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,o)=>{a._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,Si(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),a={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(i.controller._update(n),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ar.has(this)?this.attached&&!Ar.running(this)&&Ar.start(this):(this.draw(),ig({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let a,o;for(a=0,o=n.length;a<o;++a){const c=n[a];(!e||c.visible)&&i.push(c)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i={meta:e,index:e.index,cancelable:!0},a=cS(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(a&&Vd(n,a),e.controller.draw(),a&&Kd(n),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return Ty(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,a){const o=HS.modes[n];return typeof o=="function"?o(this,e,i,a):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let a=i.filter(o=>o&&o._dataset===n).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(a)),a}getContext(){return this.$context||(this.$context=Vs(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const a=i?"show":"hide",o=this.getDatasetMeta(e),c=o.controller._resolveAnimations(void 0,a);Ga(n)?(o.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),c.update(o,{visible:i}),this.update(u=>u.datasetIndex===e?a:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Ar.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Ep(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete El[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(o,c)=>{n.addEventListener(this,o,c),e[o]=c},a=(o,c,u)=>{o.offsetX=c,o.offsetY=u,this._eventHandler(o)};ht(this.options.events,o=>i(o,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(f,m)=>{n.addEventListener(this,f,m),e[f]=m},a=(f,m)=>{e[f]&&(n.removeEventListener(this,f,m),delete e[f])},o=(f,m)=>{this.canvas&&this.resize(f,m)};let c;const u=()=>{a("attach",u),this.attached=!0,this.resize(),i("resize",o),i("detach",c)};c=()=>{this.attached=!1,a("resize",o),this._stop(),this._resize(0,0),i("attach",u)},n.isAttached(this.canvas)?u():c()}unbindEvents(){ht(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},ht(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const a=i?"set":"remove";let o,c,u,f;for(n==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+a+"DatasetHoverStyle"]()),u=0,f=e.length;u<f;++u){c=e[u];const m=c&&this.getDatasetMeta(c.datasetIndex).controller;m&&m[a+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:o,index:c})=>{const u=this.getDatasetMeta(o);if(!u)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:u.data[c],index:c}});!Ll(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,i){const a=this.options.hover,o=(f,m)=>f.filter(g=>!m.some(v=>g.datasetIndex===v.datasetIndex&&g.index===v.index)),c=o(n,e),u=i?e:o(e,n);c.length&&this.updateHoverStyle(c,a.mode,!1),u.length&&a.mode&&this.updateHoverStyle(u,a.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},a=c=>(c.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,a)===!1)return;const o=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,a),(o||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:a=[],options:o}=this,c=n,u=this._getActiveElements(e,a,i,c),f=fw(e),m=Kk(e,this._lastEvent,i,f);i&&(this._lastEvent=null,Et(o.onHover,[e,u,this],this),f&&Et(o.onClick,[e,u,this],this));const g=!Ll(u,a);return(g||n)&&(this._active=u,this._updateHoverStyles(u,a,n)),this._lastEvent=m,g}_getActiveElements(e,n,i,a){if(e.type==="mouseout")return[];if(!i)return n;const o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,a)}};function ag(){return ht(tc.instances,t=>t._plugins.invalidate())}function Yk(t,e,n){const{startAngle:i,x:a,y:o,outerRadius:c,innerRadius:u,options:f}=e,{borderWidth:m,borderJoinStyle:g}=f,v=Math.min(m/c,br(i-n));if(t.beginPath(),t.arc(a,o,c-m/2,i+v/2,n-v/2),u>0){const x=Math.min(m/u,br(i-n));t.arc(a,o,u+m/2,n-x/2,i+x/2,!0)}else{const x=Math.min(m/2,c*br(i-n));if(g==="round")t.arc(a,o,x,n-Nt/2,i+Nt/2,!0);else if(g==="bevel"){const w=2*x*x,k=-w*Math.cos(n+Nt/2)+a,j=-w*Math.sin(n+Nt/2)+o,C=w*Math.cos(i+Nt/2)+a,N=w*Math.sin(i+Nt/2)+o;t.lineTo(k,j),t.lineTo(C,N)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function Xk(t,e,n){const{startAngle:i,pixelMargin:a,x:o,y:c,outerRadius:u,innerRadius:f}=e;let m=a/u;t.beginPath(),t.arc(o,c,u,i-m,n+m),f>a?(m=a/f,t.arc(o,c,f,n+m,i-m,!0)):t.arc(o,c,a,n+Zt,i-Zt),t.closePath(),t.clip()}function Qk(t){return Yd(t,["outerStart","outerEnd","innerStart","innerEnd"])}function Gk(t,e,n,i){const a=Qk(t.options.borderRadius),o=(n-e)/2,c=Math.min(o,i*e/2),u=f=>{const m=(n-Math.min(o,f))*i/2;return Mn(f,0,Math.min(o,m))};return{outerStart:u(a.outerStart),outerEnd:u(a.outerEnd),innerStart:Mn(a.innerStart,0,c),innerEnd:Mn(a.innerEnd,0,c)}}function Ds(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function Wl(t,e,n,i,a,o){const{x:c,y:u,startAngle:f,pixelMargin:m,innerRadius:g}=e,v=Math.max(e.outerRadius+i+n-m,0),x=g>0?g+i+n+m:0;let w=0;const k=a-f;if(i){const se=g>0?g-i:0,he=v>0?v-i:0,ye=(se+he)/2,Z=ye!==0?k*ye/(ye+i):k;w=(k-Z)/2}const j=Math.max(.001,k*v-n/Nt)/v,C=(k-j)/2,N=f+C+w,P=a-C-w,{outerStart:$,outerEnd:I,innerStart:H,innerEnd:q}=Gk(e,x,v,P-N),R=v-$,A=v-I,K=N+$/R,L=P-I/A,T=x+H,Y=x+q,X=N+H/T,te=P-q/Y;if(t.beginPath(),o){const se=(K+L)/2;if(t.arc(c,u,v,K,se),t.arc(c,u,v,se,L),I>0){const ne=Ds(A,L,c,u);t.arc(ne.x,ne.y,I,L,P+Zt)}const he=Ds(Y,P,c,u);if(t.lineTo(he.x,he.y),q>0){const ne=Ds(Y,te,c,u);t.arc(ne.x,ne.y,q,P+Zt,te+Math.PI)}const ye=(P-q/x+(N+H/x))/2;if(t.arc(c,u,x,P-q/x,ye,!0),t.arc(c,u,x,ye,N+H/x,!0),H>0){const ne=Ds(T,X,c,u);t.arc(ne.x,ne.y,H,X+Math.PI,N-Zt)}const Z=Ds(R,N,c,u);if(t.lineTo(Z.x,Z.y),$>0){const ne=Ds(R,K,c,u);t.arc(ne.x,ne.y,$,N-Zt,K)}}else{t.moveTo(c,u);const se=Math.cos(K)*v+c,he=Math.sin(K)*v+u;t.lineTo(se,he);const ye=Math.cos(L)*v+c,Z=Math.sin(L)*v+u;t.lineTo(ye,Z)}t.closePath()}function qk(t,e,n,i,a){const{fullCircles:o,startAngle:c,circumference:u}=e;let f=e.endAngle;if(o){Wl(t,e,n,i,f,a);for(let m=0;m<o;++m)t.fill();isNaN(u)||(f=c+(u%Xt||Xt))}return Wl(t,e,n,i,f,a),t.fill(),f}function Jk(t,e,n,i,a){const{fullCircles:o,startAngle:c,circumference:u,options:f}=e,{borderWidth:m,borderJoinStyle:g,borderDash:v,borderDashOffset:x,borderRadius:w}=f,k=f.borderAlign==="inner";if(!m)return;t.setLineDash(v||[]),t.lineDashOffset=x,k?(t.lineWidth=m*2,t.lineJoin=g||"round"):(t.lineWidth=m,t.lineJoin=g||"bevel");let j=e.endAngle;if(o){Wl(t,e,n,i,j,a);for(let C=0;C<o;++C)t.stroke();isNaN(u)||(j=c+(u%Xt||Xt))}k&&Xk(t,e,j),f.selfJoin&&j-c>=Nt&&w===0&&g!=="miter"&&Yk(t,e,j),o||(Wl(t,e,n,i,j,a),t.stroke())}class Zk extends Ks{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,i){const a=this.getProps(["x","y"],i),{angle:o,distance:c}=wy(a,{x:e,y:n}),{startAngle:u,endAngle:f,innerRadius:m,outerRadius:g,circumference:v}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),x=(this.options.spacing+this.options.borderWidth)/2,w=tt(v,f-u),k=zl(o,u,f)&&u!==f,j=w>=Xt||k,C=Gi(c,m+x,g+x);return j&&C}getCenterPoint(e){const{x:n,y:i,startAngle:a,endAngle:o,innerRadius:c,outerRadius:u}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:f,spacing:m}=this.options,g=(a+o)/2,v=(c+u+m+f)/2;return{x:n+Math.cos(g)*v,y:i+Math.sin(g)*v}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:n,circumference:i}=this,a=(n.offset||0)/4,o=(n.spacing||0)/2,c=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=i>Xt?Math.floor(i/Xt):0,i===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const u=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(u)*a,Math.sin(u)*a);const f=1-Math.sin(Math.min(Nt,i||0)),m=a*f;e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,qk(e,this,m,o,c),Jk(e,this,m,o,c),e.restore()}}function qy(t,e){const{x:n,y:i,base:a,width:o,height:c}=t.getProps(["x","y","base","width","height"],e);let u,f,m,g,v;return t.horizontal?(v=c/2,u=Math.min(n,a),f=Math.max(n,a),m=i-v,g=i+v):(v=o/2,u=n-v,f=n+v,m=Math.min(i,a),g=Math.max(i,a)),{left:u,top:m,right:f,bottom:g}}function xi(t,e,n,i){return t?0:Mn(e,n,i)}function e1(t,e,n){const i=t.options.borderWidth,a=t.borderSkipped,o=Py(i);return{t:xi(a.top,o.top,0,n),r:xi(a.right,o.right,0,e),b:xi(a.bottom,o.bottom,0,n),l:xi(a.left,o.left,0,e)}}function t1(t,e,n){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),a=t.options.borderRadius,o=Os(a),c=Math.min(e,n),u=t.borderSkipped,f=i||nt(a);return{topLeft:xi(!f||u.top||u.left,o.topLeft,0,c),topRight:xi(!f||u.top||u.right,o.topRight,0,c),bottomLeft:xi(!f||u.bottom||u.left,o.bottomLeft,0,c),bottomRight:xi(!f||u.bottom||u.right,o.bottomRight,0,c)}}function n1(t){const e=qy(t),n=e.right-e.left,i=e.bottom-e.top,a=e1(t,n/2,i/2),o=t1(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:o},inner:{x:e.left+a.l,y:e.top+a.t,w:n-a.l-a.r,h:i-a.t-a.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,o.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(a.b,a.r))}}}}function id(t,e,n,i){const a=e===null,o=n===null,u=t&&!(a&&o)&&qy(t,i);return u&&(a||Gi(e,u.left,u.right))&&(o||Gi(n,u.top,u.bottom))}function r1(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function i1(t,e){t.rect(e.x,e.y,e.w,e.h)}function sd(t,e,n={}){const i=t.x!==n.x?-e:0,a=t.y!==n.y?-e:0,o=(t.x+t.w!==n.x+n.w?e:0)-i,c=(t.y+t.h!==n.y+n.h?e:0)-a;return{x:t.x+i,y:t.y+a,w:t.w+o,h:t.h+c,radius:t.radius}}class s1 extends Ks{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:i,backgroundColor:a}}=this,{inner:o,outer:c}=n1(this),u=r1(c.radius)?Bl:i1;e.save(),(c.w!==o.w||c.h!==o.h)&&(e.beginPath(),u(e,sd(c,n,o)),e.clip(),u(e,sd(o,-n,c)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),u(e,sd(o,n)),e.fillStyle=a,e.fill(),e.restore()}inRange(e,n,i){return id(this,e,n,i)}inXRange(e,n){return id(this,e,null,n)}inYRange(e,n){return id(this,null,e,n)}getCenterPoint(e){const{x:n,y:i,base:a,horizontal:o}=this.getProps(["x","y","base","horizontal"],e);return{x:o?(n+a)/2:n,y:o?i:(i+a)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}const og=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},a1=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class lg extends Ks{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Et(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,a)=>e.sort(i,a,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,a=Tn(i.font),o=a.size,c=this._computeTitleHeight(),{boxWidth:u,itemHeight:f}=og(i,o);let m,g;n.font=a.string,this.isHorizontal()?(m=this.maxWidth,g=this._fitRows(c,o,u,f)+10):(g=this.maxHeight,m=this._fitCols(c,a,u,f)+10),this.width=Math.min(m,e.maxWidth||this.maxWidth),this.height=Math.min(g,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,a){const{ctx:o,maxWidth:c,options:{labels:{padding:u}}}=this,f=this.legendHitBoxes=[],m=this.lineWidths=[0],g=a+u;let v=e;o.textAlign="left",o.textBaseline="middle";let x=-1,w=-g;return this.legendItems.forEach((k,j)=>{const C=i+n/2+o.measureText(k.text).width;(j===0||m[m.length-1]+C+2*u>c)&&(v+=g,m[m.length-(j>0?0:1)]=0,w+=g,x++),f[j]={left:0,top:w,row:x,width:C,height:a},m[m.length-1]+=C+u}),v}_fitCols(e,n,i,a){const{ctx:o,maxHeight:c,options:{labels:{padding:u}}}=this,f=this.legendHitBoxes=[],m=this.columnSizes=[],g=c-e;let v=u,x=0,w=0,k=0,j=0;return this.legendItems.forEach((C,N)=>{const{itemWidth:P,itemHeight:$}=o1(i,n,o,C,a);N>0&&w+$+2*u>g&&(v+=x+u,m.push({width:x,height:w}),k+=x+u,j++,x=w=0),f[N]={left:k,top:w,col:j,width:P,height:$},x=Math.max(x,P),w+=$+u}),v+=x,m.push({width:x,height:w}),v}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:a},rtl:o}}=this,c=Fs(o,this.left,this.width);if(this.isHorizontal()){let u=0,f=In(i,this.left+a,this.right-this.lineWidths[u]);for(const m of n)u!==m.row&&(u=m.row,f=In(i,this.left+a,this.right-this.lineWidths[u])),m.top+=this.top+e+a,m.left=c.leftForLtr(c.x(f),m.width),f+=m.width+a}else{let u=0,f=In(i,this.top+e+a,this.bottom-this.columnSizes[u].height);for(const m of n)m.col!==u&&(u=m.col,f=In(i,this.top+e+a,this.bottom-this.columnSizes[u].height)),m.top=f,m.left+=this.left+a,m.left=c.leftForLtr(c.x(m.left),m.width),f+=m.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Vd(e,this),this._draw(),Kd(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:a}=this,{align:o,labels:c}=e,u=Ut.color,f=Fs(e.rtl,this.left,this.width),m=Tn(c.font),{padding:g}=c,v=m.size,x=v/2;let w;this.drawTitle(),a.textAlign=f.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=m.string;const{boxWidth:k,boxHeight:j,itemHeight:C}=og(c,v),N=function(q,R,A){if(isNaN(k)||k<=0||isNaN(j)||j<0)return;a.save();const K=tt(A.lineWidth,1);if(a.fillStyle=tt(A.fillStyle,u),a.lineCap=tt(A.lineCap,"butt"),a.lineDashOffset=tt(A.lineDashOffset,0),a.lineJoin=tt(A.lineJoin,"miter"),a.lineWidth=K,a.strokeStyle=tt(A.strokeStyle,u),a.setLineDash(tt(A.lineDash,[])),c.usePointStyle){const L={radius:j*Math.SQRT2/2,pointStyle:A.pointStyle,rotation:A.rotation,borderWidth:K},T=f.xPlus(q,k/2),Y=R+x;My(a,L,T,Y,c.pointStyleWidth&&k)}else{const L=R+Math.max((v-j)/2,0),T=f.leftForLtr(q,k),Y=Os(A.borderRadius);a.beginPath(),Object.values(Y).some(X=>X!==0)?Bl(a,{x:T,y:L,w:k,h:j,radius:Y}):a.rect(T,L,k,j),a.fill(),K!==0&&a.stroke()}a.restore()},P=function(q,R,A){Ul(a,A.text,q,R+C/2,m,{strikethrough:A.hidden,textAlign:f.textAlign(A.textAlign)})},$=this.isHorizontal(),I=this._computeTitleHeight();$?w={x:In(o,this.left+g,this.right-i[0]),y:this.top+g+I,line:0}:w={x:this.left+g,y:In(o,this.top+I+g,this.bottom-n[0].height),line:0},Fy(this.ctx,e.textDirection);const H=C+g;this.legendItems.forEach((q,R)=>{a.strokeStyle=q.fontColor,a.fillStyle=q.fontColor;const A=a.measureText(q.text).width,K=f.textAlign(q.textAlign||(q.textAlign=c.textAlign)),L=k+x+A;let T=w.x,Y=w.y;f.setWidth(this.width),$?R>0&&T+L+g>this.right&&(Y=w.y+=H,w.line++,T=w.x=In(o,this.left+g,this.right-i[w.line])):R>0&&Y+H>this.bottom&&(T=w.x=T+n[w.line].width+g,w.line++,Y=w.y=In(o,this.top+I+g,this.bottom-n[w.line].height));const X=f.x(T);if(N(X,Y,q),T=jw(K,T+k+x,$?T+L:this.right,e.rtl),P(f.x(T),Y,q),$)w.x+=L+g;else if(typeof q.text!="string"){const te=m.lineHeight;w.y+=Jy(q,te)+g}else w.y+=H}),Iy(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=Tn(n.font),a=lr(n.padding);if(!n.display)return;const o=Fs(e.rtl,this.left,this.width),c=this.ctx,u=n.position,f=i.size/2,m=a.top+f;let g,v=this.left,x=this.width;if(this.isHorizontal())x=Math.max(...this.lineWidths),g=this.top+m,v=In(e.align,v,this.right-x);else{const k=this.columnSizes.reduce((j,C)=>Math.max(j,C.height),0);g=m+In(e.align,this.top,this.bottom-k-e.labels.padding-this._computeTitleHeight())}const w=In(u,v,v+x);c.textAlign=o.textAlign(Ey(u)),c.textBaseline="middle",c.strokeStyle=n.color,c.fillStyle=n.color,c.font=i.string,Ul(c,n.text,w,g,i)}_computeTitleHeight(){const e=this.options.title,n=Tn(e.font),i=lr(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,a,o;if(Gi(e,this.left,this.right)&&Gi(n,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(a=o[i],Gi(e,a.left,a.left+a.width)&&Gi(n,a.top,a.top+a.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!u1(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const a=this._hoveredItem,o=a1(a,i);a&&!o&&Et(n.onLeave,[e,a,this],this),this._hoveredItem=i,i&&!o&&Et(n.onHover,[e,i,this],this)}else i&&Et(n.onClick,[e,i,this],this)}}function o1(t,e,n,i,a){const o=l1(i,t,e,n),c=c1(a,i,e.lineHeight);return{itemWidth:o,itemHeight:c}}function l1(t,e,n,i){let a=t.text;return a&&typeof a!="string"&&(a=a.reduce((o,c)=>o.length>c.length?o:c)),e+n.size/2+i.measureText(a).width}function c1(t,e,n){let i=t;return typeof e.text!="string"&&(i=Jy(e,n)),i}function Jy(t,e){const n=t.text?t.text.length:0;return e*n}function u1(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var d1={id:"legend",_element:lg,start(t,e,n){const i=t.legend=new lg({ctx:t.ctx,options:n,chart:t});vi.configure(t,i,n),vi.addBox(t,i)},stop(t){vi.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;vi.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,a=n.chart;a.isDatasetVisible(i)?(a.hide(i),e.hidden=!0):(a.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:a,color:o,useBorderRadius:c,borderRadius:u}}=t.legend.options;return t._getSortedDatasetMetas().map(f=>{const m=f.controller.getStyle(n?0:void 0),g=lr(m.borderWidth);return{text:e[f.index].label,fillStyle:m.backgroundColor,fontColor:o,hidden:!f.visible,lineCap:m.borderCapStyle,lineDash:m.borderDash,lineDashOffset:m.borderDashOffset,lineJoin:m.borderJoinStyle,lineWidth:(g.width+g.height)/4,strokeStyle:m.borderColor,pointStyle:i||m.pointStyle,rotation:m.rotation,textAlign:a||m.textAlign,borderRadius:c&&(u||m.borderRadius),datasetIndex:f.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};const Ba={average(t){if(!t.length)return!1;let e,n,i=new Set,a=0,o=0;for(e=0,n=t.length;e<n;++e){const u=t[e].element;if(u&&u.hasValue()){const f=u.tooltipPosition();i.add(f.x),a+=f.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((u,f)=>u+f)/i.size,y:a/o}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,a=Number.POSITIVE_INFINITY,o,c,u;for(o=0,c=t.length;o<c;++o){const f=t[o].element;if(f&&f.hasValue()){const m=f.getCenterPoint(),g=xw(e,m);g<a&&(a=g,u=f)}}if(u){const f=u.tooltipPosition();n=f.x,i=f.y}return{x:n,y:i}}};function vr(t,e){return e&&(an(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Lr(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function f1(t,e){const{element:n,datasetIndex:i,index:a}=e,o=t.getDatasetMeta(i).controller,{label:c,value:u}=o.getLabelAndValue(a);return{chart:t,label:c,parsed:o.getParsed(a),raw:t.data.datasets[i].data[a],formattedValue:u,dataset:o.getDataset(),dataIndex:a,datasetIndex:i,element:n}}function cg(t,e){const n=t.chart.ctx,{body:i,footer:a,title:o}=t,{boxWidth:c,boxHeight:u}=e,f=Tn(e.bodyFont),m=Tn(e.titleFont),g=Tn(e.footerFont),v=o.length,x=a.length,w=i.length,k=lr(e.padding);let j=k.height,C=0,N=i.reduce((I,H)=>I+H.before.length+H.lines.length+H.after.length,0);if(N+=t.beforeBody.length+t.afterBody.length,v&&(j+=v*m.lineHeight+(v-1)*e.titleSpacing+e.titleMarginBottom),N){const I=e.displayColors?Math.max(u,f.lineHeight):f.lineHeight;j+=w*I+(N-w)*f.lineHeight+(N-1)*e.bodySpacing}x&&(j+=e.footerMarginTop+x*g.lineHeight+(x-1)*e.footerSpacing);let P=0;const $=function(I){C=Math.max(C,n.measureText(I).width+P)};return n.save(),n.font=m.string,ht(t.title,$),n.font=f.string,ht(t.beforeBody.concat(t.afterBody),$),P=e.displayColors?c+2+e.boxPadding:0,ht(i,I=>{ht(I.before,$),ht(I.lines,$),ht(I.after,$)}),P=0,n.font=g.string,ht(t.footer,$),n.restore(),C+=k.width,{width:C,height:j}}function h1(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function m1(t,e,n,i){const{x:a,width:o}=i,c=n.caretSize+n.caretPadding;if(t==="left"&&a+o+c>e.width||t==="right"&&a-o-c<0)return!0}function p1(t,e,n,i){const{x:a,width:o}=n,{width:c,chartArea:{left:u,right:f}}=t;let m="center";return i==="center"?m=a<=(u+f)/2?"left":"right":a<=o/2?m="left":a>=c-o/2&&(m="right"),m1(m,t,e,n)&&(m="center"),m}function ug(t,e,n){const i=n.yAlign||e.yAlign||h1(t,n);return{xAlign:n.xAlign||e.xAlign||p1(t,e,n,i),yAlign:i}}function g1(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function y1(t,e,n){let{y:i,height:a}=t;return e==="top"?i+=n:e==="bottom"?i-=a+n:i-=a/2,i}function dg(t,e,n,i){const{caretSize:a,caretPadding:o,cornerRadius:c}=t,{xAlign:u,yAlign:f}=n,m=a+o,{topLeft:g,topRight:v,bottomLeft:x,bottomRight:w}=Os(c);let k=g1(e,u);const j=y1(e,f,m);return f==="center"?u==="left"?k+=m:u==="right"&&(k-=m):u==="left"?k-=Math.max(g,x)+a:u==="right"&&(k+=Math.max(v,w)+a),{x:Mn(k,0,i.width-e.width),y:Mn(j,0,i.height-e.height)}}function vl(t,e,n){const i=lr(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function fg(t){return vr([],Lr(t))}function v1(t,e,n){return Vs(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function hg(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const Zy={beforeTitle:Dr,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:Dr,beforeBody:Dr,beforeLabel:Dr,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return yt(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Dr,afterBody:Dr,beforeFooter:Dr,footer:Dr,afterFooter:Dr};function En(t,e,n,i){const a=t[e].call(n,i);return typeof a>"u"?Zy[e].call(n,i):a}class mg extends Ks{static positioners=Ba;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),a=i.enabled&&n.options.animation&&i.animations,o=new zy(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=v1(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,a=En(i,"beforeTitle",this,e),o=En(i,"title",this,e),c=En(i,"afterTitle",this,e);let u=[];return u=vr(u,Lr(a)),u=vr(u,Lr(o)),u=vr(u,Lr(c)),u}getBeforeBody(e,n){return fg(En(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:i}=n,a=[];return ht(e,o=>{const c={before:[],lines:[],after:[]},u=hg(i,o);vr(c.before,Lr(En(u,"beforeLabel",this,o))),vr(c.lines,En(u,"label",this,o)),vr(c.after,Lr(En(u,"afterLabel",this,o))),a.push(c)}),a}getAfterBody(e,n){return fg(En(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:i}=n,a=En(i,"beforeFooter",this,e),o=En(i,"footer",this,e),c=En(i,"afterFooter",this,e);let u=[];return u=vr(u,Lr(a)),u=vr(u,Lr(o)),u=vr(u,Lr(c)),u}_createItems(e){const n=this._active,i=this.chart.data,a=[],o=[],c=[];let u=[],f,m;for(f=0,m=n.length;f<m;++f)u.push(f1(this.chart,n[f]));return e.filter&&(u=u.filter((g,v,x)=>e.filter(g,v,x,i))),e.itemSort&&(u=u.sort((g,v)=>e.itemSort(g,v,i))),ht(u,g=>{const v=hg(e.callbacks,g);a.push(En(v,"labelColor",this,g)),o.push(En(v,"labelPointStyle",this,g)),c.push(En(v,"labelTextColor",this,g))}),this.labelColors=a,this.labelPointStyles=o,this.labelTextColors=c,this.dataPoints=u,u}update(e,n){const i=this.options.setContext(this.getContext()),a=this._active;let o,c=[];if(!a.length)this.opacity!==0&&(o={opacity:0});else{const u=Ba[i.position].call(this,a,this._eventPosition);c=this._createItems(i),this.title=this.getTitle(c,i),this.beforeBody=this.getBeforeBody(c,i),this.body=this.getBody(c,i),this.afterBody=this.getAfterBody(c,i),this.footer=this.getFooter(c,i);const f=this._size=cg(this,i),m=Object.assign({},u,f),g=ug(this.chart,i,m),v=dg(i,m,g,this.chart);this.xAlign=g.xAlign,this.yAlign=g.yAlign,o={opacity:1,x:v.x,y:v.y,width:f.width,height:f.height,caretX:u.x,caretY:u.y}}this._tooltipItems=c,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,a){const o=this.getCaretPosition(e,i,a);n.lineTo(o.x1,o.y1),n.lineTo(o.x2,o.y2),n.lineTo(o.x3,o.y3)}getCaretPosition(e,n,i){const{xAlign:a,yAlign:o}=this,{caretSize:c,cornerRadius:u}=i,{topLeft:f,topRight:m,bottomLeft:g,bottomRight:v}=Os(u),{x,y:w}=e,{width:k,height:j}=n;let C,N,P,$,I,H;return o==="center"?(I=w+j/2,a==="left"?(C=x,N=C-c,$=I+c,H=I-c):(C=x+k,N=C+c,$=I-c,H=I+c),P=C):(a==="left"?N=x+Math.max(f,g)+c:a==="right"?N=x+k-Math.max(m,v)-c:N=this.caretX,o==="top"?($=w,I=$-c,C=N-c,P=N+c):($=w+j,I=$+c,C=N+c,P=N-c),H=$),{x1:C,x2:N,x3:P,y1:$,y2:I,y3:H}}drawTitle(e,n,i){const a=this.title,o=a.length;let c,u,f;if(o){const m=Fs(i.rtl,this.x,this.width);for(e.x=vl(this,i.titleAlign,i),n.textAlign=m.textAlign(i.titleAlign),n.textBaseline="middle",c=Tn(i.titleFont),u=i.titleSpacing,n.fillStyle=i.titleColor,n.font=c.string,f=0;f<o;++f)n.fillText(a[f],m.x(e.x),e.y+c.lineHeight/2),e.y+=c.lineHeight+u,f+1===o&&(e.y+=i.titleMarginBottom-u)}}_drawColorBox(e,n,i,a,o){const c=this.labelColors[i],u=this.labelPointStyles[i],{boxHeight:f,boxWidth:m}=o,g=Tn(o.bodyFont),v=vl(this,"left",o),x=a.x(v),w=f<g.lineHeight?(g.lineHeight-f)/2:0,k=n.y+w;if(o.usePointStyle){const j={radius:Math.min(m,f)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},C=a.leftForLtr(x,m)+m/2,N=k+f/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,Np(e,j,C,N),e.strokeStyle=c.borderColor,e.fillStyle=c.backgroundColor,Np(e,j,C,N)}else{e.lineWidth=nt(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,e.strokeStyle=c.borderColor,e.setLineDash(c.borderDash||[]),e.lineDashOffset=c.borderDashOffset||0;const j=a.leftForLtr(x,m),C=a.leftForLtr(a.xPlus(x,1),m-2),N=Os(c.borderRadius);Object.values(N).some(P=>P!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,Bl(e,{x:j,y:k,w:m,h:f,radius:N}),e.fill(),e.stroke(),e.fillStyle=c.backgroundColor,e.beginPath(),Bl(e,{x:C,y:k+1,w:m-2,h:f-2,radius:N}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(j,k,m,f),e.strokeRect(j,k,m,f),e.fillStyle=c.backgroundColor,e.fillRect(C,k+1,m-2,f-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:a}=this,{bodySpacing:o,bodyAlign:c,displayColors:u,boxHeight:f,boxWidth:m,boxPadding:g}=i,v=Tn(i.bodyFont);let x=v.lineHeight,w=0;const k=Fs(i.rtl,this.x,this.width),j=function(A){n.fillText(A,k.x(e.x+w),e.y+x/2),e.y+=x+o},C=k.textAlign(c);let N,P,$,I,H,q,R;for(n.textAlign=c,n.textBaseline="middle",n.font=v.string,e.x=vl(this,C,i),n.fillStyle=i.bodyColor,ht(this.beforeBody,j),w=u&&C!=="right"?c==="center"?m/2+g:m+2+g:0,I=0,q=a.length;I<q;++I){for(N=a[I],P=this.labelTextColors[I],n.fillStyle=P,ht(N.before,j),$=N.lines,u&&$.length&&(this._drawColorBox(n,e,I,k,i),x=Math.max(v.lineHeight,f)),H=0,R=$.length;H<R;++H)j($[H]),x=v.lineHeight;ht(N.after,j)}w=0,x=v.lineHeight,ht(this.afterBody,j),e.y-=o}drawFooter(e,n,i){const a=this.footer,o=a.length;let c,u;if(o){const f=Fs(i.rtl,this.x,this.width);for(e.x=vl(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=f.textAlign(i.footerAlign),n.textBaseline="middle",c=Tn(i.footerFont),n.fillStyle=i.footerColor,n.font=c.string,u=0;u<o;++u)n.fillText(a[u],f.x(e.x),e.y+c.lineHeight/2),e.y+=c.lineHeight+i.footerSpacing}}drawBackground(e,n,i,a){const{xAlign:o,yAlign:c}=this,{x:u,y:f}=e,{width:m,height:g}=i,{topLeft:v,topRight:x,bottomLeft:w,bottomRight:k}=Os(a.cornerRadius);n.fillStyle=a.backgroundColor,n.strokeStyle=a.borderColor,n.lineWidth=a.borderWidth,n.beginPath(),n.moveTo(u+v,f),c==="top"&&this.drawCaret(e,n,i,a),n.lineTo(u+m-x,f),n.quadraticCurveTo(u+m,f,u+m,f+x),c==="center"&&o==="right"&&this.drawCaret(e,n,i,a),n.lineTo(u+m,f+g-k),n.quadraticCurveTo(u+m,f+g,u+m-k,f+g),c==="bottom"&&this.drawCaret(e,n,i,a),n.lineTo(u+w,f+g),n.quadraticCurveTo(u,f+g,u,f+g-w),c==="center"&&o==="left"&&this.drawCaret(e,n,i,a),n.lineTo(u,f+v),n.quadraticCurveTo(u,f,u+v,f),n.closePath(),n.fill(),a.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,a=i&&i.x,o=i&&i.y;if(a||o){const c=Ba[e.position].call(this,this._active,this._eventPosition);if(!c)return;const u=this._size=cg(this,e),f=Object.assign({},c,this._size),m=ug(n,e,f),g=dg(e,f,m,n);(a._to!==g.x||o._to!==g.y)&&(this.xAlign=m.xAlign,this.yAlign=m.yAlign,this.width=u.width,this.height=u.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,g))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const a={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const c=lr(n.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&u&&(e.save(),e.globalAlpha=i,this.drawBackground(o,e,a,n),Fy(e,n.textDirection),o.y+=c.top,this.drawTitle(o,e,n),this.drawBody(o,e,n),this.drawFooter(o,e,n),Iy(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,a=e.map(({datasetIndex:u,index:f})=>{const m=this.chart.getDatasetMeta(u);if(!m)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:m.data[f],index:f}}),o=!Ll(i,a),c=this._positionChanged(a,n);(o||c)&&(this._active=a,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,o=this._active||[],c=this._getActiveElements(e,o,n,i),u=this._positionChanged(c,e),f=n||!Ll(c,o)||u;return f&&(this._active=c,(a.enabled||a.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),f}_getActiveElements(e,n,i,a){const o=this.options;if(e.type==="mouseout")return[];if(!a)return n.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const c=this.chart.getElementsAtEventForMode(e,o.mode,o,i);return o.reverse&&c.reverse(),c}_positionChanged(e,n){const{caretX:i,caretY:a,options:o}=this,c=Ba[o.position].call(this,e,n);return c!==!1&&(i!==c.x||a!==c.y)}}var x1={id:"tooltip",_element:mg,positioners:Ba,afterInit(t,e,n){n&&(t.tooltip=new mg({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Zy},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const b1=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function _1(t,e,n,i){const a=t.indexOf(e);if(a===-1)return b1(t,e,n,i);const o=t.lastIndexOf(e);return a!==o?n:a}const w1=(t,e)=>t===null?null:Mn(Math.round(t),0,e);function pg(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class S1 extends Ys{static id="category";static defaults={ticks:{callback:pg}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:a,label:o}of n)i[a]===o&&i.splice(a,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(yt(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:_1(i,e,tt(n,e),this._addedLabels),w1(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(a=this.getLabels().length-1)),this.min=i,this.max=a}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,a=[];let o=this.getLabels();o=e===0&&n===o.length-1?o:o.slice(e,n+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let c=e;c<=n;c++)a.push({value:c});return a}getLabelForValue(e){return pg.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function k1(t,e){const n=[],{bounds:a,step:o,min:c,max:u,precision:f,count:m,maxTicks:g,maxDigits:v,includeBounds:x}=t,w=o||1,k=g-1,{min:j,max:C}=e,N=!yt(c),P=!yt(u),$=!yt(m),I=(C-j)/(v+1);let H=xp((C-j)/k/w)*w,q,R,A,K;if(H<1e-14&&!N&&!P)return[{value:j},{value:C}];K=Math.ceil(C/H)-Math.floor(j/H),K>k&&(H=xp(K*H/k/w)*w),yt(f)||(q=Math.pow(10,f),H=Math.ceil(H*q)/q),a==="ticks"?(R=Math.floor(j/H)*H,A=Math.ceil(C/H)*H):(R=j,A=C),N&&P&&o&&gw((u-c)/o,H/1e3)?(K=Math.round(Math.min((u-c)/H,g)),H=(u-c)/K,R=c,A=u):$?(R=N?c:R,A=P?u:A,K=m-1,H=(A-R)/K):(K=(A-R)/H,jl(K,Math.round(K),H/1e3)?K=Math.round(K):K=Math.ceil(K));const L=Math.max(bp(H),bp(R));q=Math.pow(10,yt(f)?L:f),R=Math.round(R*q)/q,A=Math.round(A*q)/q;let T=0;for(N&&(x&&R!==c?(n.push({value:c}),R<c&&T++,jl(Math.round((R+T*H)*q)/q,c,gg(c,I,t))&&T++):R<c&&T++);T<K;++T){const Y=Math.round((R+T*H)*q)/q;if(P&&Y>u)break;n.push({value:Y})}return P&&x&&A!==u?n.length&&jl(n[n.length-1].value,u,gg(u,I,t))?n[n.length-1].value=u:n.push({value:u}):(!P||A===u)&&n.push({value:A}),n}function gg(t,e,{horizontal:n,minRotation:i}){const a=Ir(i),o=(n?Math.sin(a):Math.cos(a))||.001,c=.75*e*(""+t).length;return Math.min(e/o,c)}class j1 extends Ys{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return yt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:a,max:o}=this;const c=f=>a=n?a:f,u=f=>o=i?o:f;if(e){const f=wi(a),m=wi(o);f<0&&m<0?u(0):f>0&&m>0&&c(0)}if(a===o){let f=o===0?1:Math.abs(o*.05);u(o+f),e||c(a-f)}this.min=a,this.max=o}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,a;return i?(a=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),n=n||11),n&&(a=Math.min(n,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const a={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},o=this._range||this,c=k1(a,o);return e.bounds==="ticks"&&yw(c,this,"value"),e.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const a=(i-n)/Math.max(e.length-1,1)/2;n-=a,i+=a}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return Wd(e,this.chart.options.locale,this.options.ticks.format)}}class C1 extends j1{static id="linear";static defaults={ticks:{callback:Ry.formatters.numeric}};determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Xn(e)?e:0,this.max=Xn(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=Ir(this.options.ticks.minRotation),a=(e?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,o.lineHeight/a))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const nc={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Rn=Object.keys(nc);function yg(t,e){return t-e}function vg(t,e){if(yt(e))return null;const n=t._adapter,{parser:i,round:a,isoWeekday:o}=t._parseOpts;let c=e;return typeof i=="function"&&(c=i(c)),Xn(c)||(c=typeof i=="string"?n.parse(c,i):n.parse(c)),c===null?null:(a&&(c=a==="week"&&(Il(o)||o===!0)?n.startOf(c,"isoWeek",o):n.startOf(c,a)),+c)}function xg(t,e,n,i){const a=Rn.length;for(let o=Rn.indexOf(t);o<a-1;++o){const c=nc[Rn[o]],u=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((n-e)/(u*c.size))<=i)return Rn[o]}return Rn[a-1]}function E1(t,e,n,i,a){for(let o=Rn.length-1;o>=Rn.indexOf(n);o--){const c=Rn[o];if(nc[c].common&&t._adapter.diff(a,i,c)>=e-1)return c}return Rn[n?Rn.indexOf(n):0]}function N1(t){for(let e=Rn.indexOf(t)+1,n=Rn.length;e<n;++e)if(nc[Rn[e]].common)return Rn[e]}function bg(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:a}=Hd(n,e),o=n[i]>=e?n[i]:n[a];t[o]=!0}}function R1(t,e,n,i){const a=t._adapter,o=+a.startOf(e[0].value,i),c=e[e.length-1].value;let u,f;for(u=o;u<=c;u=+a.add(u,1,i))f=n[u],f>=0&&(e[f].major=!0);return e}function _g(t,e,n){const i=[],a={},o=e.length;let c,u;for(c=0;c<o;++c)u=e[c],a[u]=c,i.push({value:u,major:!1});return o===0||!n?i:R1(t,i,a,n)}class wg extends Ys{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const i=e.time||(e.time={}),a=this._adapter=new IS._date(e.adapters.date);a.init(n),$a(i.displayFormats,a.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:vg(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:a,max:o,minDefined:c,maxDefined:u}=this.getUserBounds();function f(m){!c&&!isNaN(m.min)&&(a=Math.min(a,m.min)),!u&&!isNaN(m.max)&&(o=Math.max(o,m.max))}(!c||!u)&&(f(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&f(this.getMinMax(!1))),a=Xn(a)&&!isNaN(a)?a:+n.startOf(Date.now(),i),o=Xn(o)&&!isNaN(o)?o:+n.endOf(Date.now(),i)+1,this.min=Math.min(a,o-1),this.max=Math.max(a+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,a=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const o=this.min,c=this.max,u=ww(a,o,c);return this._unit=n.unit||(i.autoSkip?xg(n.minUnit,this.min,this.max,this._getLabelCapacity(o)):E1(this,u.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:N1(this._unit),this.initOffsets(a),e.reverse&&u.reverse(),_g(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,i=0,a,o;this.options.offset&&e.length&&(a=this.getDecimalForValue(e[0]),e.length===1?n=1-a:n=(this.getDecimalForValue(e[1])-a)/2,o=this.getDecimalForValue(e[e.length-1]),e.length===1?i=o:i=(o-this.getDecimalForValue(e[e.length-2]))/2);const c=e.length<3?.5:.25;n=Mn(n,0,c),i=Mn(i,0,c),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,a=this.options,o=a.time,c=o.unit||xg(o.minUnit,n,i,this._getLabelCapacity(n)),u=tt(a.ticks.stepSize,1),f=c==="week"?o.isoWeekday:!1,m=Il(f)||f===!0,g={};let v=n,x,w;if(m&&(v=+e.startOf(v,"isoWeek",f)),v=+e.startOf(v,m?"day":c),e.diff(i,n,c)>1e5*u)throw new Error(n+" and "+i+" are too far apart with stepSize of "+u+" "+c);const k=a.ticks.source==="data"&&this.getDataTimestamps();for(x=v,w=0;x<i;x=+e.add(x,u,c),w++)bg(g,x,k);return(x===i||a.bounds==="ticks"||w===1)&&bg(g,x,k),Object.keys(g).sort(yg).map(j=>+j)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}format(e,n){const a=this.options.time.displayFormats,o=this._unit,c=n||a[o];return this._adapter.format(e,c)}_tickFormatFunction(e,n,i,a){const o=this.options,c=o.ticks.callback;if(c)return Et(c,[e,n,i],this);const u=o.time.displayFormats,f=this._unit,m=this._majorUnit,g=f&&u[f],v=m&&u[m],x=i[n],w=m&&v&&x&&x.major;return this._adapter.format(e,a||(w?v:g))}generateTickLabels(e){let n,i,a;for(n=0,i=e.length;n<i;++n)a=e[n],a.label=this._tickFormatFunction(a.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,a=Ir(this.isHorizontal()?n.maxRotation:n.minRotation),o=Math.cos(a),c=Math.sin(a),u=this._resolveTickFontOptions(0).size;return{w:i*o+u*c,h:i*c+u*o}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,a=i[n.unit]||i.millisecond,o=this._tickFormatFunction(e,0,_g(this,[e],this._majorUnit),a),c=this._getLabelSize(o),u=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return u>0?u:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(n=0,i=a.length;n<i;++n)e=e.concat(a[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const a=this.getLabels();for(n=0,i=a.length;n<i;++n)e.push(vg(this,a[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return ky(e.sort(yg))}}function xl(t,e,n){let i=0,a=t.length-1,o,c,u,f;n?(e>=t[i].pos&&e<=t[a].pos&&({lo:i,hi:a}=xd(t,"pos",e)),{pos:o,time:u}=t[i],{pos:c,time:f}=t[a]):(e>=t[i].time&&e<=t[a].time&&({lo:i,hi:a}=xd(t,"time",e)),{time:o,pos:u}=t[i],{time:c,pos:f}=t[a]);const m=c-o;return m?u+(f-u)*(e-o)/m:u}class jC extends wg{static id="timeseries";static defaults=wg.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=xl(n,this.min),this._tableRange=xl(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,a=[],o=[];let c,u,f,m,g;for(c=0,u=e.length;c<u;++c)m=e[c],m>=n&&m<=i&&a.push(m);if(a.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(c=0,u=a.length;c<u;++c)g=a[c+1],f=a[c-1],m=a[c],Math.round((g+f)/2)!==m&&o.push({time:m,pos:c/(u-1)});return o}_generate(){const e=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((a,o)=>a-o)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(xl(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return xl(this._table,i*this._tableRange+this._minPos,!0)}}const ev="label";function Sg(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function M1(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function tv(t,e){t.labels=e}function nv(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ev;const i=[];t.datasets=e.map(a=>{const o=t.datasets.find(c=>c[n]===a[n]);return!o||!a.data||i.includes(o)?{...a}:(i.push(o),Object.assign(o,a),o)})}function T1(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ev;const n={labels:[],datasets:[]};return tv(n,t.labels),nv(n,t.datasets,e),n}function P1(t,e){const{height:n=150,width:i=300,redraw:a=!1,datasetIdKey:o,type:c,data:u,options:f,plugins:m=[],fallbackContent:g,updateMode:v,...x}=t,w=b.useRef(null),k=b.useRef(null),j=()=>{w.current&&(k.current=new tc(w.current,{type:c,data:T1(u,o),options:f&&{...f},plugins:m}),Sg(e,k.current))},C=()=>{Sg(e,null),k.current&&(k.current.destroy(),k.current=null)};return b.useEffect(()=>{!a&&k.current&&f&&M1(k.current,f)},[a,f]),b.useEffect(()=>{!a&&k.current&&tv(k.current.config.data,u.labels)},[a,u.labels]),b.useEffect(()=>{!a&&k.current&&u.datasets&&nv(k.current.config.data,u.datasets,o)},[a,u.datasets]),b.useEffect(()=>{k.current&&(a?(C(),setTimeout(j)):k.current.update(v))},[a,f,u.labels,u.datasets,v]),b.useEffect(()=>{k.current&&(C(),setTimeout(j))},[c]),b.useEffect(()=>(j(),()=>C()),[]),Vl.createElement("canvas",{ref:w,role:"img",height:n,width:i,...x},g)}const D1=b.forwardRef(P1);function rv(t,e){return tc.register(e),b.forwardRef((n,i)=>Vl.createElement(D1,{...n,ref:i,type:t}))}const A1=rv("bar",AS),L1=rv("pie",FS);function O1(t){const e=typeof t=="number"&&Number.isFinite(t)?t:0,n=e<=1?e*100:e;return Math.max(0,Math.min(100,n))}function F1(t){const e=t&&typeof t=="object"?t:{},n=e.auth_activity??{},i={window_days:Number.isFinite(n.window_days)?Number(n.window_days):7,from:typeof n.from=="string"?n.from:"",to:typeof n.to=="string"?n.to:"",daily:Array.isArray(n.daily)?n.daily.map(f=>({date:typeof f.date=="string"?f.date:"",success:Number.isFinite(f.success)?Number(f.success):0,failed:Number.isFinite(f.failed)?Number(f.failed):0,total:Number.isFinite(f.total)?Number(f.total):0})):[],totals:{success:Number.isFinite(n.totals?.success)?Number(n.totals?.success):0,failed:Number.isFinite(n.totals?.failed)?Number(n.totals?.failed):0,total:Number.isFinite(n.totals?.total)?Number(n.totals?.total):0},max_daily_total:Number.isFinite(n.max_daily_total)?Number(n.max_daily_total):0},a=e.evidence_mime??{},o={total:Number.isFinite(a.total)?Number(a.total):0,by_mime:Array.isArray(a.by_mime)?a.by_mime.map(f=>{const m=typeof f.mime=="string"&&f.mime.length>0?f.mime:"Unknown",g=typeof f.mime_label=="string"&&f.mime_label.length>0?f.mime_label:m;return{mime:m,mime_label:g,count:Number.isFinite(f.count)?Number(f.count):0,percent:O1(f.percent??0)}}):[]},c=e.admin_activity??{},u={admins:Array.isArray(c.admins)?c.admins.map(f=>({id:Number.isFinite(f.id)?Number(f.id):0,name:typeof f.name=="string"?f.name:"",email:typeof f.email=="string"?f.email:"",last_login_at:typeof f.last_login_at=="string"&&f.last_login_at.length>0?f.last_login_at:null})):[]};return{auth_activity:i,evidence_mime:o,admin_activity:u}}async function I1(t,e){const i=await Qn("/api/dashboard/kpis",void 0,t),a=i&&typeof i=="object"&&"data"in i?i.data:i;return F1(a)}function z1(t){if(!t)return null;const e=/filename\*=(?:UTF-8'')?([^;]+)/i.exec(t);if(e?.[1])try{return decodeURIComponent(e[1].replace(/(^"|"$)/g,""))}catch{return e[1].replace(/(^"|"$)/g,"")}const n=/filename="([^"]+)"/i.exec(t);if(n?.[1])return n[1];const i=/filename=([^;]+)/i.exec(t);return i?.[1]?i[1].trim().replace(/(^"|"$)/g,""):null}function Sd(){return`${ji}/api/reports/admin-activity?format=csv`}async function U1(){const t=Sd(),e=await fetch(t,{method:"GET",credentials:"same-origin",headers:_t({Accept:"text/csv"})});if(!e.ok){let o=null;try{o=await e.json()}catch{try{o=await e.text()}catch{o=null}}throw new Bt(e.status,o)}const n=await e.blob(),i=z1(e.headers.get("content-disposition"))??"admin-activity-report.csv",a=e.headers.get("content-type")??"text/csv";return{blob:n,filename:i,mime:a}}async function B1(){if(typeof window>"u"||typeof document>"u")return;const t=await U1(),e=t.filename&&t.filename.trim().length>0?t.filename.trim():"admin-activity-report.csv";if(typeof URL<"u"&&typeof URL.createObjectURL=="function"){const n=URL.createObjectURL(t.blob),i=document.createElement("a");i.href=n,i.download=e,i.rel="noopener noreferrer",i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i),window.setTimeout(()=>{typeof URL.revokeObjectURL=="function"&&URL.revokeObjectURL(n)},1e3);return}if(typeof window.open=="function"){window.open(Sd(),"_blank","noopener");return}window.location.assign(Sd())}const $1=["ISO_8601","LOCAL","RELATIVE"],Xs="LOCAL";function Ja(t){if(typeof t=="string"){const e=t.trim().toUpperCase();if(e&&$1.includes(e))return e}return Xs}function tf(t,e){if(!t)return"";const n=new Date(t);if(Number.isNaN(n.valueOf()))return t;switch(e){case"ISO_8601":return n.toISOString().replace("T"," ").replace("Z","Z");case"RELATIVE":return H1(n,new Date);case"LOCAL":default:return n.toLocaleString()}}function H1(t,e){const n=t.getTime()-e.getTime(),i=Math.abs(n),a=[{unit:"year",ms:1e3*60*60*24*365},{unit:"month",ms:1e3*60*60*24*30},{unit:"week",ms:1e3*60*60*24*7},{unit:"day",ms:1e3*60*60*24},{unit:"hour",ms:1e3*60*60},{unit:"minute",ms:1e3*60},{unit:"second",ms:1e3}],o=typeof Intl<"u"&&typeof Intl.RelativeTimeFormat<"u"?new Intl.RelativeTimeFormat(void 0,{numeric:"auto"}):null;for(const{unit:c,ms:u}of a)if(i>=u||c==="second"){const f=n/u,m=Math.round(f);if(o)return o.format(m,c);if(m===0)return"just now";const g=Math.abs(m)===1?c:`${c}s`;return m>0?`in ${m} ${g}`:`${Math.abs(m)} ${g} ago`}return t.toLocaleString()}function W1(t){const e=typeof t=="number"&&Number.isFinite(t)?Math.max(t,0):0;if(e===0)return"0 B";const n=["B","KB","MB","GB","TB","PB"];let i=e,a=0;for(;i>=1024&&a<n.length-1;)i/=1024,a+=1;const o=a===0?0:2;return`${new Intl.NumberFormat("en-US",{minimumFractionDigits:o,maximumFractionDigits:o}).format(i)} ${n[a]}`}tc.register(S1,C1,s1,Zk,x1,d1);const V1=300,kg=300;function K1(t){if(!t)return{labels:[],success:[],failed:[]};const e=t.auth_activity.daily;return{labels:e.map(n=>n.date),success:e.map(n=>n.success),failed:e.map(n=>n.failed)}}function Y1(t){const[e,n]=b.useState(()=>typeof window>"u"||typeof window.matchMedia!="function"?!1:window.matchMedia(t).matches);return b.useEffect(()=>{if(typeof window>"u"||typeof window.matchMedia!="function")return;const i=window.matchMedia(t),a=o=>n(o.matches);return n(i.matches),typeof i.addEventListener=="function"?i.addEventListener("change",a):typeof i.addListener=="function"&&i.addListener(a),()=>{typeof i.removeEventListener=="function"?i.removeEventListener("change",a):typeof i.removeListener=="function"&&i.removeListener(a)}},[t]),e}function X1(){const[t,e]=b.useState(!0),[n,i]=b.useState(null),[a,o]=b.useState(null),[c,u]=b.useState(!1),[f,m]=b.useState(null),g=Xl(),v=Y1("(min-width: 1200px)");b.useEffect(()=>{let T=!1;const Y=new AbortController;return(async()=>{try{e(!0),i(null);const te=await I1(Y.signal);T||o(te)}catch(te){if(T)return;te instanceof Bt?te.status===401?i("You must log in to view KPIs."):te.status===403?i("You do not have access to KPIs."):i(`Request failed (HTTP ${te.status}).`):te instanceof Error&&te.name==="AbortError"||i("Network error."),o(null)}finally{T||e(!1)}})(),()=>{T=!0,Y.abort()}},[]);const x=b.useMemo(()=>K1(a),[a]),w=a?.auth_activity.window_days??7,k=Math.max(0,a?.auth_activity.max_daily_total??0),j=Math.max(1,k+1),C=b.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,onClick:(T,Y)=>{if(!a||Y.length===0)return;const X=Y[0].index,te=a.auth_activity.daily[X];if(!te)return;const se=new URLSearchParams({category:"AUTH",occurred_from:te.date,occurred_to:te.date});g(`/admin/audit?${se.toString()}`)},plugins:{legend:{position:"top"},tooltip:{callbacks:{title:T=>T[0]?.label??""}}},scales:{x:{stacked:!0,title:{display:!0,text:"Date"},grid:{display:!1}},y:{stacked:!0,beginAtZero:!0,max:j,ticks:{stepSize:Math.max(1,Math.ceil(j/6))},title:{display:!0,text:"Authentications"}}}}),[a,g,j]),N=b.useMemo(()=>({labels:x.labels.map(T=>new Date(T).toLocaleDateString()),datasets:[{label:"Success",data:x.success,backgroundColor:"#198754",borderColor:"#146c43",borderWidth:1},{label:"Failed",data:x.failed,backgroundColor:"#dc3545",borderColor:"#b02a37",borderWidth:1}]}),[x]),P=b.useMemo(()=>a?.evidence_mime.by_mime??[],[a]),$=b.useMemo(()=>{if(P.length===0)return null;const T=P.map(te=>te.mime_label??te.mime),Y=P.map(te=>te.count),X=["#0d6efd","#6f42c1","#20c997","#fd7e14","#6610f2","#ffca2c"];return{labels:T,datasets:[{data:Y,backgroundColor:T.map((te,se)=>X[se%X.length]),borderColor:"#ffffff",borderWidth:1}]}},[P]),I=v?"left":"top",H=b.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:I,align:"start",labels:{usePointStyle:!0,boxWidth:12}}},onClick:(T,Y)=>{if(!$||Y.length===0)return;const X=Y[0].index,te=P[X];if(!te)return;const se=te.mime_label??te.mime,he=new URLSearchParams({mime_label:se});g(`/admin/evidence?${he.toString()}`)}}),[I,$,P,g]),q=b.useMemo(()=>`/admin/audit?${new URLSearchParams({category:"AUTH"}).toString()}`,[]),R="/admin/evidence",A=b.useCallback(async()=>{if(!c)try{u(!0),m(null),await B1()}catch(T){T instanceof Bt?T.status===401?m("You must log in to download the report."):T.status===403?m("You do not have access to this report."):m(`Download failed (HTTP ${T.status}).`):m("Network error while downloading report.")}finally{u(!1)}},[c]),K=a?.auth_activity.totals??{success:0,failed:0,total:0},L=a?.admin_activity.admins??[];return h.jsxs("div",{className:"container py-3",children:[h.jsx("h1",{className:"mb-3",children:"Dashboard KPIs"}),t&&h.jsx("p",{children:"Loading"}),!t&&n&&h.jsx("div",{className:"alert alert-warning",role:"alert",children:n}),!t&&!n&&a&&h.jsxs("div",{className:"vstack gap-3",children:[h.jsxs("section",{className:"card",children:[h.jsxs("div",{className:"card-header d-flex flex-column flex-md-row align-items-md-center justify-content-between gap-2",children:[h.jsxs(Fr,{to:q,className:"fw-semibold text-decoration-none",children:["Authentications last ",w," days"]}),h.jsxs("div",{className:"text-muted small",children:[h.jsxs("span",{className:"me-3",children:["Success: ",K.success]}),h.jsxs("span",{className:"me-3",children:["Failed: ",K.failed]}),h.jsxs("span",{children:["Total: ",K.total]})]})]}),h.jsx("div",{className:"card-body",style:{height:V1},children:x.labels.length===0?h.jsx("p",{className:"text-muted mb-0",children:"No authentication activity in the selected window."}):h.jsx(A1,{options:C,data:N,"aria-label":"Authentication activity"})})]}),h.jsxs("div",{style:{display:"grid",gap:"1.5rem",gridTemplateColumns:v?"repeat(2, minmax(0, 1fr))":"repeat(1, minmax(0, 1fr))"},children:[h.jsxs("section",{className:"card h-100",style:{minWidth:0},children:[h.jsx("div",{className:"card-header",children:h.jsx(Fr,{to:R,className:"fw-semibold text-decoration-none",children:"Evidence File Types"})}),h.jsx("div",{className:"card-body",style:{height:kg},children:$?h.jsx(L1,{data:$,options:H,"aria-label":"Evidence file type distribution"}):h.jsx("p",{className:"text-muted mb-0",children:"No evidence uploads yet."})})]}),h.jsxs("section",{className:"card h-100",style:{minWidth:0},children:[h.jsx("div",{className:"card-header d-flex justify-content-between align-items-center",children:h.jsx(Fr,{to:`${q}&role=Admin`,className:"fw-semibold text-decoration-none",children:"Admin Activity"})}),h.jsxs("div",{className:"card-body d-flex flex-column p-0",style:{height:kg},children:[f&&h.jsx("div",{className:"alert alert-warning mb-0 rounded-0 py-2 px-3",role:"alert",children:f}),h.jsx("div",{className:"flex-grow-1 overflow-auto",children:L.length===0?h.jsx("p",{className:"text-muted px-3 py-3 mb-0",children:"No admin users found."}):h.jsx("div",{className:"table-responsive",children:h.jsxs("table",{className:"table table-sm table-striped mb-0",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{scope:"col",children:"User"}),h.jsx("th",{scope:"col",children:"Last Login"})]})}),h.jsx("tbody",{children:L.map(T=>{const Y=T.last_login_at?tf(T.last_login_at,Xs):"";return h.jsxs("tr",{children:[h.jsxs("td",{children:[h.jsx("div",{className:"fw-semibold",children:T.name||T.email||`User ${T.id}`}),T.email&&h.jsx("div",{className:"text-muted small",children:T.email})]}),h.jsx("td",{children:Y})]},`${T.id}-${T.email}`)})})]})})})]}),h.jsx("div",{className:"card-footer text-end bg-transparent border-top",children:h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:A,disabled:c,"aria-busy":c,children:c?"Downloading":"Download CSV"})})]})]})]})]})}function Q1(){return h.jsxs("div",{className:"container py-3",children:[h.jsx("h1",{children:"Risks"}),h.jsx("p",{className:"text-muted",children:"Module stub. Detailed workflows arrive in a later phase."})]})}function G1(){return h.jsxs("div",{className:"container py-3",children:[h.jsx("h1",{children:"Compliance"}),h.jsx("p",{className:"text-muted",children:"Compliance tracking is planned for a future milestone."})]})}const ad={"rbac.deny.capability":{label:"Access denied: capability disabled",aria:"Access denied because the requested capability is disabled",category:"RBAC"},"rbac.deny.unauthenticated":{label:"Access denied: unauthenticated",aria:"Access denied because the user is not authenticated",category:"RBAC"},"rbac.deny.role_mismatch":{label:"Access denied: role mismatch",aria:"Access denied because a required role is missing or does not match",category:"RBAC"},"rbac.deny.policy":{label:"Access denied: policy check failed",aria:"Access denied because a required policy is not satisfied",category:"RBAC"},"rbac.deny.require_auth":{label:"Access denied: authentication required",aria:"Access denied because authentication is required",category:"RBAC"},"rbac.deny.unauthorized":{label:"Access denied: unauthorized",aria:"Access denied because the user lacks permission",category:"RBAC"},"rbac.deny.role_required":{label:"Access denied: role required",aria:"Access denied because a required role is missing",category:"RBAC"},"rbac.deny.role_missing":{label:"Access denied: role missing",aria:"Access denied because a required role is missing",category:"RBAC"},"rbac.deny.role":{label:"Access denied: role mismatch",aria:"Access denied because a required role is missing or does not match",category:"RBAC"},"rbac.deny.policy.core.metrics.view":{label:"Access denied: metrics view policy",aria:"Access denied because policy core.metrics.view is not satisfied",category:"RBAC"},"rbac.deny.policy.core.audit.view":{label:"Access denied: audit view policy",aria:"Access denied because policy core.audit.view is not satisfied",category:"RBAC"},"rbac.deny.policy.core.evidence.view":{label:"Access denied: evidence view policy",aria:"Access denied because policy core.evidence.view is not satisfied",category:"RBAC"}};function q1(t){const e=String(t||"").trim();return{label:`Access denied: ${e}`,aria:`Access denied due to ${e}`,category:"RBAC"}}function iv(t){const e=String(t||"").trim();if(e in ad)return ad[e];if(e.startsWith("rbac.deny.policy.")){const n=e.slice(17);return{label:`Access denied: ${n} policy`,aria:`Access denied because policy ${n} is not satisfied`,category:"RBAC"}}return e.startsWith("rbac.deny.role.")?ad["rbac.deny.role"]:q1(e)}function J1(t){return iv(t).aria}function Z1(){const[t,e]=b.useState(!0),[n,i]=b.useState([]),[a,o]=b.useState(null);return b.useEffect(()=>{(async()=>{e(!0),o(null);try{const c=await Qn("/api/audit",{limit:20});c?.ok&&Array.isArray(c.items)?i(c.items):o("Failed to load audit events.")}catch{o("Network error.")}finally{e(!1)}})()},[]),t?h.jsx("p",{children:"Loading"}):h.jsxs("div",{className:"container py-3",children:[h.jsx("h1",{children:"Audit Trail"}),a&&h.jsx("div",{className:"alert alert-warning",children:a}),n.length===0?h.jsx("p",{children:"No events."}):h.jsx("div",{className:"table-responsive",children:h.jsxs("table",{className:"table table-sm table-striped",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{children:"Time (UTC)"}),h.jsx("th",{children:"Action"}),h.jsx("th",{children:"Entity"}),h.jsx("th",{children:"Actor"}),h.jsx("th",{children:"IP"})]})}),h.jsx("tbody",{children:n.map(c=>{const u=iv(c.action),f=c.occurred_at??"";let m="";if(f){const v=new Date(f);m=Number.isNaN(v.valueOf())?String(f):v.toISOString().replace("T"," ").replace("Z","Z")}const g=c.actor_label&&c.actor_label.length>0?c.actor_label:c.actor_id??"-";return h.jsxs("tr",{children:[h.jsx("td",{children:m}),h.jsx("td",{children:h.jsx("span",{title:c.action,"aria-label":J1(c.action),children:u.label})}),h.jsx("td",{children:`${c.entity_type}:${c.entity_id}`}),h.jsx("td",{children:g}),h.jsx("td",{children:c.ip??"-"})]},c.id)})})]})}),h.jsx("p",{className:"text-muted mt-3",children:"Phase 4 stub. Pagination and persistence deferred."})]})}function ej(){return h.jsxs("div",{className:"container py-3",children:[h.jsx("h1",{children:"Policies"}),h.jsx("p",{className:"text-muted",children:"Policy library scaffolding ships later in the roadmap."})]})}function tj(){return h.jsxs("section",{children:[h.jsx("h1",{children:"Admin"}),h.jsxs("ul",{children:[h.jsx("li",{children:h.jsx(Fr,{to:"/admin/settings",children:"Settings"})}),h.jsx("li",{children:h.jsx(Fr,{to:"/admin/roles",children:"Roles"})}),h.jsx("li",{children:h.jsx(Fr,{to:"/admin/users",children:"Users"})}),h.jsx("li",{children:h.jsx(Fr,{to:"/admin/user-roles",children:"User Roles"})}),h.jsx("li",{children:h.jsx(Fr,{to:"/admin/audit",children:"Audit"})}),h.jsx("li",{children:h.jsx("a",{href:"/api/docs",children:"API Documentation"})})]})]})}const nj=[{key:"color.primary",label:"Primary color"},{key:"color.surface",label:"Surface color"},{key:"color.text",label:"Text color"}],rj=["none","default","light","heavy","custom"],ij=["narrow","default","wide"],sj=["small","medium","large"],aj=["none","limited","full"];function yr(t){return{theme:t.theme.default,allowOverride:t.theme.allow_user_override,forceGlobal:t.theme.force_global,overrides:{...t.theme.overrides}}}function jg(t,e){if(!e||t.theme!==e.theme||t.allowOverride!==e.allowOverride||t.forceGlobal!==e.forceGlobal)return!0;const n=new Set([...Object.keys(t.overrides),...Object.keys(e.overrides)]);for(const i of n)if((t.overrides[i]??"")!==(e.overrides[i]??""))return!0;return!1}async function od(t){try{return await t.json()}catch{return null}}function oj(){const[t,e]=b.useState(!0),[n,i]=b.useState(!1),[a,o]=b.useState(null),[c,u]=b.useState(!1),[f,m]=b.useState(Ji),[g,v]=b.useState(yr(gt)),x=b.useRef(null),w=b.useRef(yr(gt)),k=b.useMemo(()=>[...f.themes,...f.packs].map(T=>({slug:T.slug,name:T.name,source:T.source})),[f]),j=b.useCallback(L=>{const T=yr(L);w.current=T,v(T),Qi(L)},[]),C=b.useCallback(async()=>{try{const L=await fetch("/api/settings/ui/themes",{method:"GET",credentials:"same-origin",headers:_t()});if(!L.ok){o("Theme manifest unavailable; using bundled defaults.");return}const T=await od(L);T&&Array.isArray(T.themes)&&(m(T),my(T))}catch{o("Theme manifest unavailable; using bundled defaults.")}},[]),N=b.useCallback(async L=>{e(!0),L?.preserveMessage||o(null);try{await C();const T=await fetch("/api/settings/ui",{method:"GET",credentials:"same-origin",headers:_t()});if(T.status===403){u(!0),o("You do not have permission to adjust theme settings."),x.current=null,w.current=yr(gt),v(yr(gt)),Qi(gt);return}if(!T.ok){o("Failed to load theme settings. Using defaults."),x.current=null,w.current=yr(gt),v(yr(gt)),Qi(gt);return}x.current=T.headers.get("ETag");const X=(await od(T))?.config?.ui??gt;j(X)}catch{o("Failed to load theme settings. Using defaults."),x.current=null,w.current=yr(gt),v(yr(gt)),Qi(gt)}finally{e(!1)}},[j,C]);b.useEffect(()=>{N()},[N]);const P=L=>{v(T=>({...T,theme:L}))},$=L=>{v(T=>({...T,allowOverride:L}))},I=L=>{v(T=>({...T,forceGlobal:L}))},H=(L,T)=>{v(Y=>({...Y,overrides:{...Y.overrides,[L]:T}}))},q=(L,T)=>{v(Y=>({...Y,overrides:{...Y.overrides,[L]:T}}))},R=()=>{const L=w.current??yr(gt);v(L),o("Reverted to last saved values.")},A=async()=>{if(c){o("Read-only mode: theme settings cannot be changed.");return}const L=w.current;if(!jg(g,L)){o("No changes to save.");return}const T=x.current;if(!T){await N(),o("Settings version refreshed. Please retry.");return}i(!0),o(null);try{const Y={ui:{theme:{default:g.theme,allow_user_override:g.allowOverride,force_global:g.forceGlobal,overrides:g.overrides}}},X=await fetch("/api/settings/ui",{method:"PUT",credentials:"same-origin",headers:_t({"Content-Type":"application/json","If-Match":T}),body:JSON.stringify(Y)}),te=await od(X);if(X.status===409){const ye=te?.current_etag??X.headers.get("ETag");ye&&(x.current=ye),o("Settings changed elsewhere. Reloaded latest values."),await N({preserveMessage:!0});return}if(!X.ok)throw new Error(`Save failed (HTTP ${X.status}).`);const se=X.headers.get("ETag")??te?.etag??null;se&&(x.current=se),te?.config?.ui?j(te.config.ui):(w.current=g,await N({preserveMessage:!0}));const he=typeof te?.message=="string"?te.message:"Theme settings saved.";o(he)}catch(Y){o(Y instanceof Error?Y.message:"Save failed.")}finally{i(!1)}},K=t||n||c;return h.jsxs("section",{className:"card mb-4","aria-label":"theme-configurator",children:[h.jsxs("div",{className:"card-header d-flex justify-content-between align-items-center",children:[h.jsx("strong",{children:"Theming"}),h.jsxs("div",{className:"d-flex gap-2",children:[h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>void N(),disabled:t||n,children:"Reload"}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:R,disabled:K,children:"Reset"}),h.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:()=>void A(),disabled:K||!jg(g,w.current),children:n?"Saving":"Save"})]})]}),h.jsx("div",{className:"card-body vstack gap-4",children:t?h.jsx("p",{children:"Loading theme settings"}):h.jsxs(h.Fragment,{children:[a&&h.jsx("div",{className:"alert alert-info mb-0",role:"status",children:a}),h.jsxs("fieldset",{className:"vstack gap-3",disabled:K,children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"themeSelect",className:"form-label fw-semibold",children:"Default theme"}),h.jsx("select",{id:"themeSelect",className:"form-select",value:g.theme,onChange:L=>P(L.target.value),children:k.map(L=>h.jsxs("option",{value:L.slug,children:[L.name," (",L.source==="bootswatch"?"Bootswatch":"Pack",")"]},L.slug))}),h.jsx("div",{className:"form-text",children:"Users can select from available themes when overrides are allowed."})]}),h.jsxs("div",{className:"form-check",children:[h.jsx("input",{id:"allowOverride",type:"checkbox",className:"form-check-input",checked:g.allowOverride,onChange:L=>$(L.target.checked)}),h.jsx("label",{htmlFor:"allowOverride",className:"form-check-label",children:"Allow user theme override"})]}),h.jsxs("div",{className:"form-check",children:[h.jsx("input",{id:"forceGlobal",type:"checkbox",className:"form-check-input",checked:g.forceGlobal,onChange:L=>I(L.target.checked)}),h.jsx("label",{htmlFor:"forceGlobal",className:"form-check-label",children:"Force global theme (light/dark still follows capability rules)"})]}),h.jsxs("div",{children:[h.jsx("h2",{className:"h5 mb-3",children:"Design tokens"}),h.jsx("div",{className:"row g-3",children:nj.map(({key:L,label:T})=>h.jsxs("div",{className:"col-sm-4",children:[h.jsx("label",{htmlFor:L,className:"form-label",children:T}),h.jsx("input",{id:L,className:"form-control form-control-color",type:"color",value:g.overrides[L]??"#000000",onChange:Y=>H(L,Y.target.value),title:T})]},L))}),h.jsxs("div",{className:"row g-3 mt-1",children:[h.jsxs("div",{className:"col-sm-3",children:[h.jsx("label",{htmlFor:"shadowPreset",className:"form-label",children:"Shadow preset"}),h.jsx("select",{id:"shadowPreset",className:"form-select",value:g.overrides.shadow??"default",onChange:L=>q("shadow",L.target.value),children:rj.map(L=>h.jsx("option",{value:L,children:L},L))})]}),h.jsxs("div",{className:"col-sm-3",children:[h.jsx("label",{htmlFor:"spacingPreset",className:"form-label",children:"Spacing scale"}),h.jsx("select",{id:"spacingPreset",className:"form-select",value:g.overrides.spacing??"default",onChange:L=>q("spacing",L.target.value),children:ij.map(L=>h.jsx("option",{value:L,children:L},L))})]}),h.jsxs("div",{className:"col-sm-3",children:[h.jsx("label",{htmlFor:"typeScalePreset",className:"form-label",children:"Type scale"}),h.jsx("select",{id:"typeScalePreset",className:"form-select",value:g.overrides.typeScale??"medium",onChange:L=>q("typeScale",L.target.value),children:sj.map(L=>h.jsx("option",{value:L,children:L},L))})]}),h.jsxs("div",{className:"col-sm-3",children:[h.jsx("label",{htmlFor:"motionPreset",className:"form-label",children:"Motion"}),h.jsx("select",{id:"motionPreset",className:"form-select",value:g.overrides.motion??"full",onChange:L=>q("motion",L.target.value),children:aj.map(L=>h.jsx("option",{value:L,children:L},L))})]})]})]})]})]})})]})}const lj=5*1024*1024,sv=["image/png","image/jpeg","image/webp","image/svg+xml"],cj={primary_logo:"Primary logo",secondary_logo:"Secondary logo",header_logo:"Header logo",footer_logo:"Footer logo",favicon:"Favicon"},mi=()=>({...gt.brand});async function bl(t){try{return await t.json()}catch{return null}}function uj(){const[t,e]=b.useState(mi()),[n,i]=b.useState([]),[a,o]=b.useState(!0),[c,u]=b.useState(!1),[f,m]=b.useState(null),[g,v]=b.useState(null),[x,w]=b.useState(!1),k=b.useRef(null),j=b.useRef(null),C=b.useCallback(async A=>{o(!0),A?.preserveMessage||m(null);try{const[K,L]=await Promise.all([fetch("/api/settings/ui",{method:"GET",credentials:"same-origin",headers:_t()}),fetch("/api/settings/ui/brand-assets",{method:"GET",credentials:"same-origin",headers:_t()})]);if(K.status===403){w(!0),m("You do not have permission to update branding."),k.current=null,e(mi()),j.current=mi(),i([]);return}if(K.ok){k.current=K.headers.get("ETag");const T=await bl(K),Y=T?.config?.ui?.brand?{...T.config.ui.brand}:mi();e(Y),j.current={...Y}}else m("Failed to load branding settings. Using defaults."),e(mi()),j.current=mi();if(L.ok){const T=await bl(L);i(T?.assets??[])}else i([])}catch{m("Failed to load branding settings. Using defaults."),k.current=null,e(mi()),j.current=mi(),i([])}finally{o(!1)}},[]);b.useEffect(()=>{C()},[C]);const N=(A,K)=>{e(L=>({...L,[A]:K}))},P=()=>{const A=j.current;return A?t.title_text!==A.title_text||t.favicon_asset_id!==A.favicon_asset_id||t.primary_logo_asset_id!==A.primary_logo_asset_id||t.secondary_logo_asset_id!==A.secondary_logo_asset_id||t.header_logo_asset_id!==A.header_logo_asset_id||t.footer_logo_asset_id!==A.footer_logo_asset_id||t.footer_logo_disabled!==A.footer_logo_disabled:!0},$=async()=>{if(x){m("Branding is read-only for your account.");return}if(!P()){m("No branding changes to save.");return}const A=k.current;if(!A){await C(),m("Settings version refreshed. Please retry.");return}u(!0),m(null);try{const K={ui:{brand:t}},L=await fetch("/api/settings/ui",{method:"PUT",credentials:"same-origin",headers:_t({"Content-Type":"application/json","If-Match":A}),body:JSON.stringify(K)}),T=await bl(L);if(L.status===409){const X=T?.etag??L.headers.get("ETag");X&&(k.current=X),m("Branding changed elsewhere. Reloaded latest values."),await C({preserveMessage:!0});return}if(!L.ok)throw new Error(`Save failed (HTTP ${L.status}).`);const Y=L.headers.get("ETag")??T?.etag??null;if(Y&&(k.current=Y),T?.config?.ui?.brand){const X={...T.config.ui.brand};e(X),j.current={...X}}else j.current={...t};m("Branding saved.")}catch(K){m(K instanceof Error?K.message:"Save failed.")}finally{u(!1)}},I=async(A,K)=>{if(!sv.includes(K.type)){v(`Unsupported file type: ${K.type||"unknown"}.`);return}if(K.size>lj){v("File exceeds 5 MB limit.");return}const L=new FormData;L.append("kind",A),L.append("file",K);try{const T=await fetch("/api/settings/ui/brand-assets",{method:"POST",credentials:"same-origin",headers:_t(),body:L}),Y=await bl(T);if(!T.ok||!Y?.asset){const te=typeof Y?.message=="string"?Y.message:"Upload failed.";v(te);return}const X=Y.asset;switch(i(te=>[X,...te.filter(se=>se.id!==X.id)]),A){case"primary_logo":N("primary_logo_asset_id",Y.asset.id);break;case"secondary_logo":N("secondary_logo_asset_id",Y.asset.id);break;case"header_logo":N("header_logo_asset_id",Y.asset.id);break;case"footer_logo":N("footer_logo_asset_id",Y.asset.id);break;case"favicon":N("favicon_asset_id",Y.asset.id);break}v("Upload successful.")}catch{v("Upload failed.")}},H=async A=>{if(window.confirm("Delete this asset? This cannot be undone."))try{const K=await fetch(`/api/settings/ui/brand-assets/${encodeURIComponent(A)}`,{method:"DELETE",credentials:"same-origin",headers:_t()});if(!K.ok)throw new Error(`Delete failed (${K.status})`);i(Y=>Y.filter(X=>X.id!==A));let L=!1;const T={...t};["favicon","primary_logo","secondary_logo","header_logo","footer_logo"].forEach(Y=>{const X=`${Y}_asset_id`;T[X]===A&&(T[X]=null,L=!0)}),L&&(e(T),m("Asset deleted and references cleared. Save to apply."))}catch(K){v(K instanceof Error?K.message:"Delete failed.")}},q=a||c||x,R=A=>A?n.find(K=>K.id===A)??null:null;return h.jsxs("section",{className:"card mb-4","aria-label":"branding-card",children:[h.jsxs("div",{className:"card-header d-flex justify-content-between align-items-center",children:[h.jsx("strong",{children:"Branding"}),h.jsxs("div",{className:"d-flex gap-2",children:[h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>void C(),disabled:a||c,children:"Reload"}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>{j.current&&(e({...j.current}),m("Reverted to last saved branding."))},disabled:q,children:"Reset"}),h.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:()=>void $(),disabled:q,children:c?"Saving":"Save"})]})]}),h.jsx("div",{className:"card-body vstack gap-4",children:a?h.jsx("p",{children:"Loading branding settings"}):h.jsxs(h.Fragment,{children:[f&&h.jsx("div",{className:"alert alert-info mb-0",role:"status",children:f}),g&&h.jsx("div",{className:"alert alert-secondary mb-0",role:"note",children:g}),h.jsxs("fieldset",{className:"vstack gap-3",disabled:q,children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"brandTitle",className:"form-label fw-semibold",children:"Title text"}),h.jsx("input",{id:"brandTitle",type:"text",className:"form-control",value:t.title_text,maxLength:120,onChange:A=>N("title_text",A.target.value)}),h.jsx("div",{className:"form-text",children:"Default: phpGRC  <module>"})]}),h.jsx(Oa,{label:"Primary logo",description:"Displayed in header and as fallback for other locations.",kind:"primary_logo",asset:R(t.primary_logo_asset_id),assets:n,onUpload:I,onSelect:A=>N("primary_logo_asset_id",A),onClear:()=>N("primary_logo_asset_id",null),onDelete:H,disabled:q}),h.jsx(Oa,{label:"Secondary logo",description:"Used when the primary logo is not suitable; falls back to primary otherwise.",kind:"secondary_logo",asset:R(t.secondary_logo_asset_id),assets:n,onUpload:I,onSelect:A=>N("secondary_logo_asset_id",A),onClear:()=>N("secondary_logo_asset_id",null),onDelete:H,disabled:q}),h.jsx(Oa,{label:"Header logo",description:"Optional specialized logo for application header.",kind:"header_logo",asset:R(t.header_logo_asset_id),assets:n,onUpload:I,onSelect:A=>N("header_logo_asset_id",A),onClear:()=>N("header_logo_asset_id",null),onDelete:H,disabled:q}),h.jsx(Oa,{label:"Footer logo",description:"Displayed in footer; falls back to primary when absent.",kind:"footer_logo",asset:R(t.footer_logo_asset_id),assets:n,onUpload:I,onSelect:A=>N("footer_logo_asset_id",A),onClear:()=>N("footer_logo_asset_id",null),onDelete:H,disabled:q}),h.jsxs("div",{className:"form-check",children:[h.jsx("input",{id:"footerLogoDisabled",type:"checkbox",className:"form-check-input",checked:t.footer_logo_disabled,onChange:A=>N("footer_logo_disabled",A.target.checked)}),h.jsx("label",{htmlFor:"footerLogoDisabled",className:"form-check-label",children:"Disable footer logo (falls back to primary when unchecked)."})]}),h.jsx(Oa,{label:"Favicon",description:"Used in browser tabs. If absent, derived from primary logo.",kind:"favicon",asset:R(t.favicon_asset_id),assets:n,onUpload:I,onSelect:A=>N("favicon_asset_id",A),onClear:()=>N("favicon_asset_id",null),onDelete:H,disabled:q})]}),h.jsx(dj,{assets:n,onDelete:H,disabled:q})]})})]})}function Oa({label:t,description:e,kind:n,asset:i,assets:a,onUpload:o,onSelect:c,onClear:u,onDelete:f,disabled:m}){const g=b.useRef(null),v=w=>{const k=w.target.files?.[0];k&&o(n,k)},x=a.filter(w=>w.kind===n);return h.jsx("div",{className:"card border-secondary-subtle",children:h.jsxs("div",{className:"card-body d-flex flex-column flex-lg-row gap-3",children:[h.jsxs("div",{className:"flex-grow-1",children:[h.jsx("h3",{className:"h6 mb-1",children:t}),h.jsx("p",{className:"text-muted small mb-3",children:e}),i?h.jsxs("div",{className:"d-flex align-items-center gap-3",children:[i.url?h.jsx("img",{src:i.url,alt:`${t} preview`,style:{maxHeight:64,maxWidth:120},className:"border rounded"}):h.jsx("div",{className:"border rounded bg-light d-flex align-items-center justify-content-center",style:{height:64,width:120},children:h.jsx("span",{className:"text-muted small",children:"Preview"})}),h.jsxs("div",{className:"small text-muted",children:[h.jsx("div",{children:i.name}),h.jsx("div",{children:i.mime}),h.jsx("div",{children:av(i.size_bytes)})]})]}):h.jsx("div",{className:"text-muted small",children:"No asset selected."})]}),h.jsxs("div",{className:"d-flex flex-column gap-2",children:[h.jsx("button",{type:"button",className:"btn btn-outline-primary btn-sm",onClick:()=>g.current?.click(),disabled:m,children:"Upload new"}),h.jsx("input",{ref:g,type:"file",accept:sv.join(","),className:"d-none",onChange:v}),h.jsxs("select",{className:"form-select form-select-sm",value:i?.id??"",onChange:w=>c(w.target.value||null),disabled:m||x.length===0,children:[h.jsx("option",{value:"",children:"Select existing"}),x.map(w=>h.jsx("option",{value:w.id,children:w.name},w.id))]}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:u,disabled:m||!i,children:"Clear selection"}),h.jsx("button",{type:"button",className:"btn btn-outline-danger btn-sm",onClick:()=>i&&f(i.id),disabled:m||!i,children:"Delete asset"})]})]})})}function dj({assets:t,onDelete:e,disabled:n}){return t.length===0?h.jsx("div",{className:"alert alert-secondary mb-0",role:"note",children:"No uploaded branding assets yet."}):h.jsx("div",{className:"table-responsive",children:h.jsxs("table",{className:"table table-sm align-middle",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{scope:"col",children:"Name"}),h.jsx("th",{scope:"col",children:"Kind"}),h.jsx("th",{scope:"col",children:"Size"}),h.jsx("th",{scope:"col",children:"Uploaded"}),h.jsx("th",{scope:"col",className:"text-end",children:"Actions"})]})}),h.jsx("tbody",{children:t.map(i=>h.jsxs("tr",{children:[h.jsx("td",{children:i.name}),h.jsx("td",{children:cj[i.kind]}),h.jsx("td",{children:av(i.size_bytes)}),h.jsx("td",{children:fj(i.created_at)}),h.jsx("td",{className:"text-end",children:h.jsx("button",{type:"button",className:"btn btn-outline-danger btn-sm",onClick:()=>e(i.id),disabled:n,children:"Delete"})})]},i.id))})]})})}function av(t){if(!Number.isFinite(t)||t<=0)return"0 B";const e=["B","KB","MB","GB"],n=Math.min(e.length-1,Math.floor(Math.log(t)/Math.log(1024))),i=t/Math.pow(1024,n);return`${i.toFixed(i>=10?0:1)} ${e[n]}`}function fj(t){const e=new Date(t);return Number.isNaN(e.getTime())?t:e.toLocaleString()}const Cg=[{value:"LOCAL",label:"Local date & time",example:"Example: 9/30/2025, 5:23:01 PM"},{value:"ISO_8601",label:"ISO 8601 (UTC)",example:"Example: 2025-09-30 21:23:01Z"},{value:"RELATIVE",label:"Relative time",example:"Example: 5 minutes ago"}];function hj(){const[t,e]=b.useState(!0),[n,i]=b.useState(!1),[a,o]=b.useState(null),[c,u]=b.useState(!1),[f,m]=b.useState(0),[g,v]=b.useState(7),[x,w]=b.useState(!1),[k,j]=b.useState(50),[C,N]=b.useState(365),[P,$]=b.useState(Xs),[I,H]=b.useState(""),[q,R]=b.useState(25),A="/opt/phpgrc/shared/blobs",[K,L]=b.useState(!1),T=b.useRef(null),Y=b.useRef(null),X=(M,S,F)=>Math.max(S,Math.min(F,Math.trunc(M))),te=b.useCallback(M=>{const S=M?.core??{},F=S.metrics??{},ee=S.rbac??{},ie=S.audit??{},ce=S.evidence??{},de=X(Number(F.cache_ttl_seconds??0),0,2592e3),Te=X(Number(F.rbac_denies?.window_days??7),7,365),ke=!!(ee.require_auth??!1),Ve=X(Number(ee.user_search?.default_per_page??50),1,500),Ge=X(Number(ie.retention_days??365),1,730),At=Ja(S.ui?.time_format),rt=typeof ce?.blob_storage_path=="string"?ce.blob_storage_path.trim():"",Ze=rt===A?"":rt,wt=X(Number(ce?.max_mb??25),1,4096);m(de),v(Te),w(ke),j(Ve),N(Ge),$(At),H(Ze),R(wt),T.current={cacheTtl:de,rbacDays:Te,rbacRequireAuth:ke,rbacUserSearchPerPage:Ve,retentionDays:Ge,timeFormat:At,evidenceBlobPath:Ze,evidenceMaxMb:wt}},[A]),se=b.useCallback(async()=>{e(!0);try{const M=await fetch("/api/admin/settings",{method:"GET",credentials:"same-origin",headers:_t()});if(M.status===403){u(!0),o("You do not have permission to view settings."),T.current=null;return}if(!M.ok)throw new Error(`Failed to load settings (HTTP ${M.status})`);const S=await M.json(),F=M.headers.get("ETag");F&&(Y.current=F),u(!1),te(S?.config??null)}catch{o("Failed to load settings.")}finally{e(!1)}},[te]);b.useEffect(()=>{o(null),se()},[se]);const he=()=>({cacheTtl:X(Number(f)||0,0,2592e3),rbacDays:X(Number(g)||7,7,365),rbacRequireAuth:x,rbacUserSearchPerPage:X(Number(k)||50,1,500),retentionDays:X(Number(C)||365,1,730),timeFormat:P,evidenceBlobPath:I.trim(),evidenceMaxMb:X(Number(q)||25,1,4096)}),ye=()=>{const M=he(),S=T.current,F={apply:!0};if(!S)return F.rbac={require_auth:M.rbacRequireAuth,user_search:{default_per_page:M.rbacUserSearchPerPage}},F.audit={retention_days:M.retentionDays},F.metrics={cache_ttl_seconds:M.cacheTtl,rbac_denies:{window_days:M.rbacDays}},F.ui={time_format:M.timeFormat},F.evidence={blob_storage_path:M.evidenceBlobPath,max_mb:M.evidenceMaxMb},F;const ee={};M.rbacRequireAuth!==S.rbacRequireAuth&&(ee.require_auth=M.rbacRequireAuth),M.rbacUserSearchPerPage!==S.rbacUserSearchPerPage&&(ee.user_search={default_per_page:M.rbacUserSearchPerPage}),Object.keys(ee).length>0&&(F.rbac=ee),M.retentionDays!==S.retentionDays&&(F.audit={retention_days:M.retentionDays});const ie={};M.cacheTtl!==S.cacheTtl&&(ie.cache_ttl_seconds=M.cacheTtl),M.rbacDays!==S.rbacDays&&(ie.rbac_denies={window_days:M.rbacDays}),Object.keys(ie).length>0&&(F.metrics=ie),M.timeFormat!==S.timeFormat&&(F.ui={time_format:M.timeFormat});const ce={};return M.evidenceBlobPath!==S.evidenceBlobPath&&(ce.blob_storage_path=M.evidenceBlobPath),M.evidenceMaxMb!==S.evidenceMaxMb&&(ce.max_mb=M.evidenceMaxMb),Object.keys(ce).length>0&&(F.evidence=ce),F};async function Z(M){if(M.preventDefault(),c){o("You do not have permission to modify settings.");return}i(!0),o(null);try{const S=ye();if(!mj(S)){o("No changes to save."),i(!1);return}const ee=Y.current;if(!ee){o("Settings version missing. Reloading..."),await se();return}const ie=await fetch("/api/admin/settings",{method:"POST",credentials:"same-origin",headers:_t({"Content-Type":"application/json","If-Match":ee}),body:JSON.stringify(S)}),ce=await pj(ie);if(ie.status===409){const ke=ce?.current_etag??ie.headers.get("ETag");ke&&(Y.current=ke),o("Settings changed in another session. Latest values have been reloaded."),await se();return}if(!ie.ok)throw new Error(`Save failed with status ${ie.status}`);const de=ie.headers.get("ETag")??ce?.etag??null;if(de&&(Y.current=de),ce?.config)te(ce.config);else{const ke=he();T.current=ke,m(ke.cacheTtl),v(ke.rbacDays),w(ke.rbacRequireAuth),j(ke.rbacUserSearchPerPage),N(ke.retentionDays),$(ke.timeFormat),H(ke.evidenceBlobPath),R(ke.evidenceMaxMb)}const Te=typeof ce?.message=="string"?ce.message:ce?.note==="stub-only"?"Validated. Not persisted (stub).":"Saved.";o(Te)}catch(S){o(S instanceof Error?S.message:"Save failed.")}finally{i(!1)}}async function ne(){if(!K&&window.confirm("Purge all evidence records? This cannot be undone.")){L(!0),o(null);try{const M=await is("/api/admin/evidence/purge",{confirm:!0}),S=typeof M?.deleted=="number"?M.deleted:0;S>0?o(`Purged ${S} evidence item${S===1?"":"s"}.`):M?.note==="evidence-table-missing"?o("Evidence table not available."):o("No evidence to purge.")}catch{o("Purge failed.")}finally{L(!1)}}}return h.jsxs("main",{id:"main",className:"container py-3",children:[h.jsx("h1",{className:"mb-3",children:"Admin Settings"}),h.jsx(oj,{}),h.jsx(uj,{}),t?h.jsx("p",{children:"Loading"}):h.jsxs("form",{onSubmit:Z,className:"vstack gap-3","aria-label":"admin-settings",children:[h.jsxs("section",{className:"card",children:[h.jsx("div",{className:"card-header",children:h.jsx("strong",{children:"Authentication"})}),h.jsxs("div",{className:"card-body vstack gap-3",children:[h.jsxs("div",{className:"form-check",children:[h.jsx("input",{id:"rbacRequireAuth",type:"checkbox",className:"form-check-input",checked:x,onChange:M=>w(M.target.checked)}),h.jsx("label",{htmlFor:"rbacRequireAuth",className:"form-check-label",children:"Enforce Authentication"})]}),h.jsx("div",{className:"row g-2 align-items-end",children:h.jsxs("div",{className:"col-sm-4",children:[h.jsx("label",{htmlFor:"rbacUserSearchPerPage",className:"form-label",children:"User search default per-page"}),h.jsx("input",{id:"rbacUserSearchPerPage",type:"number",min:1,max:500,className:"form-control",value:k,onChange:M=>j(X(Number(M.target.value)||50,1,500))})]})})]})]}),h.jsxs("section",{className:"card",children:[h.jsx("div",{className:"card-header",children:h.jsx("strong",{children:"Audit"})}),h.jsxs("div",{className:"card-body",children:[h.jsx("label",{htmlFor:"retentionDays",className:"form-label",children:"Retention days"}),h.jsx("input",{id:"retentionDays",type:"number",min:1,max:730,className:"form-control",value:C,onChange:M=>N(Math.max(1,Math.min(730,Number(M.target.value)||1)))})]})]}),h.jsxs("section",{className:"card",children:[h.jsx("div",{className:"card-header",children:h.jsx("strong",{children:"Interface"})}),h.jsxs("div",{className:"card-body",children:[h.jsx("label",{htmlFor:"timeFormat",className:"form-label",children:"Timestamp display"}),h.jsx("select",{id:"timeFormat",className:"form-select",value:P,onChange:M=>$(Ja(M.target.value)),children:Cg.map(M=>h.jsx("option",{value:M.value,children:M.label},M.value))}),h.jsx("div",{className:"form-text",children:Cg.find(M=>M.value===P)?.example})]})]}),h.jsxs("section",{className:"card",children:[h.jsx("div",{className:"card-header",children:h.jsx("strong",{children:"Evidence"})}),h.jsxs("div",{className:"card-body vstack gap-3",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"evidenceBlobPath",className:"form-label",children:"Blob storage path"}),h.jsx("input",{id:"evidenceBlobPath",type:"text",className:"form-control placeholder-hide-on-focus",value:I,onChange:M=>H(M.target.value),placeholder:A,autoComplete:"off",onFocus:M=>{M.currentTarget.dataset.placeholder=M.currentTarget.placeholder,M.currentTarget.placeholder=""},onBlur:M=>{const S=M.currentTarget.dataset.placeholder||A;M.currentTarget.placeholder=M.currentTarget.value.trim()===""?S:A}}),h.jsx("div",{className:"form-text",children:"Leave blank to keep storing evidence in the database."})]}),h.jsx("div",{className:"row g-2 align-items-end",children:h.jsxs("div",{className:"col-sm-4",children:[h.jsx("label",{htmlFor:"evidenceMaxMb",className:"form-label",children:"Maximum file size (MB)"}),h.jsx("input",{id:"evidenceMaxMb",type:"number",min:1,max:4096,className:"form-control",value:q,onChange:M=>{const S=Math.trunc(Number(M.target.value)||1);R(X(S,1,4096))}}),h.jsx("div",{className:"form-text",children:"Files larger than this limit will be rejected."})]})}),h.jsxs("div",{className:"d-flex flex-column flex-sm-row align-items-sm-center gap-2",children:[h.jsx("button",{type:"button",className:"btn btn-outline-danger",onClick:()=>void ne(),disabled:n||K,children:K?"Purging":"Purge evidence"}),h.jsx("span",{className:"text-muted small",children:"Irreversibly deletes all stored evidence records."})]})]})]}),h.jsxs("section",{className:"card",children:[h.jsx("div",{className:"card-header",children:h.jsx("strong",{children:"Metrics"})}),h.jsx("div",{className:"card-body vstack gap-3",children:h.jsxs("div",{className:"row g-2 align-items-end",children:[h.jsxs("div",{className:"col-sm-4",children:[h.jsx("label",{htmlFor:"cacheTtl",className:"form-label",children:"Cache TTL (seconds)"}),h.jsx("input",{id:"cacheTtl",type:"number",min:0,max:2592e3,className:"form-control",value:f,onChange:M=>m(Math.max(0,Math.min(2592e3,Number(M.target.value)||0)))})]}),h.jsxs("div",{className:"col-sm-4",children:[h.jsx("label",{htmlFor:"rbacDays",className:"form-label",children:"Authentication window (days)"}),h.jsx("input",{id:"rbacDays",type:"number",className:"form-control",value:g,onChange:M=>{const S=Math.trunc(Number(M.target.value));v(Number.isFinite(S)?S:0)}})]})]})})]}),h.jsxs("div",{className:"hstack gap-2",children:[h.jsx("button",{type:"submit",className:"btn btn-primary",disabled:n||K||c,children:n?"Saving":"Save"}),a&&h.jsx("span",{"aria-live":"polite",className:"text-muted",children:a})]})]})]})}function mj(t){return Object.entries(t).some(([e,n])=>e==="apply"||n==null?!1:typeof n!="object"?!0:Object.keys(n).length>0)}async function pj(t){try{return await t.json()}catch{return null}}function bt(t){return t!==null&&typeof t=="object"}function Eg(t,e,n){return!Number.isFinite(t)||t<e?e:t>n?n:t}function ov(t){if(!bt(t))return null;const e=Number(t.id??0),n=String(t.name??""),i=String(t.email??"");return!Number.isFinite(e)||e<=0?null:{id:e,name:n,email:i}}function nf(t){if(t instanceof Bt){const e=t.body,n=bt(e)&&typeof e.code=="string"?e.code:"REQUEST_FAILED",i=bt(e)&&typeof e.message=="string"?e.message:void 0;return{ok:!1,code:n,message:i}}return{ok:!1,code:"NETWORK_ERROR"}}async function rf(){try{const t=await Qn("/api/rbac/roles"),e=bt(t)?t:{},n=[];let i=!1;const a=c=>{Array.isArray(c)&&(i=!0,n.push(...c))};if(a(t),a(e.roles),a(e.data),!i)return{ok:!1,roles:[],note:"invalid_response"};const o=typeof e.note=="string"?e.note:void 0;return{ok:!0,roles:n,note:o}}catch{return{ok:!1,roles:[],note:"network_error"}}}async function gj(t){try{const e=await is("/api/rbac/roles",{name:t}),n=bt(e)?e:{},i=n.role,a=bt(i)?i:void 0,o=a&&a.id!==void 0?String(a.id):void 0,c=a&&a.name!==void 0?String(a.name):void 0;if(n.ok===!0&&o&&c)return{kind:"created",status:201,roleId:o,roleName:c,raw:e};if((typeof n.note=="string"?n.note:void 0)==="stub-only"){const g=n.accepted;let v=t;if(bt(g)){const x=g.name;typeof x=="string"&&(v=x)}return{kind:"stub",status:202,acceptedName:v,raw:e}}return{kind:"error",status:400,code:typeof n.code=="string"?n.code:void 0,raw:e}}catch(e){if(e instanceof Bt){const n=e.body,i=bt(n)&&typeof n.code=="string"?n.code:void 0,a=bt(n)&&typeof n.message=="string"?n.message:void 0;let o;if(bt(n?.errors)){const c=n.errors;for(const u of Object.values(c))if(Array.isArray(u)){const f=u.find(m=>typeof m=="string"&&m.trim()!=="");if(f){o=f;break}}}return{kind:"error",status:e.status,code:i,message:o??a,raw:n}}return{kind:"error",status:0,code:"NETWORK_ERROR"}}}async function yj(t,e){try{const n=await H0(`/api/rbac/roles/${encodeURIComponent(t)}`,{name:e}),i=bt(n)?n:{};if(i.ok===!0&&bt(i.role)){const u=i.role,f=typeof u.id=="string"?u.id:void 0,m=typeof u.name=="string"?u.name:void 0;if(f&&m)return{kind:"updated",status:200,roleId:f,roleName:m,raw:n}}if((typeof i.note=="string"?i.note:void 0)==="stub-only"){const u=bt(i.accepted)?i.accepted:void 0;return{kind:"stub",status:202,acceptedName:u&&typeof u.name=="string"?u.name:void 0,raw:n}}const o=typeof i.code=="string"?i.code:void 0,c=typeof i.message=="string"?i.message:void 0;return{kind:"error",status:typeof(i.status??400)=="number"?i.status:400,code:o,message:c,raw:n}}catch(n){if(n instanceof Bt){const i=n.body,a=bt(i)&&typeof i.code=="string"?i.code:void 0,o=bt(i)&&typeof i.message=="string"?i.message:void 0;return{kind:"error",status:n.status,code:a,message:o,raw:i??n}}return{kind:"error",status:0,code:"NETWORK_ERROR"}}}async function vj(t){try{const e=await Gl(`/api/rbac/roles/${encodeURIComponent(t)}`),n=bt(e)?e:{};if(n.ok===!0)return{kind:"deleted",status:200,raw:e};if((typeof n.note=="string"?n.note:void 0)==="stub-only")return{kind:"stub",status:202,raw:e};const a=typeof n.code=="string"?n.code:void 0,o=typeof n.message=="string"?n.message:void 0;return{kind:"error",status:typeof(n.status??400)=="number"?n.status:400,code:a,message:o,raw:e}}catch(e){if(e instanceof Bt){const n=e.body,i=bt(n)&&typeof n.code=="string"?n.code:void 0,a=bt(n)&&typeof n.message=="string"?n.message:void 0;return{kind:"error",status:e.status,code:i,message:a,raw:n??e}}return{kind:"error",status:0,code:"NETWORK_ERROR"}}}async function kd(t){try{const e=await Qn(`/api/rbac/users/${encodeURIComponent(String(t))}/roles`),n=bt(e)?e:{};if(n.ok===!0)return e;const i=ov(n.user),a=Array.isArray(n.roles)?n.roles.filter(u=>typeof u=="string"):null;if(i&&a)return{ok:!0,user:i,roles:a};const o=typeof n.code=="string"?n.code:"REQUEST_FAILED",c=typeof n.message=="string"?n.message:void 0;return{ok:!1,code:o,message:c}}catch(e){return nf(e)}}async function xj(t,e){try{const n=await is(`/api/rbac/users/${encodeURIComponent(String(t))}/roles/${encodeURIComponent(e)}`),i=bt(n)?n:{};if(i.ok===!0)return n;const a=typeof i.code=="string"?i.code:"REQUEST_FAILED",o=typeof i.message=="string"?i.message:void 0;return{ok:!1,code:a,message:o}}catch(n){return nf(n)}}async function bj(t,e){try{const n=await Gl(`/api/rbac/users/${encodeURIComponent(String(t))}/roles/${encodeURIComponent(e)}`),i=bt(n)?n:{};if(i.ok===!0)return n;const a=typeof i.code=="string"?i.code:"REQUEST_FAILED",o=typeof i.message=="string"?i.message:void 0;return{ok:!1,code:a,message:o}}catch(n){return nf(n)}}async function sf(t,e=1,n=50){try{const i=Eg(Number(e)||1,1,Number.MAX_SAFE_INTEGER),a=Eg(Number(n)||50,1,500),o=await Qn("/api/rbac/users/search",{q:t,page:i,per_page:a}),c=bt(o)?o:{},f=(Array.isArray(c.data)?c.data:[]).map(ov).filter(k=>!!k),m=bt(c.meta)?c.meta:{},g={page:Number(m.page??i)||i,per_page:Number(m.per_page??a)||a,total:Number(m.total??f.length)||0,total_pages:Number(m.total_pages??1)||1};if(c.ok===!0||Array.isArray(c.data)&&bt(c.meta))return{ok:!0,data:f,meta:g};const x=typeof c.code=="string"?c.code:"REQUEST_FAILED",w=typeof c.message=="string"?c.message:void 0;return{ok:!1,status:400,code:x,message:w,raw:o}}catch(i){if(i instanceof Bt){const a=i.body,o=bt(a)&&typeof a.code=="string"?a.code:"REQUEST_FAILED",c=bt(a)&&typeof a.message=="string"?a.message:void 0;return{ok:!1,status:i.status,code:o,message:c,raw:a}}return{ok:!1,status:0,code:"NETWORK_ERROR"}}}function _j(t){return t.normalize("NFKD").replace(/[\u0300-\u036f]/g,"")}function Nl(t){if(typeof t=="string"){const e=t.trim();return e===""?null:e}return typeof t=="number"&&Number.isFinite(t)?String(t):null}function af(t){const e=_j(t.trim());return e===""?"":e.replace(/[\s-]+/g,"_").replace(/[^a-zA-Z0-9_]+/g,"").replace(/_+/g,"_").replace(/^_+|_+$/g,"").toLowerCase()}function wr(t){const e=t.trim().replace(/[_-]+/g," ");return e===""?"":e.split(/\s+/).map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join(" ")}function of(t){if(!Array.isArray(t))return[];const e=new Set,n=[];for(const i of t){let a=null,o=null;if(typeof i=="string"||typeof i=="number"){const m=Nl(i);if(!m)continue;a=m,o=m}else if(i&&typeof i=="object"){const m=Nl(i.id),g=Nl(i.name);a=m??g,o=g??m}if(a===null)continue;const c=af(a);if(c===""||e.has(c))continue;e.add(c);const u=o??a,f=wr(u)||wr(c)||u;n.push({id:c,name:f})}return n.sort((i,a)=>i.name.localeCompare(a.name,void 0,{sensitivity:"base"}))}function qi(t){if(!Array.isArray(t))return[];const e=new Set,n=[];for(const i of t){const a=Nl(i);if(!a)continue;const o=af(a);o===""||e.has(o)||(e.add(o),n.push(o))}return n}function wj(){const[t,e]=b.useState(!0),[n,i]=b.useState([]),[a,o]=b.useState(null),[c,u]=b.useState(null),[f,m]=b.useState(""),[g,v]=b.useState(!1);async function x(C){e(!0),u(null);try{const N=await rf();if(C?.aborted)return;N.ok?(i(of(N.roles??[])),o(N.note??null)):u("Failed to load roles.")}catch{C?.aborted||u("Failed to load roles.")}finally{C?.aborted||e(!1)}}b.useEffect(()=>{const C=new AbortController;return x(C.signal),()=>C.abort()},[]);const w=async C=>{C.preventDefault(),u(null);const N=f.trim();if(!(N.length<2)){v(!0);try{const P=await gj(N);if(P.kind==="created"){const $=af(P.roleName),I=wr($||P.roleName)||P.roleName;u(`Created role ${I} (${P.roleId}).`),m(""),$&&i(H=>H.some(R=>R.id===$)?H:[...H,{id:$,name:I}].sort((R,A)=>R.name.localeCompare(A.name,void 0,{sensitivity:"base"}))),await x()}else if(P.kind==="stub"){const $=P.acceptedName??N,I=wr($)??$;u(`Accepted: "${I}". Persistence not implemented.`),m("")}else P.kind==="error"&&(P.code==="FORBIDDEN"?u("Forbidden. Admin required."):P.code==="VALIDATION_FAILED"?u(P.message??"Validation error."):P.message?u(P.message):P.code==="NETWORK_ERROR"?u("Network error. Please retry."):u("Request failed."))}finally{v(!1)}}};async function k(C){const N=prompt("Rename role",C.name);if(N===null)return;const P=N.trim();if(P.length<2){u("Role name must be at least 2 characters.");return}v(!0),u(null);try{const $=await yj(C.id,P);if($.kind==="updated"){const I=wr($.roleName)??$.roleName;u(`Renamed to ${I}.`),await x()}else if($.kind==="stub"){const I=$.acceptedName??P,H=wr(I)??I;u(`Accepted: "${H}". Persistence not implemented.`)}else u($.message??$.code??"Rename failed.")}catch{u("Rename failed.")}finally{v(!1)}}async function j(C){const N=C.name;if(confirm(`Delete ${N}?`)){v(!0),u(null);try{const P=await vj(C.id);P.kind==="deleted"?(u(`${N} deleted.`),await x()):P.kind==="stub"?u("Accepted. Persistence not implemented."):u(P.message??P.code??"Delete failed.")}catch{u("Delete failed.")}finally{v(!1)}}}return t?h.jsxs("div",{className:"container py-5",role:"status","aria-live":"polite","aria-busy":"true",children:[h.jsx("div",{className:"spinner-border","aria-hidden":"true"}),h.jsx("span",{className:"visually-hidden",children:"Loading"})]}):h.jsxs("main",{id:"main",className:"container py-3",role:"main","aria-busy":g,children:[h.jsx("h1",{className:"mb-3",children:"Roles Management"}),h.jsxs("div",{"aria-live":"polite",role:"status",children:[a&&h.jsx("div",{className:"alert alert-secondary",role:"note",children:a}),c&&h.jsx("div",{className:"alert alert-info",role:"alert",children:c})]}),n.length===0?h.jsx("p",{className:"text-muted",children:"No roles defined."}):h.jsx("div",{className:"table-responsive",children:h.jsxs("table",{className:"table table-sm align-middle",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{scope:"col",children:"Role"}),h.jsx("th",{scope:"col",style:{width:"14rem"},children:"Actions"})]})}),h.jsx("tbody",{children:n.map(C=>h.jsxs("tr",{children:[h.jsx("td",{children:C.name}),h.jsxs("td",{className:"d-flex gap-2",children:[h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>void k(C),disabled:g,children:"Rename"}),h.jsx("button",{type:"button",className:"btn btn-outline-danger btn-sm",onClick:()=>void j(C),disabled:g,children:"Delete"})]})]},C.id))})]})}),h.jsxs("form",{className:"card p-3",onSubmit:w,noValidate:!0,"aria-busy":g,children:[h.jsxs("div",{className:"mb-2",children:[h.jsx("label",{htmlFor:"roleName",className:"form-label",children:"Create role"}),h.jsx("input",{id:"roleName",type:"text",name:"name",className:"form-control",value:f,minLength:2,maxLength:64,onChange:C=>m(C.target.value),placeholder:"e.g., Compliance Lead",required:!0,autoComplete:"off","aria-describedby":"roleHelp"}),h.jsx("div",{id:"roleHelp",className:"form-text",children:"264 characters. Letters, numbers, spaces, and dashes recommended."})]}),h.jsx("button",{type:"submit",className:"btn btn-primary",disabled:f.trim().length<2||g,children:g?"Submitting":"Submit"})]})]})}function Sj(){const[t,e]=b.useState([]),[n,i]=b.useState(!1),[a,o]=b.useState(""),[c,u]=b.useState(!1),[f,m]=b.useState(null),[g,v]=b.useState([]),[x,w]=b.useState(""),[k,j]=b.useState(""),[C,N]=b.useState(1),[P,$]=b.useState(50),[I,H]=b.useState(!1),[q,R]=b.useState([]),[A,K]=b.useState(null),[L,T]=b.useState(null),Y=b.useRef(null);b.useEffect(()=>{const M=new AbortController;return(async()=>{i(!0);try{const S=await rf();if(M.signal.aborted)return;S.ok?e(of(S.roles??[])):(e([]),T("Failed to load roles."))}catch{M.signal.aborted||(e([]),T("Failed to load roles."))}finally{M.signal.aborted||i(!1)}})(),()=>M.abort()},[]);async function X(){T(null),m(null),v([]);const M=Number(a);if(!Number.isInteger(M)||M<=0){T("Enter a valid User ID.");return}u(!0);try{const S=await kd(M);if(S.ok){const F=S;m(F.user);const ee=qi(F.roles??[]);v(ee),w(""),T(null),queueMicrotask(()=>Y.current?.focus())}else T(`Error: ${S.code}${S.message?" - "+S.message:""}`)}catch{T("Network error.")}finally{u(!1)}}const te=b.useMemo(()=>t.filter(M=>!g.includes(M.id)),[t,g]);b.useEffect(()=>{if(te.length===0){x!==""&&w("");return}te.some(M=>M.id===x)||w(te[0].id)},[te,x]);async function se(){if(f&&x){T(null);try{const M=await xj(f.id,x);if(M.ok){const F=qi(M.roles??[]);v(F);const ee=wr(x);w(""),T(ee?`${ee} attached.`:"Role attached.")}else T(`Attach failed: ${M.code}${M.message?" - "+M.message:""}`)}catch{T("Attach failed.")}}}async function he(M){if(f){T(null);try{const S=await bj(f.id,M);if(S.ok){const ee=qi(S.roles??[]);v(ee);const ie=wr(M);T(ie?`${ie} detached.`:"Role detached.")}else T(`Detach failed: ${S.code}${S.message?" - "+S.message:""}`)}catch{T("Detach failed.")}}}async function ye(M){H(!0),T(null);try{const F=await sf(k,typeof M=="number"?M:C,P);if(F.ok){const ee=F;R(ee.data),K(ee.meta),N(ee.meta.page)}else R([]),K(null),T(`Search failed: ${F.code}${F.message?" - "+F.message:""}`)}catch{R([]),K(null),T("Search failed.")}finally{H(!1)}}function Z(M){o(String(M.id)),R([]),K(null),ne(M.id)}async function ne(M){T(null),m(null),v([]),u(!0);try{const S=await kd(M);if(S.ok){const F=S;m(F.user);const ee=qi(F.roles??[]);v(ee),w(""),queueMicrotask(()=>Y.current?.focus())}else T(`Error: ${S.code}${S.message?" - "+S.message:""}`)}catch{T("Network error.")}finally{u(!1)}}return h.jsxs("main",{className:"container py-3",children:[h.jsx("h1",{className:"mb-3",children:"User Roles"}),h.jsxs("section",{"aria-labelledby":"search",children:[h.jsx("h2",{id:"search",className:"h5",children:"Search users"}),h.jsxs("div",{className:"row g-2 align-items-end",children:[h.jsxs("div",{className:"col-12 col-md-5",children:[h.jsx("label",{htmlFor:"q",className:"form-label",children:"Query"}),h.jsx("input",{id:"q",type:"text",className:"form-control",value:k,onChange:M=>j(M.currentTarget.value),placeholder:"Search name, email, or role"})]}),h.jsxs("div",{className:"col-6 col-md-2",children:[h.jsx("label",{htmlFor:"per_page",className:"form-label",children:"Per page"}),h.jsx("input",{id:"per_page",type:"number",inputMode:"numeric",className:"form-control",value:P,min:1,max:500,onChange:M=>{const S=Number(M.currentTarget.value)||50;$(Math.max(1,Math.min(500,S)))}})]}),h.jsx("div",{className:"col-auto",children:h.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>{N(1),ye(1)},disabled:I,children:I?"Searching":"Search"})})]}),h.jsxs("div",{className:"mt-3",children:[q.length===0&&!I&&h.jsx("div",{className:"text-muted",children:"No matches"}),q.length>0&&h.jsx("div",{className:"table-responsive",children:h.jsxs("table",{className:"table table-sm align-middle",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{style:{width:"6rem"},children:"ID"}),h.jsx("th",{children:"Name"}),h.jsx("th",{children:"Email"}),h.jsx("th",{style:{width:"8rem"},children:"Action"})]})}),h.jsx("tbody",{children:q.map(M=>h.jsxs("tr",{children:[h.jsx("td",{children:M.id}),h.jsx("td",{children:M.name}),h.jsx("td",{children:M.email}),h.jsx("td",{children:h.jsx("button",{type:"button",className:"btn btn-outline-primary btn-sm",onClick:()=>Z(M),children:"Select"})})]},M.id))})]})}),A&&h.jsxs("nav",{"aria-label":"Pagination",className:"d-flex align-items-center gap-2",children:[h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>{A.page>1&&ye(A.page-1)},disabled:I||A.page<=1,children:"Prev"}),h.jsxs("span",{children:["Page ",A.page," of ",A.total_pages,"  ",A.total," total"]}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>{A.page<A.total_pages&&ye(A.page+1)},disabled:I||A.page>=A.total_pages,children:"Next"})]})]})]}),h.jsx("hr",{className:"my-4"}),h.jsxs("section",{"aria-labelledby":"lookup",children:[h.jsx("h2",{id:"lookup",className:"h5",children:"Lookup by ID"}),h.jsxs("div",{className:"row g-2 align-items-end",children:[h.jsxs("div",{className:"col-auto",children:[h.jsx("label",{htmlFor:"user_id",className:"form-label",children:"User ID"}),h.jsx("input",{id:"user_id",type:"number",inputMode:"numeric",className:"form-control",value:a,onChange:M=>o(M.currentTarget.value),"aria-describedby":"user_id_help"}),h.jsx("div",{id:"user_id_help",className:"form-text",children:"Enter a numeric user id."})]}),h.jsx("div",{className:"col-auto",children:h.jsx("button",{type:"button",className:"btn btn-primary",disabled:c,onClick:X,children:c?"Loading":"Load"})})]})]}),h.jsx("div",{"aria-live":"polite",role:"status",className:"mt-3",children:L&&h.jsx("div",{className:"alert alert-info py-2 mb-2",children:L})}),f&&h.jsxs("section",{className:"mt-4","aria-labelledby":"user_section",children:[h.jsx("h2",{id:"user_section",className:"h5",children:"User"}),h.jsx("div",{className:"card mb-3",children:h.jsxs("div",{className:"card-body",children:[h.jsxs("p",{className:"mb-1",children:[h.jsx("strong",{children:"ID:"})," ",f.id]}),h.jsxs("p",{className:"mb-1",children:[h.jsx("strong",{children:"Name:"})," ",f.name]}),h.jsxs("p",{className:"mb-3",children:[h.jsx("strong",{children:"Email:"})," ",f.email]}),h.jsxs("div",{className:"mb-3",children:[h.jsx("label",{htmlFor:"attach_role",className:"form-label",children:"Attach role"}),h.jsxs("div",{className:"d-flex gap-2",children:[h.jsx("select",{id:"attach_role",className:"form-select",value:x,onChange:M=>w(M.currentTarget.value),disabled:n||te.length===0,"aria-disabled":n||te.length===0,children:te.map(M=>h.jsx("option",{value:M.id,children:M.name},M.id))}),h.jsx("button",{ref:Y,type:"button",className:"btn btn-success",onClick:se,disabled:!x,children:"Add"})]}),n&&h.jsx("div",{className:"form-text",children:"Loading roles"})]}),h.jsxs("div",{className:"mb-4",children:[h.jsx("h3",{className:"h6",children:"Current roles"}),h.jsxs("ul",{className:"list-unstyled",role:"list",children:[g.length===0&&h.jsx("li",{className:"text-muted",children:"None"}),g.map(M=>{const S=wr(M)||M;return h.jsxs("li",{className:"d-flex align-items-center justify-content-between border rounded p-2 mb-2",children:[h.jsx("span",{children:S}),h.jsx("button",{type:"button",className:"btn btn-outline-danger btn-sm",onClick:()=>he(M),"aria-label":`Remove ${S}`,children:"Remove"})]},M)})]})]})]})})]})]})}async function kj(t){function e(i){return Array.isArray(i)&&i.every(a=>typeof a=="string")}function n(i,a){if(i&&typeof i=="object"){const o=i[a];if(e(o))return o}return null}try{const i=await Qn("/api/audit/categories",void 0,t);return((Array.isArray(i)?i:null)??n(i,"_categories")??n(i,"categories")??[]).filter(o=>typeof o=="string")}catch{return[]}}const jj={"auth.login":{label:"Login",category:"AUTH",variant:"success"},"auth.login.success":{label:"Login success",category:"AUTH",variant:"success"},"auth.login.failed":{label:"Login failed",category:"AUTH",variant:"warning"},"auth.login.redirected":{label:"Login redirected",category:"AUTH",variant:"neutral"},"auth.logout":{label:"Logout",category:"AUTH",variant:"neutral"},"auth.mfa.totp.enrolled":{label:"TOTP enrolled",category:"AUTH",variant:"success"},"auth.mfa.totp.verified":{label:"TOTP verified",category:"AUTH",variant:"success"},"auth.bruteforce.locked":{label:"Brute force locked",category:"AUTH",variant:"danger"},"rbac.deny.unauthenticated":{label:"Denied: unauthenticated",category:"RBAC",variant:"danger"},"rbac.deny.role_mismatch":{label:"Denied: missing required role",category:"RBAC",variant:"danger"},"rbac.deny.policy":{label:"Denied: policy",category:"RBAC",variant:"danger"},"rbac.deny.capability":{label:"Denied: capability",category:"RBAC",variant:"danger"},"rbac.deny.unknown_policy":{label:"Denied: unknown policy",category:"RBAC",variant:"danger"},"rbac.user_role.attached":{label:"Role attached",category:"RBAC",variant:"success"},"rbac.user_role.detached":{label:"Role detached",category:"RBAC",variant:"warning"},"rbac.user_role.replaced":{label:"Roles replaced",category:"RBAC",variant:"neutral"},"rbac.role.created":{label:"Role created",category:"RBAC",variant:"success"},"rbac.role.updated":{label:"Role updated",category:"RBAC",variant:"neutral"},"rbac.role.deleted":{label:"Role deleted",category:"RBAC",variant:"warning"},"rbac.user.created":{label:"User created",category:"RBAC",variant:"success"},"rbac.user.deleted":{label:"User deleted",category:"RBAC",variant:"warning"},"evidence.uploaded":{label:"Evidence uploaded",category:"EVIDENCE",variant:"success"},"evidence.downloaded":{label:"Evidence downloaded",category:"EVIDENCE",variant:"neutral"},"evidence.deleted":{label:"Evidence deleted",category:"EVIDENCE",variant:"warning"},"evidence.purged":{label:"Evidence purged",category:"EVIDENCE",variant:"warning"},"export.job.created":{label:"Export started",category:"EXPORTS",variant:"neutral"},"export.job.completed":{label:"Export completed",category:"EXPORTS",variant:"success"},"export.job.failed":{label:"Export failed",category:"EXPORTS",variant:"danger"},"settings.updated":{label:"Settings updated",category:"SETTINGS",variant:"neutral"},"setting.modified":{label:"Setting modified",category:"SETTINGS",variant:"neutral"},"audit.retention.purged":{label:"Audit purged",category:"AUDIT",variant:"warning"},"avatar.uploaded":{label:"Avatar uploaded",category:"AVATARS",variant:"success"},"setup.finished":{label:"Setup finished",category:"SETUP",variant:"success"}},Cj={AUTH:"neutral",RBAC:"neutral",EVIDENCE:"neutral",EXPORTS:"neutral",SETTINGS:"neutral",AUDIT:"neutral",AVATARS:"neutral",SETUP:"neutral"};function Ej(t,e){const n=jj[t];if(n)return n;if(t.startsWith("rbac.deny."))return{label:"Denied: RBAC",category:"RBAC",variant:"danger"};if(t.startsWith("rbac.user_role."))return{label:"User role changed",category:"RBAC",variant:"neutral"};if(t.startsWith("export."))return{label:"Export event",category:"EXPORTS",variant:"neutral"};if(t.startsWith("evidence."))return{label:"Evidence event",category:"EVIDENCE",variant:"neutral"};if(t.startsWith("auth."))return{label:"Auth event",category:"AUTH",variant:"neutral"};if(t.startsWith("settings."))return{label:"Settings event",category:"SETTINGS",variant:"neutral"};if(t.startsWith("setting."))return{label:"Setting event",category:"SETTINGS",variant:"neutral"};if(t.startsWith("audit."))return{label:"Audit event",category:"AUDIT",variant:"neutral"};if(t.startsWith("avatar."))return{label:"Avatar event",category:"AVATARS",variant:"neutral"};if(t.startsWith("setup."))return{label:"Setup event",category:"SETUP",variant:"neutral"};const i=(e||"OTHER").toUpperCase();return{label:Nj(t),category:i,variant:Cj[i]??"neutral"}}function Nj(t){return t.replace(/\./g," ").replace(/_/g," ").replace(/\s+/g," ").trim().replace(/^\w/,e=>e.toUpperCase())}function lv({headers:t}){return h.jsx("tr",{children:t.map(({key:e,label:n,onToggle:i,isActive:a,filterContent:o,summaryContent:c,className:u})=>h.jsxs("th",{scope:"col",className:u,children:[i?h.jsx("button",{type:"button",className:`btn btn-link p-0 fw-semibold text-start ${a?"":"link-underline-opacity-0"}`,onClick:i,children:n}):h.jsx("span",{className:"fw-semibold",children:n}),c,o]},e))})}function cv(){const[t,e]=b.useState(null),n=b.useCallback(o=>{e(c=>c===o?null:o)},[]),i=b.useCallback(o=>t===o,[t]),a=b.useCallback(()=>{e(null)},[]);return{activeKey:t,toggle:n,isActive:i,reset:a}}const Rj=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function Ng(t){const e=t.getUTCFullYear(),n=String(t.getUTCMonth()+1).padStart(2,"0"),i=String(t.getUTCDate()).padStart(2,"0");return`${e}-${n}-${i}`}function Rg(t){if(!/^\d{4}-\d{2}-\d{2}$/.test(t))return null;const[e,n,i]=t.split("-"),a=Number(e),o=Number(n),c=Number(i);if(!Number.isFinite(a)||!Number.isFinite(o)||!Number.isFinite(c))return null;const u=new Date(Date.UTC(a,o-1,c));return u.getUTCFullYear()!==a||u.getUTCMonth()!==o-1||u.getUTCDate()!==c?null:u}function Mj(t,e,n){return!t||!e?!1:n>t&&n<e}function uv({start:t,end:e,onChange:n,onComplete:i,onClear:a}){const o=Ng(new Date),u=Rg(t||e||o)??new Date,[f,m]=b.useState(()=>u.getUTCFullYear()),[g,v]=b.useState(()=>u.getUTCMonth()),[x,w]=b.useState(t),[k,j]=b.useState(e),C=b.useMemo(()=>new Intl.DateTimeFormat(void 0,{month:"long",year:"numeric",timeZone:"UTC"}),[]),N=b.useMemo(()=>new Intl.DateTimeFormat(void 0,{weekday:"short",month:"short",day:"numeric",year:"numeric",timeZone:"UTC"}),[]);b.useEffect(()=>{w(t),j(e)},[t,e]);const P=b.useMemo(()=>C.format(new Date(Date.UTC(f,g,1))),[C,f,g]),$=b.useMemo(()=>{const K=new Date(Date.UTC(f,g,1)).getUTCDay(),L=new Date(Date.UTC(f,g+1,0)).getUTCDate(),T=[];for(let X=0;X<K;X+=1)T.push(null);for(let X=1;X<=L;X+=1){const te=Ng(new Date(Date.UTC(f,g,X)));T.push({iso:te,day:X})}for(;T.length%7!==0;)T.push(null);const Y=[];for(let X=0;X<T.length;X+=7)Y.push(T.slice(X,X+7));return Y},[f,g]),I=A=>{const K=new Date(Date.UTC(f,g+A,1));m(K.getUTCFullYear()),v(K.getUTCMonth())},H=(A,K)=>{const L=Rg(A);return L?N.format(L):`Day ${K}`},q=A=>{if(!x||x&&k){w(A),j(""),n(A,"");return}if(x&&!k){if(A<x){w(A),j(""),n(A,"");return}j(A),n(x,A),i(x,A)}},R=()=>{w(""),j(""),n("",""),a()};return h.jsxs("div",{className:"border rounded p-3 d-inline-block",children:[h.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2 gap-2",children:[h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>I(-1),children:""}),h.jsx("div",{className:"fw-semibold",children:P}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>I(1),children:""})]}),h.jsxs("table",{className:"table table-sm mb-2",style:{width:"100%",minWidth:"16rem"},children:[h.jsx("thead",{children:h.jsx("tr",{children:Rj.map(A=>h.jsx("th",{className:"text-center small",children:A},A))})}),h.jsx("tbody",{children:$.map((A,K)=>h.jsx("tr",{children:A.map((L,T)=>{if(!L)return h.jsx("td",{},T);const Y=x===L.iso,X=k===L.iso,te=Mj(x,k,L.iso),se=L.iso===o,he={width:"2.4rem",height:"2.4rem",borderRadius:"999px",border:"none",backgroundColor:"transparent",color:"#212529"};return te&&(he.backgroundColor="#e0edff"),Y||X?(he.backgroundColor="#0d6efd",he.color="#ffffff",he.fontWeight=600):se&&(he.border="1px solid #0d6efd"),h.jsx("td",{className:"text-center",children:h.jsx("button",{type:"button",className:"btn btn-sm p-0",style:he,"aria-pressed":Y||X,onClick:()=>q(L.iso),"aria-label":H(L.iso,L.day),children:L.day})},L.iso)})},K))})]}),h.jsxs("div",{className:"d-flex justify-content-between align-items-center gap-2",children:[h.jsxs("div",{className:"small text-muted",children:[x&&!k&&"Select an end date",x&&k&&`${x}  ${k}`,!x&&!k&&"Select start date"]}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:R,children:"Clear"})]})]})}const Mg={SYSTEM:"System",RBAC:"Access Control",AUTH:"Authentication",SETTINGS:"Settings",EXPORTS:"Exports",EVIDENCE:"Evidence",AVATARS:"Avatars",AUDIT:"Audit Trail",SETUP:"Setup",METRICS:"Metrics",OTHER:"Other"};function jd(t){const e=t.toUpperCase();if(Mg[e])return Mg[e];const n=e.toLowerCase().split(/[^a-z0-9]+/i).filter(Boolean);return n.length===0?e:n.map(i=>i.charAt(0).toUpperCase()+i.slice(1)).join(" ")}function Tj(t){const e=new Set,n=[];for(const i of t){const a=String(i??"").trim().toUpperCase();!a||e.has(a)||(e.add(a),n.push({value:a,label:jd(a)}))}return n.sort((i,a)=>i.label.localeCompare(a.label))}function Pj(t){const e=new URLSearchParams;return Object.entries(t).forEach(([n,i])=>{if(i==null)return;const a=typeof i=="boolean"?i?"true":"false":String(i);a.length>0&&e.set(n,a)}),e.toString()}function Dj(t){return(t instanceof DOMException||typeof t=="object"&&t!==null)&&t.name==="AbortError"}function Aj(t){if(t instanceof Error)return t.message;const e=t?.message;return typeof e=="string"?e:"Request failed"}function Lj(t){if(!t||typeof t!="object")return{};const e=t,n=e.errors??e.error??e._errors;if(!n||typeof n!="object")return{};const i={};return Object.entries(n).forEach(([a,o])=>{Array.isArray(o)?i[a]=o.filter(c=>typeof c=="string"):typeof o=="string"&&(i[a]=[o])}),i}function Oj(t){const e={display:"inline-block",fontSize:"0.85rem",padding:"0.15rem 0.5rem",borderRadius:"999px",border:"1px solid transparent",lineHeight:1.2,whiteSpace:"nowrap"};switch(t){case"success":return{...e,color:"#0f5132",backgroundColor:"#d1e7dd",borderColor:"#badbcc"};case"warning":return{...e,color:"#664d03",backgroundColor:"#fff3cd",borderColor:"#ffecb5"};case"danger":return{...e,color:"#842029",backgroundColor:"#f8d7da",borderColor:"#f5c2c7"};default:return{...e,color:"#0c5460",backgroundColor:"#e2f0f3",borderColor:"#bee5eb"}}}function Fj(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}function Ij(t){return typeof t.actor_label=="string"&&t.actor_label.trim()!==""?t.actor_label.trim():t.user_id!==null&&t.user_id!==void 0?String(t.user_id):t.actor_id!==null&&t.actor_id!==void 0?String(t.actor_id):"System"}function zj(t,e,n){const i=n||"System",a=Fj(t.meta)?t.meta:{},o=typeof t.note=="string"&&t.note.trim()!==""?t.note.trim():"";if(o)return o;const c=typeof a.message=="string"&&a.message.trim()!==""?a.message.trim():"";if(c)return c;const u=v=>{if(v===null)return"null";if(v===void 0)return"n/a";if(typeof v=="string")return v;if(typeof v=="number"||typeof v=="boolean")return String(v);try{return JSON.stringify(v)}catch{return String(v)}},f=t.action??"";if(f==="setting.modified"){const w=[a.setting_label,a.setting_key,a.key,t.entity_id].find(C=>typeof C=="string"&&C.trim()!=="")??"Setting",k=u(a.old_value??a.old),j=u(a.new_value??a.new);return`${w} update by ${i}. Old: ${k} - New: ${j}`}if(f==="settings.update"){const v=Array.isArray(a.changes)?a.changes.length:0;return v>0?`Settings updated by ${i} (${v} ${v===1?"change":"changes"})`:`Settings updated by ${i}`}if(f==="evidence.upload"||f==="evidence.uploaded")return`${typeof a.filename=="string"&&a.filename?a.filename:typeof t.entity_id=="string"&&t.entity_id?t.entity_id:"Evidence"} uploaded to evidence by ${i}`;if(f==="evidence.downloaded")return`${typeof a.filename=="string"&&a.filename?a.filename:typeof t.entity_id=="string"&&t.entity_id?t.entity_id:"Evidence"} downloaded by ${i}`;if(f==="evidence.deleted")return`${typeof a.filename=="string"&&a.filename?a.filename:typeof t.entity_id=="string"&&t.entity_id?t.entity_id:"Evidence"} removed from evidence by ${i}`;if(f==="evidence.read"||f==="evidence.head")return`${typeof a.filename=="string"&&a.filename?a.filename:typeof t.entity_id=="string"&&t.entity_id?t.entity_id:"Evidence"} viewed by ${i}`;if(f==="auth.login")return`${i} logged in`;if(f.startsWith("auth."))return`${e.label} by ${i}`;if(f.startsWith("rbac.user_role.")){const v=typeof a.role=="string"?a.role:"";return v?`${e.label}: ${v} by ${i}`:`${e.label} by ${i}`}const m=typeof t.entity_type=="string"&&t.entity_type?t.entity_type:"",g=typeof t.entity_id=="string"&&t.entity_id?t.entity_id:"";if(m||g){const v=[m,g].filter(Boolean).join(" "),x=` by ${i}`;return v?`${e.label} on ${v}${x}`:`${e.label}${x}`}return`${e.label} by ${i}`}function Uj(){const t=Hr(),[e,n]=b.useState(""),[i,a]=b.useState(""),[o,c]=b.useState(""),[u,f]=b.useState(""),[m,g]=b.useState(10),v=b.useRef(m),{activeKey:x,toggle:w,reset:k}=cv(),[j,C]=b.useState([]),[N,P]=b.useState(Xs),[$,I]=b.useState(""),[H,q]=b.useState(!1),[R,A]=b.useState([]),[K,L]=b.useState(null),[T,Y]=b.useState(null),[X,te]=b.useState([]),[se,he]=b.useState("idle"),[ye,Z]=b.useState(""),[ne,M]=b.useState({}),S=b.useRef(null),F=o?`${o}T00:00:00Z`:void 0,ee=u?`${u}T23:59:59Z`:void 0,ie=b.useMemo(()=>Pj({category:e||void 0,action:i||void 0,occurred_from:F,occurred_to:ee,limit:m,actor_id:T?T.id:void 0}),[e,i,F,ee,m,T]),ce=b.useMemo(()=>!o||!u?!0:o<=u,[o,u]);async function de(U=!1,pe){try{he("loading"),Z(""),M({}),S.current?.abort(),S.current=new AbortController;const He={category:e||void 0,action:i||void 0,occurred_from:F,occurred_to:ee,limit:v.current,actor_id:T?T.id:void 0,...pe},it=U?{...He,cursor:null}:He,Rt=await Qn("/api/audit",it,S.current.signal);let Wt=[],Vt=null;if(Array.isArray(Rt))Wt=Rt;else if(Rt&&typeof Rt=="object"){const kt=Rt;Array.isArray(kt.items)?Wt=kt.items:Array.isArray(kt.data)&&(Wt=kt.data),typeof kt.time_format=="string"&&(Vt=Ja(kt.time_format))}P(kt=>Vt??kt),te(Wt),he("ok")}catch(He){if(Dj(He))return;if(He&&typeof He=="object"&&He.status===422){const it=He.body,Rt=Lj(it);M(Rt),he("error"),Z("Validation error");return}he("error"),Z(Aj(He))}}b.useEffect(()=>{(async()=>{const U=new AbortController;try{const pe=await kj(U.signal);C(Tj(pe))}finally{}return await de(),()=>U.abort()})()},[]),b.useEffect(()=>{const U=new URLSearchParams(t.search),pe=U.get("category")??"",He=U.get("action")??"",it=U.get("occurred_from")??"",Rt=U.get("occurred_to")??"",Wt=it?it.slice(0,10):"",Vt=Rt?Rt.slice(0,10):"";(pe!==e||He!==i||Wt!==o||Vt!==u)&&(n(pe),a(He),c(Wt),f(Vt),de(!0,{category:pe||void 0,action:He||void 0,occurred_from:it||void 0,occurred_to:Rt||void 0}))},[t.search]);const Te=b.useMemo(()=>`/api/audit/export.csv?${ie}`,[ie]);async function ke(U){q(!0);try{const He=await sf($,typeof U=="number"?U:1,10);if(He.ok){const it=He;A(it.data),L({page:it.meta.page,total_pages:it.meta.total_pages})}else A([]),L(null)}finally{q(!1)}}function Ve(U){Y(U),A([]),L(null),I(""),k()}function Ge(){Y(null),A([]),L(null),I("")}const At=()=>{if(!ce){wt();return}T?de(!0,{actor_id:T.id,limit:v.current}):ke()},rt=j.length>0,Ze=()=>{M(U=>{if(!U.occurred_from&&!U.occurred_to)return U;const pe={...U};return delete pe.occurred_from,delete pe.occurred_to,pe})},wt=()=>{M(U=>({...U,occurred_from:["From must be on or before To"],occurred_to:["To must be on or after From"]}))},on=U=>{if(!ce){wt();return}de(!0,{category:U||void 0})},en=U=>Math.min(100,Math.max(1,U)),un=U=>{const pe=en(U);if(v.current=pe,g(pe),!ce){wt();return}de(!0,{limit:pe})};b.useEffect(()=>{v.current=m},[m]);const Qt=U=>{!(x!==U)&&U==="user"&&(A([]),L(null),I("")),w(U)},vt=()=>{n(""),a(""),c(""),f(""),v.current=10,g(10),Y(null),A([]),L(null),I(""),k(),M({}),Z(""),de(!0,{category:void 0,action:void 0,occurred_from:void 0,occurred_to:void 0,actor_id:void 0,limit:10})},$t=(U,pe)=>{c(U),f(pe),U&&pe&&U>pe?wt():Ze()},lt=(U,pe)=>{if(U&&pe&&U>pe){wt();return}Ze(),de(!0,{occurred_from:U?`${U}T00:00:00Z`:void 0,occurred_to:pe?`${pe}T23:59:59Z`:void 0})},ge=()=>{c(""),f(""),Ze(),de(!0,{occurred_from:void 0,occurred_to:void 0})},Me=o||u?h.jsxs("div",{className:"small text-muted mt-1",children:[o||"Any","  ",u||"Any"]}):null,Be=x==="timestamp"?h.jsxs("div",{className:"mt-2 d-flex flex-column gap-2",children:[h.jsx(uv,{start:o,end:u,onChange:$t,onComplete:lt,onClear:ge}),h.jsxs("div",{className:"visually-hidden",children:[h.jsx("label",{htmlFor:"audit-date-from",className:"form-label",children:"From"}),h.jsx("input",{id:"audit-date-from",type:"date",className:"form-control form-control-sm",value:o,onChange:U=>{const pe=U.target.value;$t(pe,u),lt(pe,u)},onKeyDown:U=>{U.key==="Escape"&&(U.preventDefault(),k())},"aria-invalid":!ce||!!ne.occurred_from?.length}),h.jsx("label",{htmlFor:"audit-date-to",className:"form-label",children:"To"}),h.jsx("input",{id:"audit-date-to",type:"date",className:"form-control form-control-sm",value:u,onChange:U=>{const pe=U.target.value;$t(o,pe),lt(o,pe)},onKeyDown:U=>{U.key==="Escape"&&(U.preventDefault(),k())},"aria-invalid":!ce||!!ne.occurred_to?.length})]}),ce?null:h.jsx("p",{role:"alert",className:"text-danger small mb-0 mt-2",children:"From must be  To"}),ne.occurred_from?.length?h.jsx("ul",{role:"alert",className:"text-danger small mb-0 ps-3 mt-2",children:ne.occurred_from.map((U,pe)=>h.jsx("li",{children:U},pe))}):null,ne.occurred_to?.length?h.jsx("ul",{role:"alert",className:"text-danger small mb-0 ps-3 mt-2",children:ne.occurred_to.map((U,pe)=>h.jsx("li",{children:U},pe))}):null]}):null,St=T?h.jsxs("div",{className:"small text-muted mt-1",children:[T.name||T.email||`id ${T.id}`," (id ",T.id,")"]}):null,pt=x==="user"?h.jsx("div",{className:"mt-2",children:T?h.jsxs("div",{className:"d-flex flex-column gap-2",children:[h.jsxs("div",{className:"small",children:[h.jsx("span",{className:"fw-semibold",children:T.name||T.email||`id ${T.id}`}),h.jsxs("span",{className:"text-muted ms-2",children:["id ",T.id]})]}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:Ge,children:"Clear actor"})]}):h.jsxs(h.Fragment,{children:[h.jsx("label",{htmlFor:"audit-actor",className:"form-label visually-hidden",children:"Actor"}),h.jsx("input",{id:"audit-actor",className:"form-control form-control-sm",value:$,onChange:U=>I(U.target.value),onKeyDown:U=>{U.key==="Enter"?(U.preventDefault(),At()):U.key==="Escape"&&(U.preventDefault(),k())},placeholder:"Search name or email"}),h.jsxs("div",{className:"d-flex flex-wrap gap-2 mt-2",children:[h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>void ke(),"aria-busy":H,disabled:H||$.trim()==="",children:H?"Searching":"Find actor"}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>{A([]),L(null),I("")},disabled:H&&R.length===0,children:"Clear results"})]}),R.length>0&&h.jsxs("div",{className:"border rounded p-2 mt-2",style:{maxHeight:"220px",overflowY:"auto"},children:[h.jsx("ul",{className:"list-unstyled mb-0",children:R.map(U=>h.jsxs("li",{className:"d-flex justify-content-between gap-2 mb-2",children:[h.jsxs("div",{children:[h.jsx("div",{className:"small fw-semibold",children:U.name?.trim()||U.email||`id ${U.id}`}),U.email&&h.jsx("div",{className:"small text-muted",children:U.email})]}),h.jsx("button",{type:"button",className:"btn btn-outline-primary btn-sm",onClick:()=>Ve(U),children:"Select"})]},U.id))}),K&&h.jsxs("div",{className:"d-flex align-items-center justify-content-between gap-2 mt-2",children:[h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>K.page>1&&void ke(K.page-1),disabled:H||K.page<=1,children:"Prev"}),h.jsxs("span",{className:"small text-muted",children:["Page ",K.page," of ",K.total_pages]}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>K.page<K.total_pages&&void ke(K.page+1),disabled:H||K.page>=K.total_pages,children:"Next"})]})]})]})}):null,tn=e?jd(e):"",ot=e?h.jsx("div",{className:"small text-muted mt-1",children:tn}):null,ct=x==="category"?h.jsxs("div",{className:"mt-2",children:[h.jsx("label",{htmlFor:"audit-category",className:"form-label visually-hidden",children:"Category"}),rt?h.jsxs("select",{id:"audit-category",className:"form-select form-select-sm",value:e,onChange:U=>{const pe=U.target.value;n(pe),on(pe)},"aria-invalid":!!ne.category?.length,children:[h.jsx("option",{value:"",children:"(any)"}),j.map(U=>h.jsx("option",{value:U.value,children:U.label},U.value))]}):h.jsx("input",{id:"audit-category",className:"form-control form-control-sm",value:e,onChange:U=>n(U.target.value),onBlur:U=>on(U.target.value),onKeyDown:U=>{U.key==="Enter"?(U.preventDefault(),on(U.currentTarget.value)):U.key==="Escape"&&(U.preventDefault(),k())},placeholder:"e.g. RBAC","aria-invalid":!!ne.category?.length}),ne.category?.length?h.jsx("ul",{role:"alert",className:"text-danger small mb-0 ps-3 mt-2",children:ne.category.map((U,pe)=>h.jsx("li",{children:U},pe))}):null]}):null,Ht=i?h.jsx("div",{className:"small text-muted mt-1",children:i}):null,oe=x==="action"?h.jsxs("div",{className:"mt-2",children:[h.jsx("label",{htmlFor:"audit-action",className:"form-label visually-hidden",children:"Action"}),h.jsx("input",{id:"audit-action",className:"form-control form-control-sm",value:i,onChange:U=>a(U.target.value),onKeyDown:U=>{U.key==="Enter"?(U.preventDefault(),ce?de(!0):wt()):U.key==="Escape"&&(U.preventDefault(),k())},placeholder:"e.g. Role attached","aria-invalid":!!ne.action?.length}),h.jsx("div",{className:"form-text",children:'Matches action labels, e.g. "Role attached".'}),ne.action?.length?h.jsx("ul",{role:"alert",className:"text-danger small mb-0 ps-3 mt-2",children:ne.action.map((U,pe)=>h.jsx("li",{children:U},pe))}):null]}):null,Le=[{key:"timestamp",label:"Timestamp",onToggle:()=>Qt("timestamp"),isActive:x==="timestamp",summaryContent:Me,filterContent:Be},{key:"user",label:"User",onToggle:()=>Qt("user"),isActive:x==="user",summaryContent:St,filterContent:pt},{key:"ip",label:"IP"},{key:"category",label:"Category",onToggle:()=>Qt("category"),isActive:x==="category",summaryContent:ot,filterContent:ct},{key:"action",label:"Action",onToggle:()=>Qt("action"),isActive:x==="action",summaryContent:Ht,filterContent:oe},{key:"message",label:"Message"}];return h.jsxs("main",{className:"container py-3","aria-busy":se==="loading",children:[h.jsx("h1",{children:"Audit"}),se==="loading"&&h.jsx("p",{children:"Loading."}),se==="error"&&h.jsxs("p",{role:"alert",children:["Error: ",ye]}),h.jsxs("section",{className:"d-flex flex-wrap align-items-center gap-3 mb-3",children:[h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:vt,disabled:se==="loading",children:"Reset filters"}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>{if(!ce){wt();return}de(!0,{limit:v.current})},disabled:se==="loading",children:se==="loading"?"Refreshing":"Refresh"}),h.jsxs("div",{className:"d-flex flex-column",children:[h.jsxs("div",{className:"d-flex align-items-center gap-2",children:[h.jsx("label",{htmlFor:"audit-limit",className:"form-label mb-0",children:"Limit"}),h.jsx("input",{id:"audit-limit",type:"number",min:1,max:100,step:1,className:"form-control form-control-sm",style:{width:"5rem"},value:m,onChange:U=>{const pe=U.target.value;if(pe===""){v.current=10,g(10);return}const He=Number(pe);if(Number.isNaN(He)||He<1){v.current=1,g(1);return}un(He)},onKeyDown:U=>{U.key==="Enter"?(U.preventDefault(),un(v.current||10)):U.key==="Escape"&&(U.preventDefault(),v.current=m)},"aria-invalid":!!ne.limit?.length})]}),ne.limit?.length?h.jsx("ul",{role:"alert",className:"text-danger small mb-0 ps-3 mt-1",children:ne.limit.map((U,pe)=>h.jsx("li",{children:U},pe))}):null]})]}),h.jsx("div",{className:"table-responsive",children:h.jsxs("table",{"aria-label":"Audit events",className:"table",children:[h.jsx("thead",{children:h.jsx(lv,{headers:Le})}),h.jsx("tbody",{children:X.length===0&&se==="ok"?h.jsx("tr",{children:h.jsx("td",{colSpan:6,children:"No results"})}):X.map((U,pe)=>{const He=U.id||U.ulid||String(pe),it=typeof U.occurred_at=="string"&&U.occurred_at||typeof U.created_at=="string"&&U.created_at||typeof U.ts=="string"&&U.ts||"",Rt=tf(it,N),Wt=Ij(U),Vt=String(U.category??""),kt=Ej(String(U.action??""),Vt),dn=jd(kt.category||Vt),fn=zj(U,kt,Wt);return h.jsxs("tr",{children:[h.jsx("td",{title:it,children:Rt}),h.jsx("td",{children:Wt}),h.jsx("td",{children:String(U.ip??"")}),h.jsx("td",{children:dn}),h.jsx("td",{children:h.jsx("span",{style:Oj(kt.variant),"aria-label":`${kt.label} (${U.action??""})`,title:String(U.action??""),children:kt.label})}),h.jsx("td",{children:fn})]},He)})})]})}),h.jsx("div",{style:{marginTop:"0.75rem"},children:h.jsx("a",{href:Te,className:"btn btn-outline-secondary btn-sm","aria-disabled":se==="loading",onClick:U=>{se==="loading"&&U.preventDefault()},children:"Download CSV"})})]})}function Va(t){return t!==null&&typeof t=="object"}function Bj(t){if(!t)return null;const e=/filename\*=(?:UTF-8'')?([^;]+)/i.exec(t);if(e?.[1])try{return decodeURIComponent(e[1].replace(/(^"|"$)/g,""))}catch{return e[1].replace(/(^"|"$)/g,"")}const n=/filename="([^"]+)"/i.exec(t);if(n?.[1])return n[1];const i=/filename=([^;]+)/i.exec(t);return i?.[1]?i[1].trim().replace(/(^"|"$)/g,""):null}function Cd(t,e){const n=encodeURIComponent(t),i=oy(e?{sha256:e}:void 0);return`${ji}/api/evidence/${n}${i}`}async function $j(t,e){const n=Cd(t,e),i=await fetch(n,{method:"GET",credentials:"same-origin",headers:_t({Accept:"application/octet-stream"})}),a=i.headers.get("content-type")??"";if(!i.ok){let f=null;const m=a.toLowerCase();try{m.includes("application/json")||m.includes("+json")?f=await i.json():f=await i.text()}catch{f=null}throw new Bt(i.status,f)}const o=await i.blob(),c=Bj(i.headers.get("content-disposition"))??t;return{blob:o,filename:c,mime:a!==""?a:"application/octet-stream"}}async function Hj(t){if(typeof window>"u"||typeof document>"u")return;const e=t.filename?.trim()!==""?t.filename.trim():t.id,{blob:n,filename:i}=await $j(t.id,t.sha256);if(typeof URL.createObjectURL=="function"){const a=URL.createObjectURL(n),o=document.createElement("a");o.href=a,o.download=i?.trim()!==""?i:e,o.rel="noopener noreferrer",o.style.display="none",document.body.appendChild(o),o.click(),document.body.removeChild(o),window.setTimeout(()=>{typeof URL.revokeObjectURL=="function"&&URL.revokeObjectURL(a)},1e3)}else typeof window.open=="function"?window.open(Cd(t.id,t.sha256),"_blank","noopener"):window.location.assign(Cd(t.id,t.sha256))}async function Wj(t={}){try{const e=await Qn("/api/evidence",t),n=Va(e)?e:{};if(n.ok===!0&&Array.isArray(n.data)){const o=n.data.map(f=>Va(f)?f:null).filter(f=>!!f).map(f=>({id:String(f.id??""),owner_id:Number(f.owner_id??0),filename:String(f.filename??""),mime:String(f.mime??""),mime_label:typeof f.mime_label=="string"&&f.mime_label.trim()!==""?f.mime_label:String(f.mime??""),size:Number(f.size??0),sha256:String(f.sha256??""),version:Number(f.version??0),created_at:String(f.created_at??"")})).filter(f=>f.id&&Number.isFinite(f.owner_id)),c=typeof n.next_cursor=="string"?n.next_cursor:(n.next_cursor===null,null),u=typeof n.time_format=="string"?Ja(n.time_format):void 0;return{ok:!0,data:o,next_cursor:c,filters:Va(n.filters)?n.filters:void 0,time_format:u}}const i=typeof n.code=="string"?n.code:"REQUEST_FAILED",a=typeof n.message=="string"?n.message:void 0;return{ok:!1,status:400,code:i,message:a,raw:e}}catch{return{ok:!1,status:0,code:"NETWORK_ERROR"}}}async function Vj(t,e){const n=new FormData;n.append("file",t);const i=await ly("/api/evidence",n,e);if(!Va(i)||i.ok!==!0)throw new Error("Invalid response from upload endpoint");const a=typeof i.id=="string"?i.id:"";if(!a)throw new Error("Missing id in upload response");const o=i.version,c=i.size??i.size_bytes,u=typeof i.sha256=="string"?i.sha256:"",f=typeof i.mime=="string"?i.mime:"",m=typeof i.name=="string"?i.name:"",g=Number(o??0),v=Number(c??0);return{ok:!0,id:a,version:Number.isNaN(g)?0:g,sha256:u,size:Number.isNaN(v)?0:v,mime:f,name:m}}async function Kj(t,e){const n=await Gl(`/api/evidence/${encodeURIComponent(t)}`,e);if(!Va(n)||n.ok!==!0)throw new Error("Invalid response from delete endpoint");const i=typeof n.id=="string"&&n.id?n.id:t,a=n.deleted;return{ok:!0,id:i,deleted:a===void 0?!0:!!a}}function Yj(t){return W1(t)}function Xj(t,e=Xs){return tf(t,e)}const rs=new Map,_l=new Map;function lf(t){return Number.isInteger(t)&&t>0}async function Qj(t){try{const e=await kd(t);return e.ok?(rs.set(t,e.user),e.user):(rs.set(t,null),null)}catch{}return null}async function Gj(t){if(!lf(t))return null;if(rs.has(t))return rs.get(t)??null;if(_l.has(t))return _l.get(t);const e=Qj(t).finally(()=>{_l.delete(t)});return _l.set(t,e),e}function Tg(t){for(const e of t)lf(e.id)&&rs.set(e.id,e)}function Pg(t){return rs.get(t)}async function qj(t){const e=new Set;for(const i of t){const a=Number(i);lf(a)&&e.add(a)}await Promise.all(Array.from(e).map(i=>Gj(i)));const n=new Map;for(const i of e)n.set(i,rs.get(i)??null);return n}function Jj(t){const e=new Set;for(const n of t){const i=Number(n.owner_id);Number.isFinite(i)&&i>0&&e.add(i)}return Array.from(e).sort((n,i)=>n-i)}function Zj(t,e){let n=!1;const i=new Map(t);for(const[a,o]of e.entries())i.get(a)!==o&&(i.set(a,o),n=!0);return n?i:t}function eC(t,e){if(!e)return;const n=[];return e.name?.trim()&&n.push(e.name.trim()),e.email?.trim()&&n.push(`<${e.email.trim()}>`),n.push(`id ${t}`),n.join(" ")}function tC(t,e){if(!e)return String(t);const n=e.name?.trim();if(n)return n;const i=e.email?.trim();return i||String(t)}function nC({headers:t,items:e,fetchState:n,timeFormat:i,onDownload:a,downloadingId:o,onDelete:c,deletingId:u}){const f=b.useMemo(()=>Jj(e),[e]),m=b.useMemo(()=>f.join(","),[f]),[g,v]=b.useState(()=>{const x=new Map;for(const w of f){const k=Pg(w);k!==void 0&&x.set(w,k)}return x});return b.useEffect(()=>{v(x=>{let w=!1;const k=new Map(x);for(const j of f)if(!k.has(j)){const C=Pg(j);C!==void 0&&(k.set(j,C),w=!0)}return w?k:x})},[f]),b.useEffect(()=>{if(f.length===0){v(new Map);return}let x=!1;return qj(f).then(w=>{x||v(k=>Zj(k,w))}),()=>{x=!0}},[m,f]),e.length===0&&n==="ok"?h.jsx("div",{className:"alert alert-light border",role:"status",children:"No evidence to display."}):h.jsx("div",{className:"table-responsive",children:h.jsxs("table",{className:"table","aria-label":"Evidence results",children:[h.jsx("thead",{children:h.jsx(lv,{headers:t})}),h.jsx("tbody",{children:e.map(x=>{const w=g.get(x.owner_id),k=Xj(x.created_at,i),j=Yj(x.size),C=x.mime_label?.trim()?x.mime_label:x.mime,N=x.sha256?`${x.sha256.slice(0,12)}`:"";return h.jsxs("tr",{children:[h.jsx("td",{title:x.created_at,children:k}),h.jsx("td",{className:"text-break",style:{maxWidth:"12rem"},title:eC(x.owner_id,w),children:w===void 0?h.jsx("span",{className:"text-muted",children:"Loading..."}):tC(x.owner_id,w)}),h.jsx("td",{className:"text-break",style:{maxWidth:"18rem"},children:x.filename}),h.jsx("td",{title:Number.isFinite(x.size)?`${x.size.toLocaleString()} bytes`:void 0,children:j}),h.jsx("td",{className:"text-break",style:{maxWidth:"14rem"},title:x.mime,children:C}),h.jsx("td",{style:{fontFamily:"monospace"},children:N}),h.jsx("td",{children:x.version}),h.jsx("td",{children:h.jsx("button",{type:"button",className:"btn btn-outline-primary btn-sm",onClick:()=>a(x),disabled:o===x.id,"aria-label":`Download ${x.filename||x.id}`,children:o===x.id?"Downloading":"Download"})}),h.jsx("td",{children:h.jsx("button",{type:"button",className:"btn btn-outline-danger btn-sm",onClick:()=>c(x),disabled:u===x.id,"aria-label":`Delete ${x.filename||x.id}`,children:u===x.id?"Deleting":"Delete"})})]},x.id)})})]})})}function Dg(){return{display:"inline-block",fontSize:"0.85rem",padding:"0.15rem 0.5rem",borderRadius:"999px",border:"1px solid #bee5eb",lineHeight:1.2,whiteSpace:"nowrap",color:"#0c5460",backgroundColor:"#e2f0f3"}}function Ag(){const[t,e]=b.useState(""),[n,i]=b.useState(null),[a,o]=b.useState(""),[c,u]=b.useState(""),[f,m]=b.useState(""),[g,v]=b.useState(""),[x,w]=b.useState(null),[k,j]=b.useState(""),[C,N]=b.useState("desc"),[P,$]=b.useState(20),{activeKey:I,toggle:H,reset:q}=cv(),[R,A]=b.useState(""),[K,L]=b.useState(""),[T,Y]=b.useState(""),[X,te]=b.useState(""),[se,he]=b.useState(""),[ye,Z]=b.useState("20"),[ne,M]=b.useState(null),[S,F]=b.useState([]),[ee,ie]=b.useState(null),[ce,de]=b.useState(1),[Te,ke]=b.useState(!1),Ve=10,[Ge,At]=b.useState("idle"),[rt,Ze]=b.useState(""),[wt,on]=b.useState(Xs),[en,un]=b.useState([]),[Qt,vt]=b.useState(null),[$t,lt]=b.useState([]),[ge,Me]=b.useState(null),[Be,St]=b.useState(null),[pt,tn]=b.useState(!1),[ot,ct]=b.useState(null),[Ht,oe]=b.useState(null),[Le,U]=b.useState(null),[pe,He]=b.useState(null),[it,Rt]=b.useState(null),Wt=Hr(),Vt=b.useRef(null),kt=b.useRef(null),dn=b.useRef(null),fn=b.useRef(null),Wr=b.useRef(null);b.useEffect(()=>{I==="owner"?kt.current?.focus():I==="filename"?(dn.current?.focus(),dn.current?.select()):I==="mime"?(fn.current?.focus(),fn.current?.select()):I==="sha"&&(Wr.current?.focus(),Wr.current?.select())},[I]),b.useEffect(()=>{Y(f)},[f]),b.useEffect(()=>{te(g)},[g]),b.useEffect(()=>{A(a)},[a]),b.useEffect(()=>{L(c)},[c]),b.useEffect(()=>{Z(String(P))},[P]),b.useEffect(()=>{he(k)},[k]);const Vr=a?`${a}T00:00:00Z`:void 0,Ci=c?`${c}T23:59:59Z`:void 0,Kr=b.useMemo(()=>{const J=k.trim().toLowerCase().replace(/[^a-f0-9]/g,"");let be,We;J.length>=64?be=J.slice(0,64):J!==""&&(We=J);const ze=x==="raw"&&g||void 0,Fe=x==="label"&&g||void 0;return{owner_id:n?n.id:void 0,filename:f||void 0,mime:ze,mime_label:Fe,created_from:Vr,created_to:Ci,order:C,limit:P,cursor:Qt,sha256:be||void 0,sha256_prefix:We||void 0}},[n,f,g,x,Vr,Ci,C,P,Qt,k]),Sr=b.useMemo(()=>!a||!c?!0:a<=c,[a,c]);async function Pn(J,be){const We=t.trim();if(!We){F([]),ie(null),de(1);return}ke(!0);try{const Fe=await sf(We,typeof J=="number"?J:ce,Ve);if(Fe.ok){const Ke=Fe;F(Ke.data),ie(Ke.meta),de(Ke.meta.page),Tg(Ke.data),be?.autoApply&&Ke.data.length===1&&Ei(Ke.data[0])}else F([]),ie(null)}finally{ke(!1)}}function Ei(J){Tg([J]),i(J),F([]),ie(null),e(""),de(1),vt(null),lt([]),q(),D(!0,{owner_id:J.id})}function cr(J=!0){i(null),F([]),ie(null),e(""),de(1),J&&(vt(null),lt([]),q(),D(!0,{owner_id:void 0}))}async function D(J=!1,be){if(!Sr){M("From must be on or before To"),Ze("From must be on or before To"),At("error");return}M(null),At("loading"),Ze(""),St(null);try{const We=J?{...Kr,...be,cursor:null}:{...Kr,...be},ze=await Wj(We);if(ze.ok){const Fe=ze;on(Ke=>Fe.time_format?Ja(Fe.time_format):Ke),un(Fe.data),J&&lt([]),vt(Fe.next_cursor),At("ok")}else un([]),At("error"),Ze(`${ze.code}${ze.message?" - "+ze.message:""}`)}catch{un([]),At("error"),Ze("Request failed")}}async function B(J){St(null),Me(J.id);try{await Hj(J)}catch(be){let We="Download failed. Please try again.";if(be instanceof Bt){const ze=be.body??null,Fe=ze?.message,Ke=ze?.code,Mt=typeof Fe=="string"?Fe:null,vn=typeof Ke=="string"?Ke:null;Mt?We=`Download failed: ${Mt}`:vn?We=`Download failed: ${vn}`:We=`Download failed (HTTP ${be.status}).`}St(We)}finally{Me(null)}}function G(J){if(J&&typeof J=="object"){const be=J.message;if(typeof be=="string"&&be.trim()!=="")return be.trim()}return typeof J=="string"&&J.trim()!==""?J.trim():null}function re(J){if(!J||typeof J!="object")return null;for(const be of Object.values(J))if(Array.isArray(be)){const We=be.find(ze=>typeof ze=="string"&&ze.trim()!=="");if(typeof We=="string")return We.trim()}else if(typeof be=="string"&&be.trim()!=="")return be.trim();return null}function me(J){if(!J)return null;const be=re(J.errors??null);if(be)return`Upload validation failed: ${be}`;const We=J.message;return typeof We=="string"&&We.trim()!==""?We.trim():null}async function Ne(J){if(pt)return;const be=J.currentTarget,We=be.files;if(!We||We.length===0)return;const ze=Array.from(We);tn(!0),ct(null),oe(null);const Fe=[];try{for(const Ke of ze){const Mt=await Vj(Ke),vn=Mt.name?.trim()!==""?Mt.name.trim():Mt.id;Fe.push(vn)}Fe.length===1?oe(`${Fe[0]} uploaded successfully.`):Fe.length>1&&oe(`${Fe.length} files uploaded successfully.`),be.value="",await D(!0)}catch(Ke){be.value="",Fe.length===1?oe(`${Fe[0]} uploaded successfully.`):Fe.length>1&&oe(`${Fe.length} files uploaded successfully.`);let Mt="Upload failed. Please try again.";if(Ke instanceof Bt){const vn=Ke.body??null,Xr=vn&&typeof vn=="object"?vn:null;if(Ke.status===422)Mt=me(Xr)??"Upload validation failed. Please check the selected file.";else if(Ke.status===413)Mt=G(vn)??"Upload greater than the configured limit.";else{const kr=G(vn);if(kr)Mt=`Upload failed: ${kr}`;else if(Xr){const ss=Xr.code;typeof ss=="string"&&ss.trim()!==""?Mt=`Upload failed: ${ss.trim()}`:typeof Ke.message=="string"&&Ke.message.trim()!==""&&(Mt=Ke.message)}else typeof Ke.message=="string"&&Ke.message.trim()!==""?Mt=Ke.message:Mt=`Upload failed (HTTP ${Ke.status}).`}}else Ke instanceof Error&&Ke.message&&(Mt=Ke.message);ct(Mt),await D(!0)}finally{tn(!1)}}async function Pe(J){if(Le)return;const be=J.filename?.trim()!==""?J.filename.trim():J.id;if(window.confirm(`Delete ${be}? This cannot be undone.`)){He(null),Rt(null),U(J.id);try{await Kj(J.id),Rt(`${be} deleted.`),await D(!0)}catch(ze){let Fe="Delete failed. Please try again.";if(ze instanceof Bt){const Ke=ze.body??null,Mt=Ke?.message,vn=Ke?.code,Xr=typeof Mt=="string"?Mt:null,kr=typeof vn=="string"?vn:null;Xr?Fe=`Delete failed: ${Xr}`:kr?Fe=`Delete failed: ${kr}`:Fe=`Delete failed (HTTP ${ze.status}).`}else ze instanceof Error&&ze.message&&(Fe=ze.message);He(Fe)}finally{U(null)}}}b.useEffect(()=>{D(!0)},[]),b.useEffect(()=>{const J=new URLSearchParams(Wt.search),be=J.get("mime_label")??"",We=J.get("mime")??"";let ze=null,Fe="";if(be.trim()!==""?(ze="label",Fe=be):We.trim()!==""&&(ze="raw",Fe=We),ze===x&&Fe===g)return;v(Fe),w(ze),vt(null),lt([]),D(!0,ze==="label"?{mime_label:Fe||void 0,mime:void 0}:ze==="raw"?{mime:Fe||void 0,mime_label:void 0}:{mime:void 0,mime_label:void 0})},[Wt.search]);function we(){Qt&&(lt(J=>[...J,Qt]),D(!1))}function je(){if($t.length===0)return;const J=$t[$t.length-1];lt(be=>be.slice(0,-1)),vt(J),D(!1)}const _e=n!==null||f.trim()!==""||x!==null&&g.trim()!==""||k.trim()!==""||a.trim()!==""||c.trim()!==""||C!=="desc"||P!==20,ve=b.useCallback(J=>{I!==J?J==="created"?(A(a),L(c),M(null)):J==="filename"?Y(f):J==="mime"?te(g):J==="sha"&&he(k):J==="owner"&&(F([]),ie(null)),H(J)},[I,a,c,f,g,k,H]);function Oe(J){const be=J.trim();m(be),Y(be),vt(null),lt([]),D(!0,{filename:be||void 0}),q()}function $e(J){const be=J.trim();v(be),te(be),w(be===""?null:"label"),vt(null),lt([]),D(!0,{mime_label:be||void 0,mime:void 0}),q()}function Lt(J){const be=J.trim().toLowerCase().replace(/[^a-f0-9]/g,"");j(be),he(be),vt(null),lt([]),D(!0,{sha256:be.length>=64?be.slice(0,64):void 0,sha256_prefix:be!==""&&be.length<64?be:void 0}),q()}function st(J,be,We=!0){const ze=J.trim(),Fe=be.trim();if(ze&&Fe&&ze>Fe){M("From must be on or before To");return}M(null),o(ze),u(Fe),A(ze),L(Fe),vt(null),lt([]),D(!0,{created_from:ze?`${ze}T00:00:00Z`:void 0,created_to:Fe?`${Fe}T23:59:59Z`:void 0}),We&&q()}function Qe(){const J=C==="asc"?"desc":"asc";N(J),vt(null),lt([]),D(!0,{order:J})}function mt(){const J=ye.trim();if(J===""){Z(String(P));return}const be=Number(J);if(Number.isNaN(be)||!Number.isFinite(be)){Z(String(P));return}const We=Math.max(1,Math.min(100,Math.trunc(be)));if(We===P){Z(String(We));return}$(We),Z(String(We)),vt(null),lt([]),D(!0,{limit:We})}function qn(){q(),M(null),cr(!1),m(""),Y(""),v(""),te(""),w(null),j(""),he(""),o(""),u(""),A(""),L(""),N("desc"),$(20),Z("20"),vt(null),lt([]),D(!0,{owner_id:void 0,filename:void 0,mime:void 0,mime_label:void 0,sha256:void 0,sha256_prefix:void 0,created_from:void 0,created_to:void 0,order:"desc",limit:20})}const ur=n?[n.name?.trim()||null,n.email?.trim()?`<${n.email.trim()}>`:null,`id ${n.id}`].filter(J=>!!J).join(" "):"",Dn=n?h.jsx("div",{className:"mt-1",children:h.jsx("span",{style:Dg(),children:ur})}):null,qe=I==="owner"?h.jsxs("div",{className:"mt-2",children:[n&&h.jsxs("div",{className:"d-flex align-items-center gap-2 mb-2",children:[h.jsx("span",{style:Dg(),children:ur}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>cr(),children:"Clear"})]}),h.jsx("label",{htmlFor:"filter-owner",className:"visually-hidden",children:"Filter by owner"}),h.jsx("input",{ref:kt,id:"filter-owner",className:"form-control form-control-sm",value:t,onChange:J=>e(J.currentTarget.value),onKeyDown:J=>{J.key==="Enter"?(J.preventDefault(),de(1),Pn(1,{autoApply:!0})):J.key==="Escape"&&(J.preventDefault(),q())},placeholder:"Name or email",autoComplete:"off"}),h.jsx("div",{className:"form-text",children:"Supports * wildcards."}),h.jsxs("div",{className:"d-flex gap-2 mt-2",children:[h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>{de(1),Pn(1,{autoApply:!0})},disabled:Te||t.trim()==="",children:Te?"Searching":"Search"}),!n&&h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>{e(""),F([]),ie(null),de(1)},children:"Reset"})]}),!Te&&t.trim()!==""&&S.length===0&&h.jsx("div",{className:"small text-muted mt-2",children:"No matches."}),S.length>0&&h.jsx("ul",{className:"list-unstyled mt-3 mb-0",children:S.map(J=>h.jsxs("li",{className:"d-flex align-items-center justify-content-between gap-2 mb-2",children:[h.jsxs("div",{children:[h.jsx("div",{className:"small fw-semibold",children:J.name?.trim()||J.email||`id ${J.id}`}),h.jsx("div",{className:"small text-muted",children:J.email?.trim()?`${J.email}  id ${J.id}`:`id ${J.id}`})]}),h.jsx("button",{type:"button",className:"btn btn-outline-primary btn-sm",onClick:()=>Ei(J),children:"Select"})]},J.id))}),ee&&S.length>0&&h.jsxs("div",{className:"d-flex align-items-center gap-2 mt-2",children:[h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>{ee.page>1&&Pn(ee.page-1)},disabled:Te||ee.page<=1,children:"Prev"}),h.jsxs("span",{className:"small text-muted",children:["Page ",ee.page," of ",ee.total_pages,"  ",ee.total," total"]}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>{ee.page<ee.total_pages&&Pn(ee.page+1)},disabled:Te||ee.page>=ee.total_pages,children:"Next"})]})]}):null,Ni=f?h.jsx("div",{className:"small text-muted mt-1",children:f}):null,Jn=I==="filename"?h.jsxs("div",{className:"mt-2",children:[h.jsx("label",{htmlFor:"filter-filename",className:"visually-hidden",children:"Filter by filename"}),h.jsx("input",{ref:dn,id:"filter-filename",className:"form-control form-control-sm",value:T,onChange:J=>Y(J.currentTarget.value),onKeyDown:J=>{J.key==="Enter"?(J.preventDefault(),Oe(J.currentTarget.value)):J.key==="Escape"&&(J.preventDefault(),q())},placeholder:"e.g. report*.pdf",autoComplete:"off"}),h.jsx("div",{className:"form-text",children:"Supports * wildcards."}),h.jsxs("div",{className:"d-flex gap-2 mt-2",children:[h.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:()=>Oe(T),children:"Apply"}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>{Y(""),Oe("")},children:"Clear"})]})]}):null,Un=g?h.jsx("div",{className:"small text-muted mt-1",children:g}):null,Zn=I==="mime"?h.jsxs("div",{className:"mt-2",children:[h.jsx("label",{htmlFor:"filter-mime",className:"visually-hidden",children:"Filter by MIME"}),h.jsx("input",{ref:fn,id:"filter-mime",className:"form-control form-control-sm",value:X,onChange:J=>te(J.currentTarget.value),onKeyDown:J=>{J.key==="Enter"?(J.preventDefault(),$e(J.currentTarget.value)):J.key==="Escape"&&(J.preventDefault(),q())},placeholder:"e.g. image/*",autoComplete:"off"}),h.jsx("div",{className:"form-text",children:"Supports family wildcards like image/*."}),h.jsxs("div",{className:"d-flex gap-2 mt-2",children:[h.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:()=>$e(X),children:"Apply"}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>{te(""),$e("")},children:"Clear"})]})]}):null,er=k.trim().toLowerCase().replace(/[^a-f0-9]/g,""),Xe=er?h.jsx("div",{className:"small text-muted mt-1",children:er.length>12?`${er.slice(0,12)}`:er}):null,ut=I==="sha"?h.jsxs("div",{className:"mt-2",children:[h.jsx("label",{htmlFor:"filter-sha",className:"visually-hidden",children:"Filter by SHA-256"}),h.jsx("input",{ref:Wr,id:"filter-sha",className:"form-control form-control-sm",value:se,onChange:J=>he(J.currentTarget.value),onKeyDown:J=>{J.key==="Enter"?(J.preventDefault(),Lt(J.currentTarget.value)):J.key==="Escape"&&(J.preventDefault(),q())},placeholder:"e.g. 7f9c2b",autoComplete:"off"}),h.jsx("div",{className:"form-text",children:"Partial hashes match by prefix."}),h.jsxs("div",{className:"d-flex gap-2 mt-2",children:[h.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:()=>Lt(se),children:"Apply"}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>{he(""),Lt("")},children:"Clear"})]})]}):null,Gt=a||c?h.jsxs("div",{className:"small text-muted mt-1",children:[a||"Any",c?`  ${c}`:a?"  ":""]}):null,Je=[{key:"created",label:`Created ${C==="asc"?"":""}`,onToggle:()=>ve("created"),isActive:I==="created",summaryContent:Gt,filterContent:I==="created"?h.jsxs("div",{className:"mt-2 d-flex flex-column gap-3",children:[h.jsx(uv,{start:R,end:K,onChange:(J,be)=>{A(J),L(be),M(null)},onComplete:(J,be)=>{M(null),st(J,be)},onClear:()=>{M(null),A(""),L(""),st("","",!1)}}),ne&&h.jsx("div",{className:"text-danger small",children:ne}),h.jsx("div",{className:"d-flex flex-wrap align-items-center gap-2",children:h.jsxs("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:Qe,children:["Sort ",C==="asc"?"":""]})})]}):null},{key:"owner",label:"Owner",onToggle:()=>ve("owner"),isActive:I==="owner",summaryContent:Dn,filterContent:qe},{key:"filename",label:"Filename",onToggle:()=>ve("filename"),isActive:I==="filename",summaryContent:Ni,filterContent:Jn},{key:"size",label:"Size"},{key:"mime",label:"MIME",onToggle:()=>ve("mime"),isActive:I==="mime",summaryContent:Un,filterContent:Zn},{key:"sha256",label:"SHA-256",onToggle:()=>ve("sha"),isActive:I==="sha",summaryContent:Xe,filterContent:ut,className:"text-nowrap"},{key:"version",label:"Version"},{key:"download",label:"Download",className:"text-nowrap"},{key:"delete",label:"Delete",className:"text-nowrap"}];return h.jsxs("main",{className:"container py-3",children:[h.jsx("h1",{className:"mb-3",children:"Evidence"}),h.jsxs("section",{className:"mb-4",children:[h.jsx("h2",{className:"h5",children:"Upload Evidence"}),h.jsxs("div",{className:"d-flex flex-column flex-sm-row align-items-sm-center gap-2","aria-label":"Upload evidence",children:[h.jsx("input",{ref:Vt,type:"file",id:"evidence-file",style:{display:"none"},multiple:!0,disabled:pt,onChange:Ne}),h.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>Vt.current?.click(),disabled:pt,"aria-label":"Select evidence files to upload",children:pt?"Uploading":"Upload Evidence"})]}),ot&&h.jsx("div",{className:"alert alert-danger mt-2",role:"alert",children:ot}),Ht&&h.jsx("div",{className:"alert alert-success mt-2",role:"status",children:Ht})]}),h.jsxs("section",{className:"d-flex flex-wrap align-items-center gap-3 mb-3",children:[h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:qn,disabled:!_e||Ge==="loading",children:"Clear filters"}),h.jsxs("div",{className:"d-flex align-items-center gap-2",children:[h.jsx("label",{htmlFor:"evidence-limit",className:"form-label mb-0",children:"Limit"}),h.jsx("input",{id:"evidence-limit",type:"number",inputMode:"numeric",min:1,max:100,className:"form-control form-control-sm",style:{width:"5rem"},value:ye,onChange:J=>Z(J.currentTarget.value),onBlur:mt,onKeyDown:J=>{J.key==="Enter"?(J.preventDefault(),mt()):J.key==="Escape"&&(J.preventDefault(),Z(String(P)))}})]})]}),h.jsx("hr",{className:"my-4"}),Ge==="loading"&&h.jsx("p",{children:"Loading"}),Ge==="error"&&h.jsxs("p",{role:"alert",className:"text-danger",children:["Error: ",rt]}),Be&&h.jsx("div",{className:"alert alert-danger mt-3",role:"alert",children:Be}),pe&&h.jsx("div",{className:"alert alert-danger mt-3",role:"alert",children:pe}),it&&h.jsx("div",{className:"alert alert-success mt-3",role:"status",children:it}),h.jsx(nC,{headers:Je,items:en,fetchState:Ge,timeFormat:wt,onDownload:B,downloadingId:ge,onDelete:Pe,deletingId:Le}),h.jsxs("nav",{"aria-label":"Evidence pagination",className:"d-flex align-items-center gap-2",children:[h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:je,disabled:Ge!=="ok"||$t.length===0,children:"Prev"}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:we,disabled:Ge!=="ok"||!Qt,children:"Next"})]})]})}const Lg={name:"",email:"",password:"",roles:[]};function rC(t){if(!t||typeof t!="object")return!1;const e=t,n=e.meta;return e.ok===!0&&Array.isArray(e.data)&&!!n&&typeof n.page=="number"&&typeof n.total_pages=="number"}function iC(t,e){if(t.length!==e.length)return!1;const n=[...t].sort(),i=[...e].sort();for(let a=0;a<n.length;a++)if(n[a]!==i[a])return!1;return!0}const Og=/^[^\s@]+@[^\s@]+\.[^\s@]+$/i;function Ed(t){if(!t||typeof t!="object")return{};const e=t.errors;if(!e||typeof e!="object")return{};const n={};return Object.entries(e).forEach(([i,a])=>{if(Array.isArray(a)){const o=a.find(c=>typeof c=="string"&&c.trim()!=="");typeof o=="string"&&(n[i]=o)}else typeof a=="string"&&a.trim()!==""&&(n[i]=a)}),n}function wl(t,e){if(t instanceof Bt){const n=t.body;if(n&&typeof n=="object"){const i=n.message;if(typeof i=="string"&&i.trim()!=="")return i;const a=Ed(n),o=Object.values(a).find(c=>typeof c=="string"&&c.trim()!=="");if(typeof o=="string")return o}return typeof t.message=="string"&&t.message.trim()!==""?t.message:e}return t instanceof Error&&typeof t.message=="string"&&t.message.trim()!==""?t.message:e}function sC(){const[t,e]=b.useState(""),[n,i]=b.useState(""),[a,o]=b.useState(1),[c]=b.useState(25),[u,f]=b.useState([]),[m,g]=b.useState({page:1,per_page:25,total:0,total_pages:0}),[v,x]=b.useState(!1),[w,k]=b.useState(null),[j,C]=b.useState([]),[N,P]=b.useState(!1),[$,I]=b.useState(null),[H,q]=b.useState([]),[R,A]=b.useState(!1),[K,L]=b.useState(null),[T,Y]=b.useState({}),[X,te]=b.useState(null),[se,he]=b.useState(Lg),[ye,Z]=b.useState(!1),[ne,M]=b.useState(null),[S,F]=b.useState({}),[ee,ie]=b.useState(null),[ce,de]=b.useState(!1),Te=m.page>1,ke=m.page<m.total_pages,Ve=Math.max(4,Math.min(8,j.length||4));b.useEffect(()=>{let ge=!0;return P(!0),I(null),rf().then(Me=>{ge&&(Me.ok?C(of(Me.roles??[])):(C([]),I("Failed to load roles.")))}).catch(()=>{ge&&(C([]),I("Failed to load roles."))}).finally(()=>{ge&&P(!1)}),()=>{ge=!1}},[]),b.useEffect(()=>{const ge=new Set(j.map(Me=>Me.id));q(Me=>Me.filter(Be=>ge.has(Be))),he(Me=>{if(!X)return Me;const Be=Me.roles.filter(St=>ge.has(St));return Be.length===Me.roles.length?Me:{...Me,roles:Be}})},[j,X]),b.useEffect(()=>{if(!X){he({...Lg}),M(null),F({});return}he({name:X.name,email:X.email,password:"",roles:qi(X.roles)}),M(null),F({})},[X]);const Ge=b.useMemo(()=>X?qi(X.roles):[],[X]),At=b.useMemo(()=>{if(!X)return[];const ge=Ge.map(Me=>wr(Me));return ge.length>0?ge:X.roles},[X,Ge]),rt=b.useMemo(()=>{if(!X)return!1;const ge=se.password.trim()!=="",Me=!iC(se.roles,Ge);return X.name!==se.name||X.email!==se.email||ge||Me},[se,X,Ge]),Ze=b.useCallback(async()=>{x(!0);try{const ge={q:n.trim()===""?void 0:n,page:a,per_page:c},Me=await Qn("/api/users",ge);rC(Me)?(f(Me.data),g(Me.meta)):(f([]),g({page:1,per_page:c,total:0,total_pages:0}),k({kind:"error",text:"Users API shape invalid or not implemented."}))}catch(ge){f([]);const Me=wl(ge,"Failed to load users.");k({kind:"error",text:Me})}finally{x(!1)}},[n,a,c]);b.useEffect(()=>{Ze()},[Ze]);const wt=b.useCallback(ge=>{ge.preventDefault();const Me=t.trim();if(Me===n){a!==1?o(1):Ze();return}i(Me),a!==1&&o(1)},[n,Ze,a,t]);async function on(ge){if(ge.preventDefault(),R)return;const Me=ge.currentTarget,Be=new FormData(Me),St=String(Be.get("name")??"").trim(),pt=String(Be.get("email")??"").trim(),ot=String(Be.get("password")??"").trim(),ct={};if(St.length<2&&(ct.name="Name is required."),pt===""?ct.email="Email is required.":Og.test(pt)||(ct.email="Enter a valid email address."),ot===""?ct.password="Password is required.":ot.length<8&&(ct.password="Password must be at least 8 characters."),Object.keys(ct).length>0){Y(ct),L("Please fix the highlighted fields.");return}const Ht={name:St,email:pt,password:ot,roles:H};Y({}),A(!0),L(null),k(null);try{await is("/api/users",Ht),Me.reset(),q([]),Y({}),k({kind:"success",text:"User created."}),a!==1?o(1):await Ze()}catch(oe){const Le=wl(oe,"Create failed.");if(L(Le),k({kind:"error",text:Le}),oe instanceof Bt&&oe.body){const U=Ed(oe.body);Object.keys(U).length>0&&Y(U)}}finally{A(!1)}}function en(ge){te(ge),ie(null)}function un(){X&&(he({name:X.name,email:X.email,password:"",roles:qi(X.roles)}),M(null),F({}))}async function Qt(ge){if(ge.preventDefault(),!X||ye)return;const Me=se.name.trim(),Be=se.email.trim(),St=se.password.trim(),pt={};if(Me.length<2&&(pt.name="Name is required."),Be===""?pt.email="Email is required.":Og.test(Be)||(pt.email="Enter a valid email address."),St!==""&&St.length<8&&(pt.password="Password must be at least 8 characters."),Object.keys(pt).length>0){F(pt),M("Please fix the highlighted fields.");return}const tn={name:Me,email:Be,roles:se.roles};St!==""&&(tn.password=St),Z(!0),M(null),F({}),k(null);try{const ot=await $0(`/api/users/${X.id}`,tn);te(ot.user),k({kind:"success",text:"User updated."}),await Ze()}catch(ot){const ct=wl(ot,"Update failed.");if(M(ct),k({kind:"error",text:ct}),ot instanceof Bt&&ot.body){const Ht=Ed(ot.body);Object.keys(Ht).length>0&&F(Ht)}}finally{Z(!1)}}function vt(ge){ie(ge)}async function $t(){if(!(!ee||ce)){de(!0),k(null);try{await Gl(`/api/users/${ee.id}`),X&&X.id===ee.id&&te(null),ie(null),k({kind:"success",text:"User deleted."}),await Ze()}catch(ge){const Me=wl(ge,"Delete failed.");k({kind:"error",text:Me}),ie(null)}finally{de(!1)}}}const lt=()=>{ce||ie(null)};return h.jsxs("main",{className:"container py-4",children:[h.jsx("header",{className:"d-flex align-items-center justify-content-between mb-3",children:h.jsx("h1",{className:"h3 mb-0",children:"Users"})}),h.jsx("section",{"aria-live":"polite",className:"mb-3",children:w&&h.jsx("div",{className:`alert ${w.kind==="success"?"alert-success":"alert-danger"}`,role:"alert",children:w.text})}),h.jsxs("section",{"aria-labelledby":"users-search",className:"mb-4",children:[h.jsx("h2",{id:"users-search",className:"h5",children:"Search"}),h.jsxs("form",{className:"row g-2 align-items-end",onSubmit:wt,children:[h.jsxs("div",{className:"col-12 col-md-6",children:[h.jsx("label",{htmlFor:"users_q",className:"form-label",children:"Query"}),h.jsx("input",{id:"users_q",name:"q",value:t,onChange:ge=>e(ge.currentTarget.value),placeholder:"Search name, email, or role",className:"form-control",autoComplete:"off"})]}),h.jsx("div",{className:"col-auto",children:h.jsx("button",{type:"submit",className:"btn btn-primary",disabled:v,children:v?"Searching...":"Search"})})]})]}),h.jsx("div",{className:"table-responsive",children:h.jsxs("table",{className:"table table-sm align-middle",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{scope:"col",style:{width:"6rem"},children:"ID"}),h.jsx("th",{scope:"col",children:"Name"}),h.jsx("th",{scope:"col",children:"Email"}),h.jsx("th",{scope:"col",children:"Roles"}),h.jsx("th",{scope:"col",style:{width:"9rem"},className:"text-end",children:"Actions"})]})}),h.jsxs("tbody",{children:[u.map(ge=>h.jsxs("tr",{className:X?.id===ge.id?"table-active":void 0,children:[h.jsx("td",{children:ge.id}),h.jsx("td",{children:ge.name}),h.jsx("td",{children:ge.email}),h.jsx("td",{children:ge.roles.length>0?ge.roles.join(", "):h.jsx("span",{className:"text-muted",children:"None"})}),h.jsx("td",{className:"text-end",children:h.jsxs("div",{className:"btn-group btn-group-sm",role:"group","aria-label":`Actions for ${ge.email}`,children:[h.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:()=>en(ge),disabled:ye&&X?.id===ge.id,children:"Edit"}),h.jsx("button",{type:"button",className:"btn btn-outline-danger",onClick:()=>vt(ge),disabled:ce&&ee?.id===ge.id,children:"Delete"})]})})]},ge.id)),u.length===0&&!v&&h.jsx("tr",{children:h.jsx("td",{colSpan:5,className:"text-center text-muted py-4",children:"No users"})})]})]})}),h.jsxs("nav",{"aria-label":"Pagination",className:"d-flex align-items-center gap-3 mt-2",children:[h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>o(ge=>Math.max(1,ge-1)),disabled:!Te||v,children:"Prev"}),h.jsxs("span",{className:"text-muted",children:["Page ",m.page," of ",Math.max(1,m.total_pages)]}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>o(ge=>ge+1),disabled:!ke||v,children:"Next"})]}),ee&&h.jsxs("div",{className:"alert alert-warning d-flex align-items-center justify-content-between mt-4",role:"alert",children:[h.jsxs("div",{children:[h.jsxs("strong",{children:["Delete ",ee.email,"?"]}),h.jsx("div",{className:"small",children:"This action cannot be undone."})]}),h.jsxs("div",{className:"d-flex gap-2",children:[h.jsx("button",{type:"button",className:"btn btn-danger",onClick:$t,disabled:ce,children:ce?"Deleting...":"Delete"}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:lt,disabled:ce,children:"Cancel"})]})]}),h.jsxs("section",{className:"row g-4 mt-4",children:[h.jsx("div",{className:"col-12 col-lg-6",children:h.jsxs("div",{className:"card h-100",children:[h.jsx("div",{className:"card-header",children:"Edit user"}),h.jsx("div",{className:"card-body",children:X?h.jsxs("form",{onSubmit:Qt,className:"row g-3",noValidate:!0,children:[h.jsxs("div",{className:"col-12",children:[h.jsx("div",{className:"fw-semibold",children:"User ID"}),h.jsx("div",{children:X.id})]}),h.jsxs("div",{className:"col-12",children:[h.jsx("div",{className:"fw-semibold",children:"Current roles"}),h.jsx("div",{children:At.length>0?At.join(", "):h.jsx("span",{className:"text-muted",children:"None"})})]}),h.jsxs("div",{className:"col-12",children:[h.jsxs("label",{htmlFor:"edit_name",className:"form-label",children:["Name ",h.jsx("span",{className:"text-danger","aria-hidden":"true",children:"*"})]}),h.jsx("input",{id:"edit_name",name:"name",className:`form-control${S.name?" is-invalid":""}`,value:se.name,onChange:ge=>{const Me=ge.currentTarget.value;he(Be=>({...Be,name:Me}))},required:!0,"aria-invalid":!!S.name,"aria-describedby":S.name?"edit_name_error":void 0}),S.name?h.jsx("div",{id:"edit_name_error",className:"invalid-feedback d-block",children:S.name}):null]}),h.jsxs("div",{className:"col-12",children:[h.jsxs("label",{htmlFor:"edit_email",className:"form-label",children:["Email ",h.jsx("span",{className:"text-danger","aria-hidden":"true",children:"*"})]}),h.jsx("input",{id:"edit_email",name:"email",className:`form-control${S.email?" is-invalid":""}`,type:"email",value:se.email,onChange:ge=>{const Me=ge.currentTarget.value;he(Be=>({...Be,email:Me}))},required:!0,"aria-invalid":!!S.email,"aria-describedby":S.email?"edit_email_error":void 0}),S.email?h.jsx("div",{id:"edit_email_error",className:"invalid-feedback d-block",children:S.email}):null]}),h.jsxs("div",{className:"col-12",children:[h.jsx("label",{htmlFor:"edit_password",className:"form-label",children:"Reset password"}),h.jsx("input",{id:"edit_password",name:"password",className:`form-control${S.password?" is-invalid":""}`,type:"password",placeholder:"Leave blank to keep current password",value:se.password,onChange:ge=>{const Me=ge.currentTarget.value;he(Be=>({...Be,password:Me}))},"aria-invalid":!!S.password,"aria-describedby":S.password?"edit_password_error":void 0}),S.password?h.jsx("div",{id:"edit_password_error",className:"invalid-feedback d-block",children:S.password}):null]}),h.jsxs("div",{className:"col-12",children:[h.jsx("label",{htmlFor:"edit_roles",className:"form-label",children:"Roles"}),h.jsx("select",{id:"edit_roles",name:"roles",multiple:!0,className:"form-select",size:Ve,value:se.roles,onChange:ge=>{const Me=Array.from(ge.currentTarget.selectedOptions).map(Be=>Be.value);he(Be=>({...Be,roles:Me}))},"aria-describedby":"edit_roles_help",children:j.map(ge=>h.jsx("option",{value:ge.id,children:ge.name},ge.id))}),h.jsx("div",{id:"edit_roles_help",className:"form-text",children:N?"Loading roles...":$??(j.length===0?"No roles available.":"Use Ctrl/Cmd-click to toggle selections.")})]}),ne&&h.jsx("div",{className:"col-12",children:h.jsx("div",{className:"alert alert-danger py-2 mb-0",role:"alert",children:ne})}),h.jsxs("div",{className:"col-12 d-flex gap-2",children:[h.jsx("button",{type:"submit",className:"btn btn-primary",disabled:!rt||ye,children:ye?"Saving...":"Save"}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:un,disabled:ye||!rt,children:"Reset"})]})]}):h.jsx("p",{className:"text-muted mb-0",children:"No user selected."})})]})}),h.jsx("div",{className:"col-12 col-lg-6",children:h.jsxs("div",{className:"card h-100",children:[h.jsx("div",{className:"card-header",children:"Create user"}),h.jsxs("div",{className:"card-body",children:[K&&h.jsx("div",{className:"alert alert-danger py-2",role:"alert",children:K}),h.jsxs("form",{onSubmit:on,className:"row g-3",noValidate:!0,children:[h.jsxs("div",{className:"col-12",children:[h.jsxs("label",{htmlFor:"create_name",className:"form-label",children:["Name ",h.jsx("span",{className:"text-danger","aria-hidden":"true",children:"*"})]}),h.jsx("input",{id:"create_name",name:"name",className:`form-control${T.name?" is-invalid":""}`,required:!0,autoComplete:"off","aria-invalid":!!T.name,"aria-describedby":T.name?"create_name_error":void 0}),T.name?h.jsx("div",{id:"create_name_error",className:"invalid-feedback d-block",children:T.name}):null]}),h.jsxs("div",{className:"col-12",children:[h.jsxs("label",{htmlFor:"create_email",className:"form-label",children:["Email ",h.jsx("span",{className:"text-danger","aria-hidden":"true",children:"*"})]}),h.jsx("input",{id:"create_email",name:"email",type:"email",className:`form-control${T.email?" is-invalid":""}`,required:!0,autoComplete:"off","aria-invalid":!!T.email,"aria-describedby":T.email?"create_email_error":void 0}),T.email?h.jsx("div",{id:"create_email_error",className:"invalid-feedback d-block",children:T.email}):null]}),h.jsxs("div",{className:"col-12",children:[h.jsxs("label",{htmlFor:"create_password",className:"form-label",children:["Password ",h.jsx("span",{className:"text-danger","aria-hidden":"true",children:"*"})]}),h.jsx("input",{id:"create_password",name:"password",type:"password",className:`form-control${T.password?" is-invalid":""}`,required:!0,autoComplete:"new-password","aria-invalid":!!T.password,"aria-describedby":T.password?"create_password_error":void 0}),T.password?h.jsx("div",{id:"create_password_error",className:"invalid-feedback d-block",children:T.password}):null]}),h.jsxs("div",{className:"col-12",children:[h.jsx("label",{htmlFor:"create_roles",className:"form-label",children:"Roles"}),h.jsx("select",{id:"create_roles",name:"roles",multiple:!0,className:"form-select",size:Ve,value:H,onChange:ge=>{const Me=Array.from(ge.currentTarget.selectedOptions).map(Be=>Be.value);q(Me)},"aria-describedby":"create_roles_help",children:j.map(ge=>h.jsx("option",{value:ge.id,children:ge.name},ge.id))}),h.jsx("div",{id:"create_roles_help",className:"form-text",children:N?"Loading roles...":$??(j.length===0?"No roles available.":"Use Ctrl/Cmd-click to toggle selections.")})]}),h.jsx("div",{className:"col-12",children:h.jsx("button",{type:"submit",className:"btn btn-success",disabled:R,children:R?"Creating...":"Create"})})]})]})]})})]})]})}function aC(t){return t.ok===!0&&typeof t.jobId=="string"}function oC(t){return t.ok===!0&&typeof t.status=="string"}function lC(){const[t,e]=b.useState("csv"),[n,i]=b.useState([]),[a,o]=b.useState(null);async function c(f){f.preventDefault(),o(null);try{const m=await is("/api/exports",{type:t});if(aC(m)){const g=m.type??t;i(v=>[...v,{jobId:m.jobId,type:g,status:"pending",progress:0}]),o("Job created (stub).")}else m.code==="EXPORT_TYPE_INVALID"?o("Invalid export type."):o("Request completed.")}catch{o("Network error.")}}async function u(f){o(null);try{const m=await Qn(`/api/exports/${encodeURIComponent(f)}/status`);oC(m)?i(g=>g.map(v=>v.jobId===f?{...v,status:m.status,progress:Number.isFinite(m.progress)?m.progress:v.progress}:v)):o("Failed to refresh job.")}catch{o("Network error.")}}return h.jsxs("div",{className:"container py-3",children:[h.jsx("h1",{children:"Exports"}),a&&h.jsx("div",{className:"alert alert-info",children:a}),h.jsxs("form",{onSubmit:c,className:"row gy-2 gx-2 align-items-end mb-3",children:[h.jsxs("div",{className:"col-auto",children:[h.jsx("label",{className:"form-label",children:"Type"}),h.jsxs("select",{className:"form-select",value:t,onChange:f=>e(f.currentTarget.value),children:[h.jsx("option",{value:"csv",children:"csv"}),h.jsx("option",{value:"json",children:"json"}),h.jsx("option",{value:"pdf",children:"pdf"})]})]}),h.jsx("div",{className:"col-auto",children:h.jsx("button",{className:"btn btn-primary",type:"submit",children:"Create (stub)"})})]}),n.length===0?h.jsx("p",{children:"No jobs yet."}):h.jsx("div",{className:"table-responsive",children:h.jsxs("table",{className:"table table-sm table-striped",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{children:"Job ID"}),h.jsx("th",{children:"Type"}),h.jsx("th",{children:"Status"}),h.jsx("th",{children:"Progress"}),h.jsx("th",{children:"Actions"})]})}),h.jsx("tbody",{children:n.map(f=>h.jsxs("tr",{children:[h.jsx("td",{children:f.jobId}),h.jsx("td",{children:f.type}),h.jsx("td",{children:f.status}),h.jsxs("td",{children:[f.progress,"%"]}),h.jsx("td",{children:h.jsx("button",{className:"btn btn-sm btn-outline-secondary",onClick:()=>u(f.jobId),children:"Refresh"})})]},f.jobId))})]})}),h.jsx("p",{className:"text-muted mt-3",children:"Phase 4 stub. Jobs do not run. Downloads are not ready."})]})}function cC(t){return t.code==="AVATARS_NOT_ENABLED"}function uC(t){return t.code==="AVATAR_TOO_LARGE"}function dC(t){return t.note==="stub-only"&&!!t.file}function fC(){const[t,e]=b.useState(null),[n,i]=b.useState(null),[a,o]=b.useState(null),[c,u]=b.useState(null),f=b.useRef(null);b.useEffect(()=>{if(f.current&&(URL.revokeObjectURL(f.current),f.current=null),t){const g=URL.createObjectURL(t);f.current=g,u(g)}else u(null);return()=>{f.current&&URL.revokeObjectURL(f.current)}},[t]);async function m(g){if(g.preventDefault(),i(null),o(null),!t){i("Choose an image first.");return}const v=new FormData;v.append("file",t);try{const x=await ly("/api/avatar",v);if(cC(x)){i("Avatars feature disabled (stub).");return}if(uC(x)){i(`Image too large. Max ${x.limit.max_width}x${x.limit.max_height}px.`);return}if(dC(x)){o(x.file),i("Validated. Not stored (stub).");return}i("Request completed.")}catch{i("Network error.")}}return h.jsxs("div",{className:"container py-3",children:[h.jsx("h1",{children:"Profile Avatar"}),n&&h.jsx("div",{className:"alert alert-info",children:n}),h.jsxs("form",{onSubmit:m,children:[h.jsxs("div",{className:"mb-3",children:[h.jsx("label",{className:"form-label",children:"Select image (WEBP/JPEG/PNG)"}),h.jsx("input",{className:"form-control",type:"file",accept:"image/webp,image/jpeg,image/png",onChange:g=>e(g.currentTarget.files?.[0]??null)})]}),h.jsx("button",{className:"btn btn-primary",type:"submit",children:"Validate (stub)"})]}),c&&h.jsx("div",{className:"row mt-3",children:h.jsx("div",{className:"col-auto",children:h.jsx("img",{src:c,alt:"preview",className:"img-thumbnail"})})}),a&&h.jsxs("div",{className:"mt-3",children:[h.jsx("h2",{children:"Image Metadata"}),h.jsxs("ul",{children:[h.jsxs("li",{children:["Name: ",a.original_name]}),h.jsxs("li",{children:["MIME: ",a.mime]}),h.jsxs("li",{children:["Size: ",a.size_bytes," bytes"]}),h.jsxs("li",{children:["Dimensions: ",a.width,"",a.height]}),h.jsxs("li",{children:["Format: ",a.format]})]}),h.jsx("p",{className:"text-muted",children:"Phase 4 stub. No processing or storage yet."})]})]})}const hC=["color.primary","color.surface","color.text"],mC=["none","default","light","heavy","custom"],pC=["narrow","default","wide"],gC=["small","medium","large"],yC=["none","limited","full"],Fg=50,Ig=480,zg=t=>({theme:t.theme,mode:t.mode,overrides:{...t.overrides},sidebar:{collapsed:t.sidebar.collapsed,width:t.sidebar.width,order:[...t.sidebar.order]}}),vC=(t,e)=>{const n={};return(!e||t.theme!==e.theme)&&(n.theme=t.theme),(!e||t.mode!==e.mode)&&(n.mode=t.mode),(!e||!xC(t.overrides,e.overrides))&&(n.overrides=t.overrides),(!e||e.sidebar.collapsed!==t.sidebar.collapsed||e.sidebar.width!==t.sidebar.width||!bC(e.sidebar.order,t.sidebar.order))&&(n.sidebar={...t.sidebar}),n},xC=(t,e)=>{const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(const a of n)if(t[a]!==e[a])return!1;return!0},bC=(t,e)=>t.length!==e.length?!1:t.every((n,i)=>n===e[i]);async function Sl(t){try{return await t.json()}catch{return null}}function _C(){const[t,e]=b.useState(Ji),[n,i]=b.useState(gt),[a,o]=b.useState(zg(yn)),[c,u]=b.useState(!0),[f,m]=b.useState(!1),[g,v]=b.useState(null),[x,w]=b.useState(!1),k=b.useRef(null),j=b.useRef(null),C=b.useMemo(()=>n.theme.default,[n]),N=b.useMemo(()=>[...t.themes,...t.packs],[t]),$=b.useMemo(()=>{const S=a.theme??C;return N.find(F=>F.slug===S)},[a.theme,N,C])?.supports?.mode??["light","dark"],I=n.theme.allow_user_override,H=n.theme.force_global,q=b.useCallback(S=>{const F=zg(S);j.current=F,o(F),yd(S)},[]),R=b.useCallback(async S=>{u(!0),S?.preserveMessage||v(null);try{const[F,ee,ie]=await Promise.all([fetch("/api/settings/ui/themes",{method:"GET",credentials:"same-origin",headers:_t()}),fetch("/api/settings/ui",{method:"GET",credentials:"same-origin",headers:_t()}),fetch("/api/me/prefs/ui",{method:"GET",credentials:"same-origin",headers:_t()})]);if(F.ok){const de=await Sl(F);de&&Array.isArray(de.themes)&&(e(de),my(de))}if(ee.ok){const de=await Sl(ee);de?.config?.ui&&(i(de.config.ui),Qi(de.config.ui))}if(ie.status===403){w(!0),v("You do not have permission to manage UI preferences."),k.current=null,q(yn);return}if(!ie.ok){v("Failed to load preferences. Using defaults."),k.current=null,q(yn);return}k.current=ie.headers.get("ETag");const ce=await Sl(ie);ce?.prefs?q(ce.prefs):q(yn),w(!1)}catch{v("Failed to load preferences. Using defaults."),k.current=null,q(yn),i(gt),Qi(gt)}finally{u(!1)}},[q]);b.useEffect(()=>{R()},[R]);const A=S=>{o(F=>({...F,theme:S}))},K=S=>{o(F=>({...F,mode:S}))},L=(S,F)=>{o(ee=>({...ee,overrides:{...ee.overrides,[S]:F}}))},T=(S,F)=>{o(ee=>({...ee,overrides:{...ee.overrides,[S]:F}}))},Y=S=>{o(F=>({...F,sidebar:{...F.sidebar,collapsed:S}}))},X=S=>{const F=Math.max(Fg,Math.min(Ig,S));o(ee=>({...ee,sidebar:{...ee.sidebar,width:F}}))},te=()=>{j.current&&(o(j.current),v("Reverted to last saved preferences."))},se=()=>{const S=n.theme.overrides,F={theme:I&&!H?null:n.theme.default,mode:null,overrides:{...S},sidebar:{collapsed:yn.sidebar.collapsed,width:yn.sidebar.width,order:[...yn.sidebar.order]}};o(F),v("Preferences reset to global defaults.")},he=async()=>{if(x){v("Read-only mode: preferences cannot be changed.");return}const S=j.current,F=vC(a,S);if(Object.keys(F).length===0){v("No changes to save.");return}const ee=k.current;if(!ee){await R(),v("Preferences version refreshed. Please retry.");return}m(!0),v(null);try{(H||!I)&&(F.theme=null),I||(F.overrides={});const ie=await fetch("/api/me/prefs/ui",{method:"PUT",credentials:"same-origin",headers:_t({"Content-Type":"application/json","If-Match":ee}),body:JSON.stringify(F)}),ce=await Sl(ie);if(ie.status===409){const ke=ce?.current_etag??ie.headers.get("ETag");ke&&(k.current=ke),v("Preferences changed elsewhere. Reloaded latest values."),await R({preserveMessage:!0});return}if(!ie.ok)throw new Error(`Save failed (HTTP ${ie.status}).`);const de=ie.headers.get("ETag")??ce?.etag??null;de&&(k.current=de),ce?.prefs?q(ce.prefs):await R({preserveMessage:!0});const Te=typeof ce?.message=="string"?ce.message:"Preferences saved.";v(Te)}catch(ie){v(ie instanceof Error?ie.message:"Save failed.")}finally{m(!1)}},ye=!I||H||x||f||c,Z=x||f||c||$.length===1,ne=a.theme??C,M=f||c||x;return h.jsxs("main",{id:"profile-theme",className:"container py-3","aria-label":"theme-preferences",children:[h.jsx("h1",{className:"mb-3",children:"Theme Preferences"}),h.jsxs("section",{className:"card",children:[h.jsxs("div",{className:"card-header d-flex justify-content-between align-items-center",children:[h.jsx("strong",{children:"Personal Theme"}),h.jsxs("div",{className:"d-flex gap-2",children:[h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>void R(),disabled:c||f,children:"Reload"}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:te,disabled:M,children:"Reset to saved"}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:se,disabled:M,children:"Reset to global"}),h.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:()=>void he(),disabled:M,children:f?"Saving":"Save"})]})]}),h.jsx("div",{className:"card-body vstack gap-4",children:c?h.jsx("p",{children:"Loading preferences"}):h.jsxs(h.Fragment,{children:[g&&h.jsx("div",{className:"alert alert-info mb-0",role:"status",children:g}),h.jsxs("fieldset",{className:"vstack gap-3",disabled:M,children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"prefTheme",className:"form-label fw-semibold",children:"Theme selection"}),h.jsx("select",{id:"prefTheme",className:"form-select",value:ne,onChange:S=>A(S.target.value),disabled:ye,children:N.map(S=>h.jsxs("option",{value:S.slug,children:[S.name," (",S.source==="bootswatch"?"Bootswatch":"Pack",")"]},S.slug))}),!I&&h.jsx("div",{className:"form-text",children:"Theme overrides are disabled by your administrator."}),H&&h.jsx("div",{className:"form-text",children:"Global theme is enforced. Light/dark mode preference still applies when supported."})]}),h.jsxs("fieldset",{children:[h.jsx("legend",{className:"form-label fw-semibold",children:"Mode"}),h.jsxs("div",{className:"d-flex gap-3",children:[["light","dark"].map(S=>h.jsxs("label",{className:"form-check",children:[h.jsx("input",{className:"form-check-input",type:"radio",name:"themeMode",value:S,checked:a.mode===S,disabled:Z||!$.includes(S),onChange:()=>K(S)}),h.jsx("span",{className:"form-check-label text-capitalize",children:S})]},S)),h.jsxs("label",{className:"form-check",children:[h.jsx("input",{className:"form-check-input",type:"radio",name:"themeMode",value:"system",checked:a.mode===null,disabled:Z,onChange:()=>K(null)}),h.jsx("span",{className:"form-check-label",children:"Follow system"})]})]})]}),h.jsxs("div",{children:[h.jsx("h2",{className:"h5 mb-3",children:"Design tokens"}),h.jsx("div",{className:"row g-3",children:hC.map(S=>h.jsxs("div",{className:"col-sm-4",children:[h.jsxs("label",{htmlFor:`pref-${S}`,className:"form-label text-capitalize",children:[S.replace("color.","")," color"]}),h.jsx("input",{id:`pref-${S}`,type:"color",className:"form-control form-control-color",value:a.overrides[S]??"#000000",onChange:F=>L(S,F.target.value)})]},S))}),h.jsxs("div",{className:"row g-3 mt-1",children:[h.jsxs("div",{className:"col-sm-3",children:[h.jsx("label",{htmlFor:"prefShadow",className:"form-label",children:"Shadow preset"}),h.jsx("select",{id:"prefShadow",className:"form-select",value:a.overrides.shadow??"default",onChange:S=>T("shadow",S.target.value),children:mC.map(S=>h.jsx("option",{value:S,children:S},S))})]}),h.jsxs("div",{className:"col-sm-3",children:[h.jsx("label",{htmlFor:"prefSpacing",className:"form-label",children:"Spacing scale"}),h.jsx("select",{id:"prefSpacing",className:"form-select",value:a.overrides.spacing??"default",onChange:S=>T("spacing",S.target.value),children:pC.map(S=>h.jsx("option",{value:S,children:S},S))})]}),h.jsxs("div",{className:"col-sm-3",children:[h.jsx("label",{htmlFor:"prefTypeScale",className:"form-label",children:"Type scale"}),h.jsx("select",{id:"prefTypeScale",className:"form-select",value:a.overrides.typeScale??"medium",onChange:S=>T("typeScale",S.target.value),children:gC.map(S=>h.jsx("option",{value:S,children:S},S))})]}),h.jsxs("div",{className:"col-sm-3",children:[h.jsx("label",{htmlFor:"prefMotion",className:"form-label",children:"Motion"}),h.jsx("select",{id:"prefMotion",className:"form-select",value:a.overrides.motion??"full",onChange:S=>T("motion",S.target.value),children:yC.map(S=>h.jsx("option",{value:S,children:S},S))})]})]})]}),h.jsxs("div",{children:[h.jsx("h2",{className:"h5 mb-3",children:"Sidebar"}),h.jsxs("div",{className:"form-check mb-2",children:[h.jsx("input",{id:"prefSidebarCollapsed",type:"checkbox",className:"form-check-input",checked:a.sidebar.collapsed,onChange:S=>Y(S.target.checked)}),h.jsx("label",{htmlFor:"prefSidebarCollapsed",className:"form-check-label",children:"Collapse sidebar by default"})]}),h.jsx("label",{htmlFor:"prefSidebarWidth",className:"form-label",children:"Sidebar width (px)"}),h.jsx("input",{id:"prefSidebarWidth",type:"range",className:"form-range",min:Fg,max:Ig,value:a.sidebar.width,onChange:S=>X(Number(S.target.value))}),h.jsxs("div",{className:"form-text",children:["Current width: ",a.sidebar.width,"px (min 50px, max ~50% viewport)."]}),h.jsx("div",{className:"alert alert-secondary mt-3",role:"note",children:"Sidebar module ordering coming soon."})]})]})]})})]})]})}function wC(){const[t,e]=b.useState(""),[n,i]=b.useState(""),[a,o]=b.useState(null),[c,u]=b.useState(null),[f,m]=b.useState(!1);b.useEffect(()=>{V0()&&u("Session expiredplease sign in again.")},[]);async function g(v){v.preventDefault(),o(null),m(!0);try{await K0({email:t,password:n});const x=W0()||"/dashboard";window.location.assign(x)}catch{o("Invalid credentials or server error.")}finally{m(!1)}}return h.jsxs("div",{className:"mx-auto mt-24 max-w-md rounded-2xl border p-6 shadow",children:[h.jsx("h1",{className:"mb-4 text-xl font-semibold",children:"Sign in"}),c&&h.jsx("div",{className:"mb-3 rounded-md bg-yellow-50 p-2 text-sm text-yellow-800",children:c}),h.jsxs("form",{onSubmit:g,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"mb-1 block text-sm font-medium",children:"Email"}),h.jsx("input",{type:"email",className:"w-full rounded-md border px-3 py-2",value:t,onChange:v=>e(v.currentTarget.value),required:!0,autoComplete:"username"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"mb-1 block text-sm font-medium",children:"Password"}),h.jsx("input",{type:"password",className:"w-full rounded-md border px-3 py-2",value:n,onChange:v=>i(v.currentTarget.value),required:!0,autoComplete:"current-password"})]}),a&&h.jsx("div",{className:"rounded-md bg-red-50 p-2 text-sm text-red-700",children:a}),h.jsx("button",{type:"submit",className:"w-full rounded-md bg-black px-4 py-2 text-white disabled:opacity-50",disabled:f,children:f?"Signing in...":"Sign in"})]})]})}const SC=w0(dd(h.jsxs(Pt,{path:"/",element:h.jsx(F_,{}),children:[h.jsx(Pt,{index:!0,element:h.jsx(rp,{to:"/dashboard",replace:!0})}),h.jsx(Pt,{path:"auth",children:h.jsx(Pt,{path:"login",element:h.jsx(wC,{})})}),h.jsx(Pt,{path:"dashboard",element:h.jsx(X1,{})}),h.jsx(Pt,{path:"risks",element:h.jsx(Q1,{})}),h.jsx(Pt,{path:"compliance",element:h.jsx(G1,{})}),h.jsx(Pt,{path:"audits",element:h.jsx(Z1,{})}),h.jsx(Pt,{path:"policies",element:h.jsx(ej,{})}),h.jsx(Pt,{path:"evidence",element:h.jsx(Ag,{})}),h.jsx(Pt,{path:"exports",element:h.jsx(lC,{})}),h.jsxs(Pt,{path:"admin",children:[h.jsx(Pt,{index:!0,element:h.jsx(tj,{})}),h.jsx(Pt,{path:"settings",element:h.jsx(hj,{})}),h.jsx(Pt,{path:"roles",element:h.jsx(wj,{})}),h.jsx(Pt,{path:"users",element:h.jsx(sC,{})}),h.jsx(Pt,{path:"user-roles",element:h.jsx(Sj,{})}),h.jsx(Pt,{path:"audit",element:h.jsx(Uj,{})}),h.jsx(Pt,{path:"evidence",element:h.jsx(Ag,{})})]}),h.jsxs(Pt,{path:"profile",children:[h.jsx(Pt,{path:"avatar",element:h.jsx(fC,{})}),h.jsx(Pt,{path:"theme",element:h.jsx(_C,{})})]}),h.jsx(Pt,{path:"*",element:h.jsx(rp,{to:"/dashboard",replace:!0})})]})));Zx.createRoot(document.getElementById("root")).render(h.jsx(Vl.StrictMode,{children:h.jsx(M0,{router:SC,future:{v7_startTransition:!0}})}));
