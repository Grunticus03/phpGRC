function kg(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in t)){const o=Object.getOwnPropertyDescriptor(i,a);o&&Object.defineProperty(t,a,o.get?o:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function md(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Mu={exports:{}},Sa={},Ru={exports:{}},He={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ym;function kx(){if(ym)return He;ym=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function x(S){return S===null||typeof S!="object"?null:(S=v&&S[v]||S["@@iterator"],typeof S=="function"?S:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,C={};function E(S,F,ee){this.props=S,this.context=F,this.refs=C,this.updater=ee||_}E.prototype.isReactComponent={},E.prototype.setState=function(S,F){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,F,"setState")},E.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function T(){}T.prototype=E.prototype;function P(S,F,ee){this.props=S,this.context=F,this.refs=C,this.updater=ee||_}var B=P.prototype=new T;B.constructor=P,k(B,E.prototype),B.isPureReactComponent=!0;var z=Array.isArray,H=Object.prototype.hasOwnProperty,q={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function A(S,F,ee){var ae,ce={},de=null,De=null;if(F!=null)for(ae in F.ref!==void 0&&(De=F.ref),F.key!==void 0&&(de=""+F.key),F)H.call(F,ae)&&!N.hasOwnProperty(ae)&&(ce[ae]=F[ae]);var ke=arguments.length-2;if(ke===1)ce.children=ee;else if(1<ke){for(var Ve=Array(ke),Je=0;Je<ke;Je++)Ve[Je]=arguments[Je+2];ce.children=Ve}if(S&&S.defaultProps)for(ae in ke=S.defaultProps,ke)ce[ae]===void 0&&(ce[ae]=ke[ae]);return{$$typeof:t,type:S,key:de,ref:De,props:ce,_owner:q.current}}function V(S,F){return{$$typeof:t,type:S.type,key:F,ref:S.ref,props:S.props,_owner:S._owner}}function L(S){return typeof S=="object"&&S!==null&&S.$$typeof===t}function D(S){var F={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(ee){return F[ee]})}var K=/\/+/g;function X(S,F){return typeof S=="object"&&S!==null&&S.key!=null?D(""+S.key):F.toString(36)}function ne(S,F,ee,ae,ce){var de=typeof S;(de==="undefined"||de==="boolean")&&(S=null);var De=!1;if(S===null)De=!0;else switch(de){case"string":case"number":De=!0;break;case"object":switch(S.$$typeof){case t:case e:De=!0}}if(De)return De=S,ce=ce(De),S=ae===""?"."+X(De,0):ae,z(ce)?(ee="",S!=null&&(ee=S.replace(K,"$&/")+"/"),ne(ce,F,ee,"",function(Je){return Je})):ce!=null&&(L(ce)&&(ce=V(ce,ee+(!ce.key||De&&De.key===ce.key?"":(""+ce.key).replace(K,"$&/")+"/")+S)),F.push(ce)),1;if(De=0,ae=ae===""?".":ae+":",z(S))for(var ke=0;ke<S.length;ke++){de=S[ke];var Ve=ae+X(de,ke);De+=ne(de,F,ee,Ve,ce)}else if(Ve=x(S),typeof Ve=="function")for(S=Ve.call(S),ke=0;!(de=S.next()).done;)de=de.value,Ve=ae+X(de,ke++),De+=ne(de,F,ee,Ve,ce);else if(de==="object")throw F=String(S),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.");return De}function oe(S,F,ee){if(S==null)return S;var ae=[],ce=0;return ne(S,ae,"","",function(de){return F.call(ee,de,ce++)}),ae}function fe(S){if(S._status===-1){var F=S._result;F=F(),F.then(function(ee){(S._status===0||S._status===-1)&&(S._status=1,S._result=ee)},function(ee){(S._status===0||S._status===-1)&&(S._status=2,S._result=ee)}),S._status===-1&&(S._status=0,S._result=F)}if(S._status===1)return S._result.default;throw S._result}var pe={current:null},Z={transition:null},se={ReactCurrentDispatcher:pe,ReactCurrentBatchConfig:Z,ReactCurrentOwner:q};function M(){throw Error("act(...) is not supported in production builds of React.")}return He.Children={map:oe,forEach:function(S,F,ee){oe(S,function(){F.apply(this,arguments)},ee)},count:function(S){var F=0;return oe(S,function(){F++}),F},toArray:function(S){return oe(S,function(F){return F})||[]},only:function(S){if(!L(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},He.Component=E,He.Fragment=n,He.Profiler=a,He.PureComponent=P,He.StrictMode=i,He.Suspense=f,He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=se,He.act=M,He.cloneElement=function(S,F,ee){if(S==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+S+".");var ae=k({},S.props),ce=S.key,de=S.ref,De=S._owner;if(F!=null){if(F.ref!==void 0&&(de=F.ref,De=q.current),F.key!==void 0&&(ce=""+F.key),S.type&&S.type.defaultProps)var ke=S.type.defaultProps;for(Ve in F)H.call(F,Ve)&&!N.hasOwnProperty(Ve)&&(ae[Ve]=F[Ve]===void 0&&ke!==void 0?ke[Ve]:F[Ve])}var Ve=arguments.length-2;if(Ve===1)ae.children=ee;else if(1<Ve){ke=Array(Ve);for(var Je=0;Je<Ve;Je++)ke[Je]=arguments[Je+2];ae.children=ke}return{$$typeof:t,type:S.type,key:ce,ref:de,props:ae,_owner:De}},He.createContext=function(S){return S={$$typeof:c,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},S.Provider={$$typeof:o,_context:S},S.Consumer=S},He.createElement=A,He.createFactory=function(S){var F=A.bind(null,S);return F.type=S,F},He.createRef=function(){return{current:null}},He.forwardRef=function(S){return{$$typeof:u,render:S}},He.isValidElement=L,He.lazy=function(S){return{$$typeof:g,_payload:{_status:-1,_result:S},_init:fe}},He.memo=function(S,F){return{$$typeof:m,type:S,compare:F===void 0?null:F}},He.startTransition=function(S){var F=Z.transition;Z.transition={};try{S()}finally{Z.transition=F}},He.unstable_act=M,He.useCallback=function(S,F){return pe.current.useCallback(S,F)},He.useContext=function(S){return pe.current.useContext(S)},He.useDebugValue=function(){},He.useDeferredValue=function(S){return pe.current.useDeferredValue(S)},He.useEffect=function(S,F){return pe.current.useEffect(S,F)},He.useId=function(){return pe.current.useId()},He.useImperativeHandle=function(S,F,ee){return pe.current.useImperativeHandle(S,F,ee)},He.useInsertionEffect=function(S,F){return pe.current.useInsertionEffect(S,F)},He.useLayoutEffect=function(S,F){return pe.current.useLayoutEffect(S,F)},He.useMemo=function(S,F){return pe.current.useMemo(S,F)},He.useReducer=function(S,F,ee){return pe.current.useReducer(S,F,ee)},He.useRef=function(S){return pe.current.useRef(S)},He.useState=function(S){return pe.current.useState(S)},He.useSyncExternalStore=function(S,F,ee){return pe.current.useSyncExternalStore(S,F,ee)},He.useTransition=function(){return pe.current.useTransition()},He.version="18.3.1",He}var vm;function pd(){return vm||(vm=1,Ru.exports=kx()),Ru.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xm;function Cx(){if(xm)return Sa;xm=1;var t=pd(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(u,f,m){var g,v={},x=null,_=null;m!==void 0&&(x=""+m),f.key!==void 0&&(x=""+f.key),f.ref!==void 0&&(_=f.ref);for(g in f)i.call(f,g)&&!o.hasOwnProperty(g)&&(v[g]=f[g]);if(u&&u.defaultProps)for(g in f=u.defaultProps,f)v[g]===void 0&&(v[g]=f[g]);return{$$typeof:e,type:u,key:x,ref:_,props:v,_owner:a.current}}return Sa.Fragment=n,Sa.jsx=c,Sa.jsxs=c,Sa}var bm;function Ex(){return bm||(bm=1,Mu.exports=Cx()),Mu.exports}var h=Ex(),w=pd();const zl=md(w),jx=kg({__proto__:null,default:zl},[w]);var Zo={},Tu={exports:{}},Sn={},Pu={exports:{}},Du={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _m;function Nx(){return _m||(_m=1,(function(t){function e(Z,se){var M=Z.length;Z.push(se);e:for(;0<M;){var S=M-1>>>1,F=Z[S];if(0<a(F,se))Z[S]=se,Z[M]=F,M=S;else break e}}function n(Z){return Z.length===0?null:Z[0]}function i(Z){if(Z.length===0)return null;var se=Z[0],M=Z.pop();if(M!==se){Z[0]=M;e:for(var S=0,F=Z.length,ee=F>>>1;S<ee;){var ae=2*(S+1)-1,ce=Z[ae],de=ae+1,De=Z[de];if(0>a(ce,M))de<F&&0>a(De,ce)?(Z[S]=De,Z[de]=M,S=de):(Z[S]=ce,Z[ae]=M,S=ae);else if(de<F&&0>a(De,M))Z[S]=De,Z[de]=M,S=de;else break e}}return se}function a(Z,se){var M=Z.sortIndex-se.sortIndex;return M!==0?M:Z.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,u=c.now();t.unstable_now=function(){return c.now()-u}}var f=[],m=[],g=1,v=null,x=3,_=!1,k=!1,C=!1,E=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(Z){for(var se=n(m);se!==null;){if(se.callback===null)i(m);else if(se.startTime<=Z)i(m),se.sortIndex=se.expirationTime,e(f,se);else break;se=n(m)}}function z(Z){if(C=!1,B(Z),!k)if(n(f)!==null)k=!0,fe(H);else{var se=n(m);se!==null&&pe(z,se.startTime-Z)}}function H(Z,se){k=!1,C&&(C=!1,T(A),A=-1),_=!0;var M=x;try{for(B(se),v=n(f);v!==null&&(!(v.expirationTime>se)||Z&&!D());){var S=v.callback;if(typeof S=="function"){v.callback=null,x=v.priorityLevel;var F=S(v.expirationTime<=se);se=t.unstable_now(),typeof F=="function"?v.callback=F:v===n(f)&&i(f),B(se)}else i(f);v=n(f)}if(v!==null)var ee=!0;else{var ae=n(m);ae!==null&&pe(z,ae.startTime-se),ee=!1}return ee}finally{v=null,x=M,_=!1}}var q=!1,N=null,A=-1,V=5,L=-1;function D(){return!(t.unstable_now()-L<V)}function K(){if(N!==null){var Z=t.unstable_now();L=Z;var se=!0;try{se=N(!0,Z)}finally{se?X():(q=!1,N=null)}}else q=!1}var X;if(typeof P=="function")X=function(){P(K)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,oe=ne.port2;ne.port1.onmessage=K,X=function(){oe.postMessage(null)}}else X=function(){E(K,0)};function fe(Z){N=Z,q||(q=!0,X())}function pe(Z,se){A=E(function(){Z(t.unstable_now())},se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_continueExecution=function(){k||_||(k=!0,fe(H))},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(Z){switch(x){case 1:case 2:case 3:var se=3;break;default:se=x}var M=x;x=se;try{return Z()}finally{x=M}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Z,se){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var M=x;x=Z;try{return se()}finally{x=M}},t.unstable_scheduleCallback=function(Z,se,M){var S=t.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?S+M:S):M=S,Z){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=M+F,Z={id:g++,callback:se,priorityLevel:Z,startTime:M,expirationTime:F,sortIndex:-1},M>S?(Z.sortIndex=M,e(m,Z),n(f)===null&&Z===n(m)&&(C?(T(A),A=-1):C=!0,pe(z,M-S))):(Z.sortIndex=F,e(f,Z),k||_||(k=!0,fe(H))),Z},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(Z){var se=x;return function(){var M=x;x=se;try{return Z.apply(this,arguments)}finally{x=M}}}})(Du)),Du}var wm;function Mx(){return wm||(wm=1,Pu.exports=Nx()),Pu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sm;function Rx(){if(Sm)return Sn;Sm=1;var t=pd(),e=Mx();function n(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,a={};function o(r,s){c(r,s),c(r+"Capture",s)}function c(r,s){for(a[r]=s,r=0;r<s.length;r++)i.add(s[r])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},v={};function x(r){return f.call(v,r)?!0:f.call(g,r)?!1:m.test(r)?v[r]=!0:(g[r]=!0,!1)}function _(r,s,l,d){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function k(r,s,l,d){if(s===null||typeof s>"u"||_(r,s,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function C(r,s,l,d,p,y,b){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=d,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=r,this.type=s,this.sanitizeURL=y,this.removeEmptyString=b}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){E[r]=new C(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];E[s]=new C(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){E[r]=new C(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){E[r]=new C(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){E[r]=new C(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){E[r]=new C(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){E[r]=new C(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){E[r]=new C(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){E[r]=new C(r,5,!1,r.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function P(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(T,P);E[s]=new C(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(T,P);E[s]=new C(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(T,P);E[s]=new C(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){E[r]=new C(r,1,!1,r.toLowerCase(),null,!1,!1)}),E.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){E[r]=new C(r,1,!1,r.toLowerCase(),null,!0,!0)});function B(r,s,l,d){var p=E.hasOwnProperty(s)?E[s]:null;(p!==null?p.type!==0:d||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(k(s,l,p,d)&&(l=null),d||p===null?x(s)&&(l===null?r.removeAttribute(s):r.setAttribute(s,""+l)):p.mustUseProperty?r[p.propertyName]=l===null?p.type===3?!1:"":l:(s=p.attributeName,d=p.attributeNamespace,l===null?r.removeAttribute(s):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,d?r.setAttributeNS(d,s,l):r.setAttribute(s,l))))}var z=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,H=Symbol.for("react.element"),q=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),D=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),oe=Symbol.for("react.memo"),fe=Symbol.for("react.lazy"),pe=Symbol.for("react.offscreen"),Z=Symbol.iterator;function se(r){return r===null||typeof r!="object"?null:(r=Z&&r[Z]||r["@@iterator"],typeof r=="function"?r:null)}var M=Object.assign,S;function F(r){if(S===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);S=s&&s[1]||""}return`
`+S+r}var ee=!1;function ae(r,s){if(!r||ee)return"";ee=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(Y){var d=Y}Reflect.construct(r,[],s)}else{try{s.call()}catch(Y){d=Y}r.call(s.prototype)}else{try{throw Error()}catch(Y){d=Y}r()}}catch(Y){if(Y&&d&&typeof Y.stack=="string"){for(var p=Y.stack.split(`
`),y=d.stack.split(`
`),b=p.length-1,j=y.length-1;1<=b&&0<=j&&p[b]!==y[j];)j--;for(;1<=b&&0<=j;b--,j--)if(p[b]!==y[j]){if(b!==1||j!==1)do if(b--,j--,0>j||p[b]!==y[j]){var O=`
`+p[b].replace(" at new "," at ");return r.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",r.displayName)),O}while(1<=b&&0<=j);break}}}finally{ee=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?F(r):""}function ce(r){switch(r.tag){case 5:return F(r.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return r=ae(r.type,!1),r;case 11:return r=ae(r.type.render,!1),r;case 1:return r=ae(r.type,!0),r;default:return""}}function de(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case N:return"Fragment";case q:return"Portal";case V:return"Profiler";case A:return"StrictMode";case X:return"Suspense";case ne:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case D:return(r.displayName||"Context")+".Consumer";case L:return(r._context.displayName||"Context")+".Provider";case K:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case oe:return s=r.displayName||null,s!==null?s:de(r.type)||"Memo";case fe:s=r._payload,r=r._init;try{return de(r(s))}catch{}}return null}function De(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return de(s);case 8:return s===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function ke(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ve(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Je(r){var s=Ve(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),d=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,y=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return p.call(this)},set:function(b){d=""+b,y.call(this,b)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(b){d=""+b},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function It(r){r._valueTracker||(r._valueTracker=Je(r))}function lt(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),d="";return r&&(d=Ve(r)?r.checked?"true":"false":r.value),r=d,r!==l?(s.setValue(r),!0):!1}function tt(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Lt(r,s){var l=s.checked;return M({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function Fn(r,s){var l=s.defaultValue==null?"":s.defaultValue,d=s.checked!=null?s.checked:s.defaultChecked;l=ke(s.value!=null?s.value:l),r._wrapperState={initialChecked:d,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function an(r,s){s=s.checked,s!=null&&B(r,"checked",s,!1)}function yn(r,s){an(r,s);var l=ke(s.value),d=s.type;if(l!=null)d==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(d==="submit"||d==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Ct(r,s.type,l):s.hasOwnProperty("defaultValue")&&Ct(r,s.type,ke(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function nn(r,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var d=s.type;if(!(d!=="submit"&&d!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,l||s===r.value||(r.value=s),r.defaultValue=s}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function Ct(r,s,l){(s!=="number"||tt(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var Xt=Array.isArray;function ct(r,s,l,d){if(r=r.options,s){s={};for(var p=0;p<l.length;p++)s["$"+l[p]]=!0;for(l=0;l<r.length;l++)p=s.hasOwnProperty("$"+r[l].value),r[l].selected!==p&&(r[l].selected=p),p&&d&&(r[l].defaultSelected=!0)}else{for(l=""+ke(l),s=null,p=0;p<r.length;p++){if(r[p].value===l){r[p].selected=!0,d&&(r[p].defaultSelected=!0);return}s!==null||r[p].disabled||(s=r[p])}s!==null&&(s.selected=!0)}}function me(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(n(91));return M({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Me(r,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(n(92));if(Xt(l)){if(1<l.length)throw Error(n(93));l=l[0]}s=l}s==null&&(s=""),l=s}r._wrapperState={initialValue:ke(l)}}function Ue(r,s){var l=ke(s.value),d=ke(s.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),s.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),d!=null&&(r.defaultValue=""+d)}function bt(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function Et(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function on(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?Et(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var rt,ut=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,d,p){MSApp.execUnsafeLocalFunction(function(){return r(s,l,d,p)})}:r})(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(rt=rt||document.createElement("div"),rt.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=rt.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function Qt(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var jt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Yn=["Webkit","ms","Moz","O"];Object.keys(jt).forEach(function(r){Yn.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),jt[s]=jt[r]})});function G(r,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||jt.hasOwnProperty(r)&&jt[r]?(""+s).trim():s+"px"}function Ne(r,s){r=r.style;for(var l in s)if(s.hasOwnProperty(l)){var d=l.indexOf("--")===0,p=G(l,s[l],d);l==="float"&&(l="cssFloat"),d?r.setProperty(l,p):r[l]=p}}var nt=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _t(r,s){if(s){if(nt[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(n(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(n(61))}if(s.style!=null&&typeof s.style!="object")throw Error(n(62))}}function Pt(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zt=null;function Ut(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var pt=null,ln=null,cn=null;function Wr(r){if(r=la(r)){if(typeof pt!="function")throw Error(n(280));var s=r.stateNode;s&&(s=mo(s),pt(r.stateNode,r.type,s))}}function Vr(r){ln?cn?cn.push(r):cn=[r]:ln=r}function Ci(){if(ln){var r=ln,s=cn;if(cn=ln=null,Wr(r),s)for(r=0;r<s.length;r++)Wr(s[r])}}function Kr(r,s){return r(s)}function _r(){}var Mn=!1;function Ei(r,s,l){if(Mn)return r(s,l);Mn=!0;try{return Kr(r,s,l)}finally{Mn=!1,(ln!==null||cn!==null)&&(_r(),Ci())}}function ar(r,s){var l=r.stateNode;if(l===null)return null;var d=mo(l);if(d===null)return null;l=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(n(231,s,typeof l));return l}var R=!1;if(u)try{var U={};Object.defineProperty(U,"passive",{get:function(){R=!0}}),window.addEventListener("test",U,U),window.removeEventListener("test",U,U)}catch{R=!1}function Q(r,s,l,d,p,y,b,j,O){var Y=Array.prototype.slice.call(arguments,3);try{s.apply(l,Y)}catch(ie){this.onError(ie)}}var te=!1,he=null,Ee=!1,Re=null,be={onError:function(r){te=!0,he=r}};function we(r,s,l,d,p,y,b,j,O){te=!1,he=null,Q.apply(be,arguments)}function xe(r,s,l,d,p,y,b,j,O){if(we.apply(this,arguments),te){if(te){var Y=he;te=!1,he=null}else throw Error(n(198));Ee||(Ee=!0,Re=Y)}}function ge(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function Le(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function ze(r){if(ge(r)!==r)throw Error(n(188))}function Nt(r){var s=r.alternate;if(!s){if(s=ge(r),s===null)throw Error(n(188));return s!==r?null:r}for(var l=r,d=s;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(d=p.return,d!==null){l=d;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return ze(p),r;if(y===d)return ze(p),s;y=y.sibling}throw Error(n(188))}if(l.return!==d.return)l=p,d=y;else{for(var b=!1,j=p.child;j;){if(j===l){b=!0,l=p,d=y;break}if(j===d){b=!0,d=p,l=y;break}j=j.sibling}if(!b){for(j=y.child;j;){if(j===l){b=!0,l=y,d=p;break}if(j===d){b=!0,d=y,l=p;break}j=j.sibling}if(!b)throw Error(n(189))}}if(l.alternate!==d)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?r:s}function Ze(r){return r=Nt(r),r!==null?Ke(r):null}function Ke(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=Ke(r);if(s!==null)return s;r=r.sibling}return null}var dt=e.unstable_scheduleCallback,Xn=e.unstable_cancelCallback,or=e.unstable_shouldYield,Rn=e.unstable_requestPaint,Ye=e.unstable_now,ji=e.unstable_getCurrentPriorityLevel,Qn=e.unstable_ImmediatePriority,In=e.unstable_UserBlockingPriority,Gn=e.unstable_NormalPriority,qn=e.unstable_LowPriority,We=e.unstable_IdlePriority,it=null,Wt=null;function Yr(r){if(Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(it,r,void 0,(r.current.flags&128)===128)}catch{}}var Xe=Math.clz32?Math.clz32:Be,J=Math.log,ve=Math.LN2;function Be(r){return r>>>=0,r===0?32:31-(J(r)/ve|0)|0}var Fe=64,Ae=4194304;function $e(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function wt(r,s){var l=r.pendingLanes;if(l===0)return 0;var d=0,p=r.suspendedLanes,y=r.pingedLanes,b=l&268435455;if(b!==0){var j=b&~p;j!==0?d=$e(j):(y&=b,y!==0&&(d=$e(y)))}else b=l&~p,b!==0?d=$e(b):y!==0&&(d=$e(y));if(d===0)return 0;if(s!==0&&s!==d&&(s&p)===0&&(p=d&-d,y=s&-s,p>=y||p===16&&(y&4194240)!==0))return s;if((d&4)!==0&&(d|=l&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=d;0<s;)l=31-Xe(s),p=1<<l,d|=r[l],s&=~p;return d}function mn(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xr(r,s){for(var l=r.suspendedLanes,d=r.pingedLanes,p=r.expirationTimes,y=r.pendingLanes;0<y;){var b=31-Xe(y),j=1<<b,O=p[b];O===-1?((j&l)===0||(j&d)!==0)&&(p[b]=mn(j,s)):O<=s&&(r.expiredLanes|=j),y&=~j}}function wr(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function ns(){var r=Fe;return Fe<<=1,(Fe&4194240)===0&&(Fe=64),r}function ql(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function Vs(r,s,l){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-Xe(s),r[s]=l}function Vy(r,s){var l=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var d=r.eventTimes;for(r=r.expirationTimes;0<l;){var p=31-Xe(l),y=1<<p;s[p]=0,d[p]=-1,r[p]=-1,l&=~y}}function Jl(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var d=31-Xe(l),p=1<<d;p&s|r[d]&s&&(r[d]|=s),l&=~p}}var st=0;function Xd(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Qd,Zl,Gd,qd,Jd,ec=!1,Ja=[],Qr=null,Gr=null,qr=null,Ks=new Map,Ys=new Map,Jr=[],Ky="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zd(r,s){switch(r){case"focusin":case"focusout":Qr=null;break;case"dragenter":case"dragleave":Gr=null;break;case"mouseover":case"mouseout":qr=null;break;case"pointerover":case"pointerout":Ks.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ys.delete(s.pointerId)}}function Xs(r,s,l,d,p,y){return r===null||r.nativeEvent!==y?(r={blockedOn:s,domEventName:l,eventSystemFlags:d,nativeEvent:y,targetContainers:[p]},s!==null&&(s=la(s),s!==null&&Zl(s)),r):(r.eventSystemFlags|=d,s=r.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),r)}function Yy(r,s,l,d,p){switch(s){case"focusin":return Qr=Xs(Qr,r,s,l,d,p),!0;case"dragenter":return Gr=Xs(Gr,r,s,l,d,p),!0;case"mouseover":return qr=Xs(qr,r,s,l,d,p),!0;case"pointerover":var y=p.pointerId;return Ks.set(y,Xs(Ks.get(y)||null,r,s,l,d,p)),!0;case"gotpointercapture":return y=p.pointerId,Ys.set(y,Xs(Ys.get(y)||null,r,s,l,d,p)),!0}return!1}function ef(r){var s=Ni(r.target);if(s!==null){var l=ge(s);if(l!==null){if(s=l.tag,s===13){if(s=Le(l),s!==null){r.blockedOn=s,Jd(r.priority,function(){Gd(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Za(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=nc(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var d=new l.constructor(l.type,l);zt=d,l.target.dispatchEvent(d),zt=null}else return s=la(l),s!==null&&Zl(s),r.blockedOn=l,!1;s.shift()}return!0}function tf(r,s,l){Za(r)&&l.delete(s)}function Xy(){ec=!1,Qr!==null&&Za(Qr)&&(Qr=null),Gr!==null&&Za(Gr)&&(Gr=null),qr!==null&&Za(qr)&&(qr=null),Ks.forEach(tf),Ys.forEach(tf)}function Qs(r,s){r.blockedOn===s&&(r.blockedOn=null,ec||(ec=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Xy)))}function Gs(r){function s(p){return Qs(p,r)}if(0<Ja.length){Qs(Ja[0],r);for(var l=1;l<Ja.length;l++){var d=Ja[l];d.blockedOn===r&&(d.blockedOn=null)}}for(Qr!==null&&Qs(Qr,r),Gr!==null&&Qs(Gr,r),qr!==null&&Qs(qr,r),Ks.forEach(s),Ys.forEach(s),l=0;l<Jr.length;l++)d=Jr[l],d.blockedOn===r&&(d.blockedOn=null);for(;0<Jr.length&&(l=Jr[0],l.blockedOn===null);)ef(l),l.blockedOn===null&&Jr.shift()}var rs=z.ReactCurrentBatchConfig,eo=!0;function Qy(r,s,l,d){var p=st,y=rs.transition;rs.transition=null;try{st=1,tc(r,s,l,d)}finally{st=p,rs.transition=y}}function Gy(r,s,l,d){var p=st,y=rs.transition;rs.transition=null;try{st=4,tc(r,s,l,d)}finally{st=p,rs.transition=y}}function tc(r,s,l,d){if(eo){var p=nc(r,s,l,d);if(p===null)xc(r,s,d,to,l),Zd(r,d);else if(Yy(p,r,s,l,d))d.stopPropagation();else if(Zd(r,d),s&4&&-1<Ky.indexOf(r)){for(;p!==null;){var y=la(p);if(y!==null&&Qd(y),y=nc(r,s,l,d),y===null&&xc(r,s,d,to,l),y===p)break;p=y}p!==null&&d.stopPropagation()}else xc(r,s,d,null,l)}}var to=null;function nc(r,s,l,d){if(to=null,r=Ut(d),r=Ni(r),r!==null)if(s=ge(r),s===null)r=null;else if(l=s.tag,l===13){if(r=Le(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return to=r,null}function nf(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ji()){case Qn:return 1;case In:return 4;case Gn:case qn:return 16;case We:return 536870912;default:return 16}default:return 16}}var Zr=null,rc=null,no=null;function rf(){if(no)return no;var r,s=rc,l=s.length,d,p="value"in Zr?Zr.value:Zr.textContent,y=p.length;for(r=0;r<l&&s[r]===p[r];r++);var b=l-r;for(d=1;d<=b&&s[l-d]===p[y-d];d++);return no=p.slice(r,1<d?1-d:void 0)}function ro(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function io(){return!0}function sf(){return!1}function Tn(r){function s(l,d,p,y,b){this._reactName=l,this._targetInst=p,this.type=d,this.nativeEvent=y,this.target=b,this.currentTarget=null;for(var j in r)r.hasOwnProperty(j)&&(l=r[j],this[j]=l?l(y):y[j]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?io:sf,this.isPropagationStopped=sf,this}return M(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=io)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=io)},persist:function(){},isPersistent:io}),s}var is={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ic=Tn(is),qs=M({},is,{view:0,detail:0}),qy=Tn(qs),sc,ac,Js,so=M({},qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lc,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Js&&(Js&&r.type==="mousemove"?(sc=r.screenX-Js.screenX,ac=r.screenY-Js.screenY):ac=sc=0,Js=r),sc)},movementY:function(r){return"movementY"in r?r.movementY:ac}}),af=Tn(so),Jy=M({},so,{dataTransfer:0}),Zy=Tn(Jy),ev=M({},qs,{relatedTarget:0}),oc=Tn(ev),tv=M({},is,{animationName:0,elapsedTime:0,pseudoElement:0}),nv=Tn(tv),rv=M({},is,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),iv=Tn(rv),sv=M({},is,{data:0}),of=Tn(sv),av={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ov={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cv(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=lv[r])?!!s[r]:!1}function lc(){return cv}var uv=M({},qs,{key:function(r){if(r.key){var s=av[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=ro(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?ov[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lc,charCode:function(r){return r.type==="keypress"?ro(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ro(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),dv=Tn(uv),fv=M({},so,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lf=Tn(fv),hv=M({},qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lc}),mv=Tn(hv),pv=M({},is,{propertyName:0,elapsedTime:0,pseudoElement:0}),gv=Tn(pv),yv=M({},so,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),vv=Tn(yv),xv=[9,13,27,32],cc=u&&"CompositionEvent"in window,Zs=null;u&&"documentMode"in document&&(Zs=document.documentMode);var bv=u&&"TextEvent"in window&&!Zs,cf=u&&(!cc||Zs&&8<Zs&&11>=Zs),uf=" ",df=!1;function ff(r,s){switch(r){case"keyup":return xv.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hf(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ss=!1;function _v(r,s){switch(r){case"compositionend":return hf(s);case"keypress":return s.which!==32?null:(df=!0,uf);case"textInput":return r=s.data,r===uf&&df?null:r;default:return null}}function wv(r,s){if(ss)return r==="compositionend"||!cc&&ff(r,s)?(r=rf(),no=rc=Zr=null,ss=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return cf&&s.locale!=="ko"?null:s.data;default:return null}}var Sv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mf(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Sv[r.type]:s==="textarea"}function pf(r,s,l,d){Vr(d),s=uo(s,"onChange"),0<s.length&&(l=new ic("onChange","change",null,l,d),r.push({event:l,listeners:s}))}var ea=null,ta=null;function kv(r){Df(r,0)}function ao(r){var s=us(r);if(lt(s))return r}function Cv(r,s){if(r==="change")return s}var gf=!1;if(u){var uc;if(u){var dc="oninput"in document;if(!dc){var yf=document.createElement("div");yf.setAttribute("oninput","return;"),dc=typeof yf.oninput=="function"}uc=dc}else uc=!1;gf=uc&&(!document.documentMode||9<document.documentMode)}function vf(){ea&&(ea.detachEvent("onpropertychange",xf),ta=ea=null)}function xf(r){if(r.propertyName==="value"&&ao(ta)){var s=[];pf(s,ta,r,Ut(r)),Ei(kv,s)}}function Ev(r,s,l){r==="focusin"?(vf(),ea=s,ta=l,ea.attachEvent("onpropertychange",xf)):r==="focusout"&&vf()}function jv(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return ao(ta)}function Nv(r,s){if(r==="click")return ao(s)}function Mv(r,s){if(r==="input"||r==="change")return ao(s)}function Rv(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Jn=typeof Object.is=="function"?Object.is:Rv;function na(r,s){if(Jn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),d=Object.keys(s);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var p=l[d];if(!f.call(s,p)||!Jn(r[p],s[p]))return!1}return!0}function bf(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function _f(r,s){var l=bf(r);r=0;for(var d;l;){if(l.nodeType===3){if(d=r+l.textContent.length,r<=s&&d>=s)return{node:l,offset:s-r};r=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=bf(l)}}function wf(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?wf(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Sf(){for(var r=window,s=tt();s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=tt(r.document)}return s}function fc(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function Tv(r){var s=Sf(),l=r.focusedElem,d=r.selectionRange;if(s!==l&&l&&l.ownerDocument&&wf(l.ownerDocument.documentElement,l)){if(d!==null&&fc(l)){if(s=d.start,r=d.end,r===void 0&&(r=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(r,l.value.length);else if(r=(s=l.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var p=l.textContent.length,y=Math.min(d.start,p);d=d.end===void 0?y:Math.min(d.end,p),!r.extend&&y>d&&(p=d,d=y,y=p),p=_f(l,y);var b=_f(l,d);p&&b&&(r.rangeCount!==1||r.anchorNode!==p.node||r.anchorOffset!==p.offset||r.focusNode!==b.node||r.focusOffset!==b.offset)&&(s=s.createRange(),s.setStart(p.node,p.offset),r.removeAllRanges(),y>d?(r.addRange(s),r.extend(b.node,b.offset)):(s.setEnd(b.node,b.offset),r.addRange(s)))}}for(s=[],r=l;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)r=s[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var Pv=u&&"documentMode"in document&&11>=document.documentMode,as=null,hc=null,ra=null,mc=!1;function kf(r,s,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;mc||as==null||as!==tt(d)||(d=as,"selectionStart"in d&&fc(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),ra&&na(ra,d)||(ra=d,d=uo(hc,"onSelect"),0<d.length&&(s=new ic("onSelect","select",null,s,l),r.push({event:s,listeners:d}),s.target=as)))}function oo(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var os={animationend:oo("Animation","AnimationEnd"),animationiteration:oo("Animation","AnimationIteration"),animationstart:oo("Animation","AnimationStart"),transitionend:oo("Transition","TransitionEnd")},pc={},Cf={};u&&(Cf=document.createElement("div").style,"AnimationEvent"in window||(delete os.animationend.animation,delete os.animationiteration.animation,delete os.animationstart.animation),"TransitionEvent"in window||delete os.transitionend.transition);function lo(r){if(pc[r])return pc[r];if(!os[r])return r;var s=os[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in Cf)return pc[r]=s[l];return r}var Ef=lo("animationend"),jf=lo("animationiteration"),Nf=lo("animationstart"),Mf=lo("transitionend"),Rf=new Map,Tf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ei(r,s){Rf.set(r,s),o(s,[r])}for(var gc=0;gc<Tf.length;gc++){var yc=Tf[gc],Dv=yc.toLowerCase(),Lv=yc[0].toUpperCase()+yc.slice(1);ei(Dv,"on"+Lv)}ei(Ef,"onAnimationEnd"),ei(jf,"onAnimationIteration"),ei(Nf,"onAnimationStart"),ei("dblclick","onDoubleClick"),ei("focusin","onFocus"),ei("focusout","onBlur"),ei(Mf,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ia="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Av=new Set("cancel close invalid load scroll toggle".split(" ").concat(ia));function Pf(r,s,l){var d=r.type||"unknown-event";r.currentTarget=l,xe(d,s,void 0,r),r.currentTarget=null}function Df(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var d=r[l],p=d.event;d=d.listeners;e:{var y=void 0;if(s)for(var b=d.length-1;0<=b;b--){var j=d[b],O=j.instance,Y=j.currentTarget;if(j=j.listener,O!==y&&p.isPropagationStopped())break e;Pf(p,j,Y),y=O}else for(b=0;b<d.length;b++){if(j=d[b],O=j.instance,Y=j.currentTarget,j=j.listener,O!==y&&p.isPropagationStopped())break e;Pf(p,j,Y),y=O}}}if(Ee)throw r=Re,Ee=!1,Re=null,r}function gt(r,s){var l=s[Cc];l===void 0&&(l=s[Cc]=new Set);var d=r+"__bubble";l.has(d)||(Lf(s,r,2,!1),l.add(d))}function vc(r,s,l){var d=0;s&&(d|=4),Lf(l,r,d,s)}var co="_reactListening"+Math.random().toString(36).slice(2);function sa(r){if(!r[co]){r[co]=!0,i.forEach(function(l){l!=="selectionchange"&&(Av.has(l)||vc(l,!1,r),vc(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[co]||(s[co]=!0,vc("selectionchange",!1,s))}}function Lf(r,s,l,d){switch(nf(s)){case 1:var p=Qy;break;case 4:p=Gy;break;default:p=tc}l=p.bind(null,s,l,r),p=void 0,!R||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),d?p!==void 0?r.addEventListener(s,l,{capture:!0,passive:p}):r.addEventListener(s,l,!0):p!==void 0?r.addEventListener(s,l,{passive:p}):r.addEventListener(s,l,!1)}function xc(r,s,l,d,p){var y=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var b=d.tag;if(b===3||b===4){var j=d.stateNode.containerInfo;if(j===p||j.nodeType===8&&j.parentNode===p)break;if(b===4)for(b=d.return;b!==null;){var O=b.tag;if((O===3||O===4)&&(O=b.stateNode.containerInfo,O===p||O.nodeType===8&&O.parentNode===p))return;b=b.return}for(;j!==null;){if(b=Ni(j),b===null)return;if(O=b.tag,O===5||O===6){d=y=b;continue e}j=j.parentNode}}d=d.return}Ei(function(){var Y=y,ie=Ut(l),le=[];e:{var re=Rf.get(r);if(re!==void 0){var ye=ic,Se=r;switch(r){case"keypress":if(ro(l)===0)break e;case"keydown":case"keyup":ye=dv;break;case"focusin":Se="focus",ye=oc;break;case"focusout":Se="blur",ye=oc;break;case"beforeblur":case"afterblur":ye=oc;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=af;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=Zy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=mv;break;case Ef:case jf:case Nf:ye=nv;break;case Mf:ye=gv;break;case"scroll":ye=qy;break;case"wheel":ye=vv;break;case"copy":case"cut":case"paste":ye=iv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=lf}var Ce=(s&4)!==0,At=!Ce&&r==="scroll",$=Ce?re!==null?re+"Capture":null:re;Ce=[];for(var I=Y,W;I!==null;){W=I;var ue=W.stateNode;if(W.tag===5&&ue!==null&&(W=ue,$!==null&&(ue=ar(I,$),ue!=null&&Ce.push(aa(I,ue,W)))),At)break;I=I.return}0<Ce.length&&(re=new ye(re,Se,null,l,ie),le.push({event:re,listeners:Ce}))}}if((s&7)===0){e:{if(re=r==="mouseover"||r==="pointerover",ye=r==="mouseout"||r==="pointerout",re&&l!==zt&&(Se=l.relatedTarget||l.fromElement)&&(Ni(Se)||Se[Sr]))break e;if((ye||re)&&(re=ie.window===ie?ie:(re=ie.ownerDocument)?re.defaultView||re.parentWindow:window,ye?(Se=l.relatedTarget||l.toElement,ye=Y,Se=Se?Ni(Se):null,Se!==null&&(At=ge(Se),Se!==At||Se.tag!==5&&Se.tag!==6)&&(Se=null)):(ye=null,Se=Y),ye!==Se)){if(Ce=af,ue="onMouseLeave",$="onMouseEnter",I="mouse",(r==="pointerout"||r==="pointerover")&&(Ce=lf,ue="onPointerLeave",$="onPointerEnter",I="pointer"),At=ye==null?re:us(ye),W=Se==null?re:us(Se),re=new Ce(ue,I+"leave",ye,l,ie),re.target=At,re.relatedTarget=W,ue=null,Ni(ie)===Y&&(Ce=new Ce($,I+"enter",Se,l,ie),Ce.target=W,Ce.relatedTarget=At,ue=Ce),At=ue,ye&&Se)t:{for(Ce=ye,$=Se,I=0,W=Ce;W;W=ls(W))I++;for(W=0,ue=$;ue;ue=ls(ue))W++;for(;0<I-W;)Ce=ls(Ce),I--;for(;0<W-I;)$=ls($),W--;for(;I--;){if(Ce===$||$!==null&&Ce===$.alternate)break t;Ce=ls(Ce),$=ls($)}Ce=null}else Ce=null;ye!==null&&Af(le,re,ye,Ce,!1),Se!==null&&At!==null&&Af(le,At,Se,Ce,!0)}}e:{if(re=Y?us(Y):window,ye=re.nodeName&&re.nodeName.toLowerCase(),ye==="select"||ye==="input"&&re.type==="file")var je=Cv;else if(mf(re))if(gf)je=Mv;else{je=jv;var Te=Ev}else(ye=re.nodeName)&&ye.toLowerCase()==="input"&&(re.type==="checkbox"||re.type==="radio")&&(je=Nv);if(je&&(je=je(r,Y))){pf(le,je,l,ie);break e}Te&&Te(r,re,Y),r==="focusout"&&(Te=re._wrapperState)&&Te.controlled&&re.type==="number"&&Ct(re,"number",re.value)}switch(Te=Y?us(Y):window,r){case"focusin":(mf(Te)||Te.contentEditable==="true")&&(as=Te,hc=Y,ra=null);break;case"focusout":ra=hc=as=null;break;case"mousedown":mc=!0;break;case"contextmenu":case"mouseup":case"dragend":mc=!1,kf(le,l,ie);break;case"selectionchange":if(Pv)break;case"keydown":case"keyup":kf(le,l,ie)}var Pe;if(cc)e:{switch(r){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else ss?ff(r,l)&&(Oe="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Oe="onCompositionStart");Oe&&(cf&&l.locale!=="ko"&&(ss||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&ss&&(Pe=rf()):(Zr=ie,rc="value"in Zr?Zr.value:Zr.textContent,ss=!0)),Te=uo(Y,Oe),0<Te.length&&(Oe=new of(Oe,r,null,l,ie),le.push({event:Oe,listeners:Te}),Pe?Oe.data=Pe:(Pe=hf(l),Pe!==null&&(Oe.data=Pe)))),(Pe=bv?_v(r,l):wv(r,l))&&(Y=uo(Y,"onBeforeInput"),0<Y.length&&(ie=new of("onBeforeInput","beforeinput",null,l,ie),le.push({event:ie,listeners:Y}),ie.data=Pe))}Df(le,s)})}function aa(r,s,l){return{instance:r,listener:s,currentTarget:l}}function uo(r,s){for(var l=s+"Capture",d=[];r!==null;){var p=r,y=p.stateNode;p.tag===5&&y!==null&&(p=y,y=ar(r,l),y!=null&&d.unshift(aa(r,y,p)),y=ar(r,s),y!=null&&d.push(aa(r,y,p))),r=r.return}return d}function ls(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Af(r,s,l,d,p){for(var y=s._reactName,b=[];l!==null&&l!==d;){var j=l,O=j.alternate,Y=j.stateNode;if(O!==null&&O===d)break;j.tag===5&&Y!==null&&(j=Y,p?(O=ar(l,y),O!=null&&b.unshift(aa(l,O,j))):p||(O=ar(l,y),O!=null&&b.push(aa(l,O,j)))),l=l.return}b.length!==0&&r.push({event:s,listeners:b})}var Ov=/\r\n?/g,Fv=/\u0000|\uFFFD/g;function Of(r){return(typeof r=="string"?r:""+r).replace(Ov,`
`).replace(Fv,"")}function fo(r,s,l){if(s=Of(s),Of(r)!==s&&l)throw Error(n(425))}function ho(){}var bc=null,_c=null;function wc(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Sc=typeof setTimeout=="function"?setTimeout:void 0,Iv=typeof clearTimeout=="function"?clearTimeout:void 0,Ff=typeof Promise=="function"?Promise:void 0,zv=typeof queueMicrotask=="function"?queueMicrotask:typeof Ff<"u"?function(r){return Ff.resolve(null).then(r).catch(Uv)}:Sc;function Uv(r){setTimeout(function(){throw r})}function kc(r,s){var l=s,d=0;do{var p=l.nextSibling;if(r.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(d===0){r.removeChild(p),Gs(s);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=p}while(l);Gs(s)}function ti(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function If(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}var cs=Math.random().toString(36).slice(2),lr="__reactFiber$"+cs,oa="__reactProps$"+cs,Sr="__reactContainer$"+cs,Cc="__reactEvents$"+cs,Bv="__reactListeners$"+cs,$v="__reactHandles$"+cs;function Ni(r){var s=r[lr];if(s)return s;for(var l=r.parentNode;l;){if(s=l[Sr]||l[lr]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=If(r);r!==null;){if(l=r[lr])return l;r=If(r)}return s}r=l,l=r.parentNode}return null}function la(r){return r=r[lr]||r[Sr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function us(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function mo(r){return r[oa]||null}var Ec=[],ds=-1;function ni(r){return{current:r}}function yt(r){0>ds||(r.current=Ec[ds],Ec[ds]=null,ds--)}function ht(r,s){ds++,Ec[ds]=r.current,r.current=s}var ri={},un=ni(ri),vn=ni(!1),Mi=ri;function fs(r,s){var l=r.type.contextTypes;if(!l)return ri;var d=r.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===s)return d.__reactInternalMemoizedMaskedChildContext;var p={},y;for(y in l)p[y]=s[y];return d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=p),p}function xn(r){return r=r.childContextTypes,r!=null}function po(){yt(vn),yt(un)}function zf(r,s,l){if(un.current!==ri)throw Error(n(168));ht(un,s),ht(vn,l)}function Uf(r,s,l){var d=r.stateNode;if(s=s.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var p in d)if(!(p in s))throw Error(n(108,De(r)||"Unknown",p));return M({},l,d)}function go(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||ri,Mi=un.current,ht(un,r),ht(vn,vn.current),!0}function Bf(r,s,l){var d=r.stateNode;if(!d)throw Error(n(169));l?(r=Uf(r,s,Mi),d.__reactInternalMemoizedMergedChildContext=r,yt(vn),yt(un),ht(un,r)):yt(vn),ht(vn,l)}var kr=null,yo=!1,jc=!1;function $f(r){kr===null?kr=[r]:kr.push(r)}function Hv(r){yo=!0,$f(r)}function ii(){if(!jc&&kr!==null){jc=!0;var r=0,s=st;try{var l=kr;for(st=1;r<l.length;r++){var d=l[r];do d=d(!0);while(d!==null)}kr=null,yo=!1}catch(p){throw kr!==null&&(kr=kr.slice(r+1)),dt(Qn,ii),p}finally{st=s,jc=!1}}return null}var hs=[],ms=0,vo=null,xo=0,zn=[],Un=0,Ri=null,Cr=1,Er="";function Ti(r,s){hs[ms++]=xo,hs[ms++]=vo,vo=r,xo=s}function Hf(r,s,l){zn[Un++]=Cr,zn[Un++]=Er,zn[Un++]=Ri,Ri=r;var d=Cr;r=Er;var p=32-Xe(d)-1;d&=~(1<<p),l+=1;var y=32-Xe(s)+p;if(30<y){var b=p-p%5;y=(d&(1<<b)-1).toString(32),d>>=b,p-=b,Cr=1<<32-Xe(s)+p|l<<p|d,Er=y+r}else Cr=1<<y|l<<p|d,Er=r}function Nc(r){r.return!==null&&(Ti(r,1),Hf(r,1,0))}function Mc(r){for(;r===vo;)vo=hs[--ms],hs[ms]=null,xo=hs[--ms],hs[ms]=null;for(;r===Ri;)Ri=zn[--Un],zn[Un]=null,Er=zn[--Un],zn[Un]=null,Cr=zn[--Un],zn[Un]=null}var Pn=null,Dn=null,St=!1,Zn=null;function Wf(r,s){var l=Wn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=r,s=r.deletions,s===null?(r.deletions=[l],r.flags|=16):s.push(l)}function Vf(r,s){switch(r.tag){case 5:var l=r.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,Pn=r,Dn=ti(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,Pn=r,Dn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=Ri!==null?{id:Cr,overflow:Er}:null,r.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=Wn(18,null,null,0),l.stateNode=s,l.return=r,r.child=l,Pn=r,Dn=null,!0):!1;default:return!1}}function Rc(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Tc(r){if(St){var s=Dn;if(s){var l=s;if(!Vf(r,s)){if(Rc(r))throw Error(n(418));s=ti(l.nextSibling);var d=Pn;s&&Vf(r,s)?Wf(d,l):(r.flags=r.flags&-4097|2,St=!1,Pn=r)}}else{if(Rc(r))throw Error(n(418));r.flags=r.flags&-4097|2,St=!1,Pn=r}}}function Kf(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Pn=r}function bo(r){if(r!==Pn)return!1;if(!St)return Kf(r),St=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!wc(r.type,r.memoizedProps)),s&&(s=Dn)){if(Rc(r))throw Yf(),Error(n(418));for(;s;)Wf(r,s),s=ti(s.nextSibling)}if(Kf(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(s===0){Dn=ti(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}r=r.nextSibling}Dn=null}}else Dn=Pn?ti(r.stateNode.nextSibling):null;return!0}function Yf(){for(var r=Dn;r;)r=ti(r.nextSibling)}function ps(){Dn=Pn=null,St=!1}function Pc(r){Zn===null?Zn=[r]:Zn.push(r)}var Wv=z.ReactCurrentBatchConfig;function ca(r,s,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(n(309));var d=l.stateNode}if(!d)throw Error(n(147,r));var p=d,y=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===y?s.ref:(s=function(b){var j=p.refs;b===null?delete j[y]:j[y]=b},s._stringRef=y,s)}if(typeof r!="string")throw Error(n(284));if(!l._owner)throw Error(n(290,r))}return r}function _o(r,s){throw r=Object.prototype.toString.call(s),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Xf(r){var s=r._init;return s(r._payload)}function Qf(r){function s($,I){if(r){var W=$.deletions;W===null?($.deletions=[I],$.flags|=16):W.push(I)}}function l($,I){if(!r)return null;for(;I!==null;)s($,I),I=I.sibling;return null}function d($,I){for($=new Map;I!==null;)I.key!==null?$.set(I.key,I):$.set(I.index,I),I=I.sibling;return $}function p($,I){return $=fi($,I),$.index=0,$.sibling=null,$}function y($,I,W){return $.index=W,r?(W=$.alternate,W!==null?(W=W.index,W<I?($.flags|=2,I):W):($.flags|=2,I)):($.flags|=1048576,I)}function b($){return r&&$.alternate===null&&($.flags|=2),$}function j($,I,W,ue){return I===null||I.tag!==6?(I=Su(W,$.mode,ue),I.return=$,I):(I=p(I,W),I.return=$,I)}function O($,I,W,ue){var je=W.type;return je===N?ie($,I,W.props.children,ue,W.key):I!==null&&(I.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===fe&&Xf(je)===I.type)?(ue=p(I,W.props),ue.ref=ca($,I,W),ue.return=$,ue):(ue=Vo(W.type,W.key,W.props,null,$.mode,ue),ue.ref=ca($,I,W),ue.return=$,ue)}function Y($,I,W,ue){return I===null||I.tag!==4||I.stateNode.containerInfo!==W.containerInfo||I.stateNode.implementation!==W.implementation?(I=ku(W,$.mode,ue),I.return=$,I):(I=p(I,W.children||[]),I.return=$,I)}function ie($,I,W,ue,je){return I===null||I.tag!==7?(I=zi(W,$.mode,ue,je),I.return=$,I):(I=p(I,W),I.return=$,I)}function le($,I,W){if(typeof I=="string"&&I!==""||typeof I=="number")return I=Su(""+I,$.mode,W),I.return=$,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case H:return W=Vo(I.type,I.key,I.props,null,$.mode,W),W.ref=ca($,null,I),W.return=$,W;case q:return I=ku(I,$.mode,W),I.return=$,I;case fe:var ue=I._init;return le($,ue(I._payload),W)}if(Xt(I)||se(I))return I=zi(I,$.mode,W,null),I.return=$,I;_o($,I)}return null}function re($,I,W,ue){var je=I!==null?I.key:null;if(typeof W=="string"&&W!==""||typeof W=="number")return je!==null?null:j($,I,""+W,ue);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case H:return W.key===je?O($,I,W,ue):null;case q:return W.key===je?Y($,I,W,ue):null;case fe:return je=W._init,re($,I,je(W._payload),ue)}if(Xt(W)||se(W))return je!==null?null:ie($,I,W,ue,null);_o($,W)}return null}function ye($,I,W,ue,je){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return $=$.get(W)||null,j(I,$,""+ue,je);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case H:return $=$.get(ue.key===null?W:ue.key)||null,O(I,$,ue,je);case q:return $=$.get(ue.key===null?W:ue.key)||null,Y(I,$,ue,je);case fe:var Te=ue._init;return ye($,I,W,Te(ue._payload),je)}if(Xt(ue)||se(ue))return $=$.get(W)||null,ie(I,$,ue,je,null);_o(I,ue)}return null}function Se($,I,W,ue){for(var je=null,Te=null,Pe=I,Oe=I=0,Jt=null;Pe!==null&&Oe<W.length;Oe++){Pe.index>Oe?(Jt=Pe,Pe=null):Jt=Pe.sibling;var et=re($,Pe,W[Oe],ue);if(et===null){Pe===null&&(Pe=Jt);break}r&&Pe&&et.alternate===null&&s($,Pe),I=y(et,I,Oe),Te===null?je=et:Te.sibling=et,Te=et,Pe=Jt}if(Oe===W.length)return l($,Pe),St&&Ti($,Oe),je;if(Pe===null){for(;Oe<W.length;Oe++)Pe=le($,W[Oe],ue),Pe!==null&&(I=y(Pe,I,Oe),Te===null?je=Pe:Te.sibling=Pe,Te=Pe);return St&&Ti($,Oe),je}for(Pe=d($,Pe);Oe<W.length;Oe++)Jt=ye(Pe,$,Oe,W[Oe],ue),Jt!==null&&(r&&Jt.alternate!==null&&Pe.delete(Jt.key===null?Oe:Jt.key),I=y(Jt,I,Oe),Te===null?je=Jt:Te.sibling=Jt,Te=Jt);return r&&Pe.forEach(function(hi){return s($,hi)}),St&&Ti($,Oe),je}function Ce($,I,W,ue){var je=se(W);if(typeof je!="function")throw Error(n(150));if(W=je.call(W),W==null)throw Error(n(151));for(var Te=je=null,Pe=I,Oe=I=0,Jt=null,et=W.next();Pe!==null&&!et.done;Oe++,et=W.next()){Pe.index>Oe?(Jt=Pe,Pe=null):Jt=Pe.sibling;var hi=re($,Pe,et.value,ue);if(hi===null){Pe===null&&(Pe=Jt);break}r&&Pe&&hi.alternate===null&&s($,Pe),I=y(hi,I,Oe),Te===null?je=hi:Te.sibling=hi,Te=hi,Pe=Jt}if(et.done)return l($,Pe),St&&Ti($,Oe),je;if(Pe===null){for(;!et.done;Oe++,et=W.next())et=le($,et.value,ue),et!==null&&(I=y(et,I,Oe),Te===null?je=et:Te.sibling=et,Te=et);return St&&Ti($,Oe),je}for(Pe=d($,Pe);!et.done;Oe++,et=W.next())et=ye(Pe,$,Oe,et.value,ue),et!==null&&(r&&et.alternate!==null&&Pe.delete(et.key===null?Oe:et.key),I=y(et,I,Oe),Te===null?je=et:Te.sibling=et,Te=et);return r&&Pe.forEach(function(Sx){return s($,Sx)}),St&&Ti($,Oe),je}function At($,I,W,ue){if(typeof W=="object"&&W!==null&&W.type===N&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case H:e:{for(var je=W.key,Te=I;Te!==null;){if(Te.key===je){if(je=W.type,je===N){if(Te.tag===7){l($,Te.sibling),I=p(Te,W.props.children),I.return=$,$=I;break e}}else if(Te.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===fe&&Xf(je)===Te.type){l($,Te.sibling),I=p(Te,W.props),I.ref=ca($,Te,W),I.return=$,$=I;break e}l($,Te);break}else s($,Te);Te=Te.sibling}W.type===N?(I=zi(W.props.children,$.mode,ue,W.key),I.return=$,$=I):(ue=Vo(W.type,W.key,W.props,null,$.mode,ue),ue.ref=ca($,I,W),ue.return=$,$=ue)}return b($);case q:e:{for(Te=W.key;I!==null;){if(I.key===Te)if(I.tag===4&&I.stateNode.containerInfo===W.containerInfo&&I.stateNode.implementation===W.implementation){l($,I.sibling),I=p(I,W.children||[]),I.return=$,$=I;break e}else{l($,I);break}else s($,I);I=I.sibling}I=ku(W,$.mode,ue),I.return=$,$=I}return b($);case fe:return Te=W._init,At($,I,Te(W._payload),ue)}if(Xt(W))return Se($,I,W,ue);if(se(W))return Ce($,I,W,ue);_o($,W)}return typeof W=="string"&&W!==""||typeof W=="number"?(W=""+W,I!==null&&I.tag===6?(l($,I.sibling),I=p(I,W),I.return=$,$=I):(l($,I),I=Su(W,$.mode,ue),I.return=$,$=I),b($)):l($,I)}return At}var gs=Qf(!0),Gf=Qf(!1),wo=ni(null),So=null,ys=null,Dc=null;function Lc(){Dc=ys=So=null}function Ac(r){var s=wo.current;yt(wo),r._currentValue=s}function Oc(r,s,l){for(;r!==null;){var d=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),r===l)break;r=r.return}}function vs(r,s){So=r,Dc=ys=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(bn=!0),r.firstContext=null)}function Bn(r){var s=r._currentValue;if(Dc!==r)if(r={context:r,memoizedValue:s,next:null},ys===null){if(So===null)throw Error(n(308));ys=r,So.dependencies={lanes:0,firstContext:r}}else ys=ys.next=r;return s}var Pi=null;function Fc(r){Pi===null?Pi=[r]:Pi.push(r)}function qf(r,s,l,d){var p=s.interleaved;return p===null?(l.next=l,Fc(s)):(l.next=p.next,p.next=l),s.interleaved=l,jr(r,d)}function jr(r,s){r.lanes|=s;var l=r.alternate;for(l!==null&&(l.lanes|=s),l=r,r=r.return;r!==null;)r.childLanes|=s,l=r.alternate,l!==null&&(l.childLanes|=s),l=r,r=r.return;return l.tag===3?l.stateNode:null}var si=!1;function Ic(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jf(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Nr(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function ai(r,s,l){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(Qe&2)!==0){var p=d.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),d.pending=s,jr(r,l)}return p=d.interleaved,p===null?(s.next=s,Fc(d)):(s.next=p.next,p.next=s),d.interleaved=s,jr(r,l)}function ko(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var d=s.lanes;d&=r.pendingLanes,l|=d,s.lanes=l,Jl(r,l)}}function Zf(r,s){var l=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var b={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?p=y=b:y=y.next=b,l=l.next}while(l!==null);y===null?p=y=s:y=y.next=s}else p=y=s;l={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:d.shared,effects:d.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}function Co(r,s,l,d){var p=r.updateQueue;si=!1;var y=p.firstBaseUpdate,b=p.lastBaseUpdate,j=p.shared.pending;if(j!==null){p.shared.pending=null;var O=j,Y=O.next;O.next=null,b===null?y=Y:b.next=Y,b=O;var ie=r.alternate;ie!==null&&(ie=ie.updateQueue,j=ie.lastBaseUpdate,j!==b&&(j===null?ie.firstBaseUpdate=Y:j.next=Y,ie.lastBaseUpdate=O))}if(y!==null){var le=p.baseState;b=0,ie=Y=O=null,j=y;do{var re=j.lane,ye=j.eventTime;if((d&re)===re){ie!==null&&(ie=ie.next={eventTime:ye,lane:0,tag:j.tag,payload:j.payload,callback:j.callback,next:null});e:{var Se=r,Ce=j;switch(re=s,ye=l,Ce.tag){case 1:if(Se=Ce.payload,typeof Se=="function"){le=Se.call(ye,le,re);break e}le=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Ce.payload,re=typeof Se=="function"?Se.call(ye,le,re):Se,re==null)break e;le=M({},le,re);break e;case 2:si=!0}}j.callback!==null&&j.lane!==0&&(r.flags|=64,re=p.effects,re===null?p.effects=[j]:re.push(j))}else ye={eventTime:ye,lane:re,tag:j.tag,payload:j.payload,callback:j.callback,next:null},ie===null?(Y=ie=ye,O=le):ie=ie.next=ye,b|=re;if(j=j.next,j===null){if(j=p.shared.pending,j===null)break;re=j,j=re.next,re.next=null,p.lastBaseUpdate=re,p.shared.pending=null}}while(!0);if(ie===null&&(O=le),p.baseState=O,p.firstBaseUpdate=Y,p.lastBaseUpdate=ie,s=p.shared.interleaved,s!==null){p=s;do b|=p.lane,p=p.next;while(p!==s)}else y===null&&(p.shared.lanes=0);Ai|=b,r.lanes=b,r.memoizedState=le}}function eh(r,s,l){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var d=r[s],p=d.callback;if(p!==null){if(d.callback=null,d=l,typeof p!="function")throw Error(n(191,p));p.call(d)}}}var ua={},cr=ni(ua),da=ni(ua),fa=ni(ua);function Di(r){if(r===ua)throw Error(n(174));return r}function zc(r,s){switch(ht(fa,s),ht(da,r),ht(cr,ua),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:on(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=on(s,r)}yt(cr),ht(cr,s)}function xs(){yt(cr),yt(da),yt(fa)}function th(r){Di(fa.current);var s=Di(cr.current),l=on(s,r.type);s!==l&&(ht(da,r),ht(cr,l))}function Uc(r){da.current===r&&(yt(cr),yt(da))}var Mt=ni(0);function Eo(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Bc=[];function $c(){for(var r=0;r<Bc.length;r++)Bc[r]._workInProgressVersionPrimary=null;Bc.length=0}var jo=z.ReactCurrentDispatcher,Hc=z.ReactCurrentBatchConfig,Li=0,Rt=null,Vt=null,Gt=null,No=!1,ha=!1,ma=0,Vv=0;function dn(){throw Error(n(321))}function Wc(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!Jn(r[l],s[l]))return!1;return!0}function Vc(r,s,l,d,p,y){if(Li=y,Rt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,jo.current=r===null||r.memoizedState===null?Qv:Gv,r=l(d,p),ha){y=0;do{if(ha=!1,ma=0,25<=y)throw Error(n(301));y+=1,Gt=Vt=null,s.updateQueue=null,jo.current=qv,r=l(d,p)}while(ha)}if(jo.current=To,s=Vt!==null&&Vt.next!==null,Li=0,Gt=Vt=Rt=null,No=!1,s)throw Error(n(300));return r}function Kc(){var r=ma!==0;return ma=0,r}function ur(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?Rt.memoizedState=Gt=r:Gt=Gt.next=r,Gt}function $n(){if(Vt===null){var r=Rt.alternate;r=r!==null?r.memoizedState:null}else r=Vt.next;var s=Gt===null?Rt.memoizedState:Gt.next;if(s!==null)Gt=s,Vt=r;else{if(r===null)throw Error(n(310));Vt=r,r={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},Gt===null?Rt.memoizedState=Gt=r:Gt=Gt.next=r}return Gt}function pa(r,s){return typeof s=="function"?s(r):s}function Yc(r){var s=$n(),l=s.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var d=Vt,p=d.baseQueue,y=l.pending;if(y!==null){if(p!==null){var b=p.next;p.next=y.next,y.next=b}d.baseQueue=p=y,l.pending=null}if(p!==null){y=p.next,d=d.baseState;var j=b=null,O=null,Y=y;do{var ie=Y.lane;if((Li&ie)===ie)O!==null&&(O=O.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),d=Y.hasEagerState?Y.eagerState:r(d,Y.action);else{var le={lane:ie,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};O===null?(j=O=le,b=d):O=O.next=le,Rt.lanes|=ie,Ai|=ie}Y=Y.next}while(Y!==null&&Y!==y);O===null?b=d:O.next=j,Jn(d,s.memoizedState)||(bn=!0),s.memoizedState=d,s.baseState=b,s.baseQueue=O,l.lastRenderedState=d}if(r=l.interleaved,r!==null){p=r;do y=p.lane,Rt.lanes|=y,Ai|=y,p=p.next;while(p!==r)}else p===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function Xc(r){var s=$n(),l=s.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var d=l.dispatch,p=l.pending,y=s.memoizedState;if(p!==null){l.pending=null;var b=p=p.next;do y=r(y,b.action),b=b.next;while(b!==p);Jn(y,s.memoizedState)||(bn=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),l.lastRenderedState=y}return[y,d]}function nh(){}function rh(r,s){var l=Rt,d=$n(),p=s(),y=!Jn(d.memoizedState,p);if(y&&(d.memoizedState=p,bn=!0),d=d.queue,Qc(ah.bind(null,l,d,r),[r]),d.getSnapshot!==s||y||Gt!==null&&Gt.memoizedState.tag&1){if(l.flags|=2048,ga(9,sh.bind(null,l,d,p,s),void 0,null),qt===null)throw Error(n(349));(Li&30)!==0||ih(l,s,p)}return p}function ih(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=Rt.updateQueue,s===null?(s={lastEffect:null,stores:null},Rt.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function sh(r,s,l,d){s.value=l,s.getSnapshot=d,oh(s)&&lh(r)}function ah(r,s,l){return l(function(){oh(s)&&lh(r)})}function oh(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!Jn(r,l)}catch{return!0}}function lh(r){var s=jr(r,1);s!==null&&rr(s,r,1,-1)}function ch(r){var s=ur();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pa,lastRenderedState:r},s.queue=r,r=r.dispatch=Xv.bind(null,Rt,r),[s.memoizedState,r]}function ga(r,s,l,d){return r={tag:r,create:s,destroy:l,deps:d,next:null},s=Rt.updateQueue,s===null?(s={lastEffect:null,stores:null},Rt.updateQueue=s,s.lastEffect=r.next=r):(l=s.lastEffect,l===null?s.lastEffect=r.next=r:(d=l.next,l.next=r,r.next=d,s.lastEffect=r)),r}function uh(){return $n().memoizedState}function Mo(r,s,l,d){var p=ur();Rt.flags|=r,p.memoizedState=ga(1|s,l,void 0,d===void 0?null:d)}function Ro(r,s,l,d){var p=$n();d=d===void 0?null:d;var y=void 0;if(Vt!==null){var b=Vt.memoizedState;if(y=b.destroy,d!==null&&Wc(d,b.deps)){p.memoizedState=ga(s,l,y,d);return}}Rt.flags|=r,p.memoizedState=ga(1|s,l,y,d)}function dh(r,s){return Mo(8390656,8,r,s)}function Qc(r,s){return Ro(2048,8,r,s)}function fh(r,s){return Ro(4,2,r,s)}function hh(r,s){return Ro(4,4,r,s)}function mh(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function ph(r,s,l){return l=l!=null?l.concat([r]):null,Ro(4,4,mh.bind(null,s,r),l)}function Gc(){}function gh(r,s){var l=$n();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&Wc(s,d[1])?d[0]:(l.memoizedState=[r,s],r)}function yh(r,s){var l=$n();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&Wc(s,d[1])?d[0]:(r=r(),l.memoizedState=[r,s],r)}function vh(r,s,l){return(Li&21)===0?(r.baseState&&(r.baseState=!1,bn=!0),r.memoizedState=l):(Jn(l,s)||(l=ns(),Rt.lanes|=l,Ai|=l,r.baseState=!0),s)}function Kv(r,s){var l=st;st=l!==0&&4>l?l:4,r(!0);var d=Hc.transition;Hc.transition={};try{r(!1),s()}finally{st=l,Hc.transition=d}}function xh(){return $n().memoizedState}function Yv(r,s,l){var d=ui(r);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},bh(r))_h(s,l);else if(l=qf(r,s,l,d),l!==null){var p=gn();rr(l,r,d,p),wh(l,s,d)}}function Xv(r,s,l){var d=ui(r),p={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(bh(r))_h(s,p);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var b=s.lastRenderedState,j=y(b,l);if(p.hasEagerState=!0,p.eagerState=j,Jn(j,b)){var O=s.interleaved;O===null?(p.next=p,Fc(s)):(p.next=O.next,O.next=p),s.interleaved=p;return}}catch{}finally{}l=qf(r,s,p,d),l!==null&&(p=gn(),rr(l,r,d,p),wh(l,s,d))}}function bh(r){var s=r.alternate;return r===Rt||s!==null&&s===Rt}function _h(r,s){ha=No=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function wh(r,s,l){if((l&4194240)!==0){var d=s.lanes;d&=r.pendingLanes,l|=d,s.lanes=l,Jl(r,l)}}var To={readContext:Bn,useCallback:dn,useContext:dn,useEffect:dn,useImperativeHandle:dn,useInsertionEffect:dn,useLayoutEffect:dn,useMemo:dn,useReducer:dn,useRef:dn,useState:dn,useDebugValue:dn,useDeferredValue:dn,useTransition:dn,useMutableSource:dn,useSyncExternalStore:dn,useId:dn,unstable_isNewReconciler:!1},Qv={readContext:Bn,useCallback:function(r,s){return ur().memoizedState=[r,s===void 0?null:s],r},useContext:Bn,useEffect:dh,useImperativeHandle:function(r,s,l){return l=l!=null?l.concat([r]):null,Mo(4194308,4,mh.bind(null,s,r),l)},useLayoutEffect:function(r,s){return Mo(4194308,4,r,s)},useInsertionEffect:function(r,s){return Mo(4,2,r,s)},useMemo:function(r,s){var l=ur();return s=s===void 0?null:s,r=r(),l.memoizedState=[r,s],r},useReducer:function(r,s,l){var d=ur();return s=l!==void 0?l(s):s,d.memoizedState=d.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},d.queue=r,r=r.dispatch=Yv.bind(null,Rt,r),[d.memoizedState,r]},useRef:function(r){var s=ur();return r={current:r},s.memoizedState=r},useState:ch,useDebugValue:Gc,useDeferredValue:function(r){return ur().memoizedState=r},useTransition:function(){var r=ch(!1),s=r[0];return r=Kv.bind(null,r[1]),ur().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,l){var d=Rt,p=ur();if(St){if(l===void 0)throw Error(n(407));l=l()}else{if(l=s(),qt===null)throw Error(n(349));(Li&30)!==0||ih(d,s,l)}p.memoizedState=l;var y={value:l,getSnapshot:s};return p.queue=y,dh(ah.bind(null,d,y,r),[r]),d.flags|=2048,ga(9,sh.bind(null,d,y,l,s),void 0,null),l},useId:function(){var r=ur(),s=qt.identifierPrefix;if(St){var l=Er,d=Cr;l=(d&~(1<<32-Xe(d)-1)).toString(32)+l,s=":"+s+"R"+l,l=ma++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=Vv++,s=":"+s+"r"+l.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},Gv={readContext:Bn,useCallback:gh,useContext:Bn,useEffect:Qc,useImperativeHandle:ph,useInsertionEffect:fh,useLayoutEffect:hh,useMemo:yh,useReducer:Yc,useRef:uh,useState:function(){return Yc(pa)},useDebugValue:Gc,useDeferredValue:function(r){var s=$n();return vh(s,Vt.memoizedState,r)},useTransition:function(){var r=Yc(pa)[0],s=$n().memoizedState;return[r,s]},useMutableSource:nh,useSyncExternalStore:rh,useId:xh,unstable_isNewReconciler:!1},qv={readContext:Bn,useCallback:gh,useContext:Bn,useEffect:Qc,useImperativeHandle:ph,useInsertionEffect:fh,useLayoutEffect:hh,useMemo:yh,useReducer:Xc,useRef:uh,useState:function(){return Xc(pa)},useDebugValue:Gc,useDeferredValue:function(r){var s=$n();return Vt===null?s.memoizedState=r:vh(s,Vt.memoizedState,r)},useTransition:function(){var r=Xc(pa)[0],s=$n().memoizedState;return[r,s]},useMutableSource:nh,useSyncExternalStore:rh,useId:xh,unstable_isNewReconciler:!1};function er(r,s){if(r&&r.defaultProps){s=M({},s),r=r.defaultProps;for(var l in r)s[l]===void 0&&(s[l]=r[l]);return s}return s}function qc(r,s,l,d){s=r.memoizedState,l=l(d,s),l=l==null?s:M({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Po={isMounted:function(r){return(r=r._reactInternals)?ge(r)===r:!1},enqueueSetState:function(r,s,l){r=r._reactInternals;var d=gn(),p=ui(r),y=Nr(d,p);y.payload=s,l!=null&&(y.callback=l),s=ai(r,y,p),s!==null&&(rr(s,r,p,d),ko(s,r,p))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var d=gn(),p=ui(r),y=Nr(d,p);y.tag=1,y.payload=s,l!=null&&(y.callback=l),s=ai(r,y,p),s!==null&&(rr(s,r,p,d),ko(s,r,p))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=gn(),d=ui(r),p=Nr(l,d);p.tag=2,s!=null&&(p.callback=s),s=ai(r,p,d),s!==null&&(rr(s,r,d,l),ko(s,r,d))}};function Sh(r,s,l,d,p,y,b){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,y,b):s.prototype&&s.prototype.isPureReactComponent?!na(l,d)||!na(p,y):!0}function kh(r,s,l){var d=!1,p=ri,y=s.contextType;return typeof y=="object"&&y!==null?y=Bn(y):(p=xn(s)?Mi:un.current,d=s.contextTypes,y=(d=d!=null)?fs(r,p):ri),s=new s(l,y),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Po,r.stateNode=s,s._reactInternals=r,d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=p,r.__reactInternalMemoizedMaskedChildContext=y),s}function Ch(r,s,l,d){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,d),s.state!==r&&Po.enqueueReplaceState(s,s.state,null)}function Jc(r,s,l,d){var p=r.stateNode;p.props=l,p.state=r.memoizedState,p.refs={},Ic(r);var y=s.contextType;typeof y=="object"&&y!==null?p.context=Bn(y):(y=xn(s)?Mi:un.current,p.context=fs(r,y)),p.state=r.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(qc(r,s,y,l),p.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(s=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),s!==p.state&&Po.enqueueReplaceState(p,p.state,null),Co(r,l,p,d),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308)}function bs(r,s){try{var l="",d=s;do l+=ce(d),d=d.return;while(d);var p=l}catch(y){p=`
Error generating stack: `+y.message+`
`+y.stack}return{value:r,source:s,stack:p,digest:null}}function Zc(r,s,l){return{value:r,source:null,stack:l??null,digest:s??null}}function eu(r,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var Jv=typeof WeakMap=="function"?WeakMap:Map;function Eh(r,s,l){l=Nr(-1,l),l.tag=3,l.payload={element:null};var d=s.value;return l.callback=function(){zo||(zo=!0,pu=d),eu(r,s)},l}function jh(r,s,l){l=Nr(-1,l),l.tag=3;var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var p=s.value;l.payload=function(){return d(p)},l.callback=function(){eu(r,s)}}var y=r.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){eu(r,s),typeof d!="function"&&(li===null?li=new Set([this]):li.add(this));var b=s.stack;this.componentDidCatch(s.value,{componentStack:b!==null?b:""})}),l}function Nh(r,s,l){var d=r.pingCache;if(d===null){d=r.pingCache=new Jv;var p=new Set;d.set(s,p)}else p=d.get(s),p===void 0&&(p=new Set,d.set(s,p));p.has(l)||(p.add(l),r=fx.bind(null,r,s,l),s.then(r,r))}function Mh(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function Rh(r,s,l,d,p){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=Nr(-1,1),s.tag=2,ai(l,s,1))),l.lanes|=1),r):(r.flags|=65536,r.lanes=p,r)}var Zv=z.ReactCurrentOwner,bn=!1;function pn(r,s,l,d){s.child=r===null?Gf(s,null,l,d):gs(s,r.child,l,d)}function Th(r,s,l,d,p){l=l.render;var y=s.ref;return vs(s,p),d=Vc(r,s,l,d,y,p),l=Kc(),r!==null&&!bn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,Mr(r,s,p)):(St&&l&&Nc(s),s.flags|=1,pn(r,s,d,p),s.child)}function Ph(r,s,l,d,p){if(r===null){var y=l.type;return typeof y=="function"&&!wu(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=y,Dh(r,s,y,d,p)):(r=Vo(l.type,null,d,s,s.mode,p),r.ref=s.ref,r.return=s,s.child=r)}if(y=r.child,(r.lanes&p)===0){var b=y.memoizedProps;if(l=l.compare,l=l!==null?l:na,l(b,d)&&r.ref===s.ref)return Mr(r,s,p)}return s.flags|=1,r=fi(y,d),r.ref=s.ref,r.return=s,s.child=r}function Dh(r,s,l,d,p){if(r!==null){var y=r.memoizedProps;if(na(y,d)&&r.ref===s.ref)if(bn=!1,s.pendingProps=d=y,(r.lanes&p)!==0)(r.flags&131072)!==0&&(bn=!0);else return s.lanes=r.lanes,Mr(r,s,p)}return tu(r,s,l,d,p)}function Lh(r,s,l){var d=s.pendingProps,p=d.children,y=r!==null?r.memoizedState:null;if(d.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},ht(ws,Ln),Ln|=l;else{if((l&1073741824)===0)return r=y!==null?y.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,ht(ws,Ln),Ln|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=y!==null?y.baseLanes:l,ht(ws,Ln),Ln|=d}else y!==null?(d=y.baseLanes|l,s.memoizedState=null):d=l,ht(ws,Ln),Ln|=d;return pn(r,s,p,l),s.child}function Ah(r,s){var l=s.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function tu(r,s,l,d,p){var y=xn(l)?Mi:un.current;return y=fs(s,y),vs(s,p),l=Vc(r,s,l,d,y,p),d=Kc(),r!==null&&!bn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,Mr(r,s,p)):(St&&d&&Nc(s),s.flags|=1,pn(r,s,l,p),s.child)}function Oh(r,s,l,d,p){if(xn(l)){var y=!0;go(s)}else y=!1;if(vs(s,p),s.stateNode===null)Lo(r,s),kh(s,l,d),Jc(s,l,d,p),d=!0;else if(r===null){var b=s.stateNode,j=s.memoizedProps;b.props=j;var O=b.context,Y=l.contextType;typeof Y=="object"&&Y!==null?Y=Bn(Y):(Y=xn(l)?Mi:un.current,Y=fs(s,Y));var ie=l.getDerivedStateFromProps,le=typeof ie=="function"||typeof b.getSnapshotBeforeUpdate=="function";le||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(j!==d||O!==Y)&&Ch(s,b,d,Y),si=!1;var re=s.memoizedState;b.state=re,Co(s,d,b,p),O=s.memoizedState,j!==d||re!==O||vn.current||si?(typeof ie=="function"&&(qc(s,l,ie,d),O=s.memoizedState),(j=si||Sh(s,l,j,d,re,O,Y))?(le||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(s.flags|=4194308)):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=O),b.props=d,b.state=O,b.context=Y,d=j):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{b=s.stateNode,Jf(r,s),j=s.memoizedProps,Y=s.type===s.elementType?j:er(s.type,j),b.props=Y,le=s.pendingProps,re=b.context,O=l.contextType,typeof O=="object"&&O!==null?O=Bn(O):(O=xn(l)?Mi:un.current,O=fs(s,O));var ye=l.getDerivedStateFromProps;(ie=typeof ye=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(j!==le||re!==O)&&Ch(s,b,d,O),si=!1,re=s.memoizedState,b.state=re,Co(s,d,b,p);var Se=s.memoizedState;j!==le||re!==Se||vn.current||si?(typeof ye=="function"&&(qc(s,l,ye,d),Se=s.memoizedState),(Y=si||Sh(s,l,Y,d,re,Se,O)||!1)?(ie||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(d,Se,O),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(d,Se,O)),typeof b.componentDidUpdate=="function"&&(s.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof b.componentDidUpdate!="function"||j===r.memoizedProps&&re===r.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||j===r.memoizedProps&&re===r.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=Se),b.props=d,b.state=Se,b.context=O,d=Y):(typeof b.componentDidUpdate!="function"||j===r.memoizedProps&&re===r.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||j===r.memoizedProps&&re===r.memoizedState||(s.flags|=1024),d=!1)}return nu(r,s,l,d,y,p)}function nu(r,s,l,d,p,y){Ah(r,s);var b=(s.flags&128)!==0;if(!d&&!b)return p&&Bf(s,l,!1),Mr(r,s,y);d=s.stateNode,Zv.current=s;var j=b&&typeof l.getDerivedStateFromError!="function"?null:d.render();return s.flags|=1,r!==null&&b?(s.child=gs(s,r.child,null,y),s.child=gs(s,null,j,y)):pn(r,s,j,y),s.memoizedState=d.state,p&&Bf(s,l,!0),s.child}function Fh(r){var s=r.stateNode;s.pendingContext?zf(r,s.pendingContext,s.pendingContext!==s.context):s.context&&zf(r,s.context,!1),zc(r,s.containerInfo)}function Ih(r,s,l,d,p){return ps(),Pc(p),s.flags|=256,pn(r,s,l,d),s.child}var ru={dehydrated:null,treeContext:null,retryLane:0};function iu(r){return{baseLanes:r,cachePool:null,transitions:null}}function zh(r,s,l){var d=s.pendingProps,p=Mt.current,y=!1,b=(s.flags&128)!==0,j;if((j=b)||(j=r!==null&&r.memoizedState===null?!1:(p&2)!==0),j?(y=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(p|=1),ht(Mt,p&1),r===null)return Tc(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(b=d.children,r=d.fallback,y?(d=s.mode,y=s.child,b={mode:"hidden",children:b},(d&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=b):y=Ko(b,d,0,null),r=zi(r,d,l,null),y.return=s,r.return=s,y.sibling=r,s.child=y,s.child.memoizedState=iu(l),s.memoizedState=ru,r):su(s,b));if(p=r.memoizedState,p!==null&&(j=p.dehydrated,j!==null))return ex(r,s,b,d,j,p,l);if(y){y=d.fallback,b=s.mode,p=r.child,j=p.sibling;var O={mode:"hidden",children:d.children};return(b&1)===0&&s.child!==p?(d=s.child,d.childLanes=0,d.pendingProps=O,s.deletions=null):(d=fi(p,O),d.subtreeFlags=p.subtreeFlags&14680064),j!==null?y=fi(j,y):(y=zi(y,b,l,null),y.flags|=2),y.return=s,d.return=s,d.sibling=y,s.child=d,d=y,y=s.child,b=r.child.memoizedState,b=b===null?iu(l):{baseLanes:b.baseLanes|l,cachePool:null,transitions:b.transitions},y.memoizedState=b,y.childLanes=r.childLanes&~l,s.memoizedState=ru,d}return y=r.child,r=y.sibling,d=fi(y,{mode:"visible",children:d.children}),(s.mode&1)===0&&(d.lanes=l),d.return=s,d.sibling=null,r!==null&&(l=s.deletions,l===null?(s.deletions=[r],s.flags|=16):l.push(r)),s.child=d,s.memoizedState=null,d}function su(r,s){return s=Ko({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Do(r,s,l,d){return d!==null&&Pc(d),gs(s,r.child,null,l),r=su(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function ex(r,s,l,d,p,y,b){if(l)return s.flags&256?(s.flags&=-257,d=Zc(Error(n(422))),Do(r,s,b,d)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(y=d.fallback,p=s.mode,d=Ko({mode:"visible",children:d.children},p,0,null),y=zi(y,p,b,null),y.flags|=2,d.return=s,y.return=s,d.sibling=y,s.child=d,(s.mode&1)!==0&&gs(s,r.child,null,b),s.child.memoizedState=iu(b),s.memoizedState=ru,y);if((s.mode&1)===0)return Do(r,s,b,null);if(p.data==="$!"){if(d=p.nextSibling&&p.nextSibling.dataset,d)var j=d.dgst;return d=j,y=Error(n(419)),d=Zc(y,d,void 0),Do(r,s,b,d)}if(j=(b&r.childLanes)!==0,bn||j){if(d=qt,d!==null){switch(b&-b){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(d.suspendedLanes|b))!==0?0:p,p!==0&&p!==y.retryLane&&(y.retryLane=p,jr(r,p),rr(d,r,p,-1))}return _u(),d=Zc(Error(n(421))),Do(r,s,b,d)}return p.data==="$?"?(s.flags|=128,s.child=r.child,s=hx.bind(null,r),p._reactRetry=s,null):(r=y.treeContext,Dn=ti(p.nextSibling),Pn=s,St=!0,Zn=null,r!==null&&(zn[Un++]=Cr,zn[Un++]=Er,zn[Un++]=Ri,Cr=r.id,Er=r.overflow,Ri=s),s=su(s,d.children),s.flags|=4096,s)}function Uh(r,s,l){r.lanes|=s;var d=r.alternate;d!==null&&(d.lanes|=s),Oc(r.return,s,l)}function au(r,s,l,d,p){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:p}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=l,y.tailMode=p)}function Bh(r,s,l){var d=s.pendingProps,p=d.revealOrder,y=d.tail;if(pn(r,s,d.children,l),d=Mt.current,(d&2)!==0)d=d&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Uh(r,l,s);else if(r.tag===19)Uh(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}if(ht(Mt,d),(s.mode&1)===0)s.memoizedState=null;else switch(p){case"forwards":for(l=s.child,p=null;l!==null;)r=l.alternate,r!==null&&Eo(r)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),au(s,!1,p,l,y);break;case"backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(r=p.alternate,r!==null&&Eo(r)===null){s.child=p;break}r=p.sibling,p.sibling=l,l=p,p=r}au(s,!0,l,null,y);break;case"together":au(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Lo(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Mr(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),Ai|=s.lanes,(l&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(n(153));if(s.child!==null){for(r=s.child,l=fi(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=fi(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function tx(r,s,l){switch(s.tag){case 3:Fh(s),ps();break;case 5:th(s);break;case 1:xn(s.type)&&go(s);break;case 4:zc(s,s.stateNode.containerInfo);break;case 10:var d=s.type._context,p=s.memoizedProps.value;ht(wo,d._currentValue),d._currentValue=p;break;case 13:if(d=s.memoizedState,d!==null)return d.dehydrated!==null?(ht(Mt,Mt.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?zh(r,s,l):(ht(Mt,Mt.current&1),r=Mr(r,s,l),r!==null?r.sibling:null);ht(Mt,Mt.current&1);break;case 19:if(d=(l&s.childLanes)!==0,(r.flags&128)!==0){if(d)return Bh(r,s,l);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ht(Mt,Mt.current),d)break;return null;case 22:case 23:return s.lanes=0,Lh(r,s,l)}return Mr(r,s,l)}var $h,ou,Hh,Wh;$h=function(r,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},ou=function(){},Hh=function(r,s,l,d){var p=r.memoizedProps;if(p!==d){r=s.stateNode,Di(cr.current);var y=null;switch(l){case"input":p=Lt(r,p),d=Lt(r,d),y=[];break;case"select":p=M({},p,{value:void 0}),d=M({},d,{value:void 0}),y=[];break;case"textarea":p=me(r,p),d=me(r,d),y=[];break;default:typeof p.onClick!="function"&&typeof d.onClick=="function"&&(r.onclick=ho)}_t(l,d);var b;l=null;for(Y in p)if(!d.hasOwnProperty(Y)&&p.hasOwnProperty(Y)&&p[Y]!=null)if(Y==="style"){var j=p[Y];for(b in j)j.hasOwnProperty(b)&&(l||(l={}),l[b]="")}else Y!=="dangerouslySetInnerHTML"&&Y!=="children"&&Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(a.hasOwnProperty(Y)?y||(y=[]):(y=y||[]).push(Y,null));for(Y in d){var O=d[Y];if(j=p?.[Y],d.hasOwnProperty(Y)&&O!==j&&(O!=null||j!=null))if(Y==="style")if(j){for(b in j)!j.hasOwnProperty(b)||O&&O.hasOwnProperty(b)||(l||(l={}),l[b]="");for(b in O)O.hasOwnProperty(b)&&j[b]!==O[b]&&(l||(l={}),l[b]=O[b])}else l||(y||(y=[]),y.push(Y,l)),l=O;else Y==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,j=j?j.__html:void 0,O!=null&&j!==O&&(y=y||[]).push(Y,O)):Y==="children"?typeof O!="string"&&typeof O!="number"||(y=y||[]).push(Y,""+O):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&(a.hasOwnProperty(Y)?(O!=null&&Y==="onScroll"&&gt("scroll",r),y||j===O||(y=[])):(y=y||[]).push(Y,O))}l&&(y=y||[]).push("style",l);var Y=y;(s.updateQueue=Y)&&(s.flags|=4)}},Wh=function(r,s,l,d){l!==d&&(s.flags|=4)};function ya(r,s){if(!St)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function fn(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,d=0;if(s)for(var p=r.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags&14680064,d|=p.flags&14680064,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=d,r.childLanes=l,s}function nx(r,s,l){var d=s.pendingProps;switch(Mc(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fn(s),null;case 1:return xn(s.type)&&po(),fn(s),null;case 3:return d=s.stateNode,xs(),yt(vn),yt(un),$c(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(bo(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Zn!==null&&(vu(Zn),Zn=null))),ou(r,s),fn(s),null;case 5:Uc(s);var p=Di(fa.current);if(l=s.type,r!==null&&s.stateNode!=null)Hh(r,s,l,d,p),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!d){if(s.stateNode===null)throw Error(n(166));return fn(s),null}if(r=Di(cr.current),bo(s)){d=s.stateNode,l=s.type;var y=s.memoizedProps;switch(d[lr]=s,d[oa]=y,r=(s.mode&1)!==0,l){case"dialog":gt("cancel",d),gt("close",d);break;case"iframe":case"object":case"embed":gt("load",d);break;case"video":case"audio":for(p=0;p<ia.length;p++)gt(ia[p],d);break;case"source":gt("error",d);break;case"img":case"image":case"link":gt("error",d),gt("load",d);break;case"details":gt("toggle",d);break;case"input":Fn(d,y),gt("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!y.multiple},gt("invalid",d);break;case"textarea":Me(d,y),gt("invalid",d)}_t(l,y),p=null;for(var b in y)if(y.hasOwnProperty(b)){var j=y[b];b==="children"?typeof j=="string"?d.textContent!==j&&(y.suppressHydrationWarning!==!0&&fo(d.textContent,j,r),p=["children",j]):typeof j=="number"&&d.textContent!==""+j&&(y.suppressHydrationWarning!==!0&&fo(d.textContent,j,r),p=["children",""+j]):a.hasOwnProperty(b)&&j!=null&&b==="onScroll"&&gt("scroll",d)}switch(l){case"input":It(d),nn(d,y,!0);break;case"textarea":It(d),bt(d);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(d.onclick=ho)}d=p,s.updateQueue=d,d!==null&&(s.flags|=4)}else{b=p.nodeType===9?p:p.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Et(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=b.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof d.is=="string"?r=b.createElement(l,{is:d.is}):(r=b.createElement(l),l==="select"&&(b=r,d.multiple?b.multiple=!0:d.size&&(b.size=d.size))):r=b.createElementNS(r,l),r[lr]=s,r[oa]=d,$h(r,s,!1,!1),s.stateNode=r;e:{switch(b=Pt(l,d),l){case"dialog":gt("cancel",r),gt("close",r),p=d;break;case"iframe":case"object":case"embed":gt("load",r),p=d;break;case"video":case"audio":for(p=0;p<ia.length;p++)gt(ia[p],r);p=d;break;case"source":gt("error",r),p=d;break;case"img":case"image":case"link":gt("error",r),gt("load",r),p=d;break;case"details":gt("toggle",r),p=d;break;case"input":Fn(r,d),p=Lt(r,d),gt("invalid",r);break;case"option":p=d;break;case"select":r._wrapperState={wasMultiple:!!d.multiple},p=M({},d,{value:void 0}),gt("invalid",r);break;case"textarea":Me(r,d),p=me(r,d),gt("invalid",r);break;default:p=d}_t(l,p),j=p;for(y in j)if(j.hasOwnProperty(y)){var O=j[y];y==="style"?Ne(r,O):y==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,O!=null&&ut(r,O)):y==="children"?typeof O=="string"?(l!=="textarea"||O!=="")&&Qt(r,O):typeof O=="number"&&Qt(r,""+O):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(a.hasOwnProperty(y)?O!=null&&y==="onScroll"&&gt("scroll",r):O!=null&&B(r,y,O,b))}switch(l){case"input":It(r),nn(r,d,!1);break;case"textarea":It(r),bt(r);break;case"option":d.value!=null&&r.setAttribute("value",""+ke(d.value));break;case"select":r.multiple=!!d.multiple,y=d.value,y!=null?ct(r,!!d.multiple,y,!1):d.defaultValue!=null&&ct(r,!!d.multiple,d.defaultValue,!0);break;default:typeof p.onClick=="function"&&(r.onclick=ho)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return fn(s),null;case 6:if(r&&s.stateNode!=null)Wh(r,s,r.memoizedProps,d);else{if(typeof d!="string"&&s.stateNode===null)throw Error(n(166));if(l=Di(fa.current),Di(cr.current),bo(s)){if(d=s.stateNode,l=s.memoizedProps,d[lr]=s,(y=d.nodeValue!==l)&&(r=Pn,r!==null))switch(r.tag){case 3:fo(d.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&fo(d.nodeValue,l,(r.mode&1)!==0)}y&&(s.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[lr]=s,s.stateNode=d}return fn(s),null;case 13:if(yt(Mt),d=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(St&&Dn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Yf(),ps(),s.flags|=98560,y=!1;else if(y=bo(s),d!==null&&d.dehydrated!==null){if(r===null){if(!y)throw Error(n(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(n(317));y[lr]=s}else ps(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;fn(s),y=!1}else Zn!==null&&(vu(Zn),Zn=null),y=!0;if(!y)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(d=d!==null,d!==(r!==null&&r.memoizedState!==null)&&d&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(Mt.current&1)!==0?Kt===0&&(Kt=3):_u())),s.updateQueue!==null&&(s.flags|=4),fn(s),null);case 4:return xs(),ou(r,s),r===null&&sa(s.stateNode.containerInfo),fn(s),null;case 10:return Ac(s.type._context),fn(s),null;case 17:return xn(s.type)&&po(),fn(s),null;case 19:if(yt(Mt),y=s.memoizedState,y===null)return fn(s),null;if(d=(s.flags&128)!==0,b=y.rendering,b===null)if(d)ya(y,!1);else{if(Kt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(b=Eo(r),b!==null){for(s.flags|=128,ya(y,!1),d=b.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),s.subtreeFlags=0,d=l,l=s.child;l!==null;)y=l,r=d,y.flags&=14680066,b=y.alternate,b===null?(y.childLanes=0,y.lanes=r,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=b.childLanes,y.lanes=b.lanes,y.child=b.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=b.memoizedProps,y.memoizedState=b.memoizedState,y.updateQueue=b.updateQueue,y.type=b.type,r=b.dependencies,y.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return ht(Mt,Mt.current&1|2),s.child}r=r.sibling}y.tail!==null&&Ye()>Ss&&(s.flags|=128,d=!0,ya(y,!1),s.lanes=4194304)}else{if(!d)if(r=Eo(b),r!==null){if(s.flags|=128,d=!0,l=r.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),ya(y,!0),y.tail===null&&y.tailMode==="hidden"&&!b.alternate&&!St)return fn(s),null}else 2*Ye()-y.renderingStartTime>Ss&&l!==1073741824&&(s.flags|=128,d=!0,ya(y,!1),s.lanes=4194304);y.isBackwards?(b.sibling=s.child,s.child=b):(l=y.last,l!==null?l.sibling=b:s.child=b,y.last=b)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=Ye(),s.sibling=null,l=Mt.current,ht(Mt,d?l&1|2:l&1),s):(fn(s),null);case 22:case 23:return bu(),d=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==d&&(s.flags|=8192),d&&(s.mode&1)!==0?(Ln&1073741824)!==0&&(fn(s),s.subtreeFlags&6&&(s.flags|=8192)):fn(s),null;case 24:return null;case 25:return null}throw Error(n(156,s.tag))}function rx(r,s){switch(Mc(s),s.tag){case 1:return xn(s.type)&&po(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return xs(),yt(vn),yt(un),$c(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return Uc(s),null;case 13:if(yt(Mt),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(n(340));ps()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return yt(Mt),null;case 4:return xs(),null;case 10:return Ac(s.type._context),null;case 22:case 23:return bu(),null;case 24:return null;default:return null}}var Ao=!1,hn=!1,ix=typeof WeakSet=="function"?WeakSet:Set,_e=null;function _s(r,s){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){Dt(r,s,d)}else l.current=null}function lu(r,s,l){try{l()}catch(d){Dt(r,s,d)}}var Vh=!1;function sx(r,s){if(bc=eo,r=Sf(),fc(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var p=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var b=0,j=-1,O=-1,Y=0,ie=0,le=r,re=null;t:for(;;){for(var ye;le!==l||p!==0&&le.nodeType!==3||(j=b+p),le!==y||d!==0&&le.nodeType!==3||(O=b+d),le.nodeType===3&&(b+=le.nodeValue.length),(ye=le.firstChild)!==null;)re=le,le=ye;for(;;){if(le===r)break t;if(re===l&&++Y===p&&(j=b),re===y&&++ie===d&&(O=b),(ye=le.nextSibling)!==null)break;le=re,re=le.parentNode}le=ye}l=j===-1||O===-1?null:{start:j,end:O}}else l=null}l=l||{start:0,end:0}}else l=null;for(_c={focusedElem:r,selectionRange:l},eo=!1,_e=s;_e!==null;)if(s=_e,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,_e=r;else for(;_e!==null;){s=_e;try{var Se=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Se!==null){var Ce=Se.memoizedProps,At=Se.memoizedState,$=s.stateNode,I=$.getSnapshotBeforeUpdate(s.elementType===s.type?Ce:er(s.type,Ce),At);$.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var W=s.stateNode.containerInfo;W.nodeType===1?W.textContent="":W.nodeType===9&&W.documentElement&&W.removeChild(W.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ue){Dt(s,s.return,ue)}if(r=s.sibling,r!==null){r.return=s.return,_e=r;break}_e=s.return}return Se=Vh,Vh=!1,Se}function va(r,s,l){var d=s.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var p=d=d.next;do{if((p.tag&r)===r){var y=p.destroy;p.destroy=void 0,y!==void 0&&lu(s,l,y)}p=p.next}while(p!==d)}}function Oo(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&r)===r){var d=l.create;l.destroy=d()}l=l.next}while(l!==s)}}function cu(r){var s=r.ref;if(s!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof s=="function"?s(r):s.current=r}}function Kh(r){var s=r.alternate;s!==null&&(r.alternate=null,Kh(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[lr],delete s[oa],delete s[Cc],delete s[Bv],delete s[$v])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Yh(r){return r.tag===5||r.tag===3||r.tag===4}function Xh(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Yh(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function uu(r,s,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(r,s):l.insertBefore(r,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(r,l)):(s=l,s.appendChild(r)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=ho));else if(d!==4&&(r=r.child,r!==null))for(uu(r,s,l),r=r.sibling;r!==null;)uu(r,s,l),r=r.sibling}function du(r,s,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(d!==4&&(r=r.child,r!==null))for(du(r,s,l),r=r.sibling;r!==null;)du(r,s,l),r=r.sibling}var rn=null,tr=!1;function oi(r,s,l){for(l=l.child;l!==null;)Qh(r,s,l),l=l.sibling}function Qh(r,s,l){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(it,l)}catch{}switch(l.tag){case 5:hn||_s(l,s);case 6:var d=rn,p=tr;rn=null,oi(r,s,l),rn=d,tr=p,rn!==null&&(tr?(r=rn,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):rn.removeChild(l.stateNode));break;case 18:rn!==null&&(tr?(r=rn,l=l.stateNode,r.nodeType===8?kc(r.parentNode,l):r.nodeType===1&&kc(r,l),Gs(r)):kc(rn,l.stateNode));break;case 4:d=rn,p=tr,rn=l.stateNode.containerInfo,tr=!0,oi(r,s,l),rn=d,tr=p;break;case 0:case 11:case 14:case 15:if(!hn&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){p=d=d.next;do{var y=p,b=y.destroy;y=y.tag,b!==void 0&&((y&2)!==0||(y&4)!==0)&&lu(l,s,b),p=p.next}while(p!==d)}oi(r,s,l);break;case 1:if(!hn&&(_s(l,s),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(j){Dt(l,s,j)}oi(r,s,l);break;case 21:oi(r,s,l);break;case 22:l.mode&1?(hn=(d=hn)||l.memoizedState!==null,oi(r,s,l),hn=d):oi(r,s,l);break;default:oi(r,s,l)}}function Gh(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new ix),s.forEach(function(d){var p=mx.bind(null,r,d);l.has(d)||(l.add(d),d.then(p,p))})}}function nr(r,s){var l=s.deletions;if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];try{var y=r,b=s,j=b;e:for(;j!==null;){switch(j.tag){case 5:rn=j.stateNode,tr=!1;break e;case 3:rn=j.stateNode.containerInfo,tr=!0;break e;case 4:rn=j.stateNode.containerInfo,tr=!0;break e}j=j.return}if(rn===null)throw Error(n(160));Qh(y,b,p),rn=null,tr=!1;var O=p.alternate;O!==null&&(O.return=null),p.return=null}catch(Y){Dt(p,s,Y)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)qh(s,r),s=s.sibling}function qh(r,s){var l=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(nr(s,r),dr(r),d&4){try{va(3,r,r.return),Oo(3,r)}catch(Ce){Dt(r,r.return,Ce)}try{va(5,r,r.return)}catch(Ce){Dt(r,r.return,Ce)}}break;case 1:nr(s,r),dr(r),d&512&&l!==null&&_s(l,l.return);break;case 5:if(nr(s,r),dr(r),d&512&&l!==null&&_s(l,l.return),r.flags&32){var p=r.stateNode;try{Qt(p,"")}catch(Ce){Dt(r,r.return,Ce)}}if(d&4&&(p=r.stateNode,p!=null)){var y=r.memoizedProps,b=l!==null?l.memoizedProps:y,j=r.type,O=r.updateQueue;if(r.updateQueue=null,O!==null)try{j==="input"&&y.type==="radio"&&y.name!=null&&an(p,y),Pt(j,b);var Y=Pt(j,y);for(b=0;b<O.length;b+=2){var ie=O[b],le=O[b+1];ie==="style"?Ne(p,le):ie==="dangerouslySetInnerHTML"?ut(p,le):ie==="children"?Qt(p,le):B(p,ie,le,Y)}switch(j){case"input":yn(p,y);break;case"textarea":Ue(p,y);break;case"select":var re=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!y.multiple;var ye=y.value;ye!=null?ct(p,!!y.multiple,ye,!1):re!==!!y.multiple&&(y.defaultValue!=null?ct(p,!!y.multiple,y.defaultValue,!0):ct(p,!!y.multiple,y.multiple?[]:"",!1))}p[oa]=y}catch(Ce){Dt(r,r.return,Ce)}}break;case 6:if(nr(s,r),dr(r),d&4){if(r.stateNode===null)throw Error(n(162));p=r.stateNode,y=r.memoizedProps;try{p.nodeValue=y}catch(Ce){Dt(r,r.return,Ce)}}break;case 3:if(nr(s,r),dr(r),d&4&&l!==null&&l.memoizedState.isDehydrated)try{Gs(s.containerInfo)}catch(Ce){Dt(r,r.return,Ce)}break;case 4:nr(s,r),dr(r);break;case 13:nr(s,r),dr(r),p=r.child,p.flags&8192&&(y=p.memoizedState!==null,p.stateNode.isHidden=y,!y||p.alternate!==null&&p.alternate.memoizedState!==null||(mu=Ye())),d&4&&Gh(r);break;case 22:if(ie=l!==null&&l.memoizedState!==null,r.mode&1?(hn=(Y=hn)||ie,nr(s,r),hn=Y):nr(s,r),dr(r),d&8192){if(Y=r.memoizedState!==null,(r.stateNode.isHidden=Y)&&!ie&&(r.mode&1)!==0)for(_e=r,ie=r.child;ie!==null;){for(le=_e=ie;_e!==null;){switch(re=_e,ye=re.child,re.tag){case 0:case 11:case 14:case 15:va(4,re,re.return);break;case 1:_s(re,re.return);var Se=re.stateNode;if(typeof Se.componentWillUnmount=="function"){d=re,l=re.return;try{s=d,Se.props=s.memoizedProps,Se.state=s.memoizedState,Se.componentWillUnmount()}catch(Ce){Dt(d,l,Ce)}}break;case 5:_s(re,re.return);break;case 22:if(re.memoizedState!==null){em(le);continue}}ye!==null?(ye.return=re,_e=ye):em(le)}ie=ie.sibling}e:for(ie=null,le=r;;){if(le.tag===5){if(ie===null){ie=le;try{p=le.stateNode,Y?(y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(j=le.stateNode,O=le.memoizedProps.style,b=O!=null&&O.hasOwnProperty("display")?O.display:null,j.style.display=G("display",b))}catch(Ce){Dt(r,r.return,Ce)}}}else if(le.tag===6){if(ie===null)try{le.stateNode.nodeValue=Y?"":le.memoizedProps}catch(Ce){Dt(r,r.return,Ce)}}else if((le.tag!==22&&le.tag!==23||le.memoizedState===null||le===r)&&le.child!==null){le.child.return=le,le=le.child;continue}if(le===r)break e;for(;le.sibling===null;){if(le.return===null||le.return===r)break e;ie===le&&(ie=null),le=le.return}ie===le&&(ie=null),le.sibling.return=le.return,le=le.sibling}}break;case 19:nr(s,r),dr(r),d&4&&Gh(r);break;case 21:break;default:nr(s,r),dr(r)}}function dr(r){var s=r.flags;if(s&2){try{e:{for(var l=r.return;l!==null;){if(Yh(l)){var d=l;break e}l=l.return}throw Error(n(160))}switch(d.tag){case 5:var p=d.stateNode;d.flags&32&&(Qt(p,""),d.flags&=-33);var y=Xh(r);du(r,y,p);break;case 3:case 4:var b=d.stateNode.containerInfo,j=Xh(r);uu(r,j,b);break;default:throw Error(n(161))}}catch(O){Dt(r,r.return,O)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function ax(r,s,l){_e=r,Jh(r)}function Jh(r,s,l){for(var d=(r.mode&1)!==0;_e!==null;){var p=_e,y=p.child;if(p.tag===22&&d){var b=p.memoizedState!==null||Ao;if(!b){var j=p.alternate,O=j!==null&&j.memoizedState!==null||hn;j=Ao;var Y=hn;if(Ao=b,(hn=O)&&!Y)for(_e=p;_e!==null;)b=_e,O=b.child,b.tag===22&&b.memoizedState!==null?tm(p):O!==null?(O.return=b,_e=O):tm(p);for(;y!==null;)_e=y,Jh(y),y=y.sibling;_e=p,Ao=j,hn=Y}Zh(r)}else(p.subtreeFlags&8772)!==0&&y!==null?(y.return=p,_e=y):Zh(r)}}function Zh(r){for(;_e!==null;){var s=_e;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:hn||Oo(5,s);break;case 1:var d=s.stateNode;if(s.flags&4&&!hn)if(l===null)d.componentDidMount();else{var p=s.elementType===s.type?l.memoizedProps:er(s.type,l.memoizedProps);d.componentDidUpdate(p,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var y=s.updateQueue;y!==null&&eh(s,y,d);break;case 3:var b=s.updateQueue;if(b!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}eh(s,b,l)}break;case 5:var j=s.stateNode;if(l===null&&s.flags&4){l=j;var O=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":O.autoFocus&&l.focus();break;case"img":O.src&&(l.src=O.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var Y=s.alternate;if(Y!==null){var ie=Y.memoizedState;if(ie!==null){var le=ie.dehydrated;le!==null&&Gs(le)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}hn||s.flags&512&&cu(s)}catch(re){Dt(s,s.return,re)}}if(s===r){_e=null;break}if(l=s.sibling,l!==null){l.return=s.return,_e=l;break}_e=s.return}}function em(r){for(;_e!==null;){var s=_e;if(s===r){_e=null;break}var l=s.sibling;if(l!==null){l.return=s.return,_e=l;break}_e=s.return}}function tm(r){for(;_e!==null;){var s=_e;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{Oo(4,s)}catch(O){Dt(s,l,O)}break;case 1:var d=s.stateNode;if(typeof d.componentDidMount=="function"){var p=s.return;try{d.componentDidMount()}catch(O){Dt(s,p,O)}}var y=s.return;try{cu(s)}catch(O){Dt(s,y,O)}break;case 5:var b=s.return;try{cu(s)}catch(O){Dt(s,b,O)}}}catch(O){Dt(s,s.return,O)}if(s===r){_e=null;break}var j=s.sibling;if(j!==null){j.return=s.return,_e=j;break}_e=s.return}}var ox=Math.ceil,Fo=z.ReactCurrentDispatcher,fu=z.ReactCurrentOwner,Hn=z.ReactCurrentBatchConfig,Qe=0,qt=null,Bt=null,sn=0,Ln=0,ws=ni(0),Kt=0,xa=null,Ai=0,Io=0,hu=0,ba=null,_n=null,mu=0,Ss=1/0,Rr=null,zo=!1,pu=null,li=null,Uo=!1,ci=null,Bo=0,_a=0,gu=null,$o=-1,Ho=0;function gn(){return(Qe&6)!==0?Ye():$o!==-1?$o:$o=Ye()}function ui(r){return(r.mode&1)===0?1:(Qe&2)!==0&&sn!==0?sn&-sn:Wv.transition!==null?(Ho===0&&(Ho=ns()),Ho):(r=st,r!==0||(r=window.event,r=r===void 0?16:nf(r.type)),r)}function rr(r,s,l,d){if(50<_a)throw _a=0,gu=null,Error(n(185));Vs(r,l,d),((Qe&2)===0||r!==qt)&&(r===qt&&((Qe&2)===0&&(Io|=l),Kt===4&&di(r,sn)),wn(r,d),l===1&&Qe===0&&(s.mode&1)===0&&(Ss=Ye()+500,yo&&ii()))}function wn(r,s){var l=r.callbackNode;Xr(r,s);var d=wt(r,r===qt?sn:0);if(d===0)l!==null&&Xn(l),r.callbackNode=null,r.callbackPriority=0;else if(s=d&-d,r.callbackPriority!==s){if(l!=null&&Xn(l),s===1)r.tag===0?Hv(rm.bind(null,r)):$f(rm.bind(null,r)),zv(function(){(Qe&6)===0&&ii()}),l=null;else{switch(Xd(d)){case 1:l=Qn;break;case 4:l=In;break;case 16:l=Gn;break;case 536870912:l=We;break;default:l=Gn}l=dm(l,nm.bind(null,r))}r.callbackPriority=s,r.callbackNode=l}}function nm(r,s){if($o=-1,Ho=0,(Qe&6)!==0)throw Error(n(327));var l=r.callbackNode;if(ks()&&r.callbackNode!==l)return null;var d=wt(r,r===qt?sn:0);if(d===0)return null;if((d&30)!==0||(d&r.expiredLanes)!==0||s)s=Wo(r,d);else{s=d;var p=Qe;Qe|=2;var y=sm();(qt!==r||sn!==s)&&(Rr=null,Ss=Ye()+500,Fi(r,s));do try{ux();break}catch(j){im(r,j)}while(!0);Lc(),Fo.current=y,Qe=p,Bt!==null?s=0:(qt=null,sn=0,s=Kt)}if(s!==0){if(s===2&&(p=wr(r),p!==0&&(d=p,s=yu(r,p))),s===1)throw l=xa,Fi(r,0),di(r,d),wn(r,Ye()),l;if(s===6)di(r,d);else{if(p=r.current.alternate,(d&30)===0&&!lx(p)&&(s=Wo(r,d),s===2&&(y=wr(r),y!==0&&(d=y,s=yu(r,y))),s===1))throw l=xa,Fi(r,0),di(r,d),wn(r,Ye()),l;switch(r.finishedWork=p,r.finishedLanes=d,s){case 0:case 1:throw Error(n(345));case 2:Ii(r,_n,Rr);break;case 3:if(di(r,d),(d&130023424)===d&&(s=mu+500-Ye(),10<s)){if(wt(r,0)!==0)break;if(p=r.suspendedLanes,(p&d)!==d){gn(),r.pingedLanes|=r.suspendedLanes&p;break}r.timeoutHandle=Sc(Ii.bind(null,r,_n,Rr),s);break}Ii(r,_n,Rr);break;case 4:if(di(r,d),(d&4194240)===d)break;for(s=r.eventTimes,p=-1;0<d;){var b=31-Xe(d);y=1<<b,b=s[b],b>p&&(p=b),d&=~y}if(d=p,d=Ye()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*ox(d/1960))-d,10<d){r.timeoutHandle=Sc(Ii.bind(null,r,_n,Rr),d);break}Ii(r,_n,Rr);break;case 5:Ii(r,_n,Rr);break;default:throw Error(n(329))}}}return wn(r,Ye()),r.callbackNode===l?nm.bind(null,r):null}function yu(r,s){var l=ba;return r.current.memoizedState.isDehydrated&&(Fi(r,s).flags|=256),r=Wo(r,s),r!==2&&(s=_n,_n=l,s!==null&&vu(s)),r}function vu(r){_n===null?_n=r:_n.push.apply(_n,r)}function lx(r){for(var s=r;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var p=l[d],y=p.getSnapshot;p=p.value;try{if(!Jn(y(),p))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function di(r,s){for(s&=~hu,s&=~Io,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var l=31-Xe(s),d=1<<l;r[l]=-1,s&=~d}}function rm(r){if((Qe&6)!==0)throw Error(n(327));ks();var s=wt(r,0);if((s&1)===0)return wn(r,Ye()),null;var l=Wo(r,s);if(r.tag!==0&&l===2){var d=wr(r);d!==0&&(s=d,l=yu(r,d))}if(l===1)throw l=xa,Fi(r,0),di(r,s),wn(r,Ye()),l;if(l===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,Ii(r,_n,Rr),wn(r,Ye()),null}function xu(r,s){var l=Qe;Qe|=1;try{return r(s)}finally{Qe=l,Qe===0&&(Ss=Ye()+500,yo&&ii())}}function Oi(r){ci!==null&&ci.tag===0&&(Qe&6)===0&&ks();var s=Qe;Qe|=1;var l=Hn.transition,d=st;try{if(Hn.transition=null,st=1,r)return r()}finally{st=d,Hn.transition=l,Qe=s,(Qe&6)===0&&ii()}}function bu(){Ln=ws.current,yt(ws)}function Fi(r,s){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,Iv(l)),Bt!==null)for(l=Bt.return;l!==null;){var d=l;switch(Mc(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&po();break;case 3:xs(),yt(vn),yt(un),$c();break;case 5:Uc(d);break;case 4:xs();break;case 13:yt(Mt);break;case 19:yt(Mt);break;case 10:Ac(d.type._context);break;case 22:case 23:bu()}l=l.return}if(qt=r,Bt=r=fi(r.current,null),sn=Ln=s,Kt=0,xa=null,hu=Io=Ai=0,_n=ba=null,Pi!==null){for(s=0;s<Pi.length;s++)if(l=Pi[s],d=l.interleaved,d!==null){l.interleaved=null;var p=d.next,y=l.pending;if(y!==null){var b=y.next;y.next=p,d.next=b}l.pending=d}Pi=null}return r}function im(r,s){do{var l=Bt;try{if(Lc(),jo.current=To,No){for(var d=Rt.memoizedState;d!==null;){var p=d.queue;p!==null&&(p.pending=null),d=d.next}No=!1}if(Li=0,Gt=Vt=Rt=null,ha=!1,ma=0,fu.current=null,l===null||l.return===null){Kt=1,xa=s,Bt=null;break}e:{var y=r,b=l.return,j=l,O=s;if(s=sn,j.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){var Y=O,ie=j,le=ie.tag;if((ie.mode&1)===0&&(le===0||le===11||le===15)){var re=ie.alternate;re?(ie.updateQueue=re.updateQueue,ie.memoizedState=re.memoizedState,ie.lanes=re.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var ye=Mh(b);if(ye!==null){ye.flags&=-257,Rh(ye,b,j,y,s),ye.mode&1&&Nh(y,Y,s),s=ye,O=Y;var Se=s.updateQueue;if(Se===null){var Ce=new Set;Ce.add(O),s.updateQueue=Ce}else Se.add(O);break e}else{if((s&1)===0){Nh(y,Y,s),_u();break e}O=Error(n(426))}}else if(St&&j.mode&1){var At=Mh(b);if(At!==null){(At.flags&65536)===0&&(At.flags|=256),Rh(At,b,j,y,s),Pc(bs(O,j));break e}}y=O=bs(O,j),Kt!==4&&(Kt=2),ba===null?ba=[y]:ba.push(y),y=b;do{switch(y.tag){case 3:y.flags|=65536,s&=-s,y.lanes|=s;var $=Eh(y,O,s);Zf(y,$);break e;case 1:j=O;var I=y.type,W=y.stateNode;if((y.flags&128)===0&&(typeof I.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(li===null||!li.has(W)))){y.flags|=65536,s&=-s,y.lanes|=s;var ue=jh(y,j,s);Zf(y,ue);break e}}y=y.return}while(y!==null)}om(l)}catch(je){s=je,Bt===l&&l!==null&&(Bt=l=l.return);continue}break}while(!0)}function sm(){var r=Fo.current;return Fo.current=To,r===null?To:r}function _u(){(Kt===0||Kt===3||Kt===2)&&(Kt=4),qt===null||(Ai&268435455)===0&&(Io&268435455)===0||di(qt,sn)}function Wo(r,s){var l=Qe;Qe|=2;var d=sm();(qt!==r||sn!==s)&&(Rr=null,Fi(r,s));do try{cx();break}catch(p){im(r,p)}while(!0);if(Lc(),Qe=l,Fo.current=d,Bt!==null)throw Error(n(261));return qt=null,sn=0,Kt}function cx(){for(;Bt!==null;)am(Bt)}function ux(){for(;Bt!==null&&!or();)am(Bt)}function am(r){var s=um(r.alternate,r,Ln);r.memoizedProps=r.pendingProps,s===null?om(r):Bt=s,fu.current=null}function om(r){var s=r;do{var l=s.alternate;if(r=s.return,(s.flags&32768)===0){if(l=nx(l,s,Ln),l!==null){Bt=l;return}}else{if(l=rx(l,s),l!==null){l.flags&=32767,Bt=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Kt=6,Bt=null;return}}if(s=s.sibling,s!==null){Bt=s;return}Bt=s=r}while(s!==null);Kt===0&&(Kt=5)}function Ii(r,s,l){var d=st,p=Hn.transition;try{Hn.transition=null,st=1,dx(r,s,l,d)}finally{Hn.transition=p,st=d}return null}function dx(r,s,l,d){do ks();while(ci!==null);if((Qe&6)!==0)throw Error(n(327));l=r.finishedWork;var p=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var y=l.lanes|l.childLanes;if(Vy(r,y),r===qt&&(Bt=qt=null,sn=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Uo||(Uo=!0,dm(Gn,function(){return ks(),null})),y=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||y){y=Hn.transition,Hn.transition=null;var b=st;st=1;var j=Qe;Qe|=4,fu.current=null,sx(r,l),qh(l,r),Tv(_c),eo=!!bc,_c=bc=null,r.current=l,ax(l),Rn(),Qe=j,st=b,Hn.transition=y}else r.current=l;if(Uo&&(Uo=!1,ci=r,Bo=p),y=r.pendingLanes,y===0&&(li=null),Yr(l.stateNode),wn(r,Ye()),s!==null)for(d=r.onRecoverableError,l=0;l<s.length;l++)p=s[l],d(p.value,{componentStack:p.stack,digest:p.digest});if(zo)throw zo=!1,r=pu,pu=null,r;return(Bo&1)!==0&&r.tag!==0&&ks(),y=r.pendingLanes,(y&1)!==0?r===gu?_a++:(_a=0,gu=r):_a=0,ii(),null}function ks(){if(ci!==null){var r=Xd(Bo),s=Hn.transition,l=st;try{if(Hn.transition=null,st=16>r?16:r,ci===null)var d=!1;else{if(r=ci,ci=null,Bo=0,(Qe&6)!==0)throw Error(n(331));var p=Qe;for(Qe|=4,_e=r.current;_e!==null;){var y=_e,b=y.child;if((_e.flags&16)!==0){var j=y.deletions;if(j!==null){for(var O=0;O<j.length;O++){var Y=j[O];for(_e=Y;_e!==null;){var ie=_e;switch(ie.tag){case 0:case 11:case 15:va(8,ie,y)}var le=ie.child;if(le!==null)le.return=ie,_e=le;else for(;_e!==null;){ie=_e;var re=ie.sibling,ye=ie.return;if(Kh(ie),ie===Y){_e=null;break}if(re!==null){re.return=ye,_e=re;break}_e=ye}}}var Se=y.alternate;if(Se!==null){var Ce=Se.child;if(Ce!==null){Se.child=null;do{var At=Ce.sibling;Ce.sibling=null,Ce=At}while(Ce!==null)}}_e=y}}if((y.subtreeFlags&2064)!==0&&b!==null)b.return=y,_e=b;else e:for(;_e!==null;){if(y=_e,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:va(9,y,y.return)}var $=y.sibling;if($!==null){$.return=y.return,_e=$;break e}_e=y.return}}var I=r.current;for(_e=I;_e!==null;){b=_e;var W=b.child;if((b.subtreeFlags&2064)!==0&&W!==null)W.return=b,_e=W;else e:for(b=I;_e!==null;){if(j=_e,(j.flags&2048)!==0)try{switch(j.tag){case 0:case 11:case 15:Oo(9,j)}}catch(je){Dt(j,j.return,je)}if(j===b){_e=null;break e}var ue=j.sibling;if(ue!==null){ue.return=j.return,_e=ue;break e}_e=j.return}}if(Qe=p,ii(),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(it,r)}catch{}d=!0}return d}finally{st=l,Hn.transition=s}}return!1}function lm(r,s,l){s=bs(l,s),s=Eh(r,s,1),r=ai(r,s,1),s=gn(),r!==null&&(Vs(r,1,s),wn(r,s))}function Dt(r,s,l){if(r.tag===3)lm(r,r,l);else for(;s!==null;){if(s.tag===3){lm(s,r,l);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(li===null||!li.has(d))){r=bs(l,r),r=jh(s,r,1),s=ai(s,r,1),r=gn(),s!==null&&(Vs(s,1,r),wn(s,r));break}}s=s.return}}function fx(r,s,l){var d=r.pingCache;d!==null&&d.delete(s),s=gn(),r.pingedLanes|=r.suspendedLanes&l,qt===r&&(sn&l)===l&&(Kt===4||Kt===3&&(sn&130023424)===sn&&500>Ye()-mu?Fi(r,0):hu|=l),wn(r,s)}function cm(r,s){s===0&&((r.mode&1)===0?s=1:(s=Ae,Ae<<=1,(Ae&130023424)===0&&(Ae=4194304)));var l=gn();r=jr(r,s),r!==null&&(Vs(r,s,l),wn(r,l))}function hx(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),cm(r,l)}function mx(r,s){var l=0;switch(r.tag){case 13:var d=r.stateNode,p=r.memoizedState;p!==null&&(l=p.retryLane);break;case 19:d=r.stateNode;break;default:throw Error(n(314))}d!==null&&d.delete(s),cm(r,l)}var um;um=function(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps||vn.current)bn=!0;else{if((r.lanes&l)===0&&(s.flags&128)===0)return bn=!1,tx(r,s,l);bn=(r.flags&131072)!==0}else bn=!1,St&&(s.flags&1048576)!==0&&Hf(s,xo,s.index);switch(s.lanes=0,s.tag){case 2:var d=s.type;Lo(r,s),r=s.pendingProps;var p=fs(s,un.current);vs(s,l),p=Vc(null,s,d,r,p,l);var y=Kc();return s.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,xn(d)?(y=!0,go(s)):y=!1,s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Ic(s),p.updater=Po,s.stateNode=p,p._reactInternals=s,Jc(s,d,r,l),s=nu(null,s,d,!0,y,l)):(s.tag=0,St&&y&&Nc(s),pn(null,s,p,l),s=s.child),s;case 16:d=s.elementType;e:{switch(Lo(r,s),r=s.pendingProps,p=d._init,d=p(d._payload),s.type=d,p=s.tag=gx(d),r=er(d,r),p){case 0:s=tu(null,s,d,r,l);break e;case 1:s=Oh(null,s,d,r,l);break e;case 11:s=Th(null,s,d,r,l);break e;case 14:s=Ph(null,s,d,er(d.type,r),l);break e}throw Error(n(306,d,""))}return s;case 0:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:er(d,p),tu(r,s,d,p,l);case 1:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:er(d,p),Oh(r,s,d,p,l);case 3:e:{if(Fh(s),r===null)throw Error(n(387));d=s.pendingProps,y=s.memoizedState,p=y.element,Jf(r,s),Co(s,d,null,l);var b=s.memoizedState;if(d=b.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:b.cache,pendingSuspenseBoundaries:b.pendingSuspenseBoundaries,transitions:b.transitions},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){p=bs(Error(n(423)),s),s=Ih(r,s,d,l,p);break e}else if(d!==p){p=bs(Error(n(424)),s),s=Ih(r,s,d,l,p);break e}else for(Dn=ti(s.stateNode.containerInfo.firstChild),Pn=s,St=!0,Zn=null,l=Gf(s,null,d,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(ps(),d===p){s=Mr(r,s,l);break e}pn(r,s,d,l)}s=s.child}return s;case 5:return th(s),r===null&&Tc(s),d=s.type,p=s.pendingProps,y=r!==null?r.memoizedProps:null,b=p.children,wc(d,p)?b=null:y!==null&&wc(d,y)&&(s.flags|=32),Ah(r,s),pn(r,s,b,l),s.child;case 6:return r===null&&Tc(s),null;case 13:return zh(r,s,l);case 4:return zc(s,s.stateNode.containerInfo),d=s.pendingProps,r===null?s.child=gs(s,null,d,l):pn(r,s,d,l),s.child;case 11:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:er(d,p),Th(r,s,d,p,l);case 7:return pn(r,s,s.pendingProps,l),s.child;case 8:return pn(r,s,s.pendingProps.children,l),s.child;case 12:return pn(r,s,s.pendingProps.children,l),s.child;case 10:e:{if(d=s.type._context,p=s.pendingProps,y=s.memoizedProps,b=p.value,ht(wo,d._currentValue),d._currentValue=b,y!==null)if(Jn(y.value,b)){if(y.children===p.children&&!vn.current){s=Mr(r,s,l);break e}}else for(y=s.child,y!==null&&(y.return=s);y!==null;){var j=y.dependencies;if(j!==null){b=y.child;for(var O=j.firstContext;O!==null;){if(O.context===d){if(y.tag===1){O=Nr(-1,l&-l),O.tag=2;var Y=y.updateQueue;if(Y!==null){Y=Y.shared;var ie=Y.pending;ie===null?O.next=O:(O.next=ie.next,ie.next=O),Y.pending=O}}y.lanes|=l,O=y.alternate,O!==null&&(O.lanes|=l),Oc(y.return,l,s),j.lanes|=l;break}O=O.next}}else if(y.tag===10)b=y.type===s.type?null:y.child;else if(y.tag===18){if(b=y.return,b===null)throw Error(n(341));b.lanes|=l,j=b.alternate,j!==null&&(j.lanes|=l),Oc(b,l,s),b=y.sibling}else b=y.child;if(b!==null)b.return=y;else for(b=y;b!==null;){if(b===s){b=null;break}if(y=b.sibling,y!==null){y.return=b.return,b=y;break}b=b.return}y=b}pn(r,s,p.children,l),s=s.child}return s;case 9:return p=s.type,d=s.pendingProps.children,vs(s,l),p=Bn(p),d=d(p),s.flags|=1,pn(r,s,d,l),s.child;case 14:return d=s.type,p=er(d,s.pendingProps),p=er(d.type,p),Ph(r,s,d,p,l);case 15:return Dh(r,s,s.type,s.pendingProps,l);case 17:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:er(d,p),Lo(r,s),s.tag=1,xn(d)?(r=!0,go(s)):r=!1,vs(s,l),kh(s,d,p),Jc(s,d,p,l),nu(null,s,d,!0,r,l);case 19:return Bh(r,s,l);case 22:return Lh(r,s,l)}throw Error(n(156,s.tag))};function dm(r,s){return dt(r,s)}function px(r,s,l,d){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wn(r,s,l,d){return new px(r,s,l,d)}function wu(r){return r=r.prototype,!(!r||!r.isReactComponent)}function gx(r){if(typeof r=="function")return wu(r)?1:0;if(r!=null){if(r=r.$$typeof,r===K)return 11;if(r===oe)return 14}return 2}function fi(r,s){var l=r.alternate;return l===null?(l=Wn(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function Vo(r,s,l,d,p,y){var b=2;if(d=r,typeof r=="function")wu(r)&&(b=1);else if(typeof r=="string")b=5;else e:switch(r){case N:return zi(l.children,p,y,s);case A:b=8,p|=8;break;case V:return r=Wn(12,l,s,p|2),r.elementType=V,r.lanes=y,r;case X:return r=Wn(13,l,s,p),r.elementType=X,r.lanes=y,r;case ne:return r=Wn(19,l,s,p),r.elementType=ne,r.lanes=y,r;case pe:return Ko(l,p,y,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case L:b=10;break e;case D:b=9;break e;case K:b=11;break e;case oe:b=14;break e;case fe:b=16,d=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return s=Wn(b,l,s,p),s.elementType=r,s.type=d,s.lanes=y,s}function zi(r,s,l,d){return r=Wn(7,r,d,s),r.lanes=l,r}function Ko(r,s,l,d){return r=Wn(22,r,d,s),r.elementType=pe,r.lanes=l,r.stateNode={isHidden:!1},r}function Su(r,s,l){return r=Wn(6,r,null,s),r.lanes=l,r}function ku(r,s,l){return s=Wn(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function yx(r,s,l,d,p){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ql(0),this.expirationTimes=ql(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ql(0),this.identifierPrefix=d,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function Cu(r,s,l,d,p,y,b,j,O){return r=new yx(r,s,l,j,O),s===1?(s=1,y===!0&&(s|=8)):s=0,y=Wn(3,null,null,s),r.current=y,y.stateNode=r,y.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ic(y),r}function vx(r,s,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:q,key:d==null?null:""+d,children:r,containerInfo:s,implementation:l}}function fm(r){if(!r)return ri;r=r._reactInternals;e:{if(ge(r)!==r||r.tag!==1)throw Error(n(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(xn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(n(171))}if(r.tag===1){var l=r.type;if(xn(l))return Uf(r,l,s)}return s}function hm(r,s,l,d,p,y,b,j,O){return r=Cu(l,d,!0,r,p,y,b,j,O),r.context=fm(null),l=r.current,d=gn(),p=ui(l),y=Nr(d,p),y.callback=s??null,ai(l,y,p),r.current.lanes=p,Vs(r,p,d),wn(r,d),r}function Yo(r,s,l,d){var p=s.current,y=gn(),b=ui(p);return l=fm(l),s.context===null?s.context=l:s.pendingContext=l,s=Nr(y,b),s.payload={element:r},d=d===void 0?null:d,d!==null&&(s.callback=d),r=ai(p,s,b),r!==null&&(rr(r,p,b,y),ko(r,p,b)),b}function Xo(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function mm(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function Eu(r,s){mm(r,s),(r=r.alternate)&&mm(r,s)}function xx(){return null}var pm=typeof reportError=="function"?reportError:function(r){console.error(r)};function ju(r){this._internalRoot=r}Qo.prototype.render=ju.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(n(409));Yo(r,s,null,null)},Qo.prototype.unmount=ju.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Oi(function(){Yo(null,r,null,null)}),s[Sr]=null}};function Qo(r){this._internalRoot=r}Qo.prototype.unstable_scheduleHydration=function(r){if(r){var s=qd();r={blockedOn:null,target:r,priority:s};for(var l=0;l<Jr.length&&s!==0&&s<Jr[l].priority;l++);Jr.splice(l,0,r),l===0&&ef(r)}};function Nu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Go(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function gm(){}function bx(r,s,l,d,p){if(p){if(typeof d=="function"){var y=d;d=function(){var Y=Xo(b);y.call(Y)}}var b=hm(s,d,r,0,null,!1,!1,"",gm);return r._reactRootContainer=b,r[Sr]=b.current,sa(r.nodeType===8?r.parentNode:r),Oi(),b}for(;p=r.lastChild;)r.removeChild(p);if(typeof d=="function"){var j=d;d=function(){var Y=Xo(O);j.call(Y)}}var O=Cu(r,0,!1,null,null,!1,!1,"",gm);return r._reactRootContainer=O,r[Sr]=O.current,sa(r.nodeType===8?r.parentNode:r),Oi(function(){Yo(s,O,l,d)}),O}function qo(r,s,l,d,p){var y=l._reactRootContainer;if(y){var b=y;if(typeof p=="function"){var j=p;p=function(){var O=Xo(b);j.call(O)}}Yo(s,b,r,p)}else b=bx(l,s,r,p,d);return Xo(b)}Qd=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var l=$e(s.pendingLanes);l!==0&&(Jl(s,l|1),wn(s,Ye()),(Qe&6)===0&&(Ss=Ye()+500,ii()))}break;case 13:Oi(function(){var d=jr(r,1);if(d!==null){var p=gn();rr(d,r,1,p)}}),Eu(r,1)}},Zl=function(r){if(r.tag===13){var s=jr(r,134217728);if(s!==null){var l=gn();rr(s,r,134217728,l)}Eu(r,134217728)}},Gd=function(r){if(r.tag===13){var s=ui(r),l=jr(r,s);if(l!==null){var d=gn();rr(l,r,s,d)}Eu(r,s)}},qd=function(){return st},Jd=function(r,s){var l=st;try{return st=r,s()}finally{st=l}},pt=function(r,s,l){switch(s){case"input":if(yn(r,l),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var d=l[s];if(d!==r&&d.form===r.form){var p=mo(d);if(!p)throw Error(n(90));lt(d),yn(d,p)}}}break;case"textarea":Ue(r,l);break;case"select":s=l.value,s!=null&&ct(r,!!l.multiple,s,!1)}},Kr=xu,_r=Oi;var _x={usingClientEntryPoint:!1,Events:[la,us,mo,Vr,Ci,xu]},wa={findFiberByHostInstance:Ni,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wx={bundleType:wa.bundleType,version:wa.version,rendererPackageName:wa.rendererPackageName,rendererConfig:wa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Ze(r),r===null?null:r.stateNode},findFiberByHostInstance:wa.findFiberByHostInstance||xx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jo.isDisabled&&Jo.supportsFiber)try{it=Jo.inject(wx),Wt=Jo}catch{}}return Sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_x,Sn.createPortal=function(r,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Nu(s))throw Error(n(200));return vx(r,s,null,l)},Sn.createRoot=function(r,s){if(!Nu(r))throw Error(n(299));var l=!1,d="",p=pm;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),s=Cu(r,1,!1,null,null,l,!1,d,p),r[Sr]=s.current,sa(r.nodeType===8?r.parentNode:r),new ju(s)},Sn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=Ze(s),r=r===null?null:r.stateNode,r},Sn.flushSync=function(r){return Oi(r)},Sn.hydrate=function(r,s,l){if(!Go(s))throw Error(n(200));return qo(null,r,s,!0,l)},Sn.hydrateRoot=function(r,s,l){if(!Nu(r))throw Error(n(405));var d=l!=null&&l.hydratedSources||null,p=!1,y="",b=pm;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(b=l.onRecoverableError)),s=hm(s,null,r,1,l??null,p,!1,y,b),r[Sr]=s.current,sa(r),d)for(r=0;r<d.length;r++)l=d[r],p=l._getVersion,p=p(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,p]:s.mutableSourceEagerHydrationData.push(l,p);return new Qo(s)},Sn.render=function(r,s,l){if(!Go(s))throw Error(n(200));return qo(null,r,s,!1,l)},Sn.unmountComponentAtNode=function(r){if(!Go(r))throw Error(n(40));return r._reactRootContainer?(Oi(function(){qo(null,null,r,!1,function(){r._reactRootContainer=null,r[Sr]=null})}),!0):!1},Sn.unstable_batchedUpdates=xu,Sn.unstable_renderSubtreeIntoContainer=function(r,s,l,d){if(!Go(l))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return qo(r,s,l,!1,d)},Sn.version="18.3.1-next-f1338f8080-20240426",Sn}var km;function Cg(){if(km)return Tu.exports;km=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Tu.exports=Rx(),Tu.exports}var Cm;function Tx(){if(Cm)return Zo;Cm=1;var t=Cg();return Zo.createRoot=t.createRoot,Zo.hydrateRoot=t.hydrateRoot,Zo}var Px=Tx();const Dx=md(Px);var Eg=Cg();const Lx=md(Eg),Ax=kg({__proto__:null,default:Lx},[Eg]);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kt(){return kt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},kt.apply(this,arguments)}var $t;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})($t||($t={}));const Em="popstate";function Ox(t){t===void 0&&(t={});function e(i,a){let{pathname:o,search:c,hash:u}=i.location;return Ha("",{pathname:o,search:c,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){return typeof a=="string"?a:Ji(a)}return Ix(e,n,null,t)}function Ie(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ds(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Fx(){return Math.random().toString(36).substr(2,8)}function jm(t,e){return{usr:t.state,key:t.key,idx:e}}function Ha(t,e,n,i){return n===void 0&&(n=null),kt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Si(e):e,{state:n,key:e&&e.key||i||Fx()})}function Ji(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Si(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function Ix(t,e,n,i){i===void 0&&(i={});let{window:a=document.defaultView,v5Compat:o=!1}=i,c=a.history,u=$t.Pop,f=null,m=g();m==null&&(m=0,c.replaceState(kt({},c.state,{idx:m}),""));function g(){return(c.state||{idx:null}).idx}function v(){u=$t.Pop;let E=g(),T=E==null?null:E-m;m=E,f&&f({action:u,location:C.location,delta:T})}function x(E,T){u=$t.Push;let P=Ha(C.location,E,T);m=g()+1;let B=jm(P,m),z=C.createHref(P);try{c.pushState(B,"",z)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;a.location.assign(z)}o&&f&&f({action:u,location:C.location,delta:1})}function _(E,T){u=$t.Replace;let P=Ha(C.location,E,T);m=g();let B=jm(P,m),z=C.createHref(P);c.replaceState(B,"",z),o&&f&&f({action:u,location:C.location,delta:0})}function k(E){let T=a.location.origin!=="null"?a.location.origin:a.location.href,P=typeof E=="string"?E:Ji(E);return P=P.replace(/ $/,"%20"),Ie(T,"No window.location.(origin|href) available to create URL for href: "+P),new URL(P,T)}let C={get action(){return u},get location(){return t(a,c)},listen(E){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(Em,v),f=E,()=>{a.removeEventListener(Em,v),f=null}},createHref(E){return e(a,E)},createURL:k,encodeLocation(E){let T=k(E);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:x,replace:_,go(E){return c.go(E)}};return C}var at;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(at||(at={}));const zx=new Set(["lazy","caseSensitive","path","id","index","children"]);function Ux(t){return t.index===!0}function Sl(t,e,n,i){return n===void 0&&(n=[]),i===void 0&&(i={}),t.map((a,o)=>{let c=[...n,String(o)],u=typeof a.id=="string"?a.id:c.join("-");if(Ie(a.index!==!0||!a.children,"Cannot specify children on an index route"),Ie(!i[u],'Found a route id collision on id "'+u+`".  Route id's must be globally unique within Data Router usages`),Ux(a)){let f=kt({},a,e(a),{id:u});return i[u]=f,f}else{let f=kt({},a,e(a),{id:u,children:void 0});return i[u]=f,a.children&&(f.children=Sl(a.children,e,c,i)),f}})}function Wi(t,e,n){return n===void 0&&(n="/"),vl(t,e,n,!1)}function vl(t,e,n,i){let a=typeof e=="string"?Si(e):e,o=Ur(a.pathname||"/",n);if(o==null)return null;let c=jg(t);$x(c);let u=null;for(let f=0;u==null&&f<c.length;++f){let m=Zx(o);u=qx(c[f],m,i)}return u}function Bx(t,e){let{route:n,pathname:i,params:a}=t;return{id:n.id,pathname:i,params:a,data:e[n.id],handle:n.handle}}function jg(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let a=(o,c,u)=>{let f={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};f.relativePath.startsWith("/")&&(Ie(f.relativePath.startsWith(i),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(i.length));let m=zr([i,f.relativePath]),g=n.concat(f);o.children&&o.children.length>0&&(Ie(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),jg(o.children,e,g,m)),!(o.path==null&&!o.index)&&e.push({path:m,score:Qx(m,o.index),routesMeta:g})};return t.forEach((o,c)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))a(o,c);else for(let f of Ng(o.path))a(o,c,f)}),e}function Ng(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(i.length===0)return a?[o,""]:[o];let c=Ng(i.join("/")),u=[];return u.push(...c.map(f=>f===""?o:[o,f].join("/"))),a&&u.push(...c),u.map(f=>t.startsWith("/")&&f===""?"/":f)}function $x(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Gx(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const Hx=/^:[\w-]+$/,Wx=3,Vx=2,Kx=1,Yx=10,Xx=-2,Nm=t=>t==="*";function Qx(t,e){let n=t.split("/"),i=n.length;return n.some(Nm)&&(i+=Xx),e&&(i+=Vx),n.filter(a=>!Nm(a)).reduce((a,o)=>a+(Hx.test(o)?Wx:o===""?Kx:Yx),i)}function Gx(t,e){return t.length===e.length&&t.slice(0,-1).every((i,a)=>i===e[a])?t[t.length-1]-e[e.length-1]:0}function qx(t,e,n){n===void 0&&(n=!1);let{routesMeta:i}=t,a={},o="/",c=[];for(let u=0;u<i.length;++u){let f=i[u],m=u===i.length-1,g=o==="/"?e:e.slice(o.length)||"/",v=kl({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},g),x=f.route;if(!v&&m&&n&&!i[i.length-1].route.index&&(v=kl({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!v)return null;Object.assign(a,v.params),c.push({params:a,pathname:zr([o,v.pathname]),pathnameBase:n0(zr([o,v.pathnameBase])),route:x}),v.pathnameBase!=="/"&&(o=zr([o,v.pathnameBase]))}return c}function kl(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=Jx(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let o=a[0],c=o.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:i.reduce((m,g,v)=>{let{paramName:x,isOptional:_}=g;if(x==="*"){let C=u[v]||"";c=o.slice(0,o.length-C.length).replace(/(.)\/+$/,"$1")}const k=u[v];return _&&!k?m[x]=void 0:m[x]=(k||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:c,pattern:t}}function Jx(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Ds(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,f)=>(i.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function Zx(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ds(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ur(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function e0(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:a=""}=typeof t=="string"?Si(t):t;return{pathname:n?n.startsWith("/")?n:t0(n,e):e,search:r0(i),hash:i0(a)}}function t0(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Lu(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Mg(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ul(t,e){let n=Mg(t);return e?n.map((i,a)=>a===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function Bl(t,e,n,i){i===void 0&&(i=!1);let a;typeof t=="string"?a=Si(t):(a=kt({},t),Ie(!a.pathname||!a.pathname.includes("?"),Lu("?","pathname","search",a)),Ie(!a.pathname||!a.pathname.includes("#"),Lu("#","pathname","hash",a)),Ie(!a.search||!a.search.includes("#"),Lu("#","search","hash",a)));let o=t===""||a.pathname==="",c=o?"/":a.pathname,u;if(c==null)u=n;else{let v=e.length-1;if(!i&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),v-=1;a.pathname=x.join("/")}u=v>=0?e[v]:"/"}let f=e0(a,u),m=c&&c!=="/"&&c.endsWith("/"),g=(o||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(m||g)&&(f.pathname+="/"),f}const zr=t=>t.join("/").replace(/\/\/+/g,"/"),n0=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),r0=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,i0=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Cl{constructor(e,n,i,a){a===void 0&&(a=!1),this.status=e,this.statusText=n||"",this.internal=a,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}}function Wa(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Rg=["post","put","patch","delete"],s0=new Set(Rg),a0=["get",...Rg],o0=new Set(a0),l0=new Set([301,302,303,307,308]),c0=new Set([307,308]),Au={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},u0={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ka={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},gd=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,d0=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),Tg="remix-router-transitions";function f0(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",i=!n;Ie(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let a;if(t.mapRouteProperties)a=t.mapRouteProperties;else if(t.detectErrorBoundary){let R=t.detectErrorBoundary;a=U=>({hasErrorBoundary:R(U)})}else a=d0;let o={},c=Sl(t.routes,a,void 0,o),u,f=t.basename||"/",m=t.dataStrategy||g0,g=t.patchRoutesOnNavigation,v=kt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),x=null,_=new Set,k=null,C=null,E=null,T=t.hydrationData!=null,P=Wi(c,t.history.location,f),B=!1,z=null;if(P==null&&!g){let R=Cn(404,{pathname:t.history.location.pathname}),{matches:U,route:Q}=zm(c);P=U,z={[Q.id]:R}}P&&!t.hydrationData&&_r(P,c,t.history.location.pathname).active&&(P=null);let H;if(P)if(P.some(R=>R.route.lazy))H=!1;else if(!P.some(R=>R.route.loader))H=!0;else if(v.v7_partialHydration){let R=t.hydrationData?t.hydrationData.loaderData:null,U=t.hydrationData?t.hydrationData.errors:null;if(U){let Q=P.findIndex(te=>U[te.route.id]!==void 0);H=P.slice(0,Q+1).every(te=>!Ju(te.route,R,U))}else H=P.every(Q=>!Ju(Q.route,R,U))}else H=t.hydrationData!=null;else if(H=!1,P=[],v.v7_partialHydration){let R=_r(null,c,t.history.location.pathname);R.active&&R.matches&&(B=!0,P=R.matches)}let q,N={historyAction:t.history.action,location:t.history.location,matches:P,initialized:H,navigation:Au,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||z,fetchers:new Map,blockers:new Map},A=$t.Pop,V=!1,L,D=!1,K=new Map,X=null,ne=!1,oe=!1,fe=[],pe=new Set,Z=new Map,se=0,M=-1,S=new Map,F=new Set,ee=new Map,ae=new Map,ce=new Set,de=new Map,De=new Map,ke;function Ve(){if(x=t.history.listen(R=>{let{action:U,location:Q,delta:te}=R;if(ke){ke(),ke=void 0;return}Ds(De.size===0||te!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let he=pt({currentLocation:N.location,nextLocation:Q,historyAction:U});if(he&&te!=null){let Ee=new Promise(Re=>{ke=Re});t.history.go(te*-1),Ut(he,{state:"blocked",location:Q,proceed(){Ut(he,{state:"proceeding",proceed:void 0,reset:void 0,location:Q}),Ee.then(()=>t.history.go(te))},reset(){let Re=new Map(N.blockers);Re.set(he,ka),lt({blockers:Re})}});return}return an(U,Q)}),n){R0(e,K);let R=()=>T0(e,K);e.addEventListener("pagehide",R),X=()=>e.removeEventListener("pagehide",R)}return N.initialized||an($t.Pop,N.location,{initialHydration:!0}),q}function Je(){x&&x(),X&&X(),_.clear(),L&&L.abort(),N.fetchers.forEach((R,U)=>jt(U)),N.blockers.forEach((R,U)=>zt(U))}function It(R){return _.add(R),()=>_.delete(R)}function lt(R,U){U===void 0&&(U={}),N=kt({},N,R);let Q=[],te=[];v.v7_fetcherPersist&&N.fetchers.forEach((he,Ee)=>{he.state==="idle"&&(ce.has(Ee)?te.push(Ee):Q.push(Ee))}),ce.forEach(he=>{!N.fetchers.has(he)&&!Z.has(he)&&te.push(he)}),[..._].forEach(he=>he(N,{deletedFetchers:te,viewTransitionOpts:U.viewTransitionOpts,flushSync:U.flushSync===!0})),v.v7_fetcherPersist?(Q.forEach(he=>N.fetchers.delete(he)),te.forEach(he=>jt(he))):te.forEach(he=>ce.delete(he))}function tt(R,U,Q){var te,he;let{flushSync:Ee}=Q===void 0?{}:Q,Re=N.actionData!=null&&N.navigation.formMethod!=null&&ir(N.navigation.formMethod)&&N.navigation.state==="loading"&&((te=R.state)==null?void 0:te._isRedirect)!==!0,be;U.actionData?Object.keys(U.actionData).length>0?be=U.actionData:be=null:Re?be=N.actionData:be=null;let we=U.loaderData?Fm(N.loaderData,U.loaderData,U.matches||[],U.errors):N.loaderData,xe=N.blockers;xe.size>0&&(xe=new Map(xe),xe.forEach((ze,Nt)=>xe.set(Nt,ka)));let ge=V===!0||N.navigation.formMethod!=null&&ir(N.navigation.formMethod)&&((he=R.state)==null?void 0:he._isRedirect)!==!0;u&&(c=u,u=void 0),ne||A===$t.Pop||(A===$t.Push?t.history.push(R,R.state):A===$t.Replace&&t.history.replace(R,R.state));let Le;if(A===$t.Pop){let ze=K.get(N.location.pathname);ze&&ze.has(R.pathname)?Le={currentLocation:N.location,nextLocation:R}:K.has(R.pathname)&&(Le={currentLocation:R,nextLocation:N.location})}else if(D){let ze=K.get(N.location.pathname);ze?ze.add(R.pathname):(ze=new Set([R.pathname]),K.set(N.location.pathname,ze)),Le={currentLocation:N.location,nextLocation:R}}lt(kt({},U,{actionData:be,loaderData:we,historyAction:A,location:R,initialized:!0,navigation:Au,revalidation:"idle",restoreScrollPosition:Kr(R,U.matches||N.matches),preventScrollReset:ge,blockers:xe}),{viewTransitionOpts:Le,flushSync:Ee===!0}),A=$t.Pop,V=!1,D=!1,ne=!1,oe=!1,fe=[]}async function Lt(R,U){if(typeof R=="number"){t.history.go(R);return}let Q=qu(N.location,N.matches,f,v.v7_prependBasename,R,v.v7_relativeSplatPath,U?.fromRouteId,U?.relative),{path:te,submission:he,error:Ee}=Mm(v.v7_normalizeFormMethod,!1,Q,U),Re=N.location,be=Ha(N.location,te,U&&U.state);be=kt({},be,t.history.encodeLocation(be));let we=U&&U.replace!=null?U.replace:void 0,xe=$t.Push;we===!0?xe=$t.Replace:we===!1||he!=null&&ir(he.formMethod)&&he.formAction===N.location.pathname+N.location.search&&(xe=$t.Replace);let ge=U&&"preventScrollReset"in U?U.preventScrollReset===!0:void 0,Le=(U&&U.flushSync)===!0,ze=pt({currentLocation:Re,nextLocation:be,historyAction:xe});if(ze){Ut(ze,{state:"blocked",location:be,proceed(){Ut(ze,{state:"proceeding",proceed:void 0,reset:void 0,location:be}),Lt(R,U)},reset(){let Nt=new Map(N.blockers);Nt.set(ze,ka),lt({blockers:Nt})}});return}return await an(xe,be,{submission:he,pendingError:Ee,preventScrollReset:ge,replace:U&&U.replace,enableViewTransition:U&&U.viewTransition,flushSync:Le})}function Fn(){if(on(),lt({revalidation:"loading"}),N.navigation.state!=="submitting"){if(N.navigation.state==="idle"){an(N.historyAction,N.location,{startUninterruptedRevalidation:!0});return}an(A||N.historyAction,N.navigation.location,{overrideNavigation:N.navigation,enableViewTransition:D===!0})}}async function an(R,U,Q){L&&L.abort(),L=null,A=R,ne=(Q&&Q.startUninterruptedRevalidation)===!0,Ci(N.location,N.matches),V=(Q&&Q.preventScrollReset)===!0,D=(Q&&Q.enableViewTransition)===!0;let te=u||c,he=Q&&Q.overrideNavigation,Ee=Q!=null&&Q.initialHydration&&N.matches&&N.matches.length>0&&!B?N.matches:Wi(te,U,f),Re=(Q&&Q.flushSync)===!0;if(Ee&&N.initialized&&!oe&&w0(N.location,U)&&!(Q&&Q.submission&&ir(Q.submission.formMethod))){tt(U,{matches:Ee},{flushSync:Re});return}let be=_r(Ee,te,U.pathname);if(be.active&&be.matches&&(Ee=be.matches),!Ee){let{error:Ze,notFoundMatches:Ke,route:dt}=ln(U.pathname);tt(U,{matches:Ke,loaderData:{},errors:{[dt.id]:Ze}},{flushSync:Re});return}L=new AbortController;let we=Cs(t.history,U,L.signal,Q&&Q.submission),xe;if(Q&&Q.pendingError)xe=[Vi(Ee).route.id,{type:at.error,error:Q.pendingError}];else if(Q&&Q.submission&&ir(Q.submission.formMethod)){let Ze=await yn(we,U,Q.submission,Ee,be.active,{replace:Q.replace,flushSync:Re});if(Ze.shortCircuited)return;if(Ze.pendingActionResult){let[Ke,dt]=Ze.pendingActionResult;if(On(dt)&&Wa(dt.error)&&dt.error.status===404){L=null,tt(U,{matches:Ze.matches,loaderData:{},errors:{[Ke]:dt.error}});return}}Ee=Ze.matches||Ee,xe=Ze.pendingActionResult,he=Ou(U,Q.submission),Re=!1,be.active=!1,we=Cs(t.history,we.url,we.signal)}let{shortCircuited:ge,matches:Le,loaderData:ze,errors:Nt}=await nn(we,U,Ee,be.active,he,Q&&Q.submission,Q&&Q.fetcherSubmission,Q&&Q.replace,Q&&Q.initialHydration===!0,Re,xe);ge||(L=null,tt(U,kt({matches:Le||Ee},Im(xe),{loaderData:ze,errors:Nt})))}async function yn(R,U,Q,te,he,Ee){Ee===void 0&&(Ee={}),on();let Re=N0(U,Q);if(lt({navigation:Re},{flushSync:Ee.flushSync===!0}),he){let xe=await Mn(te,U.pathname,R.signal);if(xe.type==="aborted")return{shortCircuited:!0};if(xe.type==="error"){let ge=Vi(xe.partialMatches).route.id;return{matches:xe.partialMatches,pendingActionResult:[ge,{type:at.error,error:xe.error}]}}else if(xe.matches)te=xe.matches;else{let{notFoundMatches:ge,error:Le,route:ze}=ln(U.pathname);return{matches:ge,pendingActionResult:[ze.id,{type:at.error,error:Le}]}}}let be,we=Da(te,U);if(!we.route.action&&!we.route.lazy)be={type:at.error,error:Cn(405,{method:R.method,pathname:U.pathname,routeId:we.route.id})};else if(be=(await bt("action",N,R,[we],te,null))[we.route.id],R.signal.aborted)return{shortCircuited:!0};if(Yi(be)){let xe;return Ee&&Ee.replace!=null?xe=Ee.replace:xe=Lm(be.response.headers.get("Location"),new URL(R.url),f)===N.location.pathname+N.location.search,await Ue(R,be,!0,{submission:Q,replace:xe}),{shortCircuited:!0}}if(gi(be))throw Cn(400,{type:"defer-action"});if(On(be)){let xe=Vi(te,we.route.id);return(Ee&&Ee.replace)!==!0&&(A=$t.Push),{matches:te,pendingActionResult:[xe.route.id,be]}}return{matches:te,pendingActionResult:[we.route.id,be]}}async function nn(R,U,Q,te,he,Ee,Re,be,we,xe,ge){let Le=he||Ou(U,Ee),ze=Ee||Re||Bm(Le),Nt=!ne&&(!v.v7_partialHydration||!we);if(te){if(Nt){let it=Ct(ge);lt(kt({navigation:Le},it!==void 0?{actionData:it}:{}),{flushSync:xe})}let We=await Mn(Q,U.pathname,R.signal);if(We.type==="aborted")return{shortCircuited:!0};if(We.type==="error"){let it=Vi(We.partialMatches).route.id;return{matches:We.partialMatches,loaderData:{},errors:{[it]:We.error}}}else if(We.matches)Q=We.matches;else{let{error:it,notFoundMatches:Wt,route:Yr}=ln(U.pathname);return{matches:Wt,loaderData:{},errors:{[Yr.id]:it}}}}let Ze=u||c,[Ke,dt]=Tm(t.history,N,Q,ze,U,v.v7_partialHydration&&we===!0,v.v7_skipActionErrorRevalidation,oe,fe,pe,ce,ee,F,Ze,f,ge);if(cn(We=>!(Q&&Q.some(it=>it.route.id===We))||Ke&&Ke.some(it=>it.route.id===We)),M=++se,Ke.length===0&&dt.length===0){let We=nt();return tt(U,kt({matches:Q,loaderData:{},errors:ge&&On(ge[1])?{[ge[0]]:ge[1].error}:null},Im(ge),We?{fetchers:new Map(N.fetchers)}:{}),{flushSync:xe}),{shortCircuited:!0}}if(Nt){let We={};if(!te){We.navigation=Le;let it=Ct(ge);it!==void 0&&(We.actionData=it)}dt.length>0&&(We.fetchers=Xt(dt)),lt(We,{flushSync:xe})}dt.forEach(We=>{G(We.key),We.controller&&Z.set(We.key,We.controller)});let Xn=()=>dt.forEach(We=>G(We.key));L&&L.signal.addEventListener("abort",Xn);let{loaderResults:or,fetcherResults:Rn}=await Et(N,Q,Ke,dt,R);if(R.signal.aborted)return{shortCircuited:!0};L&&L.signal.removeEventListener("abort",Xn),dt.forEach(We=>Z.delete(We.key));let Ye=el(or);if(Ye)return await Ue(R,Ye.result,!0,{replace:be}),{shortCircuited:!0};if(Ye=el(Rn),Ye)return F.add(Ye.key),await Ue(R,Ye.result,!0,{replace:be}),{shortCircuited:!0};let{loaderData:ji,errors:Qn}=Om(N,Q,or,ge,dt,Rn,de);de.forEach((We,it)=>{We.subscribe(Wt=>{(Wt||We.done)&&de.delete(it)})}),v.v7_partialHydration&&we&&N.errors&&(Qn=kt({},N.errors,Qn));let In=nt(),Gn=_t(M),qn=In||Gn||dt.length>0;return kt({matches:Q,loaderData:ji,errors:Qn},qn?{fetchers:new Map(N.fetchers)}:{})}function Ct(R){if(R&&!On(R[1]))return{[R[0]]:R[1].data};if(N.actionData)return Object.keys(N.actionData).length===0?null:N.actionData}function Xt(R){return R.forEach(U=>{let Q=N.fetchers.get(U.key),te=Ca(void 0,Q?Q.data:void 0);N.fetchers.set(U.key,te)}),new Map(N.fetchers)}function ct(R,U,Q,te){if(i)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");G(R);let he=(te&&te.flushSync)===!0,Ee=u||c,Re=qu(N.location,N.matches,f,v.v7_prependBasename,Q,v.v7_relativeSplatPath,U,te?.relative),be=Wi(Ee,Re,f),we=_r(be,Ee,Re);if(we.active&&we.matches&&(be=we.matches),!be){ut(R,U,Cn(404,{pathname:Re}),{flushSync:he});return}let{path:xe,submission:ge,error:Le}=Mm(v.v7_normalizeFormMethod,!0,Re,te);if(Le){ut(R,U,Le,{flushSync:he});return}let ze=Da(be,xe),Nt=(te&&te.preventScrollReset)===!0;if(ge&&ir(ge.formMethod)){me(R,U,xe,ze,be,we.active,he,Nt,ge);return}ee.set(R,{routeId:U,path:xe}),Me(R,U,xe,ze,be,we.active,he,Nt,ge)}async function me(R,U,Q,te,he,Ee,Re,be,we){on(),ee.delete(R);function xe(Xe){if(!Xe.route.action&&!Xe.route.lazy){let J=Cn(405,{method:we.formMethod,pathname:Q,routeId:U});return ut(R,U,J,{flushSync:Re}),!0}return!1}if(!Ee&&xe(te))return;let ge=N.fetchers.get(R);rt(R,M0(we,ge),{flushSync:Re});let Le=new AbortController,ze=Cs(t.history,Q,Le.signal,we);if(Ee){let Xe=await Mn(he,new URL(ze.url).pathname,ze.signal,R);if(Xe.type==="aborted")return;if(Xe.type==="error"){ut(R,U,Xe.error,{flushSync:Re});return}else if(Xe.matches){if(he=Xe.matches,te=Da(he,Q),xe(te))return}else{ut(R,U,Cn(404,{pathname:Q}),{flushSync:Re});return}}Z.set(R,Le);let Nt=se,Ke=(await bt("action",N,ze,[te],he,R))[te.route.id];if(ze.signal.aborted){Z.get(R)===Le&&Z.delete(R);return}if(v.v7_fetcherPersist&&ce.has(R)){if(Yi(Ke)||On(Ke)){rt(R,pi(void 0));return}}else{if(Yi(Ke))if(Z.delete(R),M>Nt){rt(R,pi(void 0));return}else return F.add(R),rt(R,Ca(we)),Ue(ze,Ke,!1,{fetcherSubmission:we,preventScrollReset:be});if(On(Ke)){ut(R,U,Ke.error);return}}if(gi(Ke))throw Cn(400,{type:"defer-action"});let dt=N.navigation.location||N.location,Xn=Cs(t.history,dt,Le.signal),or=u||c,Rn=N.navigation.state!=="idle"?Wi(or,N.navigation.location,f):N.matches;Ie(Rn,"Didn't find any matches after fetcher action");let Ye=++se;S.set(R,Ye);let ji=Ca(we,Ke.data);N.fetchers.set(R,ji);let[Qn,In]=Tm(t.history,N,Rn,we,dt,!1,v.v7_skipActionErrorRevalidation,oe,fe,pe,ce,ee,F,or,f,[te.route.id,Ke]);In.filter(Xe=>Xe.key!==R).forEach(Xe=>{let J=Xe.key,ve=N.fetchers.get(J),Be=Ca(void 0,ve?ve.data:void 0);N.fetchers.set(J,Be),G(J),Xe.controller&&Z.set(J,Xe.controller)}),lt({fetchers:new Map(N.fetchers)});let Gn=()=>In.forEach(Xe=>G(Xe.key));Le.signal.addEventListener("abort",Gn);let{loaderResults:qn,fetcherResults:We}=await Et(N,Rn,Qn,In,Xn);if(Le.signal.aborted)return;Le.signal.removeEventListener("abort",Gn),S.delete(R),Z.delete(R),In.forEach(Xe=>Z.delete(Xe.key));let it=el(qn);if(it)return Ue(Xn,it.result,!1,{preventScrollReset:be});if(it=el(We),it)return F.add(it.key),Ue(Xn,it.result,!1,{preventScrollReset:be});let{loaderData:Wt,errors:Yr}=Om(N,Rn,qn,void 0,In,We,de);if(N.fetchers.has(R)){let Xe=pi(Ke.data);N.fetchers.set(R,Xe)}_t(Ye),N.navigation.state==="loading"&&Ye>M?(Ie(A,"Expected pending action"),L&&L.abort(),tt(N.navigation.location,{matches:Rn,loaderData:Wt,errors:Yr,fetchers:new Map(N.fetchers)})):(lt({errors:Yr,loaderData:Fm(N.loaderData,Wt,Rn,Yr),fetchers:new Map(N.fetchers)}),oe=!1)}async function Me(R,U,Q,te,he,Ee,Re,be,we){let xe=N.fetchers.get(R);rt(R,Ca(we,xe?xe.data:void 0),{flushSync:Re});let ge=new AbortController,Le=Cs(t.history,Q,ge.signal);if(Ee){let Ke=await Mn(he,new URL(Le.url).pathname,Le.signal,R);if(Ke.type==="aborted")return;if(Ke.type==="error"){ut(R,U,Ke.error,{flushSync:Re});return}else if(Ke.matches)he=Ke.matches,te=Da(he,Q);else{ut(R,U,Cn(404,{pathname:Q}),{flushSync:Re});return}}Z.set(R,ge);let ze=se,Ze=(await bt("loader",N,Le,[te],he,R))[te.route.id];if(gi(Ze)&&(Ze=await yd(Ze,Le.signal,!0)||Ze),Z.get(R)===ge&&Z.delete(R),!Le.signal.aborted){if(ce.has(R)){rt(R,pi(void 0));return}if(Yi(Ze))if(M>ze){rt(R,pi(void 0));return}else{F.add(R),await Ue(Le,Ze,!1,{preventScrollReset:be});return}if(On(Ze)){ut(R,U,Ze.error);return}Ie(!gi(Ze),"Unhandled fetcher deferred data"),rt(R,pi(Ze.data))}}async function Ue(R,U,Q,te){let{submission:he,fetcherSubmission:Ee,preventScrollReset:Re,replace:be}=te===void 0?{}:te;U.response.headers.has("X-Remix-Revalidate")&&(oe=!0);let we=U.response.headers.get("Location");Ie(we,"Expected a Location header on the redirect Response"),we=Lm(we,new URL(R.url),f);let xe=Ha(N.location,we,{_isRedirect:!0});if(n){let Ke=!1;if(U.response.headers.has("X-Remix-Reload-Document"))Ke=!0;else if(gd.test(we)){const dt=t.history.createURL(we);Ke=dt.origin!==e.location.origin||Ur(dt.pathname,f)==null}if(Ke){be?e.location.replace(we):e.location.assign(we);return}}L=null;let ge=be===!0||U.response.headers.has("X-Remix-Replace")?$t.Replace:$t.Push,{formMethod:Le,formAction:ze,formEncType:Nt}=N.navigation;!he&&!Ee&&Le&&ze&&Nt&&(he=Bm(N.navigation));let Ze=he||Ee;if(c0.has(U.response.status)&&Ze&&ir(Ze.formMethod))await an(ge,xe,{submission:kt({},Ze,{formAction:we}),preventScrollReset:Re||V,enableViewTransition:Q?D:void 0});else{let Ke=Ou(xe,he);await an(ge,xe,{overrideNavigation:Ke,fetcherSubmission:Ee,preventScrollReset:Re||V,enableViewTransition:Q?D:void 0})}}async function bt(R,U,Q,te,he,Ee){let Re,be={};try{Re=await y0(m,R,U,Q,te,he,Ee,o,a)}catch(we){return te.forEach(xe=>{be[xe.route.id]={type:at.error,error:we}}),be}for(let[we,xe]of Object.entries(Re))if(S0(xe)){let ge=xe.result;be[we]={type:at.redirect,response:b0(ge,Q,we,he,f,v.v7_relativeSplatPath)}}else be[we]=await x0(xe);return be}async function Et(R,U,Q,te,he){let Ee=R.matches,Re=bt("loader",R,he,Q,U,null),be=Promise.all(te.map(async ge=>{if(ge.matches&&ge.match&&ge.controller){let ze=(await bt("loader",R,Cs(t.history,ge.path,ge.controller.signal),[ge.match],ge.matches,ge.key))[ge.match.route.id];return{[ge.key]:ze}}else return Promise.resolve({[ge.key]:{type:at.error,error:Cn(404,{pathname:ge.path})}})})),we=await Re,xe=(await be).reduce((ge,Le)=>Object.assign(ge,Le),{});return await Promise.all([E0(U,we,he.signal,Ee,R.loaderData),j0(U,xe,te)]),{loaderResults:we,fetcherResults:xe}}function on(){oe=!0,fe.push(...cn()),ee.forEach((R,U)=>{Z.has(U)&&pe.add(U),G(U)})}function rt(R,U,Q){Q===void 0&&(Q={}),N.fetchers.set(R,U),lt({fetchers:new Map(N.fetchers)},{flushSync:(Q&&Q.flushSync)===!0})}function ut(R,U,Q,te){te===void 0&&(te={});let he=Vi(N.matches,U);jt(R),lt({errors:{[he.route.id]:Q},fetchers:new Map(N.fetchers)},{flushSync:(te&&te.flushSync)===!0})}function Qt(R){return ae.set(R,(ae.get(R)||0)+1),ce.has(R)&&ce.delete(R),N.fetchers.get(R)||u0}function jt(R){let U=N.fetchers.get(R);Z.has(R)&&!(U&&U.state==="loading"&&S.has(R))&&G(R),ee.delete(R),S.delete(R),F.delete(R),v.v7_fetcherPersist&&ce.delete(R),pe.delete(R),N.fetchers.delete(R)}function Yn(R){let U=(ae.get(R)||0)-1;U<=0?(ae.delete(R),ce.add(R),v.v7_fetcherPersist||jt(R)):ae.set(R,U),lt({fetchers:new Map(N.fetchers)})}function G(R){let U=Z.get(R);U&&(U.abort(),Z.delete(R))}function Ne(R){for(let U of R){let Q=Qt(U),te=pi(Q.data);N.fetchers.set(U,te)}}function nt(){let R=[],U=!1;for(let Q of F){let te=N.fetchers.get(Q);Ie(te,"Expected fetcher: "+Q),te.state==="loading"&&(F.delete(Q),R.push(Q),U=!0)}return Ne(R),U}function _t(R){let U=[];for(let[Q,te]of S)if(te<R){let he=N.fetchers.get(Q);Ie(he,"Expected fetcher: "+Q),he.state==="loading"&&(G(Q),S.delete(Q),U.push(Q))}return Ne(U),U.length>0}function Pt(R,U){let Q=N.blockers.get(R)||ka;return De.get(R)!==U&&De.set(R,U),Q}function zt(R){N.blockers.delete(R),De.delete(R)}function Ut(R,U){let Q=N.blockers.get(R)||ka;Ie(Q.state==="unblocked"&&U.state==="blocked"||Q.state==="blocked"&&U.state==="blocked"||Q.state==="blocked"&&U.state==="proceeding"||Q.state==="blocked"&&U.state==="unblocked"||Q.state==="proceeding"&&U.state==="unblocked","Invalid blocker state transition: "+Q.state+" -> "+U.state);let te=new Map(N.blockers);te.set(R,U),lt({blockers:te})}function pt(R){let{currentLocation:U,nextLocation:Q,historyAction:te}=R;if(De.size===0)return;De.size>1&&Ds(!1,"A router only supports one blocker at a time");let he=Array.from(De.entries()),[Ee,Re]=he[he.length-1],be=N.blockers.get(Ee);if(!(be&&be.state==="proceeding")&&Re({currentLocation:U,nextLocation:Q,historyAction:te}))return Ee}function ln(R){let U=Cn(404,{pathname:R}),Q=u||c,{matches:te,route:he}=zm(Q);return cn(),{notFoundMatches:te,route:he,error:U}}function cn(R){let U=[];return de.forEach((Q,te)=>{(!R||R(te))&&(Q.cancel(),U.push(te),de.delete(te))}),U}function Wr(R,U,Q){if(k=R,E=U,C=Q||null,!T&&N.navigation===Au){T=!0;let te=Kr(N.location,N.matches);te!=null&&lt({restoreScrollPosition:te})}return()=>{k=null,E=null,C=null}}function Vr(R,U){return C&&C(R,U.map(te=>Bx(te,N.loaderData)))||R.key}function Ci(R,U){if(k&&E){let Q=Vr(R,U);k[Q]=E()}}function Kr(R,U){if(k){let Q=Vr(R,U),te=k[Q];if(typeof te=="number")return te}return null}function _r(R,U,Q){if(g)if(R){if(Object.keys(R[0].params).length>0)return{active:!0,matches:vl(U,Q,f,!0)}}else return{active:!0,matches:vl(U,Q,f,!0)||[]};return{active:!1,matches:null}}async function Mn(R,U,Q,te){if(!g)return{type:"success",matches:R};let he=R;for(;;){let Ee=u==null,Re=u||c,be=o;try{await g({signal:Q,path:U,matches:he,fetcherKey:te,patch:(ge,Le)=>{Q.aborted||Dm(ge,Le,Re,be,a)}})}catch(ge){return{type:"error",error:ge,partialMatches:he}}finally{Ee&&!Q.aborted&&(c=[...c])}if(Q.aborted)return{type:"aborted"};let we=Wi(Re,U,f);if(we)return{type:"success",matches:we};let xe=vl(Re,U,f,!0);if(!xe||he.length===xe.length&&he.every((ge,Le)=>ge.route.id===xe[Le].route.id))return{type:"success",matches:null};he=xe}}function Ei(R){o={},u=Sl(R,a,void 0,o)}function ar(R,U){let Q=u==null;Dm(R,U,u||c,o,a),Q&&(c=[...c],lt({}))}return q={get basename(){return f},get future(){return v},get state(){return N},get routes(){return c},get window(){return e},initialize:Ve,subscribe:It,enableScrollRestoration:Wr,navigate:Lt,fetch:ct,revalidate:Fn,createHref:R=>t.history.createHref(R),encodeLocation:R=>t.history.encodeLocation(R),getFetcher:Qt,deleteFetcher:Yn,dispose:Je,getBlocker:Pt,deleteBlocker:zt,patchRoutes:ar,_internalFetchControllers:Z,_internalActiveDeferreds:de,_internalSetRoutes:Ei},q}function h0(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function qu(t,e,n,i,a,o,c,u){let f,m;if(c){f=[];for(let v of e)if(f.push(v),v.route.id===c){m=v;break}}else f=e,m=e[e.length-1];let g=Bl(a||".",Ul(f,o),Ur(t.pathname,n)||t.pathname,u==="path");if(a==null&&(g.search=t.search,g.hash=t.hash),(a==null||a===""||a===".")&&m){let v=vd(g.search);if(m.route.index&&!v)g.search=g.search?g.search.replace(/^\?/,"?index&"):"?index";else if(!m.route.index&&v){let x=new URLSearchParams(g.search),_=x.getAll("index");x.delete("index"),_.filter(C=>C).forEach(C=>x.append("index",C));let k=x.toString();g.search=k?"?"+k:""}}return i&&n!=="/"&&(g.pathname=g.pathname==="/"?n:zr([n,g.pathname])),Ji(g)}function Mm(t,e,n,i){if(!i||!h0(i))return{path:n};if(i.formMethod&&!C0(i.formMethod))return{path:n,error:Cn(405,{method:i.formMethod})};let a=()=>({path:n,error:Cn(400,{type:"invalid-body"})}),o=i.formMethod||"get",c=t?o.toUpperCase():o.toLowerCase(),u=Lg(n);if(i.body!==void 0){if(i.formEncType==="text/plain"){if(!ir(c))return a();let x=typeof i.body=="string"?i.body:i.body instanceof FormData||i.body instanceof URLSearchParams?Array.from(i.body.entries()).reduce((_,k)=>{let[C,E]=k;return""+_+C+"="+E+`
`},""):String(i.body);return{path:n,submission:{formMethod:c,formAction:u,formEncType:i.formEncType,formData:void 0,json:void 0,text:x}}}else if(i.formEncType==="application/json"){if(!ir(c))return a();try{let x=typeof i.body=="string"?JSON.parse(i.body):i.body;return{path:n,submission:{formMethod:c,formAction:u,formEncType:i.formEncType,formData:void 0,json:x,text:void 0}}}catch{return a()}}}Ie(typeof FormData=="function","FormData is not available in this environment");let f,m;if(i.formData)f=Zu(i.formData),m=i.formData;else if(i.body instanceof FormData)f=Zu(i.body),m=i.body;else if(i.body instanceof URLSearchParams)f=i.body,m=Am(f);else if(i.body==null)f=new URLSearchParams,m=new FormData;else try{f=new URLSearchParams(i.body),m=Am(f)}catch{return a()}let g={formMethod:c,formAction:u,formEncType:i&&i.formEncType||"application/x-www-form-urlencoded",formData:m,json:void 0,text:void 0};if(ir(g.formMethod))return{path:n,submission:g};let v=Si(n);return e&&v.search&&vd(v.search)&&f.append("index",""),v.search="?"+f,{path:Ji(v),submission:g}}function Rm(t,e,n){n===void 0&&(n=!1);let i=t.findIndex(a=>a.route.id===e);return i>=0?t.slice(0,n?i+1:i):t}function Tm(t,e,n,i,a,o,c,u,f,m,g,v,x,_,k,C){let E=C?On(C[1])?C[1].error:C[1].data:void 0,T=t.createURL(e.location),P=t.createURL(a),B=n;o&&e.errors?B=Rm(n,Object.keys(e.errors)[0],!0):C&&On(C[1])&&(B=Rm(n,C[0]));let z=C?C[1].statusCode:void 0,H=c&&z&&z>=400,q=B.filter((A,V)=>{let{route:L}=A;if(L.lazy)return!0;if(L.loader==null)return!1;if(o)return Ju(L,e.loaderData,e.errors);if(m0(e.loaderData,e.matches[V],A)||f.some(X=>X===A.route.id))return!0;let D=e.matches[V],K=A;return Pm(A,kt({currentUrl:T,currentParams:D.params,nextUrl:P,nextParams:K.params},i,{actionResult:E,actionStatus:z,defaultShouldRevalidate:H?!1:u||T.pathname+T.search===P.pathname+P.search||T.search!==P.search||Pg(D,K)}))}),N=[];return v.forEach((A,V)=>{if(o||!n.some(ne=>ne.route.id===A.routeId)||g.has(V))return;let L=Wi(_,A.path,k);if(!L){N.push({key:V,routeId:A.routeId,path:A.path,matches:null,match:null,controller:null});return}let D=e.fetchers.get(V),K=Da(L,A.path),X=!1;x.has(V)?X=!1:m.has(V)?(m.delete(V),X=!0):D&&D.state!=="idle"&&D.data===void 0?X=u:X=Pm(K,kt({currentUrl:T,currentParams:e.matches[e.matches.length-1].params,nextUrl:P,nextParams:n[n.length-1].params},i,{actionResult:E,actionStatus:z,defaultShouldRevalidate:H?!1:u})),X&&N.push({key:V,routeId:A.routeId,path:A.path,matches:L,match:K,controller:new AbortController})}),[q,N]}function Ju(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let i=e!=null&&e[t.id]!==void 0,a=n!=null&&n[t.id]!==void 0;return!i&&a?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!i&&!a}function m0(t,e,n){let i=!e||n.route.id!==e.route.id,a=t[n.route.id]===void 0;return i||a}function Pg(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Pm(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function Dm(t,e,n,i,a){var o;let c;if(t){let m=i[t];Ie(m,"No route found to patch children into: routeId = "+t),m.children||(m.children=[]),c=m.children}else c=n;let u=e.filter(m=>!c.some(g=>Dg(m,g))),f=Sl(u,a,[t||"_","patch",String(((o=c)==null?void 0:o.length)||"0")],i);c.push(...f)}function Dg(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,i)=>{var a;return(a=e.children)==null?void 0:a.some(o=>Dg(n,o))}):!1}async function p0(t,e,n){if(!t.lazy)return;let i=await t.lazy();if(!t.lazy)return;let a=n[t.id];Ie(a,"No route found in manifest");let o={};for(let c in i){let f=a[c]!==void 0&&c!=="hasErrorBoundary";Ds(!f,'Route "'+a.id+'" has a static property "'+c+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+c+'" will be ignored.')),!f&&!zx.has(c)&&(o[c]=i[c])}Object.assign(a,o),Object.assign(a,kt({},e(a),{lazy:void 0}))}async function g0(t){let{matches:e}=t,n=e.filter(a=>a.shouldLoad);return(await Promise.all(n.map(a=>a.resolve()))).reduce((a,o,c)=>Object.assign(a,{[n[c].route.id]:o}),{})}async function y0(t,e,n,i,a,o,c,u,f,m){let g=o.map(_=>_.route.lazy?p0(_.route,f,u):void 0),v=o.map((_,k)=>{let C=g[k],E=a.some(P=>P.route.id===_.route.id);return kt({},_,{shouldLoad:E,resolve:async P=>(P&&i.method==="GET"&&(_.route.lazy||_.route.loader)&&(E=!0),E?v0(e,i,_,C,P,m):Promise.resolve({type:at.data,result:void 0}))})}),x=await t({matches:v,request:i,params:o[0].params,fetcherKey:c,context:m});try{await Promise.all(g)}catch{}return x}async function v0(t,e,n,i,a,o){let c,u,f=m=>{let g,v=new Promise((k,C)=>g=C);u=()=>g(),e.signal.addEventListener("abort",u);let x=k=>typeof m!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):m({request:e,params:n.params,context:o},...k!==void 0?[k]:[]),_=(async()=>{try{return{type:"data",result:await(a?a(C=>x(C)):x())}}catch(k){return{type:"error",result:k}}})();return Promise.race([_,v])};try{let m=n.route[t];if(i)if(m){let g,[v]=await Promise.all([f(m).catch(x=>{g=x}),i]);if(g!==void 0)throw g;c=v}else if(await i,m=n.route[t],m)c=await f(m);else if(t==="action"){let g=new URL(e.url),v=g.pathname+g.search;throw Cn(405,{method:e.method,pathname:v,routeId:n.route.id})}else return{type:at.data,result:void 0};else if(m)c=await f(m);else{let g=new URL(e.url),v=g.pathname+g.search;throw Cn(404,{pathname:v})}Ie(c.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(m){return{type:at.error,result:m}}finally{u&&e.signal.removeEventListener("abort",u)}return c}async function x0(t){let{result:e,type:n}=t;if(Ag(e)){let v;try{let x=e.headers.get("Content-Type");x&&/\bapplication\/json\b/.test(x)?e.body==null?v=null:v=await e.json():v=await e.text()}catch(x){return{type:at.error,error:x}}return n===at.error?{type:at.error,error:new Cl(e.status,e.statusText,v),statusCode:e.status,headers:e.headers}:{type:at.data,data:v,statusCode:e.status,headers:e.headers}}if(n===at.error){if(Um(e)){var i,a;if(e.data instanceof Error){var o,c;return{type:at.error,error:e.data,statusCode:(o=e.init)==null?void 0:o.status,headers:(c=e.init)!=null&&c.headers?new Headers(e.init.headers):void 0}}return{type:at.error,error:new Cl(((i=e.init)==null?void 0:i.status)||500,void 0,e.data),statusCode:Wa(e)?e.status:void 0,headers:(a=e.init)!=null&&a.headers?new Headers(e.init.headers):void 0}}return{type:at.error,error:e,statusCode:Wa(e)?e.status:void 0}}if(k0(e)){var u,f;return{type:at.deferred,deferredData:e,statusCode:(u=e.init)==null?void 0:u.status,headers:((f=e.init)==null?void 0:f.headers)&&new Headers(e.init.headers)}}if(Um(e)){var m,g;return{type:at.data,data:e.data,statusCode:(m=e.init)==null?void 0:m.status,headers:(g=e.init)!=null&&g.headers?new Headers(e.init.headers):void 0}}return{type:at.data,data:e}}function b0(t,e,n,i,a,o){let c=t.headers.get("Location");if(Ie(c,"Redirects returned/thrown from loaders/actions must have a Location header"),!gd.test(c)){let u=i.slice(0,i.findIndex(f=>f.route.id===n)+1);c=qu(new URL(e.url),u,a,!0,c,o),t.headers.set("Location",c)}return t}function Lm(t,e,n){if(gd.test(t)){let i=t,a=i.startsWith("//")?new URL(e.protocol+i):new URL(i),o=Ur(a.pathname,n)!=null;if(a.origin===e.origin&&o)return a.pathname+a.search+a.hash}return t}function Cs(t,e,n,i){let a=t.createURL(Lg(e)).toString(),o={signal:n};if(i&&ir(i.formMethod)){let{formMethod:c,formEncType:u}=i;o.method=c.toUpperCase(),u==="application/json"?(o.headers=new Headers({"Content-Type":u}),o.body=JSON.stringify(i.json)):u==="text/plain"?o.body=i.text:u==="application/x-www-form-urlencoded"&&i.formData?o.body=Zu(i.formData):o.body=i.formData}return new Request(a,o)}function Zu(t){let e=new URLSearchParams;for(let[n,i]of t.entries())e.append(n,typeof i=="string"?i:i.name);return e}function Am(t){let e=new FormData;for(let[n,i]of t.entries())e.append(n,i);return e}function _0(t,e,n,i,a){let o={},c=null,u,f=!1,m={},g=n&&On(n[1])?n[1].error:void 0;return t.forEach(v=>{if(!(v.route.id in e))return;let x=v.route.id,_=e[x];if(Ie(!Yi(_),"Cannot handle redirect results in processLoaderData"),On(_)){let k=_.error;g!==void 0&&(k=g,g=void 0),c=c||{};{let C=Vi(t,x);c[C.route.id]==null&&(c[C.route.id]=k)}o[x]=void 0,f||(f=!0,u=Wa(_.error)?_.error.status:500),_.headers&&(m[x]=_.headers)}else gi(_)?(i.set(x,_.deferredData),o[x]=_.deferredData.data,_.statusCode!=null&&_.statusCode!==200&&!f&&(u=_.statusCode),_.headers&&(m[x]=_.headers)):(o[x]=_.data,_.statusCode&&_.statusCode!==200&&!f&&(u=_.statusCode),_.headers&&(m[x]=_.headers))}),g!==void 0&&n&&(c={[n[0]]:g},o[n[0]]=void 0),{loaderData:o,errors:c,statusCode:u||200,loaderHeaders:m}}function Om(t,e,n,i,a,o,c){let{loaderData:u,errors:f}=_0(e,n,i,c);return a.forEach(m=>{let{key:g,match:v,controller:x}=m,_=o[g];if(Ie(_,"Did not find corresponding fetcher result"),!(x&&x.signal.aborted))if(On(_)){let k=Vi(t.matches,v?.route.id);f&&f[k.route.id]||(f=kt({},f,{[k.route.id]:_.error})),t.fetchers.delete(g)}else if(Yi(_))Ie(!1,"Unhandled fetcher revalidation redirect");else if(gi(_))Ie(!1,"Unhandled fetcher deferred data");else{let k=pi(_.data);t.fetchers.set(g,k)}}),{loaderData:u,errors:f}}function Fm(t,e,n,i){let a=kt({},e);for(let o of n){let c=o.route.id;if(e.hasOwnProperty(c)?e[c]!==void 0&&(a[c]=e[c]):t[c]!==void 0&&o.route.loader&&(a[c]=t[c]),i&&i.hasOwnProperty(c))break}return a}function Im(t){return t?On(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Vi(t,e){return(e?t.slice(0,t.findIndex(i=>i.route.id===e)+1):[...t]).reverse().find(i=>i.route.hasErrorBoundary===!0)||t[0]}function zm(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Cn(t,e){let{pathname:n,routeId:i,method:a,type:o,message:c}=e===void 0?{}:e,u="Unknown Server Error",f="Unknown @remix-run/router error";return t===400?(u="Bad Request",a&&n&&i?f="You made a "+a+' request to "'+n+'" but '+('did not provide a `loader` for route "'+i+'", ')+"so there is no way to handle the request.":o==="defer-action"?f="defer() is not supported in actions":o==="invalid-body"&&(f="Unable to encode submission body")):t===403?(u="Forbidden",f='Route "'+i+'" does not match URL "'+n+'"'):t===404?(u="Not Found",f='No route matches URL "'+n+'"'):t===405&&(u="Method Not Allowed",a&&n&&i?f="You made a "+a.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+i+'", ')+"so there is no way to handle the request.":a&&(f='Invalid request method "'+a.toUpperCase()+'"')),new Cl(t||500,u,new Error(f),!0)}function el(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[i,a]=e[n];if(Yi(a))return{key:i,result:a}}}function Lg(t){let e=typeof t=="string"?Si(t):t;return Ji(kt({},e,{hash:""}))}function w0(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function S0(t){return Ag(t.result)&&l0.has(t.result.status)}function gi(t){return t.type===at.deferred}function On(t){return t.type===at.error}function Yi(t){return(t&&t.type)===at.redirect}function Um(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function k0(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function Ag(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function C0(t){return o0.has(t.toLowerCase())}function ir(t){return s0.has(t.toLowerCase())}async function E0(t,e,n,i,a){let o=Object.entries(e);for(let c=0;c<o.length;c++){let[u,f]=o[c],m=t.find(x=>x?.route.id===u);if(!m)continue;let g=i.find(x=>x.route.id===m.route.id),v=g!=null&&!Pg(g,m)&&(a&&a[m.route.id])!==void 0;gi(f)&&v&&await yd(f,n,!1).then(x=>{x&&(e[u]=x)})}}async function j0(t,e,n){for(let i=0;i<n.length;i++){let{key:a,routeId:o,controller:c}=n[i],u=e[a];t.find(m=>m?.route.id===o)&&gi(u)&&(Ie(c,"Expected an AbortController for revalidating fetcher deferred result"),await yd(u,c.signal,!0).then(m=>{m&&(e[a]=m)}))}}async function yd(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:at.data,data:t.deferredData.unwrappedData}}catch(a){return{type:at.error,error:a}}return{type:at.data,data:t.deferredData.data}}}function vd(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Da(t,e){let n=typeof e=="string"?Si(e).search:e.search;if(t[t.length-1].route.index&&vd(n||""))return t[t.length-1];let i=Mg(t);return i[i.length-1]}function Bm(t){let{formMethod:e,formAction:n,formEncType:i,text:a,formData:o,json:c}=t;if(!(!e||!n||!i)){if(a!=null)return{formMethod:e,formAction:n,formEncType:i,formData:void 0,json:void 0,text:a};if(o!=null)return{formMethod:e,formAction:n,formEncType:i,formData:o,json:void 0,text:void 0};if(c!==void 0)return{formMethod:e,formAction:n,formEncType:i,formData:void 0,json:c,text:void 0}}}function Ou(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function N0(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Ca(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function M0(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function pi(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function R0(t,e){try{let n=t.sessionStorage.getItem(Tg);if(n){let i=JSON.parse(n);for(let[a,o]of Object.entries(i||{}))o&&Array.isArray(o)&&e.set(a,new Set(o||[]))}}catch{}}function T0(t,e){if(e.size>0){let n={};for(let[i,a]of e)n[i]=[...a];try{t.sessionStorage.setItem(Tg,JSON.stringify(n))}catch(i){Ds(!1,"Failed to save applied view transitions in sessionStorage ("+i+").")}}}/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function El(){return El=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},El.apply(this,arguments)}const Ga=w.createContext(null),xd=w.createContext(null),Br=w.createContext(null),bd=w.createContext(null),$r=w.createContext({outlet:null,matches:[],isDataRoute:!1}),Og=w.createContext(null);function P0(t,e){let{relative:n}=e===void 0?{}:e;Os()||Ie(!1);let{basename:i,navigator:a}=w.useContext(Br),{hash:o,pathname:c,search:u}=Hl(t,{relative:n}),f=c;return i!=="/"&&(f=c==="/"?i:zr([i,c])),a.createHref({pathname:f,search:u,hash:o})}function Os(){return w.useContext(bd)!=null}function Hr(){return Os()||Ie(!1),w.useContext(bd).location}function Fg(t){w.useContext(Br).static||w.useLayoutEffect(t)}function $l(){let{isDataRoute:t}=w.useContext($r);return t?K0():D0()}function D0(){Os()||Ie(!1);let t=w.useContext(Ga),{basename:e,future:n,navigator:i}=w.useContext(Br),{matches:a}=w.useContext($r),{pathname:o}=Hr(),c=JSON.stringify(Ul(a,n.v7_relativeSplatPath)),u=w.useRef(!1);return Fg(()=>{u.current=!0}),w.useCallback(function(m,g){if(g===void 0&&(g={}),!u.current)return;if(typeof m=="number"){i.go(m);return}let v=Bl(m,JSON.parse(c),o,g.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:zr([e,v.pathname])),(g.replace?i.replace:i.push)(v,g.state,g)},[e,i,c,o,t])}const L0=w.createContext(null);function A0(t){let e=w.useContext($r).outlet;return e&&w.createElement(L0.Provider,{value:t},e)}function Hl(t,e){let{relative:n}=e===void 0?{}:e,{future:i}=w.useContext(Br),{matches:a}=w.useContext($r),{pathname:o}=Hr(),c=JSON.stringify(Ul(a,i.v7_relativeSplatPath));return w.useMemo(()=>Bl(t,JSON.parse(c),o,n==="path"),[t,c,o,n])}function O0(t,e,n,i){Os()||Ie(!1);let{navigator:a}=w.useContext(Br),{matches:o}=w.useContext($r),c=o[o.length-1],u=c?c.params:{};c&&c.pathname;let f=c?c.pathnameBase:"/";c&&c.route;let m=Hr(),g;g=m;let v=g.pathname||"/",x=v;if(f!=="/"){let C=f.replace(/^\//,"").split("/");x="/"+v.replace(/^\//,"").split("/").slice(C.length).join("/")}let _=Wi(t,{pathname:x});return B0(_&&_.map(C=>Object.assign({},C,{params:Object.assign({},u,C.params),pathname:zr([f,a.encodeLocation?a.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?f:zr([f,a.encodeLocation?a.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),o,n,i)}function F0(){let t=V0(),e=Wa(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:a},n):null,null)}const I0=w.createElement(F0,null);class z0 extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?w.createElement($r.Provider,{value:this.props.routeContext},w.createElement(Og.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function U0(t){let{routeContext:e,match:n,children:i}=t,a=w.useContext(Ga);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement($r.Provider,{value:e},i)}function B0(t,e,n,i){var a;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=i)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let c=t,u=(a=n)==null?void 0:a.errors;if(u!=null){let g=c.findIndex(v=>v.route.id&&u?.[v.route.id]!==void 0);g>=0||Ie(!1),c=c.slice(0,Math.min(c.length,g+1))}let f=!1,m=-1;if(n&&i&&i.v7_partialHydration)for(let g=0;g<c.length;g++){let v=c[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(m=g),v.route.id){let{loaderData:x,errors:_}=n,k=v.route.loader&&x[v.route.id]===void 0&&(!_||_[v.route.id]===void 0);if(v.route.lazy||k){f=!0,m>=0?c=c.slice(0,m+1):c=[c[0]];break}}}return c.reduceRight((g,v,x)=>{let _,k=!1,C=null,E=null;n&&(_=u&&v.route.id?u[v.route.id]:void 0,C=v.route.errorElement||I0,f&&(m<0&&x===0?(Y0("route-fallback"),k=!0,E=null):m===x&&(k=!0,E=v.route.hydrateFallbackElement||null)));let T=e.concat(c.slice(0,x+1)),P=()=>{let B;return _?B=C:k?B=E:v.route.Component?B=w.createElement(v.route.Component,null):v.route.element?B=v.route.element:B=g,w.createElement(U0,{match:v,routeContext:{outlet:g,matches:T,isDataRoute:n!=null},children:B})};return n&&(v.route.ErrorBoundary||v.route.errorElement||x===0)?w.createElement(z0,{location:n.location,revalidation:n.revalidation,component:C,error:_,children:P(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):P()},null)}var Ig=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(Ig||{}),zg=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(zg||{});function $0(t){let e=w.useContext(Ga);return e||Ie(!1),e}function H0(t){let e=w.useContext(xd);return e||Ie(!1),e}function W0(t){let e=w.useContext($r);return e||Ie(!1),e}function Ug(t){let e=W0(),n=e.matches[e.matches.length-1];return n.route.id||Ie(!1),n.route.id}function V0(){var t;let e=w.useContext(Og),n=H0(),i=Ug();return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}function K0(){let{router:t}=$0(Ig.UseNavigateStable),e=Ug(zg.UseNavigateStable),n=w.useRef(!1);return Fg(()=>{n.current=!0}),w.useCallback(function(a,o){o===void 0&&(o={}),n.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,El({fromRouteId:e},o)))},[t,e])}const $m={};function Y0(t,e,n){$m[t]||($m[t]=!0)}function X0(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function Hm(t){let{to:e,replace:n,state:i,relative:a}=t;Os()||Ie(!1);let{future:o,static:c}=w.useContext(Br),{matches:u}=w.useContext($r),{pathname:f}=Hr(),m=$l(),g=Bl(e,Ul(u,o.v7_relativeSplatPath),f,a==="path"),v=JSON.stringify(g);return w.useEffect(()=>m(JSON.parse(v),{replace:n,state:i,relative:a}),[m,v,a,n,i]),null}function Q0(t){return A0(t.context)}function Zt(t){Ie(!1)}function G0(t){let{basename:e="/",children:n=null,location:i,navigationType:a=$t.Pop,navigator:o,static:c=!1,future:u}=t;Os()&&Ie(!1);let f=e.replace(/^\/*/,"/"),m=w.useMemo(()=>({basename:f,navigator:o,static:c,future:El({v7_relativeSplatPath:!1},u)}),[f,u,o,c]);typeof i=="string"&&(i=Si(i));let{pathname:g="/",search:v="",hash:x="",state:_=null,key:k="default"}=i,C=w.useMemo(()=>{let E=Ur(g,f);return E==null?null:{location:{pathname:E,search:v,hash:x,state:_,key:k},navigationType:a}},[f,g,v,x,_,k,a]);return C==null?null:w.createElement(Br.Provider,{value:m},w.createElement(bd.Provider,{children:n,value:C}))}new Promise(()=>{});function ed(t,e){e===void 0&&(e=[]);let n=[];return w.Children.forEach(t,(i,a)=>{if(!w.isValidElement(i))return;let o=[...e,a];if(i.type===w.Fragment){n.push.apply(n,ed(i.props.children,o));return}i.type!==Zt&&Ie(!1),!i.props.index||!i.props.children||Ie(!1);let c={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=ed(i.props.children,o)),n.push(c)}),n}function q0(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:w.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:w.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:w.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ls(){return Ls=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ls.apply(this,arguments)}function Bg(t,e){if(t==null)return{};var n={},i=Object.keys(t),a,o;for(o=0;o<i.length;o++)a=i[o],!(e.indexOf(a)>=0)&&(n[a]=t[a]);return n}function J0(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Z0(t,e){return t.button===0&&(!e||e==="_self")&&!J0(t)}const eb=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],tb=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],nb="6";try{window.__reactRouterVersion=nb}catch{}function rb(t,e){return f0({basename:void 0,future:Ls({},void 0,{v7_prependBasename:!0}),history:Ox({window:void 0}),hydrationData:ib(),routes:t,mapRouteProperties:q0,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function ib(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Ls({},e,{errors:sb(e.errors)})),e}function sb(t){if(!t)return null;let e=Object.entries(t),n={};for(let[i,a]of e)if(a&&a.__type==="RouteErrorResponse")n[i]=new Cl(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let o=window[a.__subType];if(typeof o=="function")try{let c=new o(a.message);c.stack="",n[i]=c}catch{}}if(n[i]==null){let o=new Error(a.message);o.stack="",n[i]=o}}else n[i]=a;return n}const $g=w.createContext({isTransitioning:!1}),ab=w.createContext(new Map),ob="startTransition",Wm=jx[ob],lb="flushSync",Vm=Ax[lb];function cb(t){Wm?Wm(t):t()}function Ea(t){Vm?Vm(t):t()}class ub{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",n(i))}})}}function db(t){let{fallbackElement:e,router:n,future:i}=t,[a,o]=w.useState(n.state),[c,u]=w.useState(),[f,m]=w.useState({isTransitioning:!1}),[g,v]=w.useState(),[x,_]=w.useState(),[k,C]=w.useState(),E=w.useRef(new Map),{v7_startTransition:T}=i||{},P=w.useCallback(A=>{T?cb(A):A()},[T]),B=w.useCallback((A,V)=>{let{deletedFetchers:L,flushSync:D,viewTransitionOpts:K}=V;A.fetchers.forEach((ne,oe)=>{ne.data!==void 0&&E.current.set(oe,ne.data)}),L.forEach(ne=>E.current.delete(ne));let X=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!K||X){D?Ea(()=>o(A)):P(()=>o(A));return}if(D){Ea(()=>{x&&(g&&g.resolve(),x.skipTransition()),m({isTransitioning:!0,flushSync:!0,currentLocation:K.currentLocation,nextLocation:K.nextLocation})});let ne=n.window.document.startViewTransition(()=>{Ea(()=>o(A))});ne.finished.finally(()=>{Ea(()=>{v(void 0),_(void 0),u(void 0),m({isTransitioning:!1})})}),Ea(()=>_(ne));return}x?(g&&g.resolve(),x.skipTransition(),C({state:A,currentLocation:K.currentLocation,nextLocation:K.nextLocation})):(u(A),m({isTransitioning:!0,flushSync:!1,currentLocation:K.currentLocation,nextLocation:K.nextLocation}))},[n.window,x,g,E,P]);w.useLayoutEffect(()=>n.subscribe(B),[n,B]),w.useEffect(()=>{f.isTransitioning&&!f.flushSync&&v(new ub)},[f]),w.useEffect(()=>{if(g&&c&&n.window){let A=c,V=g.promise,L=n.window.document.startViewTransition(async()=>{P(()=>o(A)),await V});L.finished.finally(()=>{v(void 0),_(void 0),u(void 0),m({isTransitioning:!1})}),_(L)}},[P,c,g,n.window]),w.useEffect(()=>{g&&c&&a.location.key===c.location.key&&g.resolve()},[g,x,a.location,c]),w.useEffect(()=>{!f.isTransitioning&&k&&(u(k.state),m({isTransitioning:!0,flushSync:!1,currentLocation:k.currentLocation,nextLocation:k.nextLocation}),C(void 0))},[f.isTransitioning,k]),w.useEffect(()=>{},[]);let z=w.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:A=>n.navigate(A),push:(A,V,L)=>n.navigate(A,{state:V,preventScrollReset:L?.preventScrollReset}),replace:(A,V,L)=>n.navigate(A,{replace:!0,state:V,preventScrollReset:L?.preventScrollReset})}),[n]),H=n.basename||"/",q=w.useMemo(()=>({router:n,navigator:z,static:!1,basename:H}),[n,z,H]),N=w.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return w.useEffect(()=>X0(i,n.future),[i,n.future]),w.createElement(w.Fragment,null,w.createElement(Ga.Provider,{value:q},w.createElement(xd.Provider,{value:a},w.createElement(ab.Provider,{value:E.current},w.createElement($g.Provider,{value:f},w.createElement(G0,{basename:H,location:a.location,navigationType:a.historyAction,navigator:z,future:N},a.initialized||n.future.v7_partialHydration?w.createElement(fb,{routes:n.routes,future:n.future,state:a}):e))))),null)}const fb=w.memo(hb);function hb(t){let{routes:e,future:n,state:i}=t;return O0(e,void 0,i,n)}const mb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",pb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fr=w.forwardRef(function(e,n){let{onClick:i,relative:a,reloadDocument:o,replace:c,state:u,target:f,to:m,preventScrollReset:g,viewTransition:v}=e,x=Bg(e,eb),{basename:_}=w.useContext(Br),k,C=!1;if(typeof m=="string"&&pb.test(m)&&(k=m,mb))try{let B=new URL(window.location.href),z=m.startsWith("//")?new URL(B.protocol+m):new URL(m),H=Ur(z.pathname,_);z.origin===B.origin&&H!=null?m=H+z.search+z.hash:C=!0}catch{}let E=P0(m,{relative:a}),T=yb(m,{replace:c,state:u,target:f,preventScrollReset:g,relative:a,viewTransition:v});function P(B){i&&i(B),B.defaultPrevented||T(B)}return w.createElement("a",Ls({},x,{href:k||E,onClick:C||o?i:P,ref:n,target:f}))}),fr=w.forwardRef(function(e,n){let{"aria-current":i="page",caseSensitive:a=!1,className:o="",end:c=!1,style:u,to:f,viewTransition:m,children:g}=e,v=Bg(e,tb),x=Hl(f,{relative:v.relative}),_=Hr(),k=w.useContext(xd),{navigator:C,basename:E}=w.useContext(Br),T=k!=null&&vb(x)&&m===!0,P=C.encodeLocation?C.encodeLocation(x).pathname:x.pathname,B=_.pathname,z=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;a||(B=B.toLowerCase(),z=z?z.toLowerCase():null,P=P.toLowerCase()),z&&E&&(z=Ur(z,E)||z);const H=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let q=B===P||!c&&B.startsWith(P)&&B.charAt(H)==="/",N=z!=null&&(z===P||!c&&z.startsWith(P)&&z.charAt(P.length)==="/"),A={isActive:q,isPending:N,isTransitioning:T},V=q?i:void 0,L;typeof o=="function"?L=o(A):L=[o,q?"active":null,N?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let D=typeof u=="function"?u(A):u;return w.createElement(Fr,Ls({},v,{"aria-current":V,className:L,ref:n,style:D,to:f,viewTransition:m}),typeof g=="function"?g(A):g)});var td;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(td||(td={}));var Km;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Km||(Km={}));function gb(t){let e=w.useContext(Ga);return e||Ie(!1),e}function yb(t,e){let{target:n,replace:i,state:a,preventScrollReset:o,relative:c,viewTransition:u}=e===void 0?{}:e,f=$l(),m=Hr(),g=Hl(t,{relative:c});return w.useCallback(v=>{if(Z0(v,n)){v.preventDefault();let x=i!==void 0?i:Ji(m)===Ji(g);f(t,{replace:x,state:a,preventScrollReset:o,relative:c,viewTransition:u})}},[m,f,g,i,a,n,t,o,c,u])}function vb(t,e){e===void 0&&(e={});let n=w.useContext($g);n==null&&Ie(!1);let{basename:i}=gb(td.useViewTransitionState),a=Hl(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=Ur(n.currentLocation.pathname,i)||n.currentLocation.pathname,c=Ur(n.nextLocation.pathname,i)||n.nextLocation.pathname;return kl(a.pathname,c)!=null||kl(a.pathname,o)!=null}const ki="",jl="phpgrc_intended_path",Nl="phpgrc_session_expired",_d="phpgrc_auth_token";let Ms;function wd(){if(typeof window>"u")return null;try{return window.localStorage}catch{return null}}function xb(){const t=wd();if(!t)return null;try{const e=t.getItem(_d);return e&&e.length>0?e:null}catch{return null}}function Hg(){return Ms!==void 0||(Ms=xb()),Ms}function bb(){const t=Hg();return typeof t=="string"&&t.length>0}function _b(t){Ms=t;const e=wd();if(e)try{e.setItem(_d,t)}catch{}}function Wg(){Ms=null;const t=wd();if(t)try{t.removeItem(_d)}catch{}}function Tt(t){const e={Accept:"application/json","X-Requested-With":"XMLHttpRequest"},n=Hg();return n&&(e.Authorization=`Bearer ${n}`),{...e,...t}}function Vg(t){if(!t)return"";const e=new URLSearchParams;for(const[i,a]of Object.entries(t))a!=null&&e.set(i,typeof a=="boolean"?a?"true":"false":String(a));const n=e.toString();return n?`?${n}`:""}class Ft extends Error{status;body;constructor(e,n,i){super(i??`HTTP ${e}`),this.status=e,this.body=n}}async function Fs(t){const e=t.headers.get("content-type")||"",n=e.includes("application/json")||e.includes("+json");try{return n?await t.json():await t.text()}catch{return null}}const nd=new Set;function wb(t){return nd.add(t),()=>nd.delete(t)}function Is(t){Wg(),nd.forEach(e=>{try{e(t)}catch{}})}async function br(t,e,n){const i=t.startsWith("/")?t:`/${t}`,a=`${ki}${i}${Vg(e)}`,o=await fetch(a,{method:"GET",credentials:"same-origin",headers:Tt(),signal:n}),c=await Fs(o);if(!o.ok){const u=new Ft(o.status,c);throw o.status===401&&Is(u),u}return c??{}}async function Sb(t,e,n){const i=t.startsWith("/")?t:`/${t}`,a=`${ki}${i}`,o=await fetch(a,{method:"PUT",credentials:"same-origin",headers:Tt({"Content-Type":"application/json"}),body:e===void 0?"{}":JSON.stringify(e),signal:n}),c=await Fs(o);if(!o.ok){const u=new Ft(o.status,c);throw o.status===401&&Is(u),u}return c??{}}async function kb(t,e,n){const i=t.startsWith("/")?t:`/${t}`,a=`${ki}${i}`,o=await fetch(a,{method:"PATCH",credentials:"same-origin",headers:Tt({"Content-Type":"application/json"}),body:e===void 0?"{}":JSON.stringify(e),signal:n}),c=await Fs(o);if(!o.ok){const u=new Ft(o.status,c);throw o.status===401&&Is(u),u}return c??{}}async function zs(t,e,n){const i=t.startsWith("/")?t:`/${t}`,a=`${ki}${i}`,o=await fetch(a,{method:"POST",credentials:"same-origin",headers:Tt({"Content-Type":"application/json"}),body:e===void 0?"{}":JSON.stringify(e),signal:n}),c=await Fs(o);if(!o.ok){const u=new Ft(o.status,c);throw o.status===401&&Is(u),u}return c??{}}async function Kg(t,e,n){const i=t.startsWith("/")?t:`/${t}`,a=`${ki}${i}`,o=await fetch(a,{method:"POST",credentials:"same-origin",headers:Tt(),body:e,signal:n}),c=await Fs(o);if(!o.ok){const u=new Ft(o.status,c);throw o.status===401&&Is(u),u}return c??{}}async function Wl(t,e){const n=t.startsWith("/")?t:`/${t}`,i=`${ki}${n}`,a=await fetch(i,{method:"DELETE",credentials:"same-origin",headers:Tt(),signal:e}),o=await Fs(a);if(!a.ok){const c=new Ft(a.status,o);throw a.status===401&&Is(c),c}return o??{}}function Ym(t){try{t&&t!=="/auth/login"&&sessionStorage.setItem(jl,t)}catch{}}function Cb(){try{const t=sessionStorage.getItem(jl);return t&&sessionStorage.removeItem(jl),t}catch{return null}}function Xm(){try{sessionStorage.setItem(Nl,"1")}catch{}}function Eb(){try{const t=sessionStorage.getItem(Nl);return t&&sessionStorage.removeItem(Nl),t==="1"}catch{return!1}}async function jb(t){const e=await zs("/api/auth/login",t),n=e?.token,i=e?.user;if(!n||typeof n!="string")throw new Error("Missing auth token in login response");if(!i||typeof i.id>"u")throw new Error("Missing user payload in login response");return _b(n),i}async function Nb(){try{await zs("/api/auth/logout",{})}catch{}Wg();try{sessionStorage.removeItem(jl),sessionStorage.removeItem(Nl)}catch{}}async function Mb(){const e=(await br("/api/auth/me"))?.user;if(!e||typeof e.id>"u")throw new Error("Missing user payload in auth/me response");return e}const Tr=({isActive:t})=>"nav-link"+(t?" active":"");function Rb({requireAuth:t,authed:e}){const n=!t||e,i=t&&e,a=t&&!e;async function o(){await Nb(),window.location.assign("/auth/login")}return h.jsx("header",{role:"banner",children:h.jsx("nav",{className:"navbar",role:"navigation","aria-label":"Primary",children:h.jsxs("div",{className:"container",style:{display:"flex",alignItems:"center",gap:"1rem"},children:[h.jsx(fr,{to:"/",className:"navbar-brand d-flex align-items-center","aria-label":"phpGRC home",children:h.jsx("img",{src:"/api/images/phpGRC-light-horizontal-trans.png",alt:"phpGRC",style:{height:"36px",width:"auto"},loading:"lazy"})}),h.jsx(fr,{to:"/dashboard",className:Tr,children:"Dashboard"}),h.jsx(fr,{to:"/admin",className:Tr,children:"Admin"}),h.jsx(fr,{to:"/admin/settings",className:Tr,children:"Settings"}),h.jsx(fr,{to:"/admin/roles",className:Tr,children:"Roles"}),n&&h.jsx(fr,{to:"/admin/users",className:Tr,children:"Users"}),h.jsx(fr,{to:"/admin/user-roles",className:Tr,children:"User Roles"}),h.jsx(fr,{to:"/admin/audit",className:Tr,children:"Audit"}),h.jsx(fr,{to:"/admin/evidence",className:Tr,children:"Evidence"}),h.jsx("a",{href:"/api/docs",className:"nav-link",children:"API Docs"}),h.jsx("div",{style:{marginLeft:"auto"},children:i?h.jsx("button",{className:"btn btn-outline-secondary btn-sm",type:"button",onClick:o,children:"Logout"}):a?h.jsx(fr,{to:"/auth/login",className:Tr,children:"Login"}):null})]})})})}const Tb="/assets/bootstrap.min-Bmwwozog.css",Pb="/assets/bootstrap.min-Q9g3hQB7.css",Db="/assets/bootstrap.min-88E44Rpq.css",Lb="/assets/bootstrap.min-CI_a7-UG.css",Ab="/assets/bootstrap.min-C9ekKKp9.css",Ob="/assets/bootstrap.min-BXtGUBhC.css",Fb="/assets/bootstrap.min-D7tuEIVV.css",Ib="/assets/bootstrap.min-JXPEk_5n.css",zb="/assets/bootstrap.min-DtyHuuJy.css",Ub="/assets/bootstrap.min-CHitj9zK.css",Bb="/assets/bootstrap.min-CWsoXVTE.css",$b="/assets/bootstrap.min-BZQE6Dhd.css",Hb="/assets/bootstrap.min-6OsnpXDO.css",Wb="/assets/bootstrap.min-BRwI2niL.css",Vb="/assets/bootstrap.min-CHrSCAIO.css",Kb="/assets/bootstrap.min-B9Ta7Jou.css",Yb="/assets/bootstrap.min-CNLdrARh.css",Xb="/assets/bootstrap.min-C4r-DQMA.css",Qb="/assets/bootstrap.min-CtU96xCh.css",Gb="/assets/bootstrap.min-5NHe92vk.css",qb="/assets/bootstrap.min-D2CbZOse.css",Jb="/assets/bootstrap.min-B6G6dRgC.css",Zb="/assets/bootstrap.min-BCsPR365.css",e_="/assets/bootstrap.min-DzUX-LSS.css",t_="/assets/bootstrap.min-DgsMJor-.css",Vl=[{slug:"cerulean",name:"Cerulean",mode:"light",href:Tb},{slug:"cosmo",name:"Cosmo",mode:"light",href:Pb},{slug:"cyborg",name:"Cyborg",mode:"dark",href:Db},{slug:"darkly",name:"Darkly",mode:"dark",href:Lb},{slug:"flatly",name:"Flatly",mode:"light",href:Ab},{slug:"journal",name:"Journal",mode:"light",href:Ob},{slug:"litera",name:"Litera",mode:"light",href:Fb},{slug:"lumen",name:"Lumen",mode:"light",href:Ib},{slug:"lux",name:"Lux",mode:"light",href:zb},{slug:"materia",name:"Materia",mode:"light",href:Ub},{slug:"minty",name:"Minty",mode:"light",href:Bb},{slug:"morph",name:"Morph",mode:"light",href:$b},{slug:"pulse",name:"Pulse",mode:"light",href:Hb},{slug:"quartz",name:"Quartz",mode:"dark",href:Wb},{slug:"sandstone",name:"Sandstone",mode:"light",href:Vb},{slug:"simplex",name:"Simplex",mode:"light",href:Kb},{slug:"sketchy",name:"Sketchy",mode:"light",href:Yb},{slug:"slate",name:"Slate",mode:"dark",href:Xb},{slug:"solar",name:"Solar",mode:"dark",href:Qb},{slug:"spacelab",name:"Spacelab",mode:"light",href:Gb},{slug:"superhero",name:"Superhero",mode:"dark",href:qb},{slug:"united",name:"United",mode:"light",href:Jb},{slug:"vapor",name:"Vapor",mode:"dark",href:Zb},{slug:"yeti",name:"Yeti",mode:"light",href:e_},{slug:"zephyr",name:"Zephyr",mode:"light",href:t_}],Qm=Vl.reduce((t,e)=>(t[e.slug]=e.href,t),{}),Gi={version:"5.3.3",defaults:{dark:"slate",light:"flatly"},themes:Vl.map(t=>({slug:t.slug,name:t.name,source:"bootswatch",supports:{mode:[t.mode]}})),packs:[]},en={theme:{default:Gi.defaults.dark,allow_user_override:!0,force_global:!1,overrides:{"color.primary":"#0d6efd","color.surface":"#1b1e21","color.text":"#f8f9fa",shadow:"default",spacing:"default",typeScale:"medium",motion:"full"}},nav:{sidebar:{default_order:[]}},brand:{title_text:"phpGRC  Dashboard",favicon_asset_id:null,primary_logo_asset_id:null,secondary_logo_asset_id:null,header_logo_asset_id:null,footer_logo_asset_id:null,footer_logo_disabled:!1}},Dr={theme:null,mode:null,overrides:{"color.primary":"#0d6efd","color.surface":"#1b1e21","color.text":"#f8f9fa",shadow:"default",spacing:"default",typeScale:"medium",motion:"full"},sidebar:{collapsed:!1,width:280,order:[]}},Gm="phpgrc-theme-css",Us=t=>{if(typeof structuredClone=="function")try{return structuredClone(t)}catch{}return JSON.parse(JSON.stringify(t))};let Sd=Us(Gi),Ia=Us(en),kd=Us(Dr),vr=null,Es=null;const n_=()=>typeof window>"u"||typeof window.matchMedia!="function"?!1:window.matchMedia("(prefers-color-scheme: dark)").matches,r_=()=>{if(typeof document>"u")return null;let t=document.getElementById(Gm);return t||(t=document.createElement("link"),t.id=Gm,t.rel="stylesheet",t.type="text/css",document.head.appendChild(t)),t},i_=t=>[...t.themes??[],...t.packs??[]],La=(t,e)=>{const n=e?.trim();if(n)return i_(t).find(i=>i.slug===n)},Ki=t=>{if(typeof t!="string")return null;const e=t.trim();return e.length>0?e:null},Yg=t=>t?.supports?.mode?t.supports.mode.filter(e=>e==="light"||e==="dark"):[],rd=t=>Vl.find(n=>n.slug===t)?.mode??"light",s_=()=>{const t=Sd,e=Ia,n=kd,i=Ki(e.theme.default)??Ki(t.defaults?.dark??null)??Ki(t.defaults?.light??null)??Vl[0]?.slug??"slate";let a=i;const o=e.theme.allow_user_override&&!e.theme.force_global,c=o?Ki(n.theme):null;c&&La(t,c)&&(a=c),La(t,a)||(a=i),La(t,a)||(a=Ki(t.defaults?.dark)??a);const u=La(t,a),f=Yg(u);let m=null;o&&n.mode?(n.mode==="light"||n.mode==="dark")&&(m=n.mode):!o&&e.theme.force_global&&(m=e.theme.default===a?rd(a):null);let g;if(m&&f.includes(m))g=m;else if(f.length===0)g=m??rd(a);else if(f.length===1)g=f[0];else{const _=n_()?"dark":"light";f.includes(_)?g=_:g=f[0]}const v=u?.source??"bootswatch";return{slug:a,mode:g,source:v}},a_=t=>t in Qm?Qm[t]:null,Xg=t=>{if(typeof document>"u")return;const e=r_(),n=a_(t.slug);e&&n&&e.href!==n&&(e.href=n);const i=document.documentElement;i.setAttribute("data-theme",t.slug),i.setAttribute("data-mode",t.mode),i.setAttribute("data-theme-source",t.source),vr=t},Kl=()=>{const t=s_();vr&&vr.slug===t.slug&&vr.mode===t.mode&&vr.source===t.source||Xg(t)},Fu=async t=>{try{const e=await fetch(t,{method:"GET",credentials:"same-origin",headers:Tt()});return e.ok?await e.json():null}catch{return null}},Qg=async t=>Es?t?.fetchUserPrefs?(await Es,Qg(t)):Es:(Es=(async()=>{const e=await Fu("/api/settings/ui/themes");e&&Array.isArray(e.themes)&&(Sd=e);const n=await Fu("/api/settings/ui");if(n?.config?.ui&&(Ia=n.config.ui),t?.fetchUserPrefs??(Ia.theme.allow_user_override&&!Ia.theme.force_global)){const a=await Fu("/api/me/prefs/ui");a?.prefs&&(kd=a.prefs)}Kl()})().catch(()=>{}).finally(()=>{Es=null}),Es),Gg=t=>{Sd=Us(t),Kl()},Rs=t=>{Ia=Us(t),Kl()},o_=t=>{kd=Us(t),Kl()},l_=()=>{if(vr)return vr;const t=Ki(Gi.defaults.dark)??Ki(Gi.defaults.light)??"slate",e=La(Gi,t),n=Yg(e)[0]??rd(t);return vr={slug:t,mode:n,source:e?.source??"bootswatch"},Xg(vr),vr};typeof document<"u"&&l_();function c_(){const t=Hr(),e=$l(),[n,i]=w.useState(!0),[a,o]=w.useState(!1),[c,u]=w.useState(!1);if(w.useEffect(()=>{const m=wb(()=>{if(!t.pathname.startsWith("/auth/")){const v=`${t.pathname}${t.search}${t.hash}`;Ym(v),Xm(),e("/auth/login",{replace:!0})}});async function g(){i(!0);try{const x=!!(await br("/api/health/fingerprint"))?.summary?.rbac?.require_auth;if(o(x),x){if(!bb()){u(!1);return}try{await Mb(),u(!0)}catch{u(!1)}}else u(!0)}finally{i(!1)}}return g(),()=>m()},[t.pathname]),w.useEffect(()=>{Qg({fetchUserPrefs:c})},[a,c]),n)return null;if(a&&!c&&!t.pathname.startsWith("/auth/")){const m=`${t.pathname}${t.search}${t.hash}`;return Ym(m),Xm(),e("/auth/login",{replace:!0}),null}const f=t.pathname.startsWith("/auth/");return h.jsxs(h.Fragment,{children:[!f&&h.jsx(Rb,{requireAuth:a,authed:c}),h.jsx("main",{id:"main",role:"main",children:h.jsx(Q0,{})})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function qa(t){return t+.5|0}const yi=(t,e,n)=>Math.max(Math.min(t,n),e);function Aa(t){return yi(qa(t*2.55),0,255)}function bi(t){return yi(qa(t*255),0,255)}function Or(t){return yi(qa(t/2.55)/100,0,1)}function qm(t){return yi(qa(t*100),0,100)}const Vn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},id=[..."0123456789ABCDEF"],u_=t=>id[t&15],d_=t=>id[(t&240)>>4]+id[t&15],tl=t=>(t&240)>>4===(t&15),f_=t=>tl(t.r)&&tl(t.g)&&tl(t.b)&&tl(t.a);function h_(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Vn[t[1]]*17,g:255&Vn[t[2]]*17,b:255&Vn[t[3]]*17,a:e===5?Vn[t[4]]*17:255}:(e===7||e===9)&&(n={r:Vn[t[1]]<<4|Vn[t[2]],g:Vn[t[3]]<<4|Vn[t[4]],b:Vn[t[5]]<<4|Vn[t[6]],a:e===9?Vn[t[7]]<<4|Vn[t[8]]:255})),n}const m_=(t,e)=>t<255?e(t):"";function p_(t){var e=f_(t)?u_:d_;return t?"#"+e(t.r)+e(t.g)+e(t.b)+m_(t.a,e):void 0}const g_=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function qg(t,e,n){const i=e*Math.min(n,1-n),a=(o,c=(o+t/30)%12)=>n-i*Math.max(Math.min(c-3,9-c,1),-1);return[a(0),a(8),a(4)]}function y_(t,e,n){const i=(a,o=(a+t/60)%6)=>n-n*e*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function v_(t,e,n){const i=qg(t,1,.5);let a;for(e+n>1&&(a=1/(e+n),e*=a,n*=a),a=0;a<3;a++)i[a]*=1-e-n,i[a]+=e;return i}function x_(t,e,n,i,a){return t===a?(e-n)/i+(e<n?6:0):e===a?(n-t)/i+2:(t-e)/i+4}function Cd(t){const n=t.r/255,i=t.g/255,a=t.b/255,o=Math.max(n,i,a),c=Math.min(n,i,a),u=(o+c)/2;let f,m,g;return o!==c&&(g=o-c,m=u>.5?g/(2-o-c):g/(o+c),f=x_(n,i,a,g,o),f=f*60+.5),[f|0,m||0,u]}function Ed(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(bi)}function jd(t,e,n){return Ed(qg,t,e,n)}function b_(t,e,n){return Ed(v_,t,e,n)}function __(t,e,n){return Ed(y_,t,e,n)}function Jg(t){return(t%360+360)%360}function w_(t){const e=g_.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?Aa(+e[5]):bi(+e[5]));const a=Jg(+e[2]),o=+e[3]/100,c=+e[4]/100;return e[1]==="hwb"?i=b_(a,o,c):e[1]==="hsv"?i=__(a,o,c):i=jd(a,o,c),{r:i[0],g:i[1],b:i[2],a:n}}function S_(t,e){var n=Cd(t);n[0]=Jg(n[0]+e),n=jd(n),t.r=n[0],t.g=n[1],t.b=n[2]}function k_(t){if(!t)return;const e=Cd(t),n=e[0],i=qm(e[1]),a=qm(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${a}%, ${Or(t.a)})`:`hsl(${n}, ${i}%, ${a}%)`}const Jm={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Zm={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function C_(){const t={},e=Object.keys(Zm),n=Object.keys(Jm);let i,a,o,c,u;for(i=0;i<e.length;i++){for(c=u=e[i],a=0;a<n.length;a++)o=n[a],u=u.replace(o,Jm[o]);o=parseInt(Zm[c],16),t[u]=[o>>16&255,o>>8&255,o&255]}return t}let nl;function E_(t){nl||(nl=C_(),nl.transparent=[0,0,0,0]);const e=nl[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const j_=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function N_(t){const e=j_.exec(t);let n=255,i,a,o;if(e){if(e[7]!==i){const c=+e[7];n=e[8]?Aa(c):yi(c*255,0,255)}return i=+e[1],a=+e[3],o=+e[5],i=255&(e[2]?Aa(i):yi(i,0,255)),a=255&(e[4]?Aa(a):yi(a,0,255)),o=255&(e[6]?Aa(o):yi(o,0,255)),{r:i,g:a,b:o,a:n}}}function M_(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Or(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Iu=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,js=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function R_(t,e,n){const i=js(Or(t.r)),a=js(Or(t.g)),o=js(Or(t.b));return{r:bi(Iu(i+n*(js(Or(e.r))-i))),g:bi(Iu(a+n*(js(Or(e.g))-a))),b:bi(Iu(o+n*(js(Or(e.b))-o))),a:t.a+n*(e.a-t.a)}}function rl(t,e,n){if(t){let i=Cd(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=jd(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function Zg(t,e){return t&&Object.assign(e||{},t)}function ep(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=bi(t[3]))):(e=Zg(t,{r:0,g:0,b:0,a:1}),e.a=bi(e.a)),e}function T_(t){return t.charAt(0)==="r"?N_(t):w_(t)}class Va{constructor(e){if(e instanceof Va)return e;const n=typeof e;let i;n==="object"?i=ep(e):n==="string"&&(i=h_(e)||E_(e)||T_(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=Zg(this._rgb);return e&&(e.a=Or(e.a)),e}set rgb(e){this._rgb=ep(e)}rgbString(){return this._valid?M_(this._rgb):void 0}hexString(){return this._valid?p_(this._rgb):void 0}hslString(){return this._valid?k_(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,a=e.rgb;let o;const c=n===o?.5:n,u=2*c-1,f=i.a-a.a,m=((u*f===-1?u:(u+f)/(1+u*f))+1)/2;o=1-m,i.r=255&m*i.r+o*a.r+.5,i.g=255&m*i.g+o*a.g+.5,i.b=255&m*i.b+o*a.b+.5,i.a=c*i.a+(1-c)*a.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=R_(this._rgb,e._rgb,n)),this}clone(){return new Va(this.rgb)}alpha(e){return this._rgb.a=bi(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=qa(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return rl(this._rgb,2,e),this}darken(e){return rl(this._rgb,2,-e),this}saturate(e){return rl(this._rgb,1,e),this}desaturate(e){return rl(this._rgb,1,-e),this}rotate(e){return S_(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Pr(){}const P_=(()=>{let t=0;return()=>t++})();function ft(t){return t==null}function tn(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function qe(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Kn(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function hr(t,e){return Kn(t)?t:e}function Ge(t,e){return typeof t>"u"?e:t}const D_=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,ey=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function vt(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function ot(t,e,n,i){let a,o,c;if(tn(t))for(o=t.length,a=0;a<o;a++)e.call(n,t[a],a);else if(qe(t))for(c=Object.keys(t),o=c.length,a=0;a<o;a++)e.call(n,t[c[a]],c[a])}function Ml(t,e){let n,i,a,o;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(a=t[n],o=e[n],a.datasetIndex!==o.datasetIndex||a.index!==o.index)return!1;return!0}function Rl(t){if(tn(t))return t.map(Rl);if(qe(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let a=0;for(;a<i;++a)e[n[a]]=Rl(t[n[a]]);return e}return t}function ty(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function L_(t,e,n,i){if(!ty(t))return;const a=e[t],o=n[t];qe(a)&&qe(o)?Ka(a,o,i):e[t]=Rl(o)}function Ka(t,e,n){const i=tn(e)?e:[e],a=i.length;if(!qe(t))return t;n=n||{};const o=n.merger||L_;let c;for(let u=0;u<a;++u){if(c=i[u],!qe(c))continue;const f=Object.keys(c);for(let m=0,g=f.length;m<g;++m)o(f[m],t,c,n)}return t}function za(t,e){return Ka(t,e,{merger:A_})}function A_(t,e,n){if(!ty(t))return;const i=e[t],a=n[t];qe(i)&&qe(a)?za(i,a):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Rl(a))}const tp={"":t=>t,x:t=>t.x,y:t=>t.y};function O_(t){const e=t.split("."),n=[];let i="";for(const a of e)i+=a,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function F_(t){const e=O_(t);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function Zi(t,e){return(tp[e]||(tp[e]=F_(e)))(t)}function Nd(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Ya=t=>typeof t<"u",wi=t=>typeof t=="function",np=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function I_(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const xt=Math.PI,Ht=2*xt,Tl=Number.POSITIVE_INFINITY,z_=xt/180,Yt=xt/2,Ui=xt/4,rp=xt*2/3,ny=Math.log10,_i=Math.sign;function xl(t,e,n){return Math.abs(t-e)<n}function ip(t){const e=Math.round(t);t=xl(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(ny(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function U_(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((a,o)=>a-o).pop(),e}function B_(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Pl(t){return!B_(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function $_(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function H_(t,e,n){let i,a,o;for(i=0,a=t.length;i<a;i++)o=t[i][n],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function Ir(t){return t*(xt/180)}function W_(t){return t*(180/xt)}function sp(t){if(!Kn(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function ry(t,e){const n=e.x-t.x,i=e.y-t.y,a=Math.sqrt(n*n+i*i);let o=Math.atan2(i,n);return o<-.5*xt&&(o+=Ht),{angle:o,distance:a}}function V_(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function yr(t){return(t%Ht+Ht)%Ht}function Dl(t,e,n,i){const a=yr(t),o=yr(e),c=yr(n),u=yr(o-a),f=yr(c-a),m=yr(a-o),g=yr(a-c);return a===o||a===c||i&&o===c||u>f&&m<g}function jn(t,e,n){return Math.max(e,Math.min(n,t))}function K_(t){return jn(t,-32768,32767)}function Xi(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function Md(t,e,n){n=n||(c=>t[c]<e);let i=t.length-1,a=0,o;for(;i-a>1;)o=a+i>>1,n(o)?a=o:i=o;return{lo:a,hi:i}}const sd=(t,e,n,i)=>Md(t,n,i?a=>{const o=t[a][e];return o<n||o===n&&t[a+1][e]===n}:a=>t[a][e]<n),Y_=(t,e,n)=>Md(t,n,i=>t[i][e]>=n);function X_(t,e,n){let i=0,a=t.length;for(;i<a&&t[i]<e;)i++;for(;a>i&&t[a-1]>n;)a--;return i>0||a<t.length?t.slice(i,a):t}const iy=["push","pop","shift","splice","unshift"];function Q_(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),iy.forEach(n=>{const i="_onData"+Nd(n),a=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...o){const c=a.apply(this,o);return t._chartjs.listeners.forEach(u=>{typeof u[i]=="function"&&u[i](...o)}),c}})})}function ap(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,a=i.indexOf(e);a!==-1&&i.splice(a,1),!(i.length>0)&&(iy.forEach(o=>{delete t[o]}),delete t._chartjs)}function sy(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const ay=(function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame})();function oy(t,e){let n=[],i=!1;return function(...a){n=a,i||(i=!0,ay.call(window,()=>{i=!1,t.apply(e,n)}))}}function G_(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const ly=t=>t==="start"?"left":t==="end"?"right":"center",An=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,q_=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e,il=t=>t===0||t===1,op=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Ht/n)),lp=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Ht/n)+1,Ua={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Yt)+1,easeOutSine:t=>Math.sin(t*Yt),easeInOutSine:t=>-.5*(Math.cos(xt*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>il(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>il(t)?t:op(t,.075,.3),easeOutElastic:t=>il(t)?t:lp(t,.075,.3),easeInOutElastic(t){return il(t)?t:t<.5?.5*op(t*2,.1125,.45):.5+.5*lp(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Ua.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Ua.easeInBounce(t*2)*.5:Ua.easeOutBounce(t*2-1)*.5+.5};function cy(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function cp(t){return cy(t)?t:new Va(t)}function zu(t){return cy(t)?t:new Va(t).saturate(.5).darken(.1).hexString()}const J_=["x","y","borderWidth","radius","tension"],Z_=["color","borderColor","backgroundColor"];function ew(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:Z_},numbers:{type:"number",properties:J_}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function tw(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const up=new Map;function nw(t,e){e=e||{};const n=t+JSON.stringify(e);let i=up.get(n);return i||(i=new Intl.NumberFormat(t,e),up.set(n,i)),i}function Rd(t,e,n){return nw(e,n).format(t)}const rw={values(t){return tn(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let a,o=t;if(n.length>1){const m=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(m<1e-4||m>1e15)&&(a="scientific"),o=iw(t,n)}const c=ny(Math.abs(o)),u=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),f={notation:a,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(f,this.options.ticks.format),Rd(t,i,f)}};function iw(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var uy={formatters:rw};function sw(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:uy.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const es=Object.create(null),ad=Object.create(null);function Ba(t,e){if(!e)return t;const n=e.split(".");for(let i=0,a=n.length;i<a;++i){const o=n[i];t=t[o]||(t[o]=Object.create(null))}return t}function Uu(t,e,n){return typeof e=="string"?Ka(Ba(t,e),n):Ka(Ba(t,""),e)}class aw{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,a)=>zu(a.backgroundColor),this.hoverBorderColor=(i,a)=>zu(a.borderColor),this.hoverColor=(i,a)=>zu(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Uu(this,e,n)}get(e){return Ba(this,e)}describe(e,n){return Uu(ad,e,n)}override(e,n){return Uu(es,e,n)}route(e,n,i,a){const o=Ba(this,e),c=Ba(this,i),u="_"+n;Object.defineProperties(o,{[u]:{value:o[n],writable:!0},[n]:{enumerable:!0,get(){const f=this[u],m=c[a];return qe(f)?Object.assign({},m,f):Ge(f,m)},set(f){this[u]=f}}})}apply(e){e.forEach(n=>n(this))}}var Ot=new aw({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[ew,tw,sw]);function ow(t){return!t||ft(t.size)||ft(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function dp(t,e,n,i,a){let o=e[a];return o||(o=e[a]=t.measureText(a).width,n.push(a)),o>i&&(i=o),i}function Bi(t,e,n){const i=t.currentDevicePixelRatio,a=n!==0?Math.max(n/2,.5):0;return Math.round((e-a)*i)/i+a}function fp(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function hp(t,e,n,i){dy(t,e,n,i,null)}function dy(t,e,n,i,a){let o,c,u,f,m,g,v,x;const _=e.pointStyle,k=e.rotation,C=e.radius;let E=(k||0)*z_;if(_&&typeof _=="object"&&(o=_.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(E),t.drawImage(_,-_.width/2,-_.height/2,_.width,_.height),t.restore();return}if(!(isNaN(C)||C<=0)){switch(t.beginPath(),_){default:a?t.ellipse(n,i,a/2,C,0,0,Ht):t.arc(n,i,C,0,Ht),t.closePath();break;case"triangle":g=a?a/2:C,t.moveTo(n+Math.sin(E)*g,i-Math.cos(E)*C),E+=rp,t.lineTo(n+Math.sin(E)*g,i-Math.cos(E)*C),E+=rp,t.lineTo(n+Math.sin(E)*g,i-Math.cos(E)*C),t.closePath();break;case"rectRounded":m=C*.516,f=C-m,c=Math.cos(E+Ui)*f,v=Math.cos(E+Ui)*(a?a/2-m:f),u=Math.sin(E+Ui)*f,x=Math.sin(E+Ui)*(a?a/2-m:f),t.arc(n-v,i-u,m,E-xt,E-Yt),t.arc(n+x,i-c,m,E-Yt,E),t.arc(n+v,i+u,m,E,E+Yt),t.arc(n-x,i+c,m,E+Yt,E+xt),t.closePath();break;case"rect":if(!k){f=Math.SQRT1_2*C,g=a?a/2:f,t.rect(n-g,i-f,2*g,2*f);break}E+=Ui;case"rectRot":v=Math.cos(E)*(a?a/2:C),c=Math.cos(E)*C,u=Math.sin(E)*C,x=Math.sin(E)*(a?a/2:C),t.moveTo(n-v,i-u),t.lineTo(n+x,i-c),t.lineTo(n+v,i+u),t.lineTo(n-x,i+c),t.closePath();break;case"crossRot":E+=Ui;case"cross":v=Math.cos(E)*(a?a/2:C),c=Math.cos(E)*C,u=Math.sin(E)*C,x=Math.sin(E)*(a?a/2:C),t.moveTo(n-v,i-u),t.lineTo(n+v,i+u),t.moveTo(n+x,i-c),t.lineTo(n-x,i+c);break;case"star":v=Math.cos(E)*(a?a/2:C),c=Math.cos(E)*C,u=Math.sin(E)*C,x=Math.sin(E)*(a?a/2:C),t.moveTo(n-v,i-u),t.lineTo(n+v,i+u),t.moveTo(n+x,i-c),t.lineTo(n-x,i+c),E+=Ui,v=Math.cos(E)*(a?a/2:C),c=Math.cos(E)*C,u=Math.sin(E)*C,x=Math.sin(E)*(a?a/2:C),t.moveTo(n-v,i-u),t.lineTo(n+v,i+u),t.moveTo(n+x,i-c),t.lineTo(n-x,i+c);break;case"line":c=a?a/2:Math.cos(E)*C,u=Math.sin(E)*C,t.moveTo(n-c,i-u),t.lineTo(n+c,i+u);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(E)*(a?a/2:C),i+Math.sin(E)*C);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function fy(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Td(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Pd(t){t.restore()}function lw(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),ft(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function cw(t,e,n,i,a){if(a.strikethrough||a.underline){const o=t.measureText(i),c=e-o.actualBoundingBoxLeft,u=e+o.actualBoundingBoxRight,f=n-o.actualBoundingBoxAscent,m=n+o.actualBoundingBoxDescent,g=a.strikethrough?(f+m)/2:m;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=a.decorationWidth||2,t.moveTo(c,g),t.lineTo(u,g),t.stroke()}}function uw(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Ll(t,e,n,i,a,o={}){const c=tn(e)?e:[e],u=o.strokeWidth>0&&o.strokeColor!=="";let f,m;for(t.save(),t.font=a.string,lw(t,o),f=0;f<c.length;++f)m=c[f],o.backdrop&&uw(t,o.backdrop),u&&(o.strokeColor&&(t.strokeStyle=o.strokeColor),ft(o.strokeWidth)||(t.lineWidth=o.strokeWidth),t.strokeText(m,n,i,o.maxWidth)),t.fillText(m,n,i,o.maxWidth),cw(t,n,i,m,o),i+=Number(a.lineHeight);t.restore()}function Al(t,e){const{x:n,y:i,w:a,h:o,radius:c}=e;t.arc(n+c.topLeft,i+c.topLeft,c.topLeft,1.5*xt,xt,!0),t.lineTo(n,i+o-c.bottomLeft),t.arc(n+c.bottomLeft,i+o-c.bottomLeft,c.bottomLeft,xt,Yt,!0),t.lineTo(n+a-c.bottomRight,i+o),t.arc(n+a-c.bottomRight,i+o-c.bottomRight,c.bottomRight,Yt,0,!0),t.lineTo(n+a,i+c.topRight),t.arc(n+a-c.topRight,i+c.topRight,c.topRight,0,-Yt,!0),t.lineTo(n+c.topLeft,i)}const dw=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,fw=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function hw(t,e){const n=(""+t).match(dw);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const mw=t=>+t||0;function Dd(t,e){const n={},i=qe(e),a=i?Object.keys(e):e,o=qe(t)?i?c=>Ge(t[c],t[e[c]]):c=>t[c]:()=>t;for(const c of a)n[c]=mw(o(c));return n}function hy(t){return Dd(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Ts(t){return Dd(t,["topLeft","topRight","bottomLeft","bottomRight"])}function sr(t){const e=hy(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Nn(t,e){t=t||{},e=e||Ot.font;let n=Ge(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=Ge(t.style,e.style);i&&!(""+i).match(fw)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const a={family:Ge(t.family,e.family),lineHeight:hw(Ge(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:Ge(t.weight,e.weight),string:""};return a.string=ow(a),a}function sl(t,e,n,i){let a,o,c;for(a=0,o=t.length;a<o;++a)if(c=t[a],c!==void 0&&c!==void 0)return c}function pw(t,e,n){const{min:i,max:a}=t,o=ey(e,(a-i)/2),c=(u,f)=>n&&u===0?0:u+f;return{min:c(i,-Math.abs(o)),max:c(a,o)}}function Bs(t,e){return Object.assign(Object.create(t),e)}function Ld(t,e=[""],n,i,a=()=>t[0]){const o=n||t;typeof i>"u"&&(i=yy("_fallback",t));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:o,_fallback:i,_getTarget:a,override:u=>Ld([u,...t],e,o,i)};return new Proxy(c,{deleteProperty(u,f){return delete u[f],delete u._keys,delete t[0][f],!0},get(u,f){return py(u,f,()=>Sw(f,e,t,u))},getOwnPropertyDescriptor(u,f){return Reflect.getOwnPropertyDescriptor(u._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(u,f){return pp(u).includes(f)},ownKeys(u){return pp(u)},set(u,f,m){const g=u._storage||(u._storage=a());return u[f]=g[f]=m,delete u._keys,!0}})}function As(t,e,n,i){const a={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:my(t,i),setContext:o=>As(t,o,n,i),override:o=>As(t.override(o),e,n,i)};return new Proxy(a,{deleteProperty(o,c){return delete o[c],delete t[c],!0},get(o,c,u){return py(o,c,()=>yw(o,c,u))},getOwnPropertyDescriptor(o,c){return o._descriptors.allKeys?Reflect.has(t,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,c)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(o,c){return Reflect.has(t,c)},ownKeys(){return Reflect.ownKeys(t)},set(o,c,u){return t[c]=u,delete o[c],!0}})}function my(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:a=e.allKeys}=t;return{allKeys:a,scriptable:n,indexable:i,isScriptable:wi(n)?n:()=>n,isIndexable:wi(i)?i:()=>i}}const gw=(t,e)=>t?t+Nd(e):e,Ad=(t,e)=>qe(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function py(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const i=n();return t[e]=i,i}function yw(t,e,n){const{_proxy:i,_context:a,_subProxy:o,_descriptors:c}=t;let u=i[e];return wi(u)&&c.isScriptable(e)&&(u=vw(e,u,t,n)),tn(u)&&u.length&&(u=xw(e,u,t,c.isIndexable)),Ad(e,u)&&(u=As(u,a,o&&o[e],c)),u}function vw(t,e,n,i){const{_proxy:a,_context:o,_subProxy:c,_stack:u}=n;if(u.has(t))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+t);u.add(t);let f=e(o,c||i);return u.delete(t),Ad(t,f)&&(f=Od(a._scopes,a,t,f)),f}function xw(t,e,n,i){const{_proxy:a,_context:o,_subProxy:c,_descriptors:u}=n;if(typeof o.index<"u"&&i(t))return e[o.index%e.length];if(qe(e[0])){const f=e,m=a._scopes.filter(g=>g!==f);e=[];for(const g of f){const v=Od(m,a,t,g);e.push(As(v,o,c&&c[t],u))}}return e}function gy(t,e,n){return wi(t)?t(e,n):t}const bw=(t,e)=>t===!0?e:typeof t=="string"?Zi(e,t):void 0;function _w(t,e,n,i,a){for(const o of e){const c=bw(n,o);if(c){t.add(c);const u=gy(c._fallback,n,a);if(typeof u<"u"&&u!==n&&u!==i)return u}else if(c===!1&&typeof i<"u"&&n!==i)return null}return!1}function Od(t,e,n,i){const a=e._rootScopes,o=gy(e._fallback,n,i),c=[...t,...a],u=new Set;u.add(i);let f=mp(u,c,n,o||n,i);return f===null||typeof o<"u"&&o!==n&&(f=mp(u,c,o,f,i),f===null)?!1:Ld(Array.from(u),[""],a,o,()=>ww(e,n,i))}function mp(t,e,n,i,a){for(;n;)n=_w(t,e,n,i,a);return n}function ww(t,e,n){const i=t._getTarget();e in i||(i[e]={});const a=i[e];return tn(a)&&qe(n)?n:a||{}}function Sw(t,e,n,i){let a;for(const o of e)if(a=yy(gw(o,t),n),typeof a<"u")return Ad(t,a)?Od(n,i,t,a):a}function yy(t,e){for(const n of e){if(!n)continue;const i=n[t];if(typeof i<"u")return i}}function pp(t){let e=t._keys;return e||(e=t._keys=kw(t._scopes)),e}function kw(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(a=>!a.startsWith("_")))e.add(i);return Array.from(e)}function Fd(){return typeof window<"u"&&typeof document<"u"}function Id(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Ol(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const Yl=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function Cw(t,e){return Yl(t).getPropertyValue(e)}const Ew=["top","right","bottom","left"];function qi(t,e,n){const i={};n=n?"-"+n:"";for(let a=0;a<4;a++){const o=Ew[a];i[o]=parseFloat(t[e+"-"+o+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const jw=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function Nw(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:a,offsetY:o}=i;let c=!1,u,f;if(jw(a,o,t.target))u=a,f=o;else{const m=e.getBoundingClientRect();u=i.clientX-m.left,f=i.clientY-m.top,c=!0}return{x:u,y:f,box:c}}function Hi(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,a=Yl(n),o=a.boxSizing==="border-box",c=qi(a,"padding"),u=qi(a,"border","width"),{x:f,y:m,box:g}=Nw(t,n),v=c.left+(g&&u.left),x=c.top+(g&&u.top);let{width:_,height:k}=e;return o&&(_-=c.width+u.width,k-=c.height+u.height),{x:Math.round((f-v)/_*n.width/i),y:Math.round((m-x)/k*n.height/i)}}function Mw(t,e,n){let i,a;if(e===void 0||n===void 0){const o=t&&Id(t);if(!o)e=t.clientWidth,n=t.clientHeight;else{const c=o.getBoundingClientRect(),u=Yl(o),f=qi(u,"border","width"),m=qi(u,"padding");e=c.width-m.width-f.width,n=c.height-m.height-f.height,i=Ol(u.maxWidth,o,"clientWidth"),a=Ol(u.maxHeight,o,"clientHeight")}}return{width:e,height:n,maxWidth:i||Tl,maxHeight:a||Tl}}const al=t=>Math.round(t*10)/10;function Rw(t,e,n,i){const a=Yl(t),o=qi(a,"margin"),c=Ol(a.maxWidth,t,"clientWidth")||Tl,u=Ol(a.maxHeight,t,"clientHeight")||Tl,f=Mw(t,e,n);let{width:m,height:g}=f;if(a.boxSizing==="content-box"){const x=qi(a,"border","width"),_=qi(a,"padding");m-=_.width+x.width,g-=_.height+x.height}return m=Math.max(0,m-o.width),g=Math.max(0,i?m/i:g-o.height),m=al(Math.min(m,c,f.maxWidth)),g=al(Math.min(g,u,f.maxHeight)),m&&!g&&(g=al(m/2)),(e!==void 0||n!==void 0)&&i&&f.height&&g>f.height&&(g=f.height,m=al(Math.floor(g*i))),{width:m,height:g}}function gp(t,e,n){const i=e||1,a=Math.floor(t.height*i),o=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const c=t.canvas;return c.style&&(n||!c.style.height&&!c.style.width)&&(c.style.height=`${t.height}px`,c.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||c.height!==a||c.width!==o?(t.currentDevicePixelRatio=i,c.height=a,c.width=o,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const Tw=(function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Fd()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t})();function yp(t,e){const n=Cw(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}const Pw=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},Dw=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Ps(t,e,n){return t?Pw(e,n):Dw()}function vy(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function xy(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function ol(t,e,n){return t.options.clip?t[n]:e[n]}function Lw(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:ol(n,e,"left"),right:ol(n,e,"right"),top:ol(i,e,"top"),bottom:ol(i,e,"bottom")}:e}function Aw(t,e){const n=e._clip;if(n.disabled)return!1;const i=Lw(e,t.chartArea);return{left:n.left===!1?0:i.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:i.right+(n.right===!0?0:n.right),top:n.top===!1?0:i.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:i.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Ow{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,a){const o=n.listeners[a],c=n.duration;o.forEach(u=>u({chart:e,initial:n.initial,numSteps:c,currentStep:Math.min(i-n.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=ay.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,a)=>{if(!i.running||!i.items.length)return;const o=i.items;let c=o.length-1,u=!1,f;for(;c>=0;--c)f=o[c],f._active?(f._total>i.duration&&(i.duration=f._total),f.tick(e),u=!0):(o[c]=o[o.length-1],o.pop());u&&(a.draw(),this._notify(a,i,e,"progress")),o.length||(i.running=!1,this._notify(a,i,e,"complete"),i.initial=!1),n+=o.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,a)=>Math.max(i,a._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let a=i.length-1;for(;a>=0;--a)i[a].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Lr=new Ow;const vp="transparent",Fw={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=cp(t||vp),a=i.valid&&cp(e||vp);return a&&a.valid?a.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class Iw{constructor(e,n,i,a){const o=n[i];a=sl([e.to,a,o,e.from]);const c=sl([e.from,o,a]);this._active=!0,this._fn=e.fn||Fw[e.type||typeof c],this._easing=Ua[e.easing]||Ua.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=c,this._to=a,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const a=this._target[this._prop],o=i-this._start,c=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(c,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=sl([e.to,n,a,e.from]),this._from=sl([e.from,a,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,a=this._prop,o=this._from,c=this._loop,u=this._to;let f;if(this._active=o!==u&&(c||n<i),!this._active){this._target[a]=u,this._notify(!0);return}if(n<0){this._target[a]=o;return}f=n/i%2,f=c&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[a]=this._fn(o,u,f)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let a=0;a<i.length;a++)i[a][n]()}}class by{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!qe(e))return;const n=Object.keys(Ot.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(a=>{const o=e[a];if(!qe(o))return;const c={};for(const u of n)c[u]=o[u];(tn(o.properties)&&o.properties||[a]).forEach(u=>{(u===a||!i.has(u))&&i.set(u,c)})})}_animateOptions(e,n){const i=n.options,a=Uw(e,i);if(!a)return[];const o=this._createAnimations(a,i);return i.$shared&&zw(e.options.$animations,i).then(()=>{e.options=i},()=>{}),o}_createAnimations(e,n){const i=this._properties,a=[],o=e.$animations||(e.$animations={}),c=Object.keys(n),u=Date.now();let f;for(f=c.length-1;f>=0;--f){const m=c[f];if(m.charAt(0)==="$")continue;if(m==="options"){a.push(...this._animateOptions(e,n));continue}const g=n[m];let v=o[m];const x=i.get(m);if(v)if(x&&v.active()){v.update(x,g,u);continue}else v.cancel();if(!x||!x.duration){e[m]=g;continue}o[m]=v=new Iw(x,e,m,g),a.push(v)}return a}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return Lr.add(this._chart,i),!0}}function zw(t,e){const n=[],i=Object.keys(e);for(let a=0;a<i.length;a++){const o=t[i[a]];o&&o.active()&&n.push(o.wait())}return Promise.all(n)}function Uw(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function xp(t,e){const n=t&&t.options||{},i=n.reverse,a=n.min===void 0?e:0,o=n.max===void 0?e:0;return{start:i?o:a,end:i?a:o}}function Bw(t,e,n){if(n===!1)return!1;const i=xp(t,n),a=xp(e,n);return{top:a.end,right:i.end,bottom:a.start,left:i.start}}function $w(t){let e,n,i,a;return qe(t)?(e=t.top,n=t.right,i=t.bottom,a=t.left):e=n=i=a=t,{top:e,right:n,bottom:i,left:a,disabled:t===!1}}function _y(t,e){const n=[],i=t._getSortedDatasetMetas(e);let a,o;for(a=0,o=i.length;a<o;++a)n.push(i[a].index);return n}function bp(t,e,n,i={}){const a=t.keys,o=i.mode==="single";let c,u,f,m;if(e===null)return;let g=!1;for(c=0,u=a.length;c<u;++c){if(f=+a[c],f===n){if(g=!0,i.all)continue;break}m=t.values[f],Kn(m)&&(o||e===0||_i(e)===_i(m))&&(e+=m)}return!g&&!i.all?0:e}function Hw(t,e){const{iScale:n,vScale:i}=e,a=n.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",c=Object.keys(t),u=new Array(c.length);let f,m,g;for(f=0,m=c.length;f<m;++f)g=c[f],u[f]={[a]:g,[o]:t[g]};return u}function Bu(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function Ww(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function Vw(t){const{min:e,max:n,minDefined:i,maxDefined:a}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:a?n:Number.POSITIVE_INFINITY}}function Kw(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function _p(t,e,n,i){for(const a of e.getMatchingVisibleMetas(i).reverse()){const o=t[a.index];if(n&&o>0||!n&&o<0)return a.index}return null}function wp(t,e){const{chart:n,_cachedMeta:i}=t,a=n._stacks||(n._stacks={}),{iScale:o,vScale:c,index:u}=i,f=o.axis,m=c.axis,g=Ww(o,c,i),v=e.length;let x;for(let _=0;_<v;++_){const k=e[_],{[f]:C,[m]:E}=k,T=k._stacks||(k._stacks={});x=T[m]=Kw(a,g,C),x[u]=E,x._top=_p(x,c,!0,i.type),x._bottom=_p(x,c,!1,i.type);const P=x._visualValues||(x._visualValues={});P[u]=E}}function $u(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function Yw(t,e){return Bs(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function Xw(t,e,n){return Bs(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function ja(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const a of e){const o=a._stacks;if(!o||o[i]===void 0||o[i][n]===void 0)return;delete o[i][n],o[i]._visualValues!==void 0&&o[i]._visualValues[n]!==void 0&&delete o[i]._visualValues[n]}}}const Hu=t=>t==="reset"||t==="none",Sp=(t,e)=>e?t:Object.assign({},t),Qw=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:_y(n,!0),values:null};class zd{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Bu(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&ja(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),a=(v,x,_,k)=>v==="x"?x:v==="r"?k:_,o=n.xAxisID=Ge(i.xAxisID,$u(e,"x")),c=n.yAxisID=Ge(i.yAxisID,$u(e,"y")),u=n.rAxisID=Ge(i.rAxisID,$u(e,"r")),f=n.indexAxis,m=n.iAxisID=a(f,o,c,u),g=n.vAxisID=a(f,c,o,u);n.xScale=this.getScaleForId(o),n.yScale=this.getScaleForId(c),n.rScale=this.getScaleForId(u),n.iScale=this.getScaleForId(m),n.vScale=this.getScaleForId(g)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&ap(this._data,this),e._stacked&&ja(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(qe(n)){const a=this._cachedMeta;this._data=Hw(n,a)}else if(i!==n){if(i){ap(i,this);const a=this._cachedMeta;ja(a),a._parsed=[]}n&&Object.isExtensible(n)&&Q_(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let a=!1;this._dataCheck();const o=n._stacked;n._stacked=Bu(n.vScale,n),n.stack!==i.stack&&(a=!0,ja(n),n.stack=i.stack),this._resyncElements(e),(a||o!==n._stacked)&&(wp(this,n._parsed),n._stacked=Bu(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:a}=this,{iScale:o,_stacked:c}=i,u=o.axis;let f=e===0&&n===a.length?!0:i._sorted,m=e>0&&i._parsed[e-1],g,v,x;if(this._parsing===!1)i._parsed=a,i._sorted=!0,x=a;else{tn(a[e])?x=this.parseArrayData(i,a,e,n):qe(a[e])?x=this.parseObjectData(i,a,e,n):x=this.parsePrimitiveData(i,a,e,n);const _=()=>v[u]===null||m&&v[u]<m[u];for(g=0;g<n;++g)i._parsed[g+e]=v=x[g],f&&(_()&&(f=!1),m=v);i._sorted=f}c&&wp(this,x)}parsePrimitiveData(e,n,i,a){const{iScale:o,vScale:c}=e,u=o.axis,f=c.axis,m=o.getLabels(),g=o===c,v=new Array(a);let x,_,k;for(x=0,_=a;x<_;++x)k=x+i,v[x]={[u]:g||o.parse(m[k],k),[f]:c.parse(n[k],k)};return v}parseArrayData(e,n,i,a){const{xScale:o,yScale:c}=e,u=new Array(a);let f,m,g,v;for(f=0,m=a;f<m;++f)g=f+i,v=n[g],u[f]={x:o.parse(v[0],g),y:c.parse(v[1],g)};return u}parseObjectData(e,n,i,a){const{xScale:o,yScale:c}=e,{xAxisKey:u="x",yAxisKey:f="y"}=this._parsing,m=new Array(a);let g,v,x,_;for(g=0,v=a;g<v;++g)x=g+i,_=n[x],m[g]={x:o.parse(Zi(_,u),x),y:c.parse(Zi(_,f),x)};return m}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const a=this.chart,o=this._cachedMeta,c=n[e.axis],u={keys:_y(a,!0),values:n._stacks[e.axis]._visualValues};return bp(u,c,o.index,{mode:i})}updateRangeFromParsed(e,n,i,a){const o=i[n.axis];let c=o===null?NaN:o;const u=a&&i._stacks[n.axis];a&&u&&(a.values=u,c=bp(a,o,this._cachedMeta.index)),e.min=Math.min(e.min,c),e.max=Math.max(e.max,c)}getMinMax(e,n){const i=this._cachedMeta,a=i._parsed,o=i._sorted&&e===i.iScale,c=a.length,u=this._getOtherScale(e),f=Qw(n,i,this.chart),m={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:g,max:v}=Vw(u);let x,_;function k(){_=a[x];const C=_[u.axis];return!Kn(_[e.axis])||g>C||v<C}for(x=0;x<c&&!(!k()&&(this.updateRangeFromParsed(m,e,_,f),o));++x);if(o){for(x=c-1;x>=0;--x)if(!k()){this.updateRangeFromParsed(m,e,_,f);break}}return m}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let a,o,c;for(a=0,o=n.length;a<o;++a)c=n[a][e.axis],Kn(c)&&i.push(c);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,a=n.vScale,o=this.getParsed(e);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:a?""+a.getLabelForValue(o[a.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=$w(Ge(this.options.clip,Bw(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,a=i.data||[],o=n.chartArea,c=[],u=this._drawStart||0,f=this._drawCount||a.length-u,m=this.options.drawActiveElementsOnTop;let g;for(i.dataset&&i.dataset.draw(e,o,u,f),g=u;g<u+f;++g){const v=a[g];v.hidden||(v.active&&m?c.push(v):v.draw(e,o))}for(g=0;g<c.length;++g)c[g].draw(e,o)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const a=this.getDataset();let o;if(e>=0&&e<this._cachedMeta.data.length){const c=this._cachedMeta.data[e];o=c.$context||(c.$context=Xw(this.getContext(),e,c)),o.parsed=this.getParsed(e),o.raw=a.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=Yw(this.chart.getContext(),this.index)),o.dataset=a,o.index=o.datasetIndex=this.index;return o.active=!!n,o.mode=i,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const a=n==="active",o=this._cachedDataOpts,c=e+"-"+n,u=o[c],f=this.enableOptionSharing&&Ya(i);if(u)return Sp(u,f);const m=this.chart.config,g=m.datasetElementScopeKeys(this._type,e),v=a?[`${e}Hover`,"hover",e,""]:[e,""],x=m.getOptionScopes(this.getDataset(),g),_=Object.keys(Ot.elements[e]),k=()=>this.getContext(i,a,n),C=m.resolveNamedOptions(x,_,k,v);return C.$shared&&(C.$shared=f,o[c]=Object.freeze(Sp(C,f))),C}_resolveAnimations(e,n,i){const a=this.chart,o=this._cachedDataOpts,c=`animation-${n}`,u=o[c];if(u)return u;let f;if(a.options.animation!==!1){const g=this.chart.config,v=g.datasetAnimationScopeKeys(this._type,n),x=g.getOptionScopes(this.getDataset(),v);f=g.createResolver(x,this.getContext(e,i,n))}const m=new by(a,f&&f.animations);return f&&f._cacheable&&(o[c]=Object.freeze(m)),m}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Hu(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),a=this._sharedOptions,o=this.getSharedOptions(i),c=this.includeOptions(n,o)||o!==a;return this.updateSharedOptions(o,n,i),{sharedOptions:o,includeOptions:c}}updateElement(e,n,i,a){Hu(a)?Object.assign(e,i):this._resolveAnimations(n,a).update(e,i)}updateSharedOptions(e,n,i){e&&!Hu(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,a){e.active=a;const o=this.getStyle(n,a);this._resolveAnimations(n,i,a).update(e,{options:!a&&this.getSharedOptions(o)||o})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[u,f,m]of this._syncList)this[u](f,m);this._syncList=[];const a=i.length,o=n.length,c=Math.min(o,a);c&&this.parse(0,c),o>a?this._insertElements(a,o-a,e):o<a&&this._removeElements(o,a-o)}_insertElements(e,n,i=!0){const a=this._cachedMeta,o=a.data,c=e+n;let u;const f=m=>{for(m.length+=n,u=m.length-1;u>=c;u--)m[u]=m[u-n]};for(f(o),u=e;u<c;++u)o[u]=new this.dataElementType;this._parsing&&f(a._parsed),this.parse(e,n),i&&this.updateElements(o,e,n,"reset")}updateElements(e,n,i,a){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const a=i._parsed.splice(e,n);i._stacked&&ja(i,a)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,a]=e;this[n](i,a)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Gw(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let i=[];for(let a=0,o=n.length;a<o;a++)i=i.concat(n[a].controller.getAllParsedValues(t));t._cache.$bar=sy(i.sort((a,o)=>a-o))}return t._cache.$bar}function qw(t){const e=t.iScale,n=Gw(e,t.type);let i=e._length,a,o,c,u;const f=()=>{c===32767||c===-32768||(Ya(u)&&(i=Math.min(i,Math.abs(c-u)||i)),u=c)};for(a=0,o=n.length;a<o;++a)c=e.getPixelForValue(n[a]),f();for(u=void 0,a=0,o=e.ticks.length;a<o;++a)c=e.getPixelForTick(a),f();return i}function Jw(t,e,n,i){const a=n.barThickness;let o,c;return ft(a)?(o=e.min*n.categoryPercentage,c=n.barPercentage):(o=a*i,c=1),{chunk:o/i,ratio:c,start:e.pixels[t]-o/2}}function Zw(t,e,n,i){const a=e.pixels,o=a[t];let c=t>0?a[t-1]:null,u=t<a.length-1?a[t+1]:null;const f=n.categoryPercentage;c===null&&(c=o-(u===null?e.end-e.start:u-o)),u===null&&(u=o+o-c);const m=o-(o-Math.min(c,u))/2*f;return{chunk:Math.abs(u-c)/2*f/i,ratio:n.barPercentage,start:m}}function eS(t,e,n,i){const a=n.parse(t[0],i),o=n.parse(t[1],i),c=Math.min(a,o),u=Math.max(a,o);let f=c,m=u;Math.abs(c)>Math.abs(u)&&(f=u,m=c),e[n.axis]=m,e._custom={barStart:f,barEnd:m,start:a,end:o,min:c,max:u}}function wy(t,e,n,i){return tn(t)?eS(t,e,n,i):e[n.axis]=n.parse(t,i),e}function kp(t,e,n,i){const a=t.iScale,o=t.vScale,c=a.getLabels(),u=a===o,f=[];let m,g,v,x;for(m=n,g=n+i;m<g;++m)x=e[m],v={},v[a.axis]=u||a.parse(c[m],m),f.push(wy(x,v,o,m));return f}function Wu(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function tS(t,e,n){return t!==0?_i(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function nS(t){let e,n,i,a,o;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(a="end",o="start"):(a="start",o="end"),{start:n,end:i,reverse:e,top:a,bottom:o}}function rS(t,e,n,i){let a=e.borderSkipped;const o={};if(!a){t.borderSkipped=o;return}if(a===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:c,end:u,reverse:f,top:m,bottom:g}=nS(t);a==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?a=m:(n._bottom||0)===i?a=g:(o[Cp(g,c,u,f)]=!0,a=m)),o[Cp(a,c,u,f)]=!0,t.borderSkipped=o}function Cp(t,e,n,i){return i?(t=iS(t,e,n),t=Ep(t,n,e)):t=Ep(t,e,n),t}function iS(t,e,n){return t===e?n:t===n?e:t}function Ep(t,e,n){return t==="start"?e:t==="end"?n:t}function sS(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class aS extends zd{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,n,i,a){return kp(e,n,i,a)}parseArrayData(e,n,i,a){return kp(e,n,i,a)}parseObjectData(e,n,i,a){const{iScale:o,vScale:c}=e,{xAxisKey:u="x",yAxisKey:f="y"}=this._parsing,m=o.axis==="x"?u:f,g=c.axis==="x"?u:f,v=[];let x,_,k,C;for(x=i,_=i+a;x<_;++x)C=n[x],k={},k[o.axis]=o.parse(Zi(C,m),x),v.push(wy(Zi(C,g),k,c,x));return v}updateRangeFromParsed(e,n,i,a){super.updateRangeFromParsed(e,n,i,a);const o=i._custom;o&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,o.min),e.max=Math.max(e.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:i,vScale:a}=n,o=this.getParsed(e),c=o._custom,u=Wu(c)?"["+c.start+", "+c.end+"]":""+a.getLabelForValue(o[a.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,i,a){const o=a==="reset",{index:c,_cachedMeta:{vScale:u}}=this,f=u.getBasePixel(),m=u.isHorizontal(),g=this._getRuler(),{sharedOptions:v,includeOptions:x}=this._getSharedOptions(n,a);for(let _=n;_<n+i;_++){const k=this.getParsed(_),C=o||ft(k[u.axis])?{base:f,head:f}:this._calculateBarValuePixels(_),E=this._calculateBarIndexPixels(_,g),T=(k._stacks||{})[u.axis],P={horizontal:m,base:C.base,enableBorderRadius:!T||Wu(k._custom)||c===T._top||c===T._bottom,x:m?C.head:E.center,y:m?E.center:C.head,height:m?E.size:Math.abs(C.size),width:m?Math.abs(C.size):E.size};x&&(P.options=v||this.resolveDataElementOptions(_,e[_].active?"active":a));const B=P.options||e[_].options;rS(P,B,T,c),sS(P,B,g.ratio),this.updateElement(e[_],_,P,a)}}_getStacks(e,n){const{iScale:i}=this._cachedMeta,a=i.getMatchingVisibleMetas(this._type).filter(g=>g.controller.options.grouped),o=i.options.stacked,c=[],u=this._cachedMeta.controller.getParsed(n),f=u&&u[i.axis],m=g=>{const v=g._parsed.find(_=>_[i.axis]===f),x=v&&v[g.vScale.axis];if(ft(x)||isNaN(x))return!0};for(const g of a)if(!(n!==void 0&&m(g))&&((o===!1||c.indexOf(g.stack)===-1||o===void 0&&g.stack===void 0)&&c.push(g.stack),g.index===e))break;return c.length||c.push(void 0),c}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(i=>e[i].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)e[Ge(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,i){const a=this._getStacks(e,i),o=n!==void 0?a.indexOf(n):-1;return o===-1?a.length-1:o}_getRuler(){const e=this.options,n=this._cachedMeta,i=n.iScale,a=[];let o,c;for(o=0,c=n.data.length;o<c;++o)a.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const u=e.barThickness;return{min:u||qw(n),pixels:a,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:u?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:i,index:a},options:{base:o,minBarLength:c}}=this,u=o||0,f=this.getParsed(e),m=f._custom,g=Wu(m);let v=f[n.axis],x=0,_=i?this.applyStack(n,f,i):v,k,C;_!==v&&(x=_-v,_=v),g&&(v=m.barStart,_=m.barEnd-m.barStart,v!==0&&_i(v)!==_i(m.barEnd)&&(x=0),x+=v);const E=!ft(o)&&!g?o:x;let T=n.getPixelForValue(E);if(this.chart.getDataVisibility(e)?k=n.getPixelForValue(x+_):k=T,C=k-T,Math.abs(C)<c){C=tS(C,n,u)*c,v===u&&(T-=C/2);const P=n.getPixelForDecimal(0),B=n.getPixelForDecimal(1),z=Math.min(P,B),H=Math.max(P,B);T=Math.max(Math.min(T,H),z),k=T+C,i&&!g&&(f._stacks[n.axis]._visualValues[a]=n.getValueForPixel(k)-n.getValueForPixel(T))}if(T===n.getPixelForValue(u)){const P=_i(C)*n.getLineWidthForValue(u)/2;T+=P,C-=P}return{size:C,base:T,head:k,center:k+C/2}}_calculateBarIndexPixels(e,n){const i=n.scale,a=this.options,o=a.skipNull,c=Ge(a.maxBarThickness,1/0);let u,f;const m=this._getAxisCount();if(n.grouped){const g=o?this._getStackCount(e):n.stackCount,v=a.barThickness==="flex"?Zw(e,n,a,g*m):Jw(e,n,a,g*m),x=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,_=this._getAxis().indexOf(Ge(x,this.getFirstScaleIdForIndexAxis())),k=this._getStackIndex(this.index,this._cachedMeta.stack,o?e:void 0)+_;u=v.start+v.chunk*k+v.chunk/2,f=Math.min(c,v.chunk*v.ratio)}else u=i.getPixelForValue(this.getParsed(e)[i.axis],e),f=Math.min(c,n.min*n.ratio);return{base:u-f/2,head:u+f/2,center:u,size:f}}draw(){const e=this._cachedMeta,n=e.vScale,i=e.data,a=i.length;let o=0;for(;o<a;++o)this.getParsed(o)[n.axis]!==null&&!i[o].hidden&&i[o].draw(this._ctx)}}function oS(t,e,n){let i=1,a=1,o=0,c=0;if(e<Ht){const u=t,f=u+e,m=Math.cos(u),g=Math.sin(u),v=Math.cos(f),x=Math.sin(f),_=(B,z,H)=>Dl(B,u,f,!0)?1:Math.max(z,z*n,H,H*n),k=(B,z,H)=>Dl(B,u,f,!0)?-1:Math.min(z,z*n,H,H*n),C=_(0,m,v),E=_(Yt,g,x),T=k(xt,m,v),P=k(xt+Yt,g,x);i=(C-T)/2,a=(E-P)/2,o=-(C+T)/2,c=-(E+P)/2}return{ratioX:i,ratioY:a,offsetX:o,offsetY:c}}class lS extends zd{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:a}}=e.legend.options;return n.labels.map((o,c)=>{const f=e.getDatasetMeta(0).controller.getStyle(c);return{text:o,fillStyle:f.backgroundColor,strokeStyle:f.borderColor,fontColor:a,lineWidth:f.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(c),index:c}})}return[]}},onClick(e,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}};constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const i=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=i;else{let o=f=>+i[f];if(qe(i[e])){const{key:f="value"}=this._parsing;o=m=>+Zi(i[m],f)}let c,u;for(c=e,u=e+n;c<u;++c)a._parsed[c]=o(c)}}_getRotation(){return Ir(this.options.rotation-90)}_getCircumference(){return Ir(this.options.circumference)}_getRotationExtents(){let e=Ht,n=-Ht;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const a=this.chart.getDatasetMeta(i).controller,o=a._getRotation(),c=a._getCircumference();e=Math.min(e,o),n=Math.max(n,o+c)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:i}=n,a=this._cachedMeta,o=a.data,c=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,u=Math.max((Math.min(i.width,i.height)-c)/2,0),f=Math.min(D_(this.options.cutout,u),1),m=this._getRingWeight(this.index),{circumference:g,rotation:v}=this._getRotationExtents(),{ratioX:x,ratioY:_,offsetX:k,offsetY:C}=oS(v,g,f),E=(i.width-c)/x,T=(i.height-c)/_,P=Math.max(Math.min(E,T)/2,0),B=ey(this.options.radius,P),z=Math.max(B*f,0),H=(B-z)/this._getVisibleDatasetWeightTotal();this.offsetX=k*B,this.offsetY=C*B,a.total=this.calculateTotal(),this.outerRadius=B-H*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-H*m,0),this.updateElements(o,0,o.length,e)}_circumference(e,n){const i=this.options,a=this._cachedMeta,o=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||a._parsed[e]===null||a.data[e].hidden?0:this.calculateCircumference(a._parsed[e]*o/Ht)}updateElements(e,n,i,a){const o=a==="reset",c=this.chart,u=c.chartArea,m=c.options.animation,g=(u.left+u.right)/2,v=(u.top+u.bottom)/2,x=o&&m.animateScale,_=x?0:this.innerRadius,k=x?0:this.outerRadius,{sharedOptions:C,includeOptions:E}=this._getSharedOptions(n,a);let T=this._getRotation(),P;for(P=0;P<n;++P)T+=this._circumference(P,o);for(P=n;P<n+i;++P){const B=this._circumference(P,o),z=e[P],H={x:g+this.offsetX,y:v+this.offsetY,startAngle:T,endAngle:T+B,circumference:B,outerRadius:k,innerRadius:_};E&&(H.options=C||this.resolveDataElementOptions(P,z.active?"active":a)),T+=B,this.updateElement(z,P,H,a)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let i=0,a;for(a=0;a<n.length;a++){const o=e._parsed[a];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(a)&&!n[a].hidden&&(i+=Math.abs(o))}return i}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?Ht*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,a=i.data.labels||[],o=Rd(n._parsed[e],i.options.locale);return{label:a[e]||"",value:o}}getMaxBorderWidth(e){let n=0;const i=this.chart;let a,o,c,u,f;if(!e){for(a=0,o=i.data.datasets.length;a<o;++a)if(i.isDatasetVisible(a)){c=i.getDatasetMeta(a),e=c.data,u=c.controller;break}}if(!e)return 0;for(a=0,o=e.length;a<o;++a)f=u.resolveDataElementOptions(a),f.borderAlign!=="inner"&&(n=Math.max(n,f.borderWidth||0,f.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let i=0,a=e.length;i<a;++i){const o=this.resolveDataElementOptions(i);n=Math.max(n,o.offset||0,o.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(e){return Math.max(Ge(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class cS extends lS{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}function $i(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Ud{static override(e){Object.assign(Ud.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return $i()}parse(){return $i()}format(){return $i()}add(){return $i()}diff(){return $i()}startOf(){return $i()}endOf(){return $i()}}var uS={_date:Ud};function dS(t,e,n,i){const{controller:a,data:o,_sorted:c}=t,u=a._cachedMeta.iScale,f=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(u&&e===u.axis&&e!=="r"&&c&&o.length){const m=u._reversePixels?Y_:sd;if(i){if(a._sharedOptions){const g=o[0],v=typeof g.getRange=="function"&&g.getRange(e);if(v){const x=m(o,e,n-v),_=m(o,e,n+v);return{lo:x.lo,hi:_.hi}}}}else{const g=m(o,e,n);if(f){const{vScale:v}=a._cachedMeta,{_parsed:x}=t,_=x.slice(0,g.lo+1).reverse().findIndex(C=>!ft(C[v.axis]));g.lo-=Math.max(0,_);const k=x.slice(g.hi).findIndex(C=>!ft(C[v.axis]));g.hi+=Math.max(0,k)}return g}}return{lo:0,hi:o.length-1}}function Xl(t,e,n,i,a){const o=t.getSortedVisibleDatasetMetas(),c=n[e];for(let u=0,f=o.length;u<f;++u){const{index:m,data:g}=o[u],{lo:v,hi:x}=dS(o[u],e,c,a);for(let _=v;_<=x;++_){const k=g[_];k.skip||i(k,m,_)}}}function fS(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,a){const o=e?Math.abs(i.x-a.x):0,c=n?Math.abs(i.y-a.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(c,2))}}function Vu(t,e,n,i,a){const o=[];return!a&&!t.isPointInArea(e)||Xl(t,n,e,function(u,f,m){!a&&!fy(u,t.chartArea,0)||u.inRange(e.x,e.y,i)&&o.push({element:u,datasetIndex:f,index:m})},!0),o}function hS(t,e,n,i){let a=[];function o(c,u,f){const{startAngle:m,endAngle:g}=c.getProps(["startAngle","endAngle"],i),{angle:v}=ry(c,{x:e.x,y:e.y});Dl(v,m,g)&&a.push({element:c,datasetIndex:u,index:f})}return Xl(t,n,e,o),a}function mS(t,e,n,i,a,o){let c=[];const u=fS(n);let f=Number.POSITIVE_INFINITY;function m(g,v,x){const _=g.inRange(e.x,e.y,a);if(i&&!_)return;const k=g.getCenterPoint(a);if(!(!!o||t.isPointInArea(k))&&!_)return;const E=u(e,k);E<f?(c=[{element:g,datasetIndex:v,index:x}],f=E):E===f&&c.push({element:g,datasetIndex:v,index:x})}return Xl(t,n,e,m),c}function Ku(t,e,n,i,a,o){return!o&&!t.isPointInArea(e)?[]:n==="r"&&!i?hS(t,e,n,a):mS(t,e,n,i,a,o)}function jp(t,e,n,i,a){const o=[],c=n==="x"?"inXRange":"inYRange";let u=!1;return Xl(t,n,e,(f,m,g)=>{f[c]&&f[c](e[n],a)&&(o.push({element:f,datasetIndex:m,index:g}),u=u||f.inRange(e.x,e.y,a))}),i&&!u?[]:o}var pS={modes:{index(t,e,n,i){const a=Hi(e,t),o=n.axis||"x",c=n.includeInvisible||!1,u=n.intersect?Vu(t,a,o,i,c):Ku(t,a,o,!1,i,c),f=[];return u.length?(t.getSortedVisibleDatasetMetas().forEach(m=>{const g=u[0].index,v=m.data[g];v&&!v.skip&&f.push({element:v,datasetIndex:m.index,index:g})}),f):[]},dataset(t,e,n,i){const a=Hi(e,t),o=n.axis||"xy",c=n.includeInvisible||!1;let u=n.intersect?Vu(t,a,o,i,c):Ku(t,a,o,!1,i,c);if(u.length>0){const f=u[0].datasetIndex,m=t.getDatasetMeta(f).data;u=[];for(let g=0;g<m.length;++g)u.push({element:m[g],datasetIndex:f,index:g})}return u},point(t,e,n,i){const a=Hi(e,t),o=n.axis||"xy",c=n.includeInvisible||!1;return Vu(t,a,o,i,c)},nearest(t,e,n,i){const a=Hi(e,t),o=n.axis||"xy",c=n.includeInvisible||!1;return Ku(t,a,o,n.intersect,i,c)},x(t,e,n,i){const a=Hi(e,t);return jp(t,a,"x",n.intersect,i)},y(t,e,n,i){const a=Hi(e,t);return jp(t,a,"y",n.intersect,i)}}};const Sy=["left","top","right","bottom"];function Na(t,e){return t.filter(n=>n.pos===e)}function Np(t,e){return t.filter(n=>Sy.indexOf(n.pos)===-1&&n.box.axis===e)}function Ma(t,e){return t.sort((n,i)=>{const a=e?i:n,o=e?n:i;return a.weight===o.weight?a.index-o.index:a.weight-o.weight})}function gS(t){const e=[];let n,i,a,o,c,u;for(n=0,i=(t||[]).length;n<i;++n)a=t[n],{position:o,options:{stack:c,stackWeight:u=1}}=a,e.push({index:n,box:a,pos:o,horizontal:a.isHorizontal(),weight:a.weight,stack:c&&o+c,stackWeight:u});return e}function yS(t){const e={};for(const n of t){const{stack:i,pos:a,stackWeight:o}=n;if(!i||!Sy.includes(a))continue;const c=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=o}return e}function vS(t,e){const n=yS(t),{vBoxMaxWidth:i,hBoxMaxHeight:a}=e;let o,c,u;for(o=0,c=t.length;o<c;++o){u=t[o];const{fullSize:f}=u.box,m=n[u.stack],g=m&&u.stackWeight/m.weight;u.horizontal?(u.width=g?g*i:f&&e.availableWidth,u.height=a):(u.width=i,u.height=g?g*a:f&&e.availableHeight)}return n}function xS(t){const e=gS(t),n=Ma(e.filter(m=>m.box.fullSize),!0),i=Ma(Na(e,"left"),!0),a=Ma(Na(e,"right")),o=Ma(Na(e,"top"),!0),c=Ma(Na(e,"bottom")),u=Np(e,"x"),f=Np(e,"y");return{fullSize:n,leftAndTop:i.concat(o),rightAndBottom:a.concat(f).concat(c).concat(u),chartArea:Na(e,"chartArea"),vertical:i.concat(a).concat(f),horizontal:o.concat(c).concat(u)}}function Mp(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function ky(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function bS(t,e,n,i){const{pos:a,box:o}=n,c=t.maxPadding;if(!qe(a)){n.size&&(t[a]-=n.size);const v=i[n.stack]||{size:0,count:1};v.size=Math.max(v.size,n.horizontal?o.height:o.width),n.size=v.size/v.count,t[a]+=n.size}o.getPadding&&ky(c,o.getPadding());const u=Math.max(0,e.outerWidth-Mp(c,t,"left","right")),f=Math.max(0,e.outerHeight-Mp(c,t,"top","bottom")),m=u!==t.w,g=f!==t.h;return t.w=u,t.h=f,n.horizontal?{same:m,other:g}:{same:g,other:m}}function _S(t){const e=t.maxPadding;function n(i){const a=Math.max(e[i]-t[i],0);return t[i]+=a,a}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function wS(t,e){const n=e.maxPadding;function i(a){const o={left:0,top:0,right:0,bottom:0};return a.forEach(c=>{o[c]=Math.max(e[c],n[c])}),o}return i(t?["left","right"]:["top","bottom"])}function Oa(t,e,n,i){const a=[];let o,c,u,f,m,g;for(o=0,c=t.length,m=0;o<c;++o){u=t[o],f=u.box,f.update(u.width||e.w,u.height||e.h,wS(u.horizontal,e));const{same:v,other:x}=bS(e,n,u,i);m|=v&&a.length,g=g||x,f.fullSize||a.push(u)}return m&&Oa(a,e,n,i)||g}function ll(t,e,n,i,a){t.top=n,t.left=e,t.right=e+i,t.bottom=n+a,t.width=i,t.height=a}function Rp(t,e,n,i){const a=n.padding;let{x:o,y:c}=e;for(const u of t){const f=u.box,m=i[u.stack]||{placed:0,weight:1},g=u.stackWeight/m.weight||1;if(u.horizontal){const v=e.w*g,x=m.size||f.height;Ya(m.start)&&(c=m.start),f.fullSize?ll(f,a.left,c,n.outerWidth-a.right-a.left,x):ll(f,e.left+m.placed,c,v,x),m.start=c,m.placed+=v,c=f.bottom}else{const v=e.h*g,x=m.size||f.width;Ya(m.start)&&(o=m.start),f.fullSize?ll(f,o,a.top,x,n.outerHeight-a.bottom-a.top):ll(f,o,e.top+m.placed,x,v),m.start=o,m.placed+=v,o=f.right}}e.x=o,e.y=c}var vi={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const a=sr(t.options.layout.padding),o=Math.max(e-a.width,0),c=Math.max(n-a.height,0),u=xS(t.boxes),f=u.vertical,m=u.horizontal;ot(t.boxes,C=>{typeof C.beforeLayout=="function"&&C.beforeLayout()});const g=f.reduce((C,E)=>E.box.options&&E.box.options.display===!1?C:C+1,0)||1,v=Object.freeze({outerWidth:e,outerHeight:n,padding:a,availableWidth:o,availableHeight:c,vBoxMaxWidth:o/2/g,hBoxMaxHeight:c/2}),x=Object.assign({},a);ky(x,sr(i));const _=Object.assign({maxPadding:x,w:o,h:c,x:a.left,y:a.top},a),k=vS(f.concat(m),v);Oa(u.fullSize,_,v,k),Oa(f,_,v,k),Oa(m,_,v,k)&&Oa(f,_,v,k),_S(_),Rp(u.leftAndTop,_,v,k),_.x+=_.w,_.y+=_.h,Rp(u.rightAndBottom,_,v,k),t.chartArea={left:_.left,top:_.top,right:_.left+_.w,bottom:_.top+_.h,height:_.h,width:_.w},ot(u.chartArea,C=>{const E=C.box;Object.assign(E,t.chartArea),E.update(_.w,_.h,{left:0,top:0,right:0,bottom:0})})}};class Cy{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,a){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,a?Math.floor(n/a):i)}}isAttached(e){return!0}updateConfig(e){}}class SS extends Cy{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const bl="$chartjs",kS={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Tp=t=>t===null||t==="";function CS(t,e){const n=t.style,i=t.getAttribute("height"),a=t.getAttribute("width");if(t[bl]={initial:{height:i,width:a,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Tp(a)){const o=yp(t,"width");o!==void 0&&(t.width=o)}if(Tp(i))if(t.style.height==="")t.height=t.width/(e||2);else{const o=yp(t,"height");o!==void 0&&(t.height=o)}return t}const Ey=Tw?{passive:!0}:!1;function ES(t,e,n){t&&t.addEventListener(e,n,Ey)}function jS(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,Ey)}function NS(t,e){const n=kS[t.type]||t.type,{x:i,y:a}=Hi(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:a!==void 0?a:null}}function Fl(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function MS(t,e,n){const i=t.canvas,a=new MutationObserver(o=>{let c=!1;for(const u of o)c=c||Fl(u.addedNodes,i),c=c&&!Fl(u.removedNodes,i);c&&n()});return a.observe(document,{childList:!0,subtree:!0}),a}function RS(t,e,n){const i=t.canvas,a=new MutationObserver(o=>{let c=!1;for(const u of o)c=c||Fl(u.removedNodes,i),c=c&&!Fl(u.addedNodes,i);c&&n()});return a.observe(document,{childList:!0,subtree:!0}),a}const Xa=new Map;let Pp=0;function jy(){const t=window.devicePixelRatio;t!==Pp&&(Pp=t,Xa.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function TS(t,e){Xa.size||window.addEventListener("resize",jy),Xa.set(t,e)}function PS(t){Xa.delete(t),Xa.size||window.removeEventListener("resize",jy)}function DS(t,e,n){const i=t.canvas,a=i&&Id(i);if(!a)return;const o=oy((u,f)=>{const m=a.clientWidth;n(u,f),m<a.clientWidth&&n()},window),c=new ResizeObserver(u=>{const f=u[0],m=f.contentRect.width,g=f.contentRect.height;m===0&&g===0||o(m,g)});return c.observe(a),TS(t,o),c}function Yu(t,e,n){n&&n.disconnect(),e==="resize"&&PS(t)}function LS(t,e,n){const i=t.canvas,a=oy(o=>{t.ctx!==null&&n(NS(o,t))},t);return ES(i,e,a),a}class AS extends Cy{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(CS(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[bl])return!1;const i=n[bl].initial;["height","width"].forEach(o=>{const c=i[o];ft(c)?n.removeAttribute(o):n.setAttribute(o,c)});const a=i.style||{};return Object.keys(a).forEach(o=>{n.style[o]=a[o]}),n.width=n.width,delete n[bl],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const a=e.$proxies||(e.$proxies={}),c={attach:MS,detach:RS,resize:DS}[n]||LS;a[n]=c(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),a=i[n];if(!a)return;({attach:Yu,detach:Yu,resize:Yu}[n]||jS)(e,n,a),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,a){return Rw(e,n,i,a)}isAttached(e){const n=e&&Id(e);return!!(n&&n.isConnected)}}function OS(t){return!Fd()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?SS:AS}class $s{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return Pl(this.x)&&Pl(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const a={};return e.forEach(o=>{a[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),a}}function FS(t,e){const n=t.options.ticks,i=IS(t),a=Math.min(n.maxTicksLimit||i,i),o=n.major.enabled?US(e):[],c=o.length,u=o[0],f=o[c-1],m=[];if(c>a)return BS(e,m,o,c/a),m;const g=zS(o,e,a);if(c>0){let v,x;const _=c>1?Math.round((f-u)/(c-1)):null;for(cl(e,m,g,ft(_)?0:u-_,u),v=0,x=c-1;v<x;v++)cl(e,m,g,o[v],o[v+1]);return cl(e,m,g,f,ft(_)?e.length:f+_),m}return cl(e,m,g),m}function IS(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),a=t._maxLength/n;return Math.floor(Math.min(i,a))}function zS(t,e,n){const i=$S(t),a=e.length/n;if(!i)return Math.max(a,1);const o=U_(i);for(let c=0,u=o.length-1;c<u;c++){const f=o[c];if(f>a)return f}return Math.max(a,1)}function US(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function BS(t,e,n,i){let a=0,o=n[0],c;for(i=Math.ceil(i),c=0;c<t.length;c++)c===o&&(e.push(t[c]),a++,o=n[a*i])}function cl(t,e,n,i,a){const o=Ge(i,0),c=Math.min(Ge(a,t.length),t.length);let u=0,f,m,g;for(n=Math.ceil(n),a&&(f=a-i,n=f/Math.floor(f/n)),g=o;g<0;)u++,g=Math.round(o+u*n);for(m=Math.max(o,0);m<c;m++)m===g&&(e.push(t[m]),u++,g=Math.round(o+u*n))}function $S(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const HS=t=>t==="left"?"right":t==="right"?"left":t,Dp=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,Lp=(t,e)=>Math.min(e||t,t);function Ap(t,e){const n=[],i=t.length/e,a=t.length;let o=0;for(;o<a;o+=i)n.push(t[Math.floor(o)]);return n}function WS(t,e,n){const i=t.ticks.length,a=Math.min(e,i-1),o=t._startPixel,c=t._endPixel,u=1e-6;let f=t.getPixelForTick(a),m;if(!(n&&(i===1?m=Math.max(f-o,c-f):e===0?m=(t.getPixelForTick(1)-f)/2:m=(f-t.getPixelForTick(a-1))/2,f+=a<e?m:-m,f<o-u||f>c+u)))return f}function VS(t,e){ot(t,n=>{const i=n.gc,a=i.length/2;let o;if(a>e){for(o=0;o<a;++o)delete n.data[i[o]];i.splice(0,a)}})}function Ra(t){return t.drawTicks?t.tickLength:0}function Op(t,e){if(!t.display)return 0;const n=Nn(t.font,e),i=sr(t.padding);return(tn(t.text)?t.text.length:1)*n.lineHeight+i.height}function KS(t,e){return Bs(t,{scale:e,type:"scale"})}function YS(t,e,n){return Bs(t,{tick:n,index:e,type:"tick"})}function XS(t,e,n){let i=ly(t);return(n&&e!=="right"||!n&&e==="right")&&(i=HS(i)),i}function QS(t,e,n,i){const{top:a,left:o,bottom:c,right:u,chart:f}=t,{chartArea:m,scales:g}=f;let v=0,x,_,k;const C=c-a,E=u-o;if(t.isHorizontal()){if(_=An(i,o,u),qe(n)){const T=Object.keys(n)[0],P=n[T];k=g[T].getPixelForValue(P)+C-e}else n==="center"?k=(m.bottom+m.top)/2+C-e:k=Dp(t,n,e);x=u-o}else{if(qe(n)){const T=Object.keys(n)[0],P=n[T];_=g[T].getPixelForValue(P)-E+e}else n==="center"?_=(m.left+m.right)/2-E+e:_=Dp(t,n,e);k=An(i,c,a),v=n==="left"?-Yt:Yt}return{titleX:_,titleY:k,maxWidth:x,rotation:v}}class Hs extends $s{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:a}=this;return e=hr(e,Number.POSITIVE_INFINITY),n=hr(n,Number.NEGATIVE_INFINITY),i=hr(i,Number.POSITIVE_INFINITY),a=hr(a,Number.NEGATIVE_INFINITY),{min:hr(e,i),max:hr(n,a),minDefined:Kn(e),maxDefined:Kn(n)}}getMinMax(e){let{min:n,max:i,minDefined:a,maxDefined:o}=this.getUserBounds(),c;if(a&&o)return{min:n,max:i};const u=this.getMatchingVisibleMetas();for(let f=0,m=u.length;f<m;++f)c=u[f].controller.getMinMax(this,e),a||(n=Math.min(n,c.min)),o||(i=Math.max(i,c.max));return n=o&&n>i?i:n,i=a&&n>i?n:i,{min:hr(n,hr(i,n)),max:hr(i,hr(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){vt(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:a,grace:o,ticks:c}=this.options,u=c.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=pw(this,o,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=u<this.ticks.length;this._convertTicksToLabels(f?Ap(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=FS(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){vt(this.options.afterUpdate,[this])}beforeSetDimensions(){vt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){vt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),vt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){vt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,a,o;for(i=0,a=e.length;i<a;i++)o=e[i],o.label=vt(n.callback,[o.value,i,e],this)}afterTickToLabelConversion(){vt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){vt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=Lp(this.ticks.length,e.ticks.maxTicksLimit),a=n.minRotation||0,o=n.maxRotation;let c=a,u,f,m;if(!this._isVisible()||!n.display||a>=o||i<=1||!this.isHorizontal()){this.labelRotation=a;return}const g=this._getLabelSizes(),v=g.widest.width,x=g.highest.height,_=jn(this.chart.width-v,0,this.maxWidth);u=e.offset?this.maxWidth/i:_/(i-1),v+6>u&&(u=_/(i-(e.offset?.5:1)),f=this.maxHeight-Ra(e.grid)-n.padding-Op(e.title,this.chart.options.font),m=Math.sqrt(v*v+x*x),c=W_(Math.min(Math.asin(jn((g.highest.height+6)/u,-1,1)),Math.asin(jn(f/m,-1,1))-Math.asin(jn(x/m,-1,1)))),c=Math.max(a,Math.min(o,c))),this.labelRotation=c}afterCalculateLabelRotation(){vt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){vt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:a,grid:o}}=this,c=this._isVisible(),u=this.isHorizontal();if(c){const f=Op(a,n.options.font);if(u?(e.width=this.maxWidth,e.height=Ra(o)+f):(e.height=this.maxHeight,e.width=Ra(o)+f),i.display&&this.ticks.length){const{first:m,last:g,widest:v,highest:x}=this._getLabelSizes(),_=i.padding*2,k=Ir(this.labelRotation),C=Math.cos(k),E=Math.sin(k);if(u){const T=i.mirror?0:E*v.width+C*x.height;e.height=Math.min(this.maxHeight,e.height+T+_)}else{const T=i.mirror?0:C*v.width+E*x.height;e.width=Math.min(this.maxWidth,e.width+T+_)}this._calculatePadding(m,g,E,C)}}this._handleMargins(),u?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,a){const{ticks:{align:o,padding:c},position:u}=this.options,f=this.labelRotation!==0,m=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const g=this.getPixelForTick(0)-this.left,v=this.right-this.getPixelForTick(this.ticks.length-1);let x=0,_=0;f?m?(x=a*e.width,_=i*n.height):(x=i*e.height,_=a*n.width):o==="start"?_=n.width:o==="end"?x=e.width:o!=="inner"&&(x=e.width/2,_=n.width/2),this.paddingLeft=Math.max((x-g+c)*this.width/(this.width-g),0),this.paddingRight=Math.max((_-v+c)*this.width/(this.width-v),0)}else{let g=n.height/2,v=e.height/2;o==="start"?(g=0,v=e.height):o==="end"&&(g=n.height,v=0),this.paddingTop=g+c,this.paddingBottom=v+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){vt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)ft(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=Ap(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){const{ctx:a,_longestTextCache:o}=this,c=[],u=[],f=Math.floor(n/Lp(n,i));let m=0,g=0,v,x,_,k,C,E,T,P,B,z,H;for(v=0;v<n;v+=f){if(k=e[v].label,C=this._resolveTickFontOptions(v),a.font=E=C.string,T=o[E]=o[E]||{data:{},gc:[]},P=C.lineHeight,B=z=0,!ft(k)&&!tn(k))B=dp(a,T.data,T.gc,B,k),z=P;else if(tn(k))for(x=0,_=k.length;x<_;++x)H=k[x],!ft(H)&&!tn(H)&&(B=dp(a,T.data,T.gc,B,H),z+=P);c.push(B),u.push(z),m=Math.max(B,m),g=Math.max(z,g)}VS(o,n);const q=c.indexOf(m),N=u.indexOf(g),A=V=>({width:c[V]||0,height:u[V]||0});return{first:A(0),last:A(n-1),widest:A(q),highest:A(N),widths:c,heights:u}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return K_(this._alignToPixels?Bi(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=YS(this.getContext(),e,i))}return this.$context||(this.$context=KS(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Ir(this.labelRotation),i=Math.abs(Math.cos(n)),a=Math.abs(Math.sin(n)),o=this._getLabelSizes(),c=e.autoSkipPadding||0,u=o?o.widest.width+c:0,f=o?o.highest.height+c:0;return this.isHorizontal()?f*i>u*a?u/i:f/a:f*a<u*i?f/i:u/a}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,a=this.options,{grid:o,position:c,border:u}=a,f=o.offset,m=this.isHorizontal(),v=this.ticks.length+(f?1:0),x=Ra(o),_=[],k=u.setContext(this.getContext()),C=k.display?k.width:0,E=C/2,T=function(fe){return Bi(i,fe,C)};let P,B,z,H,q,N,A,V,L,D,K,X;if(c==="top")P=T(this.bottom),N=this.bottom-x,V=P-E,D=T(e.top)+E,X=e.bottom;else if(c==="bottom")P=T(this.top),D=e.top,X=T(e.bottom)-E,N=P+E,V=this.top+x;else if(c==="left")P=T(this.right),q=this.right-x,A=P-E,L=T(e.left)+E,K=e.right;else if(c==="right")P=T(this.left),L=e.left,K=T(e.right)-E,q=P+E,A=this.left+x;else if(n==="x"){if(c==="center")P=T((e.top+e.bottom)/2+.5);else if(qe(c)){const fe=Object.keys(c)[0],pe=c[fe];P=T(this.chart.scales[fe].getPixelForValue(pe))}D=e.top,X=e.bottom,N=P+E,V=N+x}else if(n==="y"){if(c==="center")P=T((e.left+e.right)/2);else if(qe(c)){const fe=Object.keys(c)[0],pe=c[fe];P=T(this.chart.scales[fe].getPixelForValue(pe))}q=P-E,A=q-x,L=e.left,K=e.right}const ne=Ge(a.ticks.maxTicksLimit,v),oe=Math.max(1,Math.ceil(v/ne));for(B=0;B<v;B+=oe){const fe=this.getContext(B),pe=o.setContext(fe),Z=u.setContext(fe),se=pe.lineWidth,M=pe.color,S=Z.dash||[],F=Z.dashOffset,ee=pe.tickWidth,ae=pe.tickColor,ce=pe.tickBorderDash||[],de=pe.tickBorderDashOffset;z=WS(this,B,f),z!==void 0&&(H=Bi(i,z,se),m?q=A=L=K=H:N=V=D=X=H,_.push({tx1:q,ty1:N,tx2:A,ty2:V,x1:L,y1:D,x2:K,y2:X,width:se,color:M,borderDash:S,borderDashOffset:F,tickWidth:ee,tickColor:ae,tickBorderDash:ce,tickBorderDashOffset:de}))}return this._ticksLength=v,this._borderValue=P,_}_computeLabelItems(e){const n=this.axis,i=this.options,{position:a,ticks:o}=i,c=this.isHorizontal(),u=this.ticks,{align:f,crossAlign:m,padding:g,mirror:v}=o,x=Ra(i.grid),_=x+g,k=v?-g:_,C=-Ir(this.labelRotation),E=[];let T,P,B,z,H,q,N,A,V,L,D,K,X="middle";if(a==="top")q=this.bottom-k,N=this._getXAxisLabelAlignment();else if(a==="bottom")q=this.top+k,N=this._getXAxisLabelAlignment();else if(a==="left"){const oe=this._getYAxisLabelAlignment(x);N=oe.textAlign,H=oe.x}else if(a==="right"){const oe=this._getYAxisLabelAlignment(x);N=oe.textAlign,H=oe.x}else if(n==="x"){if(a==="center")q=(e.top+e.bottom)/2+_;else if(qe(a)){const oe=Object.keys(a)[0],fe=a[oe];q=this.chart.scales[oe].getPixelForValue(fe)+_}N=this._getXAxisLabelAlignment()}else if(n==="y"){if(a==="center")H=(e.left+e.right)/2-_;else if(qe(a)){const oe=Object.keys(a)[0],fe=a[oe];H=this.chart.scales[oe].getPixelForValue(fe)}N=this._getYAxisLabelAlignment(x).textAlign}n==="y"&&(f==="start"?X="top":f==="end"&&(X="bottom"));const ne=this._getLabelSizes();for(T=0,P=u.length;T<P;++T){B=u[T],z=B.label;const oe=o.setContext(this.getContext(T));A=this.getPixelForTick(T)+o.labelOffset,V=this._resolveTickFontOptions(T),L=V.lineHeight,D=tn(z)?z.length:1;const fe=D/2,pe=oe.color,Z=oe.textStrokeColor,se=oe.textStrokeWidth;let M=N;c?(H=A,N==="inner"&&(T===P-1?M=this.options.reverse?"left":"right":T===0?M=this.options.reverse?"right":"left":M="center"),a==="top"?m==="near"||C!==0?K=-D*L+L/2:m==="center"?K=-ne.highest.height/2-fe*L+L:K=-ne.highest.height+L/2:m==="near"||C!==0?K=L/2:m==="center"?K=ne.highest.height/2-fe*L:K=ne.highest.height-D*L,v&&(K*=-1),C!==0&&!oe.showLabelBackdrop&&(H+=L/2*Math.sin(C))):(q=A,K=(1-D)*L/2);let S;if(oe.showLabelBackdrop){const F=sr(oe.backdropPadding),ee=ne.heights[T],ae=ne.widths[T];let ce=K-F.top,de=0-F.left;switch(X){case"middle":ce-=ee/2;break;case"bottom":ce-=ee;break}switch(N){case"center":de-=ae/2;break;case"right":de-=ae;break;case"inner":T===P-1?de-=ae:T>0&&(de-=ae/2);break}S={left:de,top:ce,width:ae+F.width,height:ee+F.height,color:oe.backdropColor}}E.push({label:z,font:V,textOffset:K,options:{rotation:C,color:pe,strokeColor:Z,strokeWidth:se,textAlign:M,textBaseline:X,translation:[H,q],backdrop:S}})}return E}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Ir(this.labelRotation))return e==="top"?"left":"right";let a="center";return n.align==="start"?a="left":n.align==="end"?a="right":n.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:a,padding:o}}=this.options,c=this._getLabelSizes(),u=e+o,f=c.widest.width;let m,g;return n==="left"?a?(g=this.right+o,i==="near"?m="left":i==="center"?(m="center",g+=f/2):(m="right",g+=f)):(g=this.right-u,i==="near"?m="right":i==="center"?(m="center",g-=f/2):(m="left",g=this.left)):n==="right"?a?(g=this.left+o,i==="near"?m="right":i==="center"?(m="center",g-=f/2):(m="left",g-=f)):(g=this.left+u,i==="near"?m="left":i==="center"?(m="center",g+=f/2):(m="right",g=this.right)):m="right",{textAlign:m,x:g}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:a,width:o,height:c}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,a,o,c),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const a=this.ticks.findIndex(o=>o.value===e);return a>=0?n.setContext(this.getContext(a)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let o,c;const u=(f,m,g)=>{!g.width||!g.color||(i.save(),i.lineWidth=g.width,i.strokeStyle=g.color,i.setLineDash(g.borderDash||[]),i.lineDashOffset=g.borderDashOffset,i.beginPath(),i.moveTo(f.x,f.y),i.lineTo(m.x,m.y),i.stroke(),i.restore())};if(n.display)for(o=0,c=a.length;o<c;++o){const f=a[o];n.drawOnChartArea&&u({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),n.drawTicks&&u({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:i,grid:a}}=this,o=i.setContext(this.getContext()),c=i.display?o.width:0;if(!c)return;const u=a.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let m,g,v,x;this.isHorizontal()?(m=Bi(e,this.left,c)-c/2,g=Bi(e,this.right,u)+u/2,v=x=f):(v=Bi(e,this.top,c)-c/2,x=Bi(e,this.bottom,u)+u/2,m=g=f),n.save(),n.lineWidth=o.width,n.strokeStyle=o.color,n.beginPath(),n.moveTo(m,v),n.lineTo(g,x),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,a=this._computeLabelArea();a&&Td(i,a);const o=this.getLabelItems(e);for(const c of o){const u=c.options,f=c.font,m=c.label,g=c.textOffset;Ll(i,m,0,g,f,u)}a&&Pd(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:a}}=this;if(!i.display)return;const o=Nn(i.font),c=sr(i.padding),u=i.align;let f=o.lineHeight/2;n==="bottom"||n==="center"||qe(n)?(f+=c.bottom,tn(i.text)&&(f+=o.lineHeight*(i.text.length-1))):f+=c.top;const{titleX:m,titleY:g,maxWidth:v,rotation:x}=QS(this,f,n,u);Ll(e,i.text,0,0,o,{color:i.color,maxWidth:v,rotation:x,textAlign:XS(u,n,a),textBaseline:"middle",translation:[m,g]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=Ge(e.grid&&e.grid.z,-1),a=Ge(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Hs.prototype.draw?[{z:n,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:n,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",a=[];let o,c;for(o=0,c=n.length;o<c;++o){const u=n[o];u[i]===this.id&&(!e||u.type===e)&&a.push(u)}return a}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Nn(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class ul{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;JS(n)&&(i=this.register(n));const a=this.items,o=e.id,c=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in a||(a[o]=e,GS(e,c,i),this.override&&Ot.override(e.id,e.overrides)),c}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,a=this.scope;i in n&&delete n[i],a&&i in Ot[a]&&(delete Ot[a][i],this.override&&delete es[i])}}function GS(t,e,n){const i=Ka(Object.create(null),[n?Ot.get(n):{},Ot.get(e),t.defaults]);Ot.set(e,i),t.defaultRoutes&&qS(e,t.defaultRoutes),t.descriptors&&Ot.describe(e,t.descriptors)}function qS(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),a=i.pop(),o=[t].concat(i).join("."),c=e[n].split("."),u=c.pop(),f=c.join(".");Ot.route(o,a,f,u)})}function JS(t){return"id"in t&&"defaults"in t}class ZS{constructor(){this.controllers=new ul(zd,"datasets",!0),this.elements=new ul($s,"elements"),this.plugins=new ul(Object,"plugins"),this.scales=new ul(Hs,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(a=>{const o=i||this._getRegistryForType(a);i||o.isForType(a)||o===this.plugins&&a.id?this._exec(e,o,a):ot(a,c=>{const u=i||this._getRegistryForType(c);this._exec(e,u,c)})})}_exec(e,n,i){const a=Nd(e);vt(i["before"+a],[],i),n[e](i),vt(i["after"+a],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const a=n.get(e);if(a===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return a}}var gr=new ZS;class ek{constructor(){this._init=[]}notify(e,n,i,a){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const o=a?this._descriptors(e).filter(a):this._descriptors(e),c=this._notify(o,e,n,i);return n==="afterDestroy"&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall")),c}_notify(e,n,i,a){a=a||{};for(const o of e){const c=o.plugin,u=c[i],f=[n,a,o.options];if(vt(u,f,c)===!1&&a.cancelable)return!1}return!0}invalidate(){ft(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,a=Ge(i.options&&i.options.plugins,{}),o=tk(i);return a===!1&&!n?[]:rk(e,o,a,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,a=(o,c)=>o.filter(u=>!c.some(f=>u.plugin.id===f.plugin.id));this._notify(a(n,i),e,"stop"),this._notify(a(i,n),e,"start")}}function tk(t){const e={},n=[],i=Object.keys(gr.plugins.items);for(let o=0;o<i.length;o++)n.push(gr.getPlugin(i[o]));const a=t.plugins||[];for(let o=0;o<a.length;o++){const c=a[o];n.indexOf(c)===-1&&(n.push(c),e[c.id]=!0)}return{plugins:n,localIds:e}}function nk(t,e){return!e&&t===!1?null:t===!0?{}:t}function rk(t,{plugins:e,localIds:n},i,a){const o=[],c=t.getContext();for(const u of e){const f=u.id,m=nk(i[f],a);m!==null&&o.push({plugin:u,options:ik(t.config,{plugin:u,local:n[f]},m,c)})}return o}function ik(t,{plugin:e,local:n},i,a){const o=t.pluginScopeKeys(e),c=t.getOptionScopes(i,o);return n&&e.defaults&&c.push(e.defaults),t.createResolver(c,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function od(t,e){const n=Ot.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function sk(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function ak(t,e){return t===e?"_index_":"_value_"}function Fp(t){if(t==="x"||t==="y"||t==="r")return t}function ok(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function ld(t,...e){if(Fp(t))return t;for(const n of e){const i=n.axis||ok(n.position)||t.length>1&&Fp(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function Ip(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function lk(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return Ip(t,"x",n[0])||Ip(t,"y",n[0])}return{}}function ck(t,e){const n=es[t.type]||{scales:{}},i=e.scales||{},a=od(t.type,e),o=Object.create(null);return Object.keys(i).forEach(c=>{const u=i[c];if(!qe(u))return console.error(`Invalid scale configuration for scale: ${c}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const f=ld(c,u,lk(c,t),Ot.scales[u.type]),m=ak(f,a),g=n.scales||{};o[c]=za(Object.create(null),[{axis:f},u,g[f],g[m]])}),t.data.datasets.forEach(c=>{const u=c.type||t.type,f=c.indexAxis||od(u,e),g=(es[u]||{}).scales||{};Object.keys(g).forEach(v=>{const x=sk(v,f),_=c[x+"AxisID"]||x;o[_]=o[_]||Object.create(null),za(o[_],[{axis:x},i[_],g[v]])})}),Object.keys(o).forEach(c=>{const u=o[c];za(u,[Ot.scales[u.type],Ot.scale])}),o}function Ny(t){const e=t.options||(t.options={});e.plugins=Ge(e.plugins,{}),e.scales=ck(t,e)}function My(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function uk(t){return t=t||{},t.data=My(t.data),Ny(t),t}const zp=new Map,Ry=new Set;function dl(t,e){let n=zp.get(t);return n||(n=e(),zp.set(t,n),Ry.add(n)),n}const Ta=(t,e,n)=>{const i=Zi(e,n);i!==void 0&&t.add(i)};class dk{constructor(e){this._config=uk(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=My(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Ny(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return dl(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return dl(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return dl(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return dl(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let a=i.get(e);return(!a||n)&&(a=new Map,i.set(e,a)),a}getOptionScopes(e,n,i){const{options:a,type:o}=this,c=this._cachedScopes(e,i),u=c.get(n);if(u)return u;const f=new Set;n.forEach(g=>{e&&(f.add(e),g.forEach(v=>Ta(f,e,v))),g.forEach(v=>Ta(f,a,v)),g.forEach(v=>Ta(f,es[o]||{},v)),g.forEach(v=>Ta(f,Ot,v)),g.forEach(v=>Ta(f,ad,v))});const m=Array.from(f);return m.length===0&&m.push(Object.create(null)),Ry.has(n)&&c.set(n,m),m}chartOptionScopes(){const{options:e,type:n}=this;return[e,es[n]||{},Ot.datasets[n]||{},{type:n},Ot,ad]}resolveNamedOptions(e,n,i,a=[""]){const o={$shared:!0},{resolver:c,subPrefixes:u}=Up(this._resolverCache,e,a);let f=c;if(hk(c,n)){o.$shared=!1,i=wi(i)?i():i;const m=this.createResolver(e,i,u);f=As(c,i,m)}for(const m of n)o[m]=f[m];return o}createResolver(e,n,i=[""],a){const{resolver:o}=Up(this._resolverCache,e,i);return qe(n)?As(o,n,void 0,a):o}}function Up(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const a=n.join();let o=i.get(a);return o||(o={resolver:Ld(e,n),subPrefixes:n.filter(u=>!u.toLowerCase().includes("hover"))},i.set(a,o)),o}const fk=t=>qe(t)&&Object.getOwnPropertyNames(t).some(e=>wi(t[e]));function hk(t,e){const{isScriptable:n,isIndexable:i}=my(t);for(const a of e){const o=n(a),c=i(a),u=(c||o)&&t[a];if(o&&(wi(u)||fk(u))||c&&tn(u))return!0}return!1}var mk="4.5.0";const pk=["top","bottom","left","right","chartArea"];function Bp(t,e){return t==="top"||t==="bottom"||pk.indexOf(t)===-1&&e==="x"}function $p(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function Hp(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),vt(n&&n.onComplete,[t],e)}function gk(t){const e=t.chart,n=e.options.animation;vt(n&&n.onProgress,[t],e)}function Ty(t){return Fd()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const _l={},Wp=t=>{const e=Ty(t);return Object.values(_l).filter(n=>n.canvas===e).pop()};function yk(t,e,n){const i=Object.keys(t);for(const a of i){const o=+a;if(o>=e){const c=t[a];delete t[a],(n>0||o>e)&&(t[o+n]=c)}}}function vk(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}let Ql=class{static defaults=Ot;static instances=_l;static overrides=es;static registry=gr;static version=mk;static getChart=Wp;static register(...e){gr.add(...e),Vp()}static unregister(...e){gr.remove(...e),Vp()}constructor(e,n){const i=this.config=new dk(n),a=Ty(e),o=Wp(a);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const c=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||OS(a)),this.platform.updateConfig(i);const u=this.platform.acquireContext(a,c.aspectRatio),f=u&&u.canvas,m=f&&f.height,g=f&&f.width;if(this.id=P_(),this.ctx=u,this.canvas=f,this.width=g,this.height=m,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new ek,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=G_(v=>this.update(v),c.resizeDelay||0),this._dataChanges=[],_l[this.id]=this,!u||!f){console.error("Failed to create chart: can't acquire context from the given item");return}Lr.listen(this,"complete",Hp),Lr.listen(this,"progress",gk),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:a,_aspectRatio:o}=this;return ft(e)?n&&o?o:a?i/a:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return gr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():gp(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return fp(this.canvas,this.ctx),this}stop(){return Lr.stop(this),this}resize(e,n){Lr.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,a=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(a,e,n,o),u=i.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,gp(this,u,!0)&&(this.notifyPlugins("resize",{size:c}),vt(i.onResize,[this,c],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};ot(n,(i,a)=>{i.id=a})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,a=Object.keys(i).reduce((c,u)=>(c[u]=!1,c),{});let o=[];n&&(o=o.concat(Object.keys(n).map(c=>{const u=n[c],f=ld(c,u),m=f==="r",g=f==="x";return{options:u,dposition:m?"chartArea":g?"bottom":"left",dtype:m?"radialLinear":g?"category":"linear"}}))),ot(o,c=>{const u=c.options,f=u.id,m=ld(f,u),g=Ge(u.type,c.dtype);(u.position===void 0||Bp(u.position,m)!==Bp(c.dposition))&&(u.position=c.dposition),a[f]=!0;let v=null;if(f in i&&i[f].type===g)v=i[f];else{const x=gr.getScale(g);v=new x({id:f,type:g,ctx:this.ctx,chart:this}),i[v.id]=v}v.init(u,e)}),ot(a,(c,u)=>{c||delete i[u]}),ot(i,c=>{vi.configure(this,c,c.options),vi.addBox(this,c)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((a,o)=>a.index-o.index),i>n){for(let a=n;a<i;++a)this._destroyDatasetMeta(a);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort($p("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,a)=>{n.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,a;for(this._removeUnreferencedMetasets(),i=0,a=n.length;i<a;i++){const o=n[i];let c=this.getDatasetMeta(i);const u=o.type||this.config.type;if(c.type&&c.type!==u&&(this._destroyDatasetMeta(i),c=this.getDatasetMeta(i)),c.type=u,c.indexAxis=o.indexAxis||od(u,this.options),c.order=o.order||0,c.index=i,c.label=""+o.label,c.visible=this.isDatasetVisible(i),c.controller)c.controller.updateIndex(i),c.controller.linkScales();else{const f=gr.getController(u),{datasetElementType:m,dataElementType:g}=Ot.datasets[u];Object.assign(f,{dataElementType:gr.getElement(g),datasetElementType:m&&gr.getElement(m)}),c.controller=new f(this,i),e.push(c.controller)}}return this._updateMetasets(),e}_resetElements(){ot(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let m=0,g=this.data.datasets.length;m<g;m++){const{controller:v}=this.getDatasetMeta(m),x=!a&&o.indexOf(v)===-1;v.buildOrUpdateElements(x),c=Math.max(+v.getMaxOverflow(),c)}c=this._minPadding=i.layout.autoPadding?c:0,this._updateLayout(c),a||ot(o,m=>{m.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort($p("z","_idx"));const{_active:u,_lastEvent:f}=this;f?this._eventHandler(f,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){ot(this.scales,e=>{vi.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!np(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:a,count:o}of n){const c=i==="_removeElements"?-o:o;yk(e,a,c)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=o=>new Set(e.filter(c=>c[0]===o).map((c,u)=>u+","+c.splice(1).join(","))),a=i(0);for(let o=1;o<n;o++)if(!np(a,i(o)))return;return Array.from(a).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;vi.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],ot(this.boxes,a=>{i&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,o)=>{a._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,wi(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),a={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(i.controller._update(n),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Lr.has(this)?this.attached&&!Lr.running(this)&&Lr.start(this):(this.draw(),Hp({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let a,o;for(a=0,o=n.length;a<o;++a){const c=n[a];(!e||c.visible)&&i.push(c)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i={meta:e,index:e.index,cancelable:!0},a=Aw(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(a&&Td(n,a),e.controller.draw(),a&&Pd(n),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return fy(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,a){const o=pS.modes[n];return typeof o=="function"?o(this,e,i,a):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let a=i.filter(o=>o&&o._dataset===n).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(a)),a}getContext(){return this.$context||(this.$context=Bs(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const a=i?"show":"hide",o=this.getDatasetMeta(e),c=o.controller._resolveAnimations(void 0,a);Ya(n)?(o.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),c.update(o,{visible:i}),this.update(u=>u.datasetIndex===e?a:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Lr.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),fp(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete _l[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(o,c)=>{n.addEventListener(this,o,c),e[o]=c},a=(o,c,u)=>{o.offsetX=c,o.offsetY=u,this._eventHandler(o)};ot(this.options.events,o=>i(o,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(f,m)=>{n.addEventListener(this,f,m),e[f]=m},a=(f,m)=>{e[f]&&(n.removeEventListener(this,f,m),delete e[f])},o=(f,m)=>{this.canvas&&this.resize(f,m)};let c;const u=()=>{a("attach",u),this.attached=!0,this.resize(),i("resize",o),i("detach",c)};c=()=>{this.attached=!1,a("resize",o),this._stop(),this._resize(0,0),i("attach",u)},n.isAttached(this.canvas)?u():c()}unbindEvents(){ot(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},ot(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const a=i?"set":"remove";let o,c,u,f;for(n==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+a+"DatasetHoverStyle"]()),u=0,f=e.length;u<f;++u){c=e[u];const m=c&&this.getDatasetMeta(c.datasetIndex).controller;m&&m[a+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:o,index:c})=>{const u=this.getDatasetMeta(o);if(!u)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:u.data[c],index:c}});!Ml(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,i){const a=this.options.hover,o=(f,m)=>f.filter(g=>!m.some(v=>g.datasetIndex===v.datasetIndex&&g.index===v.index)),c=o(n,e),u=i?e:o(e,n);c.length&&this.updateHoverStyle(c,a.mode,!1),u.length&&a.mode&&this.updateHoverStyle(u,a.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},a=c=>(c.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,a)===!1)return;const o=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,a),(o||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:a=[],options:o}=this,c=n,u=this._getActiveElements(e,a,i,c),f=I_(e),m=vk(e,this._lastEvent,i,f);i&&(this._lastEvent=null,vt(o.onHover,[e,u,this],this),f&&vt(o.onClick,[e,u,this],this));const g=!Ml(u,a);return(g||n)&&(this._active=u,this._updateHoverStyles(u,a,n)),this._lastEvent=m,g}_getActiveElements(e,n,i,a){if(e.type==="mouseout")return[];if(!i)return n;const o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,a)}};function Vp(){return ot(Ql.instances,t=>t._plugins.invalidate())}function xk(t,e,n){const{startAngle:i,x:a,y:o,outerRadius:c,innerRadius:u,options:f}=e,{borderWidth:m,borderJoinStyle:g}=f,v=Math.min(m/c,yr(i-n));if(t.beginPath(),t.arc(a,o,c-m/2,i+v/2,n-v/2),u>0){const x=Math.min(m/u,yr(i-n));t.arc(a,o,u+m/2,n-x/2,i+x/2,!0)}else{const x=Math.min(m/2,c*yr(i-n));if(g==="round")t.arc(a,o,x,n-xt/2,i+xt/2,!0);else if(g==="bevel"){const _=2*x*x,k=-_*Math.cos(n+xt/2)+a,C=-_*Math.sin(n+xt/2)+o,E=_*Math.cos(i+xt/2)+a,T=_*Math.sin(i+xt/2)+o;t.lineTo(k,C),t.lineTo(E,T)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function bk(t,e,n){const{startAngle:i,pixelMargin:a,x:o,y:c,outerRadius:u,innerRadius:f}=e;let m=a/u;t.beginPath(),t.arc(o,c,u,i-m,n+m),f>a?(m=a/f,t.arc(o,c,f,n+m,i-m,!0)):t.arc(o,c,a,n+Yt,i-Yt),t.closePath(),t.clip()}function _k(t){return Dd(t,["outerStart","outerEnd","innerStart","innerEnd"])}function wk(t,e,n,i){const a=_k(t.options.borderRadius),o=(n-e)/2,c=Math.min(o,i*e/2),u=f=>{const m=(n-Math.min(o,f))*i/2;return jn(f,0,Math.min(o,m))};return{outerStart:u(a.outerStart),outerEnd:u(a.outerEnd),innerStart:jn(a.innerStart,0,c),innerEnd:jn(a.innerEnd,0,c)}}function Ns(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function Il(t,e,n,i,a,o){const{x:c,y:u,startAngle:f,pixelMargin:m,innerRadius:g}=e,v=Math.max(e.outerRadius+i+n-m,0),x=g>0?g+i+n+m:0;let _=0;const k=a-f;if(i){const oe=g>0?g-i:0,fe=v>0?v-i:0,pe=(oe+fe)/2,Z=pe!==0?k*pe/(pe+i):k;_=(k-Z)/2}const C=Math.max(.001,k*v-n/xt)/v,E=(k-C)/2,T=f+E+_,P=a-E-_,{outerStart:B,outerEnd:z,innerStart:H,innerEnd:q}=wk(e,x,v,P-T),N=v-B,A=v-z,V=T+B/N,L=P-z/A,D=x+H,K=x+q,X=T+H/D,ne=P-q/K;if(t.beginPath(),o){const oe=(V+L)/2;if(t.arc(c,u,v,V,oe),t.arc(c,u,v,oe,L),z>0){const se=Ns(A,L,c,u);t.arc(se.x,se.y,z,L,P+Yt)}const fe=Ns(K,P,c,u);if(t.lineTo(fe.x,fe.y),q>0){const se=Ns(K,ne,c,u);t.arc(se.x,se.y,q,P+Yt,ne+Math.PI)}const pe=(P-q/x+(T+H/x))/2;if(t.arc(c,u,x,P-q/x,pe,!0),t.arc(c,u,x,pe,T+H/x,!0),H>0){const se=Ns(D,X,c,u);t.arc(se.x,se.y,H,X+Math.PI,T-Yt)}const Z=Ns(N,T,c,u);if(t.lineTo(Z.x,Z.y),B>0){const se=Ns(N,V,c,u);t.arc(se.x,se.y,B,T-Yt,V)}}else{t.moveTo(c,u);const oe=Math.cos(V)*v+c,fe=Math.sin(V)*v+u;t.lineTo(oe,fe);const pe=Math.cos(L)*v+c,Z=Math.sin(L)*v+u;t.lineTo(pe,Z)}t.closePath()}function Sk(t,e,n,i,a){const{fullCircles:o,startAngle:c,circumference:u}=e;let f=e.endAngle;if(o){Il(t,e,n,i,f,a);for(let m=0;m<o;++m)t.fill();isNaN(u)||(f=c+(u%Ht||Ht))}return Il(t,e,n,i,f,a),t.fill(),f}function kk(t,e,n,i,a){const{fullCircles:o,startAngle:c,circumference:u,options:f}=e,{borderWidth:m,borderJoinStyle:g,borderDash:v,borderDashOffset:x,borderRadius:_}=f,k=f.borderAlign==="inner";if(!m)return;t.setLineDash(v||[]),t.lineDashOffset=x,k?(t.lineWidth=m*2,t.lineJoin=g||"round"):(t.lineWidth=m,t.lineJoin=g||"bevel");let C=e.endAngle;if(o){Il(t,e,n,i,C,a);for(let E=0;E<o;++E)t.stroke();isNaN(u)||(C=c+(u%Ht||Ht))}k&&bk(t,e,C),f.selfJoin&&C-c>=xt&&_===0&&g!=="miter"&&xk(t,e,C),o||(Il(t,e,n,i,C,a),t.stroke())}class Ck extends $s{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,i){const a=this.getProps(["x","y"],i),{angle:o,distance:c}=ry(a,{x:e,y:n}),{startAngle:u,endAngle:f,innerRadius:m,outerRadius:g,circumference:v}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),x=(this.options.spacing+this.options.borderWidth)/2,_=Ge(v,f-u),k=Dl(o,u,f)&&u!==f,C=_>=Ht||k,E=Xi(c,m+x,g+x);return C&&E}getCenterPoint(e){const{x:n,y:i,startAngle:a,endAngle:o,innerRadius:c,outerRadius:u}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:f,spacing:m}=this.options,g=(a+o)/2,v=(c+u+m+f)/2;return{x:n+Math.cos(g)*v,y:i+Math.sin(g)*v}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:n,circumference:i}=this,a=(n.offset||0)/4,o=(n.spacing||0)/2,c=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=i>Ht?Math.floor(i/Ht):0,i===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const u=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(u)*a,Math.sin(u)*a);const f=1-Math.sin(Math.min(xt,i||0)),m=a*f;e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,Sk(e,this,m,o,c),kk(e,this,m,o,c),e.restore()}}function Py(t,e){const{x:n,y:i,base:a,width:o,height:c}=t.getProps(["x","y","base","width","height"],e);let u,f,m,g,v;return t.horizontal?(v=c/2,u=Math.min(n,a),f=Math.max(n,a),m=i-v,g=i+v):(v=o/2,u=n-v,f=n+v,m=Math.min(i,a),g=Math.max(i,a)),{left:u,top:m,right:f,bottom:g}}function xi(t,e,n,i){return t?0:jn(e,n,i)}function Ek(t,e,n){const i=t.options.borderWidth,a=t.borderSkipped,o=hy(i);return{t:xi(a.top,o.top,0,n),r:xi(a.right,o.right,0,e),b:xi(a.bottom,o.bottom,0,n),l:xi(a.left,o.left,0,e)}}function jk(t,e,n){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),a=t.options.borderRadius,o=Ts(a),c=Math.min(e,n),u=t.borderSkipped,f=i||qe(a);return{topLeft:xi(!f||u.top||u.left,o.topLeft,0,c),topRight:xi(!f||u.top||u.right,o.topRight,0,c),bottomLeft:xi(!f||u.bottom||u.left,o.bottomLeft,0,c),bottomRight:xi(!f||u.bottom||u.right,o.bottomRight,0,c)}}function Nk(t){const e=Py(t),n=e.right-e.left,i=e.bottom-e.top,a=Ek(t,n/2,i/2),o=jk(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:o},inner:{x:e.left+a.l,y:e.top+a.t,w:n-a.l-a.r,h:i-a.t-a.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,o.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(a.b,a.r))}}}}function Xu(t,e,n,i){const a=e===null,o=n===null,u=t&&!(a&&o)&&Py(t,i);return u&&(a||Xi(e,u.left,u.right))&&(o||Xi(n,u.top,u.bottom))}function Mk(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function Rk(t,e){t.rect(e.x,e.y,e.w,e.h)}function Qu(t,e,n={}){const i=t.x!==n.x?-e:0,a=t.y!==n.y?-e:0,o=(t.x+t.w!==n.x+n.w?e:0)-i,c=(t.y+t.h!==n.y+n.h?e:0)-a;return{x:t.x+i,y:t.y+a,w:t.w+o,h:t.h+c,radius:t.radius}}class Tk extends $s{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:i,backgroundColor:a}}=this,{inner:o,outer:c}=Nk(this),u=Mk(c.radius)?Al:Rk;e.save(),(c.w!==o.w||c.h!==o.h)&&(e.beginPath(),u(e,Qu(c,n,o)),e.clip(),u(e,Qu(o,-n,c)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),u(e,Qu(o,n)),e.fillStyle=a,e.fill(),e.restore()}inRange(e,n,i){return Xu(this,e,n,i)}inXRange(e,n){return Xu(this,e,null,n)}inYRange(e,n){return Xu(this,null,e,n)}getCenterPoint(e){const{x:n,y:i,base:a,horizontal:o}=this.getProps(["x","y","base","horizontal"],e);return{x:o?(n+a)/2:n,y:o?i:(i+a)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}const Kp=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},Pk=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Yp extends $s{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=vt(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,a)=>e.sort(i,a,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,a=Nn(i.font),o=a.size,c=this._computeTitleHeight(),{boxWidth:u,itemHeight:f}=Kp(i,o);let m,g;n.font=a.string,this.isHorizontal()?(m=this.maxWidth,g=this._fitRows(c,o,u,f)+10):(g=this.maxHeight,m=this._fitCols(c,a,u,f)+10),this.width=Math.min(m,e.maxWidth||this.maxWidth),this.height=Math.min(g,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,a){const{ctx:o,maxWidth:c,options:{labels:{padding:u}}}=this,f=this.legendHitBoxes=[],m=this.lineWidths=[0],g=a+u;let v=e;o.textAlign="left",o.textBaseline="middle";let x=-1,_=-g;return this.legendItems.forEach((k,C)=>{const E=i+n/2+o.measureText(k.text).width;(C===0||m[m.length-1]+E+2*u>c)&&(v+=g,m[m.length-(C>0?0:1)]=0,_+=g,x++),f[C]={left:0,top:_,row:x,width:E,height:a},m[m.length-1]+=E+u}),v}_fitCols(e,n,i,a){const{ctx:o,maxHeight:c,options:{labels:{padding:u}}}=this,f=this.legendHitBoxes=[],m=this.columnSizes=[],g=c-e;let v=u,x=0,_=0,k=0,C=0;return this.legendItems.forEach((E,T)=>{const{itemWidth:P,itemHeight:B}=Dk(i,n,o,E,a);T>0&&_+B+2*u>g&&(v+=x+u,m.push({width:x,height:_}),k+=x+u,C++,x=_=0),f[T]={left:k,top:_,col:C,width:P,height:B},x=Math.max(x,P),_+=B+u}),v+=x,m.push({width:x,height:_}),v}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:a},rtl:o}}=this,c=Ps(o,this.left,this.width);if(this.isHorizontal()){let u=0,f=An(i,this.left+a,this.right-this.lineWidths[u]);for(const m of n)u!==m.row&&(u=m.row,f=An(i,this.left+a,this.right-this.lineWidths[u])),m.top+=this.top+e+a,m.left=c.leftForLtr(c.x(f),m.width),f+=m.width+a}else{let u=0,f=An(i,this.top+e+a,this.bottom-this.columnSizes[u].height);for(const m of n)m.col!==u&&(u=m.col,f=An(i,this.top+e+a,this.bottom-this.columnSizes[u].height)),m.top=f,m.left+=this.left+a,m.left=c.leftForLtr(c.x(m.left),m.width),f+=m.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Td(e,this),this._draw(),Pd(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:a}=this,{align:o,labels:c}=e,u=Ot.color,f=Ps(e.rtl,this.left,this.width),m=Nn(c.font),{padding:g}=c,v=m.size,x=v/2;let _;this.drawTitle(),a.textAlign=f.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=m.string;const{boxWidth:k,boxHeight:C,itemHeight:E}=Kp(c,v),T=function(q,N,A){if(isNaN(k)||k<=0||isNaN(C)||C<0)return;a.save();const V=Ge(A.lineWidth,1);if(a.fillStyle=Ge(A.fillStyle,u),a.lineCap=Ge(A.lineCap,"butt"),a.lineDashOffset=Ge(A.lineDashOffset,0),a.lineJoin=Ge(A.lineJoin,"miter"),a.lineWidth=V,a.strokeStyle=Ge(A.strokeStyle,u),a.setLineDash(Ge(A.lineDash,[])),c.usePointStyle){const L={radius:C*Math.SQRT2/2,pointStyle:A.pointStyle,rotation:A.rotation,borderWidth:V},D=f.xPlus(q,k/2),K=N+x;dy(a,L,D,K,c.pointStyleWidth&&k)}else{const L=N+Math.max((v-C)/2,0),D=f.leftForLtr(q,k),K=Ts(A.borderRadius);a.beginPath(),Object.values(K).some(X=>X!==0)?Al(a,{x:D,y:L,w:k,h:C,radius:K}):a.rect(D,L,k,C),a.fill(),V!==0&&a.stroke()}a.restore()},P=function(q,N,A){Ll(a,A.text,q,N+E/2,m,{strikethrough:A.hidden,textAlign:f.textAlign(A.textAlign)})},B=this.isHorizontal(),z=this._computeTitleHeight();B?_={x:An(o,this.left+g,this.right-i[0]),y:this.top+g+z,line:0}:_={x:this.left+g,y:An(o,this.top+z+g,this.bottom-n[0].height),line:0},vy(this.ctx,e.textDirection);const H=E+g;this.legendItems.forEach((q,N)=>{a.strokeStyle=q.fontColor,a.fillStyle=q.fontColor;const A=a.measureText(q.text).width,V=f.textAlign(q.textAlign||(q.textAlign=c.textAlign)),L=k+x+A;let D=_.x,K=_.y;f.setWidth(this.width),B?N>0&&D+L+g>this.right&&(K=_.y+=H,_.line++,D=_.x=An(o,this.left+g,this.right-i[_.line])):N>0&&K+H>this.bottom&&(D=_.x=D+n[_.line].width+g,_.line++,K=_.y=An(o,this.top+z+g,this.bottom-n[_.line].height));const X=f.x(D);if(T(X,K,q),D=q_(V,D+k+x,B?D+L:this.right,e.rtl),P(f.x(D),K,q),B)_.x+=L+g;else if(typeof q.text!="string"){const ne=m.lineHeight;_.y+=Dy(q,ne)+g}else _.y+=H}),xy(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=Nn(n.font),a=sr(n.padding);if(!n.display)return;const o=Ps(e.rtl,this.left,this.width),c=this.ctx,u=n.position,f=i.size/2,m=a.top+f;let g,v=this.left,x=this.width;if(this.isHorizontal())x=Math.max(...this.lineWidths),g=this.top+m,v=An(e.align,v,this.right-x);else{const k=this.columnSizes.reduce((C,E)=>Math.max(C,E.height),0);g=m+An(e.align,this.top,this.bottom-k-e.labels.padding-this._computeTitleHeight())}const _=An(u,v,v+x);c.textAlign=o.textAlign(ly(u)),c.textBaseline="middle",c.strokeStyle=n.color,c.fillStyle=n.color,c.font=i.string,Ll(c,n.text,_,g,i)}_computeTitleHeight(){const e=this.options.title,n=Nn(e.font),i=sr(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,a,o;if(Xi(e,this.left,this.right)&&Xi(n,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(a=o[i],Xi(e,a.left,a.left+a.width)&&Xi(n,a.top,a.top+a.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!Ok(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const a=this._hoveredItem,o=Pk(a,i);a&&!o&&vt(n.onLeave,[e,a,this],this),this._hoveredItem=i,i&&!o&&vt(n.onHover,[e,i,this],this)}else i&&vt(n.onClick,[e,i,this],this)}}function Dk(t,e,n,i,a){const o=Lk(i,t,e,n),c=Ak(a,i,e.lineHeight);return{itemWidth:o,itemHeight:c}}function Lk(t,e,n,i){let a=t.text;return a&&typeof a!="string"&&(a=a.reduce((o,c)=>o.length>c.length?o:c)),e+n.size/2+i.measureText(a).width}function Ak(t,e,n){let i=t;return typeof e.text!="string"&&(i=Dy(e,n)),i}function Dy(t,e){const n=t.text?t.text.length:0;return e*n}function Ok(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var Fk={id:"legend",_element:Yp,start(t,e,n){const i=t.legend=new Yp({ctx:t.ctx,options:n,chart:t});vi.configure(t,i,n),vi.addBox(t,i)},stop(t){vi.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;vi.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,a=n.chart;a.isDatasetVisible(i)?(a.hide(i),e.hidden=!0):(a.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:a,color:o,useBorderRadius:c,borderRadius:u}}=t.legend.options;return t._getSortedDatasetMetas().map(f=>{const m=f.controller.getStyle(n?0:void 0),g=sr(m.borderWidth);return{text:e[f.index].label,fillStyle:m.backgroundColor,fontColor:o,hidden:!f.visible,lineCap:m.borderCapStyle,lineDash:m.borderDash,lineDashOffset:m.borderDashOffset,lineJoin:m.borderJoinStyle,lineWidth:(g.width+g.height)/4,strokeStyle:m.borderColor,pointStyle:i||m.pointStyle,rotation:m.rotation,textAlign:a||m.textAlign,borderRadius:c&&(u||m.borderRadius),datasetIndex:f.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};const Fa={average(t){if(!t.length)return!1;let e,n,i=new Set,a=0,o=0;for(e=0,n=t.length;e<n;++e){const u=t[e].element;if(u&&u.hasValue()){const f=u.tooltipPosition();i.add(f.x),a+=f.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((u,f)=>u+f)/i.size,y:a/o}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,a=Number.POSITIVE_INFINITY,o,c,u;for(o=0,c=t.length;o<c;++o){const f=t[o].element;if(f&&f.hasValue()){const m=f.getCenterPoint(),g=V_(e,m);g<a&&(a=g,u=f)}}if(u){const f=u.tooltipPosition();n=f.x,i=f.y}return{x:n,y:i}}};function pr(t,e){return e&&(tn(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Ar(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function Ik(t,e){const{element:n,datasetIndex:i,index:a}=e,o=t.getDatasetMeta(i).controller,{label:c,value:u}=o.getLabelAndValue(a);return{chart:t,label:c,parsed:o.getParsed(a),raw:t.data.datasets[i].data[a],formattedValue:u,dataset:o.getDataset(),dataIndex:a,datasetIndex:i,element:n}}function Xp(t,e){const n=t.chart.ctx,{body:i,footer:a,title:o}=t,{boxWidth:c,boxHeight:u}=e,f=Nn(e.bodyFont),m=Nn(e.titleFont),g=Nn(e.footerFont),v=o.length,x=a.length,_=i.length,k=sr(e.padding);let C=k.height,E=0,T=i.reduce((z,H)=>z+H.before.length+H.lines.length+H.after.length,0);if(T+=t.beforeBody.length+t.afterBody.length,v&&(C+=v*m.lineHeight+(v-1)*e.titleSpacing+e.titleMarginBottom),T){const z=e.displayColors?Math.max(u,f.lineHeight):f.lineHeight;C+=_*z+(T-_)*f.lineHeight+(T-1)*e.bodySpacing}x&&(C+=e.footerMarginTop+x*g.lineHeight+(x-1)*e.footerSpacing);let P=0;const B=function(z){E=Math.max(E,n.measureText(z).width+P)};return n.save(),n.font=m.string,ot(t.title,B),n.font=f.string,ot(t.beforeBody.concat(t.afterBody),B),P=e.displayColors?c+2+e.boxPadding:0,ot(i,z=>{ot(z.before,B),ot(z.lines,B),ot(z.after,B)}),P=0,n.font=g.string,ot(t.footer,B),n.restore(),E+=k.width,{width:E,height:C}}function zk(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function Uk(t,e,n,i){const{x:a,width:o}=i,c=n.caretSize+n.caretPadding;if(t==="left"&&a+o+c>e.width||t==="right"&&a-o-c<0)return!0}function Bk(t,e,n,i){const{x:a,width:o}=n,{width:c,chartArea:{left:u,right:f}}=t;let m="center";return i==="center"?m=a<=(u+f)/2?"left":"right":a<=o/2?m="left":a>=c-o/2&&(m="right"),Uk(m,t,e,n)&&(m="center"),m}function Qp(t,e,n){const i=n.yAlign||e.yAlign||zk(t,n);return{xAlign:n.xAlign||e.xAlign||Bk(t,e,n,i),yAlign:i}}function $k(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function Hk(t,e,n){let{y:i,height:a}=t;return e==="top"?i+=n:e==="bottom"?i-=a+n:i-=a/2,i}function Gp(t,e,n,i){const{caretSize:a,caretPadding:o,cornerRadius:c}=t,{xAlign:u,yAlign:f}=n,m=a+o,{topLeft:g,topRight:v,bottomLeft:x,bottomRight:_}=Ts(c);let k=$k(e,u);const C=Hk(e,f,m);return f==="center"?u==="left"?k+=m:u==="right"&&(k-=m):u==="left"?k-=Math.max(g,x)+a:u==="right"&&(k+=Math.max(v,_)+a),{x:jn(k,0,i.width-e.width),y:jn(C,0,i.height-e.height)}}function fl(t,e,n){const i=sr(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function qp(t){return pr([],Ar(t))}function Wk(t,e,n){return Bs(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function Jp(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const Ly={beforeTitle:Pr,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:Pr,beforeBody:Pr,beforeLabel:Pr,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return ft(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Pr,afterBody:Pr,beforeFooter:Pr,footer:Pr,afterFooter:Pr};function kn(t,e,n,i){const a=t[e].call(n,i);return typeof a>"u"?Ly[e].call(n,i):a}class Zp extends $s{static positioners=Fa;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),a=i.enabled&&n.options.animation&&i.animations,o=new by(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=Wk(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,a=kn(i,"beforeTitle",this,e),o=kn(i,"title",this,e),c=kn(i,"afterTitle",this,e);let u=[];return u=pr(u,Ar(a)),u=pr(u,Ar(o)),u=pr(u,Ar(c)),u}getBeforeBody(e,n){return qp(kn(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:i}=n,a=[];return ot(e,o=>{const c={before:[],lines:[],after:[]},u=Jp(i,o);pr(c.before,Ar(kn(u,"beforeLabel",this,o))),pr(c.lines,kn(u,"label",this,o)),pr(c.after,Ar(kn(u,"afterLabel",this,o))),a.push(c)}),a}getAfterBody(e,n){return qp(kn(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:i}=n,a=kn(i,"beforeFooter",this,e),o=kn(i,"footer",this,e),c=kn(i,"afterFooter",this,e);let u=[];return u=pr(u,Ar(a)),u=pr(u,Ar(o)),u=pr(u,Ar(c)),u}_createItems(e){const n=this._active,i=this.chart.data,a=[],o=[],c=[];let u=[],f,m;for(f=0,m=n.length;f<m;++f)u.push(Ik(this.chart,n[f]));return e.filter&&(u=u.filter((g,v,x)=>e.filter(g,v,x,i))),e.itemSort&&(u=u.sort((g,v)=>e.itemSort(g,v,i))),ot(u,g=>{const v=Jp(e.callbacks,g);a.push(kn(v,"labelColor",this,g)),o.push(kn(v,"labelPointStyle",this,g)),c.push(kn(v,"labelTextColor",this,g))}),this.labelColors=a,this.labelPointStyles=o,this.labelTextColors=c,this.dataPoints=u,u}update(e,n){const i=this.options.setContext(this.getContext()),a=this._active;let o,c=[];if(!a.length)this.opacity!==0&&(o={opacity:0});else{const u=Fa[i.position].call(this,a,this._eventPosition);c=this._createItems(i),this.title=this.getTitle(c,i),this.beforeBody=this.getBeforeBody(c,i),this.body=this.getBody(c,i),this.afterBody=this.getAfterBody(c,i),this.footer=this.getFooter(c,i);const f=this._size=Xp(this,i),m=Object.assign({},u,f),g=Qp(this.chart,i,m),v=Gp(i,m,g,this.chart);this.xAlign=g.xAlign,this.yAlign=g.yAlign,o={opacity:1,x:v.x,y:v.y,width:f.width,height:f.height,caretX:u.x,caretY:u.y}}this._tooltipItems=c,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,a){const o=this.getCaretPosition(e,i,a);n.lineTo(o.x1,o.y1),n.lineTo(o.x2,o.y2),n.lineTo(o.x3,o.y3)}getCaretPosition(e,n,i){const{xAlign:a,yAlign:o}=this,{caretSize:c,cornerRadius:u}=i,{topLeft:f,topRight:m,bottomLeft:g,bottomRight:v}=Ts(u),{x,y:_}=e,{width:k,height:C}=n;let E,T,P,B,z,H;return o==="center"?(z=_+C/2,a==="left"?(E=x,T=E-c,B=z+c,H=z-c):(E=x+k,T=E+c,B=z-c,H=z+c),P=E):(a==="left"?T=x+Math.max(f,g)+c:a==="right"?T=x+k-Math.max(m,v)-c:T=this.caretX,o==="top"?(B=_,z=B-c,E=T-c,P=T+c):(B=_+C,z=B+c,E=T+c,P=T-c),H=B),{x1:E,x2:T,x3:P,y1:B,y2:z,y3:H}}drawTitle(e,n,i){const a=this.title,o=a.length;let c,u,f;if(o){const m=Ps(i.rtl,this.x,this.width);for(e.x=fl(this,i.titleAlign,i),n.textAlign=m.textAlign(i.titleAlign),n.textBaseline="middle",c=Nn(i.titleFont),u=i.titleSpacing,n.fillStyle=i.titleColor,n.font=c.string,f=0;f<o;++f)n.fillText(a[f],m.x(e.x),e.y+c.lineHeight/2),e.y+=c.lineHeight+u,f+1===o&&(e.y+=i.titleMarginBottom-u)}}_drawColorBox(e,n,i,a,o){const c=this.labelColors[i],u=this.labelPointStyles[i],{boxHeight:f,boxWidth:m}=o,g=Nn(o.bodyFont),v=fl(this,"left",o),x=a.x(v),_=f<g.lineHeight?(g.lineHeight-f)/2:0,k=n.y+_;if(o.usePointStyle){const C={radius:Math.min(m,f)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},E=a.leftForLtr(x,m)+m/2,T=k+f/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,hp(e,C,E,T),e.strokeStyle=c.borderColor,e.fillStyle=c.backgroundColor,hp(e,C,E,T)}else{e.lineWidth=qe(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,e.strokeStyle=c.borderColor,e.setLineDash(c.borderDash||[]),e.lineDashOffset=c.borderDashOffset||0;const C=a.leftForLtr(x,m),E=a.leftForLtr(a.xPlus(x,1),m-2),T=Ts(c.borderRadius);Object.values(T).some(P=>P!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,Al(e,{x:C,y:k,w:m,h:f,radius:T}),e.fill(),e.stroke(),e.fillStyle=c.backgroundColor,e.beginPath(),Al(e,{x:E,y:k+1,w:m-2,h:f-2,radius:T}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(C,k,m,f),e.strokeRect(C,k,m,f),e.fillStyle=c.backgroundColor,e.fillRect(E,k+1,m-2,f-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:a}=this,{bodySpacing:o,bodyAlign:c,displayColors:u,boxHeight:f,boxWidth:m,boxPadding:g}=i,v=Nn(i.bodyFont);let x=v.lineHeight,_=0;const k=Ps(i.rtl,this.x,this.width),C=function(A){n.fillText(A,k.x(e.x+_),e.y+x/2),e.y+=x+o},E=k.textAlign(c);let T,P,B,z,H,q,N;for(n.textAlign=c,n.textBaseline="middle",n.font=v.string,e.x=fl(this,E,i),n.fillStyle=i.bodyColor,ot(this.beforeBody,C),_=u&&E!=="right"?c==="center"?m/2+g:m+2+g:0,z=0,q=a.length;z<q;++z){for(T=a[z],P=this.labelTextColors[z],n.fillStyle=P,ot(T.before,C),B=T.lines,u&&B.length&&(this._drawColorBox(n,e,z,k,i),x=Math.max(v.lineHeight,f)),H=0,N=B.length;H<N;++H)C(B[H]),x=v.lineHeight;ot(T.after,C)}_=0,x=v.lineHeight,ot(this.afterBody,C),e.y-=o}drawFooter(e,n,i){const a=this.footer,o=a.length;let c,u;if(o){const f=Ps(i.rtl,this.x,this.width);for(e.x=fl(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=f.textAlign(i.footerAlign),n.textBaseline="middle",c=Nn(i.footerFont),n.fillStyle=i.footerColor,n.font=c.string,u=0;u<o;++u)n.fillText(a[u],f.x(e.x),e.y+c.lineHeight/2),e.y+=c.lineHeight+i.footerSpacing}}drawBackground(e,n,i,a){const{xAlign:o,yAlign:c}=this,{x:u,y:f}=e,{width:m,height:g}=i,{topLeft:v,topRight:x,bottomLeft:_,bottomRight:k}=Ts(a.cornerRadius);n.fillStyle=a.backgroundColor,n.strokeStyle=a.borderColor,n.lineWidth=a.borderWidth,n.beginPath(),n.moveTo(u+v,f),c==="top"&&this.drawCaret(e,n,i,a),n.lineTo(u+m-x,f),n.quadraticCurveTo(u+m,f,u+m,f+x),c==="center"&&o==="right"&&this.drawCaret(e,n,i,a),n.lineTo(u+m,f+g-k),n.quadraticCurveTo(u+m,f+g,u+m-k,f+g),c==="bottom"&&this.drawCaret(e,n,i,a),n.lineTo(u+_,f+g),n.quadraticCurveTo(u,f+g,u,f+g-_),c==="center"&&o==="left"&&this.drawCaret(e,n,i,a),n.lineTo(u,f+v),n.quadraticCurveTo(u,f,u+v,f),n.closePath(),n.fill(),a.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,a=i&&i.x,o=i&&i.y;if(a||o){const c=Fa[e.position].call(this,this._active,this._eventPosition);if(!c)return;const u=this._size=Xp(this,e),f=Object.assign({},c,this._size),m=Qp(n,e,f),g=Gp(e,f,m,n);(a._to!==g.x||o._to!==g.y)&&(this.xAlign=m.xAlign,this.yAlign=m.yAlign,this.width=u.width,this.height=u.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,g))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const a={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const c=sr(n.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&u&&(e.save(),e.globalAlpha=i,this.drawBackground(o,e,a,n),vy(e,n.textDirection),o.y+=c.top,this.drawTitle(o,e,n),this.drawBody(o,e,n),this.drawFooter(o,e,n),xy(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,a=e.map(({datasetIndex:u,index:f})=>{const m=this.chart.getDatasetMeta(u);if(!m)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:m.data[f],index:f}}),o=!Ml(i,a),c=this._positionChanged(a,n);(o||c)&&(this._active=a,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,o=this._active||[],c=this._getActiveElements(e,o,n,i),u=this._positionChanged(c,e),f=n||!Ml(c,o)||u;return f&&(this._active=c,(a.enabled||a.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),f}_getActiveElements(e,n,i,a){const o=this.options;if(e.type==="mouseout")return[];if(!a)return n.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const c=this.chart.getElementsAtEventForMode(e,o.mode,o,i);return o.reverse&&c.reverse(),c}_positionChanged(e,n){const{caretX:i,caretY:a,options:o}=this,c=Fa[o.position].call(this,e,n);return c!==!1&&(i!==c.x||a!==c.y)}}var Vk={id:"tooltip",_element:Zp,positioners:Fa,afterInit(t,e,n){n&&(t.tooltip=new Zp({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Ly},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Kk=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function Yk(t,e,n,i){const a=t.indexOf(e);if(a===-1)return Kk(t,e,n,i);const o=t.lastIndexOf(e);return a!==o?n:a}const Xk=(t,e)=>t===null?null:jn(Math.round(t),0,e);function eg(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Qk extends Hs{static id="category";static defaults={ticks:{callback:eg}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:a,label:o}of n)i[a]===o&&i.splice(a,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(ft(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:Yk(i,e,Ge(n,e),this._addedLabels),Xk(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(a=this.getLabels().length-1)),this.min=i,this.max=a}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,a=[];let o=this.getLabels();o=e===0&&n===o.length-1?o:o.slice(e,n+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let c=e;c<=n;c++)a.push({value:c});return a}getLabelForValue(e){return eg.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function Gk(t,e){const n=[],{bounds:a,step:o,min:c,max:u,precision:f,count:m,maxTicks:g,maxDigits:v,includeBounds:x}=t,_=o||1,k=g-1,{min:C,max:E}=e,T=!ft(c),P=!ft(u),B=!ft(m),z=(E-C)/(v+1);let H=ip((E-C)/k/_)*_,q,N,A,V;if(H<1e-14&&!T&&!P)return[{value:C},{value:E}];V=Math.ceil(E/H)-Math.floor(C/H),V>k&&(H=ip(V*H/k/_)*_),ft(f)||(q=Math.pow(10,f),H=Math.ceil(H*q)/q),a==="ticks"?(N=Math.floor(C/H)*H,A=Math.ceil(E/H)*H):(N=C,A=E),T&&P&&o&&$_((u-c)/o,H/1e3)?(V=Math.round(Math.min((u-c)/H,g)),H=(u-c)/V,N=c,A=u):B?(N=T?c:N,A=P?u:A,V=m-1,H=(A-N)/V):(V=(A-N)/H,xl(V,Math.round(V),H/1e3)?V=Math.round(V):V=Math.ceil(V));const L=Math.max(sp(H),sp(N));q=Math.pow(10,ft(f)?L:f),N=Math.round(N*q)/q,A=Math.round(A*q)/q;let D=0;for(T&&(x&&N!==c?(n.push({value:c}),N<c&&D++,xl(Math.round((N+D*H)*q)/q,c,tg(c,z,t))&&D++):N<c&&D++);D<V;++D){const K=Math.round((N+D*H)*q)/q;if(P&&K>u)break;n.push({value:K})}return P&&x&&A!==u?n.length&&xl(n[n.length-1].value,u,tg(u,z,t))?n[n.length-1].value=u:n.push({value:u}):(!P||A===u)&&n.push({value:A}),n}function tg(t,e,{horizontal:n,minRotation:i}){const a=Ir(i),o=(n?Math.sin(a):Math.cos(a))||.001,c=.75*e*(""+t).length;return Math.min(e/o,c)}class qk extends Hs{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return ft(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:a,max:o}=this;const c=f=>a=n?a:f,u=f=>o=i?o:f;if(e){const f=_i(a),m=_i(o);f<0&&m<0?u(0):f>0&&m>0&&c(0)}if(a===o){let f=o===0?1:Math.abs(o*.05);u(o+f),e||c(a-f)}this.min=a,this.max=o}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,a;return i?(a=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),n=n||11),n&&(a=Math.min(n,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const a={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},o=this._range||this,c=Gk(a,o);return e.bounds==="ticks"&&H_(c,this,"value"),e.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const a=(i-n)/Math.max(e.length-1,1)/2;n-=a,i+=a}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return Rd(e,this.chart.options.locale,this.options.ticks.format)}}class Jk extends qk{static id="linear";static defaults={ticks:{callback:uy.formatters.numeric}};determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Kn(e)?e:0,this.max=Kn(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=Ir(this.options.ticks.minRotation),a=(e?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,o.lineHeight/a))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const Gl={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},En=Object.keys(Gl);function ng(t,e){return t-e}function rg(t,e){if(ft(e))return null;const n=t._adapter,{parser:i,round:a,isoWeekday:o}=t._parseOpts;let c=e;return typeof i=="function"&&(c=i(c)),Kn(c)||(c=typeof i=="string"?n.parse(c,i):n.parse(c)),c===null?null:(a&&(c=a==="week"&&(Pl(o)||o===!0)?n.startOf(c,"isoWeek",o):n.startOf(c,a)),+c)}function ig(t,e,n,i){const a=En.length;for(let o=En.indexOf(t);o<a-1;++o){const c=Gl[En[o]],u=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((n-e)/(u*c.size))<=i)return En[o]}return En[a-1]}function Zk(t,e,n,i,a){for(let o=En.length-1;o>=En.indexOf(n);o--){const c=En[o];if(Gl[c].common&&t._adapter.diff(a,i,c)>=e-1)return c}return En[n?En.indexOf(n):0]}function e1(t){for(let e=En.indexOf(t)+1,n=En.length;e<n;++e)if(Gl[En[e]].common)return En[e]}function sg(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:a}=Md(n,e),o=n[i]>=e?n[i]:n[a];t[o]=!0}}function t1(t,e,n,i){const a=t._adapter,o=+a.startOf(e[0].value,i),c=e[e.length-1].value;let u,f;for(u=o;u<=c;u=+a.add(u,1,i))f=n[u],f>=0&&(e[f].major=!0);return e}function ag(t,e,n){const i=[],a={},o=e.length;let c,u;for(c=0;c<o;++c)u=e[c],a[u]=c,i.push({value:u,major:!1});return o===0||!n?i:t1(t,i,a,n)}class og extends Hs{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const i=e.time||(e.time={}),a=this._adapter=new uS._date(e.adapters.date);a.init(n),za(i.displayFormats,a.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:rg(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:a,max:o,minDefined:c,maxDefined:u}=this.getUserBounds();function f(m){!c&&!isNaN(m.min)&&(a=Math.min(a,m.min)),!u&&!isNaN(m.max)&&(o=Math.max(o,m.max))}(!c||!u)&&(f(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&f(this.getMinMax(!1))),a=Kn(a)&&!isNaN(a)?a:+n.startOf(Date.now(),i),o=Kn(o)&&!isNaN(o)?o:+n.endOf(Date.now(),i)+1,this.min=Math.min(a,o-1),this.max=Math.max(a+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,a=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const o=this.min,c=this.max,u=X_(a,o,c);return this._unit=n.unit||(i.autoSkip?ig(n.minUnit,this.min,this.max,this._getLabelCapacity(o)):Zk(this,u.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:e1(this._unit),this.initOffsets(a),e.reverse&&u.reverse(),ag(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,i=0,a,o;this.options.offset&&e.length&&(a=this.getDecimalForValue(e[0]),e.length===1?n=1-a:n=(this.getDecimalForValue(e[1])-a)/2,o=this.getDecimalForValue(e[e.length-1]),e.length===1?i=o:i=(o-this.getDecimalForValue(e[e.length-2]))/2);const c=e.length<3?.5:.25;n=jn(n,0,c),i=jn(i,0,c),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,a=this.options,o=a.time,c=o.unit||ig(o.minUnit,n,i,this._getLabelCapacity(n)),u=Ge(a.ticks.stepSize,1),f=c==="week"?o.isoWeekday:!1,m=Pl(f)||f===!0,g={};let v=n,x,_;if(m&&(v=+e.startOf(v,"isoWeek",f)),v=+e.startOf(v,m?"day":c),e.diff(i,n,c)>1e5*u)throw new Error(n+" and "+i+" are too far apart with stepSize of "+u+" "+c);const k=a.ticks.source==="data"&&this.getDataTimestamps();for(x=v,_=0;x<i;x=+e.add(x,u,c),_++)sg(g,x,k);return(x===i||a.bounds==="ticks"||_===1)&&sg(g,x,k),Object.keys(g).sort(ng).map(C=>+C)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}format(e,n){const a=this.options.time.displayFormats,o=this._unit,c=n||a[o];return this._adapter.format(e,c)}_tickFormatFunction(e,n,i,a){const o=this.options,c=o.ticks.callback;if(c)return vt(c,[e,n,i],this);const u=o.time.displayFormats,f=this._unit,m=this._majorUnit,g=f&&u[f],v=m&&u[m],x=i[n],_=m&&v&&x&&x.major;return this._adapter.format(e,a||(_?v:g))}generateTickLabels(e){let n,i,a;for(n=0,i=e.length;n<i;++n)a=e[n],a.label=this._tickFormatFunction(a.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,a=Ir(this.isHorizontal()?n.maxRotation:n.minRotation),o=Math.cos(a),c=Math.sin(a),u=this._resolveTickFontOptions(0).size;return{w:i*o+u*c,h:i*c+u*o}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,a=i[n.unit]||i.millisecond,o=this._tickFormatFunction(e,0,ag(this,[e],this._majorUnit),a),c=this._getLabelSize(o),u=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return u>0?u:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(n=0,i=a.length;n<i;++n)e=e.concat(a[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const a=this.getLabels();for(n=0,i=a.length;n<i;++n)e.push(rg(this,a[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return sy(e.sort(ng))}}function hl(t,e,n){let i=0,a=t.length-1,o,c,u,f;n?(e>=t[i].pos&&e<=t[a].pos&&({lo:i,hi:a}=sd(t,"pos",e)),{pos:o,time:u}=t[i],{pos:c,time:f}=t[a]):(e>=t[i].time&&e<=t[a].time&&({lo:i,hi:a}=sd(t,"time",e)),{time:o,pos:u}=t[i],{time:c,pos:f}=t[a]);const m=c-o;return m?u+(f-u)*(e-o)/m:u}class HC extends og{static id="timeseries";static defaults=og.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=hl(n,this.min),this._tableRange=hl(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,a=[],o=[];let c,u,f,m,g;for(c=0,u=e.length;c<u;++c)m=e[c],m>=n&&m<=i&&a.push(m);if(a.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(c=0,u=a.length;c<u;++c)g=a[c+1],f=a[c-1],m=a[c],Math.round((g+f)/2)!==m&&o.push({time:m,pos:c/(u-1)});return o}_generate(){const e=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((a,o)=>a-o)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(hl(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return hl(this._table,i*this._tableRange+this._minPos,!0)}}const Ay="label";function lg(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function n1(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function Oy(t,e){t.labels=e}function Fy(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ay;const i=[];t.datasets=e.map(a=>{const o=t.datasets.find(c=>c[n]===a[n]);return!o||!a.data||i.includes(o)?{...a}:(i.push(o),Object.assign(o,a),o)})}function r1(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ay;const n={labels:[],datasets:[]};return Oy(n,t.labels),Fy(n,t.datasets,e),n}function i1(t,e){const{height:n=150,width:i=300,redraw:a=!1,datasetIdKey:o,type:c,data:u,options:f,plugins:m=[],fallbackContent:g,updateMode:v,...x}=t,_=w.useRef(null),k=w.useRef(null),C=()=>{_.current&&(k.current=new Ql(_.current,{type:c,data:r1(u,o),options:f&&{...f},plugins:m}),lg(e,k.current))},E=()=>{lg(e,null),k.current&&(k.current.destroy(),k.current=null)};return w.useEffect(()=>{!a&&k.current&&f&&n1(k.current,f)},[a,f]),w.useEffect(()=>{!a&&k.current&&Oy(k.current.config.data,u.labels)},[a,u.labels]),w.useEffect(()=>{!a&&k.current&&u.datasets&&Fy(k.current.config.data,u.datasets,o)},[a,u.datasets]),w.useEffect(()=>{k.current&&(a?(E(),setTimeout(C)):k.current.update(v))},[a,f,u.labels,u.datasets,v]),w.useEffect(()=>{k.current&&(E(),setTimeout(C))},[c]),w.useEffect(()=>(C(),()=>E()),[]),zl.createElement("canvas",{ref:_,role:"img",height:n,width:i,...x},g)}const s1=w.forwardRef(i1);function Iy(t,e){return Ql.register(e),w.forwardRef((n,i)=>zl.createElement(s1,{...n,ref:i,type:t}))}const a1=Iy("bar",aS),o1=Iy("pie",cS);function l1(t){const e=typeof t=="number"&&Number.isFinite(t)?t:0,n=e<=1?e*100:e;return Math.max(0,Math.min(100,n))}function c1(t){const e=t&&typeof t=="object"?t:{},n=e.auth_activity??{},i={window_days:Number.isFinite(n.window_days)?Number(n.window_days):7,from:typeof n.from=="string"?n.from:"",to:typeof n.to=="string"?n.to:"",daily:Array.isArray(n.daily)?n.daily.map(f=>({date:typeof f.date=="string"?f.date:"",success:Number.isFinite(f.success)?Number(f.success):0,failed:Number.isFinite(f.failed)?Number(f.failed):0,total:Number.isFinite(f.total)?Number(f.total):0})):[],totals:{success:Number.isFinite(n.totals?.success)?Number(n.totals?.success):0,failed:Number.isFinite(n.totals?.failed)?Number(n.totals?.failed):0,total:Number.isFinite(n.totals?.total)?Number(n.totals?.total):0},max_daily_total:Number.isFinite(n.max_daily_total)?Number(n.max_daily_total):0},a=e.evidence_mime??{},o={total:Number.isFinite(a.total)?Number(a.total):0,by_mime:Array.isArray(a.by_mime)?a.by_mime.map(f=>{const m=typeof f.mime=="string"&&f.mime.length>0?f.mime:"Unknown",g=typeof f.mime_label=="string"&&f.mime_label.length>0?f.mime_label:m;return{mime:m,mime_label:g,count:Number.isFinite(f.count)?Number(f.count):0,percent:l1(f.percent??0)}}):[]},c=e.admin_activity??{},u={admins:Array.isArray(c.admins)?c.admins.map(f=>({id:Number.isFinite(f.id)?Number(f.id):0,name:typeof f.name=="string"?f.name:"",email:typeof f.email=="string"?f.email:"",last_login_at:typeof f.last_login_at=="string"&&f.last_login_at.length>0?f.last_login_at:null})):[]};return{auth_activity:i,evidence_mime:o,admin_activity:u}}async function u1(t,e){const i=await br("/api/dashboard/kpis",void 0,t),a=i&&typeof i=="object"&&"data"in i?i.data:i;return c1(a)}function d1(t){if(!t)return null;const e=/filename\*=(?:UTF-8'')?([^;]+)/i.exec(t);if(e?.[1])try{return decodeURIComponent(e[1].replace(/(^"|"$)/g,""))}catch{return e[1].replace(/(^"|"$)/g,"")}const n=/filename="([^"]+)"/i.exec(t);if(n?.[1])return n[1];const i=/filename=([^;]+)/i.exec(t);return i?.[1]?i[1].trim().replace(/(^"|"$)/g,""):null}function cd(){return`${ki}/api/reports/admin-activity?format=csv`}async function f1(){const t=cd(),e=await fetch(t,{method:"GET",credentials:"same-origin",headers:Tt({Accept:"text/csv"})});if(!e.ok){let o=null;try{o=await e.json()}catch{try{o=await e.text()}catch{o=null}}throw new Ft(e.status,o)}const n=await e.blob(),i=d1(e.headers.get("content-disposition"))??"admin-activity-report.csv",a=e.headers.get("content-type")??"text/csv";return{blob:n,filename:i,mime:a}}async function h1(){if(typeof window>"u"||typeof document>"u")return;const t=await f1(),e=t.filename&&t.filename.trim().length>0?t.filename.trim():"admin-activity-report.csv";if(typeof URL<"u"&&typeof URL.createObjectURL=="function"){const n=URL.createObjectURL(t.blob),i=document.createElement("a");i.href=n,i.download=e,i.rel="noopener noreferrer",i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i),window.setTimeout(()=>{typeof URL.revokeObjectURL=="function"&&URL.revokeObjectURL(n)},1e3);return}if(typeof window.open=="function"){window.open(cd(),"_blank","noopener");return}window.location.assign(cd())}const m1=["ISO_8601","LOCAL","RELATIVE"],Ws="LOCAL";function Qa(t){if(typeof t=="string"){const e=t.trim().toUpperCase();if(e&&m1.includes(e))return e}return Ws}function Bd(t,e){if(!t)return"";const n=new Date(t);if(Number.isNaN(n.valueOf()))return t;switch(e){case"ISO_8601":return n.toISOString().replace("T"," ").replace("Z","Z");case"RELATIVE":return p1(n,new Date);case"LOCAL":default:return n.toLocaleString()}}function p1(t,e){const n=t.getTime()-e.getTime(),i=Math.abs(n),a=[{unit:"year",ms:1e3*60*60*24*365},{unit:"month",ms:1e3*60*60*24*30},{unit:"week",ms:1e3*60*60*24*7},{unit:"day",ms:1e3*60*60*24},{unit:"hour",ms:1e3*60*60},{unit:"minute",ms:1e3*60},{unit:"second",ms:1e3}],o=typeof Intl<"u"&&typeof Intl.RelativeTimeFormat<"u"?new Intl.RelativeTimeFormat(void 0,{numeric:"auto"}):null;for(const{unit:c,ms:u}of a)if(i>=u||c==="second"){const f=n/u,m=Math.round(f);if(o)return o.format(m,c);if(m===0)return"just now";const g=Math.abs(m)===1?c:`${c}s`;return m>0?`in ${m} ${g}`:`${Math.abs(m)} ${g} ago`}return t.toLocaleString()}function g1(t){const e=typeof t=="number"&&Number.isFinite(t)?Math.max(t,0):0;if(e===0)return"0 B";const n=["B","KB","MB","GB","TB","PB"];let i=e,a=0;for(;i>=1024&&a<n.length-1;)i/=1024,a+=1;const o=a===0?0:2;return`${new Intl.NumberFormat("en-US",{minimumFractionDigits:o,maximumFractionDigits:o}).format(i)} ${n[a]}`}Ql.register(Qk,Jk,Tk,Ck,Vk,Fk);const y1=300,cg=300;function v1(t){if(!t)return{labels:[],success:[],failed:[]};const e=t.auth_activity.daily;return{labels:e.map(n=>n.date),success:e.map(n=>n.success),failed:e.map(n=>n.failed)}}function x1(t){const[e,n]=w.useState(()=>typeof window>"u"||typeof window.matchMedia!="function"?!1:window.matchMedia(t).matches);return w.useEffect(()=>{if(typeof window>"u"||typeof window.matchMedia!="function")return;const i=window.matchMedia(t),a=o=>n(o.matches);return n(i.matches),typeof i.addEventListener=="function"?i.addEventListener("change",a):typeof i.addListener=="function"&&i.addListener(a),()=>{typeof i.removeEventListener=="function"?i.removeEventListener("change",a):typeof i.removeListener=="function"&&i.removeListener(a)}},[t]),e}function b1(){const[t,e]=w.useState(!0),[n,i]=w.useState(null),[a,o]=w.useState(null),[c,u]=w.useState(!1),[f,m]=w.useState(null),g=$l(),v=x1("(min-width: 1200px)");w.useEffect(()=>{let D=!1;const K=new AbortController;return(async()=>{try{e(!0),i(null);const ne=await u1(K.signal);D||o(ne)}catch(ne){if(D)return;ne instanceof Ft?ne.status===401?i("You must log in to view KPIs."):ne.status===403?i("You do not have access to KPIs."):i(`Request failed (HTTP ${ne.status}).`):ne instanceof Error&&ne.name==="AbortError"||i("Network error."),o(null)}finally{D||e(!1)}})(),()=>{D=!0,K.abort()}},[]);const x=w.useMemo(()=>v1(a),[a]),_=a?.auth_activity.window_days??7,k=Math.max(0,a?.auth_activity.max_daily_total??0),C=Math.max(1,k+1),E=w.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,onClick:(D,K)=>{if(!a||K.length===0)return;const X=K[0].index,ne=a.auth_activity.daily[X];if(!ne)return;const oe=new URLSearchParams({category:"AUTH",occurred_from:ne.date,occurred_to:ne.date});g(`/admin/audit?${oe.toString()}`)},plugins:{legend:{position:"top"},tooltip:{callbacks:{title:D=>D[0]?.label??""}}},scales:{x:{stacked:!0,title:{display:!0,text:"Date"},grid:{display:!1}},y:{stacked:!0,beginAtZero:!0,max:C,ticks:{stepSize:Math.max(1,Math.ceil(C/6))},title:{display:!0,text:"Authentications"}}}}),[a,g,C]),T=w.useMemo(()=>({labels:x.labels.map(D=>new Date(D).toLocaleDateString()),datasets:[{label:"Success",data:x.success,backgroundColor:"#198754",borderColor:"#146c43",borderWidth:1},{label:"Failed",data:x.failed,backgroundColor:"#dc3545",borderColor:"#b02a37",borderWidth:1}]}),[x]),P=w.useMemo(()=>a?.evidence_mime.by_mime??[],[a]),B=w.useMemo(()=>{if(P.length===0)return null;const D=P.map(ne=>ne.mime_label??ne.mime),K=P.map(ne=>ne.count),X=["#0d6efd","#6f42c1","#20c997","#fd7e14","#6610f2","#ffca2c"];return{labels:D,datasets:[{data:K,backgroundColor:D.map((ne,oe)=>X[oe%X.length]),borderColor:"#ffffff",borderWidth:1}]}},[P]),z=v?"left":"top",H=w.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:z,align:"start",labels:{usePointStyle:!0,boxWidth:12}}},onClick:(D,K)=>{if(!B||K.length===0)return;const X=K[0].index,ne=P[X];if(!ne)return;const oe=ne.mime_label??ne.mime,fe=new URLSearchParams({mime_label:oe});g(`/admin/evidence?${fe.toString()}`)}}),[z,B,P,g]),q=w.useMemo(()=>`/admin/audit?${new URLSearchParams({category:"AUTH"}).toString()}`,[]),N="/admin/evidence",A=w.useCallback(async()=>{if(!c)try{u(!0),m(null),await h1()}catch(D){D instanceof Ft?D.status===401?m("You must log in to download the report."):D.status===403?m("You do not have access to this report."):m(`Download failed (HTTP ${D.status}).`):m("Network error while downloading report.")}finally{u(!1)}},[c]),V=a?.auth_activity.totals??{success:0,failed:0,total:0},L=a?.admin_activity.admins??[];return h.jsxs("div",{className:"container py-3",children:[h.jsx("h1",{className:"mb-3",children:"Dashboard KPIs"}),t&&h.jsx("p",{children:"Loading"}),!t&&n&&h.jsx("div",{className:"alert alert-warning",role:"alert",children:n}),!t&&!n&&a&&h.jsxs("div",{className:"vstack gap-3",children:[h.jsxs("section",{className:"card",children:[h.jsxs("div",{className:"card-header d-flex flex-column flex-md-row align-items-md-center justify-content-between gap-2",children:[h.jsxs(Fr,{to:q,className:"fw-semibold text-decoration-none",children:["Authentications last ",_," days"]}),h.jsxs("div",{className:"text-muted small",children:[h.jsxs("span",{className:"me-3",children:["Success: ",V.success]}),h.jsxs("span",{className:"me-3",children:["Failed: ",V.failed]}),h.jsxs("span",{children:["Total: ",V.total]})]})]}),h.jsx("div",{className:"card-body",style:{height:y1},children:x.labels.length===0?h.jsx("p",{className:"text-muted mb-0",children:"No authentication activity in the selected window."}):h.jsx(a1,{options:E,data:T,"aria-label":"Authentication activity"})})]}),h.jsxs("div",{style:{display:"grid",gap:"1.5rem",gridTemplateColumns:v?"repeat(2, minmax(0, 1fr))":"repeat(1, minmax(0, 1fr))"},children:[h.jsxs("section",{className:"card h-100",style:{minWidth:0},children:[h.jsx("div",{className:"card-header",children:h.jsx(Fr,{to:N,className:"fw-semibold text-decoration-none",children:"Evidence File Types"})}),h.jsx("div",{className:"card-body",style:{height:cg},children:B?h.jsx(o1,{data:B,options:H,"aria-label":"Evidence file type distribution"}):h.jsx("p",{className:"text-muted mb-0",children:"No evidence uploads yet."})})]}),h.jsxs("section",{className:"card h-100",style:{minWidth:0},children:[h.jsx("div",{className:"card-header d-flex justify-content-between align-items-center",children:h.jsx(Fr,{to:`${q}&role=Admin`,className:"fw-semibold text-decoration-none",children:"Admin Activity"})}),h.jsxs("div",{className:"card-body d-flex flex-column p-0",style:{height:cg},children:[f&&h.jsx("div",{className:"alert alert-warning mb-0 rounded-0 py-2 px-3",role:"alert",children:f}),h.jsx("div",{className:"flex-grow-1 overflow-auto",children:L.length===0?h.jsx("p",{className:"text-muted px-3 py-3 mb-0",children:"No admin users found."}):h.jsx("div",{className:"table-responsive",children:h.jsxs("table",{className:"table table-sm table-striped mb-0",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{scope:"col",children:"User"}),h.jsx("th",{scope:"col",children:"Last Login"})]})}),h.jsx("tbody",{children:L.map(D=>{const K=D.last_login_at?Bd(D.last_login_at,Ws):"";return h.jsxs("tr",{children:[h.jsxs("td",{children:[h.jsx("div",{className:"fw-semibold",children:D.name||D.email||`User ${D.id}`}),D.email&&h.jsx("div",{className:"text-muted small",children:D.email})]}),h.jsx("td",{children:K})]},`${D.id}-${D.email}`)})})]})})})]}),h.jsx("div",{className:"card-footer text-end bg-transparent border-top",children:h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:A,disabled:c,"aria-busy":c,children:c?"Downloading":"Download CSV"})})]})]})]})]})}function _1(){return h.jsxs("section",{children:[h.jsx("h1",{children:"Admin"}),h.jsxs("ul",{children:[h.jsx("li",{children:h.jsx(Fr,{to:"/admin/settings",children:"Settings"})}),h.jsx("li",{children:h.jsx(Fr,{to:"/admin/roles",children:"Roles"})}),h.jsx("li",{children:h.jsx(Fr,{to:"/admin/users",children:"Users"})}),h.jsx("li",{children:h.jsx(Fr,{to:"/admin/user-roles",children:"User Roles"})}),h.jsx("li",{children:h.jsx(Fr,{to:"/admin/audit",children:"Audit"})}),h.jsx("li",{children:h.jsx("a",{href:"/api/docs",children:"API Documentation"})})]})]})}const w1=[{key:"color.primary",label:"Primary color"},{key:"color.surface",label:"Surface color"},{key:"color.text",label:"Text color"}],S1=["none","default","light","heavy","custom"],k1=["narrow","default","wide"],C1=["small","medium","large"],E1=["none","limited","full"];function mr(t){return{theme:t.theme.default,allowOverride:t.theme.allow_user_override,forceGlobal:t.theme.force_global,overrides:{...t.theme.overrides}}}function ug(t,e){if(!e||t.theme!==e.theme||t.allowOverride!==e.allowOverride||t.forceGlobal!==e.forceGlobal)return!0;const n=new Set([...Object.keys(t.overrides),...Object.keys(e.overrides)]);for(const i of n)if((t.overrides[i]??"")!==(e.overrides[i]??""))return!0;return!1}async function Gu(t){try{return await t.json()}catch{return null}}function j1(){const[t,e]=w.useState(!0),[n,i]=w.useState(!1),[a,o]=w.useState(null),[c,u]=w.useState(!1),[f,m]=w.useState(Gi),[g,v]=w.useState(mr(en)),x=w.useRef(null),_=w.useRef(mr(en)),k=w.useMemo(()=>[...f.themes,...f.packs].map(D=>({slug:D.slug,name:D.name,source:D.source})),[f]),C=w.useCallback(L=>{const D=mr(L);_.current=D,v(D),Rs(L)},[]),E=w.useCallback(async()=>{try{const L=await fetch("/api/settings/ui/themes",{method:"GET",credentials:"same-origin",headers:Tt()});if(!L.ok){o("Theme manifest unavailable; using bundled defaults.");return}const D=await Gu(L);D&&Array.isArray(D.themes)&&(m(D),Gg(D))}catch{o("Theme manifest unavailable; using bundled defaults.")}},[]),T=w.useCallback(async L=>{e(!0),L?.preserveMessage||o(null);try{await E();const D=await fetch("/api/settings/ui",{method:"GET",credentials:"same-origin",headers:Tt()});if(D.status===403){u(!0),o("You do not have permission to adjust theme settings."),x.current=null,_.current=mr(en),v(mr(en)),Rs(en);return}if(!D.ok){o("Failed to load theme settings. Using defaults."),x.current=null,_.current=mr(en),v(mr(en)),Rs(en);return}x.current=D.headers.get("ETag");const X=(await Gu(D))?.config?.ui??en;C(X)}catch{o("Failed to load theme settings. Using defaults."),x.current=null,_.current=mr(en),v(mr(en)),Rs(en)}finally{e(!1)}},[C,E]);w.useEffect(()=>{T()},[T]);const P=L=>{v(D=>({...D,theme:L}))},B=L=>{v(D=>({...D,allowOverride:L}))},z=L=>{v(D=>({...D,forceGlobal:L}))},H=(L,D)=>{v(K=>({...K,overrides:{...K.overrides,[L]:D}}))},q=(L,D)=>{v(K=>({...K,overrides:{...K.overrides,[L]:D}}))},N=()=>{const L=_.current??mr(en);v(L),o("Reverted to last saved values.")},A=async()=>{if(c){o("Read-only mode: theme settings cannot be changed.");return}const L=_.current;if(!ug(g,L)){o("No changes to save.");return}const D=x.current;if(!D){await T(),o("Settings version refreshed. Please retry.");return}i(!0),o(null);try{const K={ui:{theme:{default:g.theme,allow_user_override:g.allowOverride,force_global:g.forceGlobal,overrides:g.overrides}}},X=await fetch("/api/settings/ui",{method:"PUT",credentials:"same-origin",headers:Tt({"Content-Type":"application/json","If-Match":D}),body:JSON.stringify(K)}),ne=await Gu(X);if(X.status===409){const pe=ne?.current_etag??X.headers.get("ETag");pe&&(x.current=pe),o("Settings changed elsewhere. Reloaded latest values."),await T({preserveMessage:!0});return}if(!X.ok)throw new Error(`Save failed (HTTP ${X.status}).`);const oe=X.headers.get("ETag")??ne?.etag??null;oe&&(x.current=oe),ne?.config?.ui?C(ne.config.ui):(_.current=g,await T({preserveMessage:!0}));const fe=typeof ne?.message=="string"?ne.message:"Theme settings saved.";o(fe)}catch(K){o(K instanceof Error?K.message:"Save failed.")}finally{i(!1)}},V=t||n||c;return h.jsxs("section",{className:"card mb-4","aria-label":"theme-configurator",children:[h.jsxs("div",{className:"card-header d-flex justify-content-between align-items-center",children:[h.jsx("strong",{children:"Theming"}),h.jsxs("div",{className:"d-flex gap-2",children:[h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>void T(),disabled:t||n,children:"Reload"}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:N,disabled:V,children:"Reset"}),h.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:()=>void A(),disabled:V||!ug(g,_.current),children:n?"Saving":"Save"})]})]}),h.jsx("div",{className:"card-body vstack gap-4",children:t?h.jsx("p",{children:"Loading theme settings"}):h.jsxs(h.Fragment,{children:[a&&h.jsx("div",{className:"alert alert-info mb-0",role:"status",children:a}),h.jsxs("fieldset",{className:"vstack gap-3",disabled:V,children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"themeSelect",className:"form-label fw-semibold",children:"Default theme"}),h.jsx("select",{id:"themeSelect",className:"form-select",value:g.theme,onChange:L=>P(L.target.value),children:k.map(L=>h.jsxs("option",{value:L.slug,children:[L.name," (",L.source==="bootswatch"?"Bootswatch":"Pack",")"]},L.slug))}),h.jsx("div",{className:"form-text",children:"Users can select from available themes when overrides are allowed."})]}),h.jsxs("div",{className:"form-check",children:[h.jsx("input",{id:"allowOverride",type:"checkbox",className:"form-check-input",checked:g.allowOverride,onChange:L=>B(L.target.checked)}),h.jsx("label",{htmlFor:"allowOverride",className:"form-check-label",children:"Allow user theme override"})]}),h.jsxs("div",{className:"form-check",children:[h.jsx("input",{id:"forceGlobal",type:"checkbox",className:"form-check-input",checked:g.forceGlobal,onChange:L=>z(L.target.checked)}),h.jsx("label",{htmlFor:"forceGlobal",className:"form-check-label",children:"Force global theme (light/dark still follows capability rules)"})]}),h.jsxs("div",{children:[h.jsx("h2",{className:"h5 mb-3",children:"Design tokens"}),h.jsx("div",{className:"row g-3",children:w1.map(({key:L,label:D})=>h.jsxs("div",{className:"col-sm-4",children:[h.jsx("label",{htmlFor:L,className:"form-label",children:D}),h.jsx("input",{id:L,className:"form-control form-control-color",type:"color",value:g.overrides[L]??"#000000",onChange:K=>H(L,K.target.value),title:D})]},L))}),h.jsxs("div",{className:"row g-3 mt-1",children:[h.jsxs("div",{className:"col-sm-3",children:[h.jsx("label",{htmlFor:"shadowPreset",className:"form-label",children:"Shadow preset"}),h.jsx("select",{id:"shadowPreset",className:"form-select",value:g.overrides.shadow??"default",onChange:L=>q("shadow",L.target.value),children:S1.map(L=>h.jsx("option",{value:L,children:L},L))})]}),h.jsxs("div",{className:"col-sm-3",children:[h.jsx("label",{htmlFor:"spacingPreset",className:"form-label",children:"Spacing scale"}),h.jsx("select",{id:"spacingPreset",className:"form-select",value:g.overrides.spacing??"default",onChange:L=>q("spacing",L.target.value),children:k1.map(L=>h.jsx("option",{value:L,children:L},L))})]}),h.jsxs("div",{className:"col-sm-3",children:[h.jsx("label",{htmlFor:"typeScalePreset",className:"form-label",children:"Type scale"}),h.jsx("select",{id:"typeScalePreset",className:"form-select",value:g.overrides.typeScale??"medium",onChange:L=>q("typeScale",L.target.value),children:C1.map(L=>h.jsx("option",{value:L,children:L},L))})]}),h.jsxs("div",{className:"col-sm-3",children:[h.jsx("label",{htmlFor:"motionPreset",className:"form-label",children:"Motion"}),h.jsx("select",{id:"motionPreset",className:"form-select",value:g.overrides.motion??"full",onChange:L=>q("motion",L.target.value),children:E1.map(L=>h.jsx("option",{value:L,children:L},L))})]})]})]})]})]})})]})}const N1=5*1024*1024,zy=["image/png","image/jpeg","image/webp","image/svg+xml"],M1={primary_logo:"Primary logo",secondary_logo:"Secondary logo",header_logo:"Header logo",footer_logo:"Footer logo",favicon:"Favicon"},mi=()=>({...en.brand});async function ml(t){try{return await t.json()}catch{return null}}function R1(){const[t,e]=w.useState(mi()),[n,i]=w.useState([]),[a,o]=w.useState(!0),[c,u]=w.useState(!1),[f,m]=w.useState(null),[g,v]=w.useState(null),[x,_]=w.useState(!1),k=w.useRef(null),C=w.useRef(null),E=w.useCallback(async A=>{o(!0),A?.preserveMessage||m(null);try{const[V,L]=await Promise.all([fetch("/api/settings/ui",{method:"GET",credentials:"same-origin",headers:Tt()}),fetch("/api/settings/ui/brand-assets",{method:"GET",credentials:"same-origin",headers:Tt()})]);if(V.status===403){_(!0),m("You do not have permission to update branding."),k.current=null,e(mi()),C.current=mi(),i([]);return}if(V.ok){k.current=V.headers.get("ETag");const D=await ml(V),K=D?.config?.ui?.brand?{...D.config.ui.brand}:mi();e(K),C.current={...K}}else m("Failed to load branding settings. Using defaults."),e(mi()),C.current=mi();if(L.ok){const D=await ml(L);i(D?.assets??[])}else i([])}catch{m("Failed to load branding settings. Using defaults."),k.current=null,e(mi()),C.current=mi(),i([])}finally{o(!1)}},[]);w.useEffect(()=>{E()},[E]);const T=(A,V)=>{e(L=>({...L,[A]:V}))},P=()=>{const A=C.current;return A?t.title_text!==A.title_text||t.favicon_asset_id!==A.favicon_asset_id||t.primary_logo_asset_id!==A.primary_logo_asset_id||t.secondary_logo_asset_id!==A.secondary_logo_asset_id||t.header_logo_asset_id!==A.header_logo_asset_id||t.footer_logo_asset_id!==A.footer_logo_asset_id||t.footer_logo_disabled!==A.footer_logo_disabled:!0},B=async()=>{if(x){m("Branding is read-only for your account.");return}if(!P()){m("No branding changes to save.");return}const A=k.current;if(!A){await E(),m("Settings version refreshed. Please retry.");return}u(!0),m(null);try{const V={ui:{brand:t}},L=await fetch("/api/settings/ui",{method:"PUT",credentials:"same-origin",headers:Tt({"Content-Type":"application/json","If-Match":A}),body:JSON.stringify(V)}),D=await ml(L);if(L.status===409){const X=D?.etag??L.headers.get("ETag");X&&(k.current=X),m("Branding changed elsewhere. Reloaded latest values."),await E({preserveMessage:!0});return}if(!L.ok)throw new Error(`Save failed (HTTP ${L.status}).`);const K=L.headers.get("ETag")??D?.etag??null;if(K&&(k.current=K),D?.config?.ui?.brand){const X={...D.config.ui.brand};e(X),C.current={...X}}else C.current={...t};m("Branding saved.")}catch(V){m(V instanceof Error?V.message:"Save failed.")}finally{u(!1)}},z=async(A,V)=>{if(!zy.includes(V.type)){v(`Unsupported file type: ${V.type||"unknown"}.`);return}if(V.size>N1){v("File exceeds 5 MB limit.");return}const L=new FormData;L.append("kind",A),L.append("file",V);try{const D=await fetch("/api/settings/ui/brand-assets",{method:"POST",credentials:"same-origin",headers:Tt(),body:L}),K=await ml(D);if(!D.ok||!K?.asset){const ne=typeof K?.message=="string"?K.message:"Upload failed.";v(ne);return}const X=K.asset;switch(i(ne=>[X,...ne.filter(oe=>oe.id!==X.id)]),A){case"primary_logo":T("primary_logo_asset_id",K.asset.id);break;case"secondary_logo":T("secondary_logo_asset_id",K.asset.id);break;case"header_logo":T("header_logo_asset_id",K.asset.id);break;case"footer_logo":T("footer_logo_asset_id",K.asset.id);break;case"favicon":T("favicon_asset_id",K.asset.id);break}v("Upload successful.")}catch{v("Upload failed.")}},H=async A=>{if(window.confirm("Delete this asset? This cannot be undone."))try{const V=await fetch(`/api/settings/ui/brand-assets/${encodeURIComponent(A)}`,{method:"DELETE",credentials:"same-origin",headers:Tt()});if(!V.ok)throw new Error(`Delete failed (${V.status})`);i(K=>K.filter(X=>X.id!==A));let L=!1;const D={...t};["favicon","primary_logo","secondary_logo","header_logo","footer_logo"].forEach(K=>{const X=`${K}_asset_id`;D[X]===A&&(D[X]=null,L=!0)}),L&&(e(D),m("Asset deleted and references cleared. Save to apply."))}catch(V){v(V instanceof Error?V.message:"Delete failed.")}},q=a||c||x,N=A=>A?n.find(V=>V.id===A)??null:null;return h.jsxs("section",{className:"card mb-4","aria-label":"branding-card",children:[h.jsxs("div",{className:"card-header d-flex justify-content-between align-items-center",children:[h.jsx("strong",{children:"Branding"}),h.jsxs("div",{className:"d-flex gap-2",children:[h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>void E(),disabled:a||c,children:"Reload"}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>{C.current&&(e({...C.current}),m("Reverted to last saved branding."))},disabled:q,children:"Reset"}),h.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:()=>void B(),disabled:q,children:c?"Saving":"Save"})]})]}),h.jsx("div",{className:"card-body vstack gap-4",children:a?h.jsx("p",{children:"Loading branding settings"}):h.jsxs(h.Fragment,{children:[f&&h.jsx("div",{className:"alert alert-info mb-0",role:"status",children:f}),g&&h.jsx("div",{className:"alert alert-secondary mb-0",role:"note",children:g}),h.jsxs("fieldset",{className:"vstack gap-3",disabled:q,children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"brandTitle",className:"form-label fw-semibold",children:"Title text"}),h.jsx("input",{id:"brandTitle",type:"text",className:"form-control",value:t.title_text,maxLength:120,onChange:A=>T("title_text",A.target.value)}),h.jsx("div",{className:"form-text",children:"Default: phpGRC  <module>"})]}),h.jsx(Pa,{label:"Primary logo",description:"Displayed in header and as fallback for other locations.",kind:"primary_logo",asset:N(t.primary_logo_asset_id),assets:n,onUpload:z,onSelect:A=>T("primary_logo_asset_id",A),onClear:()=>T("primary_logo_asset_id",null),onDelete:H,disabled:q}),h.jsx(Pa,{label:"Secondary logo",description:"Used when the primary logo is not suitable; falls back to primary otherwise.",kind:"secondary_logo",asset:N(t.secondary_logo_asset_id),assets:n,onUpload:z,onSelect:A=>T("secondary_logo_asset_id",A),onClear:()=>T("secondary_logo_asset_id",null),onDelete:H,disabled:q}),h.jsx(Pa,{label:"Header logo",description:"Optional specialized logo for application header.",kind:"header_logo",asset:N(t.header_logo_asset_id),assets:n,onUpload:z,onSelect:A=>T("header_logo_asset_id",A),onClear:()=>T("header_logo_asset_id",null),onDelete:H,disabled:q}),h.jsx(Pa,{label:"Footer logo",description:"Displayed in footer; falls back to primary when absent.",kind:"footer_logo",asset:N(t.footer_logo_asset_id),assets:n,onUpload:z,onSelect:A=>T("footer_logo_asset_id",A),onClear:()=>T("footer_logo_asset_id",null),onDelete:H,disabled:q}),h.jsxs("div",{className:"form-check",children:[h.jsx("input",{id:"footerLogoDisabled",type:"checkbox",className:"form-check-input",checked:t.footer_logo_disabled,onChange:A=>T("footer_logo_disabled",A.target.checked)}),h.jsx("label",{htmlFor:"footerLogoDisabled",className:"form-check-label",children:"Disable footer logo (falls back to primary when unchecked)."})]}),h.jsx(Pa,{label:"Favicon",description:"Used in browser tabs. If absent, derived from primary logo.",kind:"favicon",asset:N(t.favicon_asset_id),assets:n,onUpload:z,onSelect:A=>T("favicon_asset_id",A),onClear:()=>T("favicon_asset_id",null),onDelete:H,disabled:q})]}),h.jsx(T1,{assets:n,onDelete:H,disabled:q})]})})]})}function Pa({label:t,description:e,kind:n,asset:i,assets:a,onUpload:o,onSelect:c,onClear:u,onDelete:f,disabled:m}){const g=w.useRef(null),v=_=>{const k=_.target.files?.[0];k&&o(n,k)},x=a.filter(_=>_.kind===n);return h.jsx("div",{className:"card border-secondary-subtle",children:h.jsxs("div",{className:"card-body d-flex flex-column flex-lg-row gap-3",children:[h.jsxs("div",{className:"flex-grow-1",children:[h.jsx("h3",{className:"h6 mb-1",children:t}),h.jsx("p",{className:"text-muted small mb-3",children:e}),i?h.jsxs("div",{className:"d-flex align-items-center gap-3",children:[i.url?h.jsx("img",{src:i.url,alt:`${t} preview`,style:{maxHeight:64,maxWidth:120},className:"border rounded"}):h.jsx("div",{className:"border rounded bg-light d-flex align-items-center justify-content-center",style:{height:64,width:120},children:h.jsx("span",{className:"text-muted small",children:"Preview"})}),h.jsxs("div",{className:"small text-muted",children:[h.jsx("div",{children:i.name}),h.jsx("div",{children:i.mime}),h.jsx("div",{children:Uy(i.size_bytes)})]})]}):h.jsx("div",{className:"text-muted small",children:"No asset selected."})]}),h.jsxs("div",{className:"d-flex flex-column gap-2",children:[h.jsx("button",{type:"button",className:"btn btn-outline-primary btn-sm",onClick:()=>g.current?.click(),disabled:m,children:"Upload new"}),h.jsx("input",{ref:g,type:"file",accept:zy.join(","),className:"d-none",onChange:v}),h.jsxs("select",{className:"form-select form-select-sm",value:i?.id??"",onChange:_=>c(_.target.value||null),disabled:m||x.length===0,children:[h.jsx("option",{value:"",children:"Select existing"}),x.map(_=>h.jsx("option",{value:_.id,children:_.name},_.id))]}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:u,disabled:m||!i,children:"Clear selection"}),h.jsx("button",{type:"button",className:"btn btn-outline-danger btn-sm",onClick:()=>i&&f(i.id),disabled:m||!i,children:"Delete asset"})]})]})})}function T1({assets:t,onDelete:e,disabled:n}){return t.length===0?h.jsx("div",{className:"alert alert-secondary mb-0",role:"note",children:"No uploaded branding assets yet."}):h.jsx("div",{className:"table-responsive",children:h.jsxs("table",{className:"table table-sm align-middle",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{scope:"col",children:"Name"}),h.jsx("th",{scope:"col",children:"Kind"}),h.jsx("th",{scope:"col",children:"Size"}),h.jsx("th",{scope:"col",children:"Uploaded"}),h.jsx("th",{scope:"col",className:"text-end",children:"Actions"})]})}),h.jsx("tbody",{children:t.map(i=>h.jsxs("tr",{children:[h.jsx("td",{children:i.name}),h.jsx("td",{children:M1[i.kind]}),h.jsx("td",{children:Uy(i.size_bytes)}),h.jsx("td",{children:P1(i.created_at)}),h.jsx("td",{className:"text-end",children:h.jsx("button",{type:"button",className:"btn btn-outline-danger btn-sm",onClick:()=>e(i.id),disabled:n,children:"Delete"})})]},i.id))})]})})}function Uy(t){if(!Number.isFinite(t)||t<=0)return"0 B";const e=["B","KB","MB","GB"],n=Math.min(e.length-1,Math.floor(Math.log(t)/Math.log(1024))),i=t/Math.pow(1024,n);return`${i.toFixed(i>=10?0:1)} ${e[n]}`}function P1(t){const e=new Date(t);return Number.isNaN(e.getTime())?t:e.toLocaleString()}const dg=[{value:"LOCAL",label:"Local date & time",example:"Example: 9/30/2025, 5:23:01 PM"},{value:"ISO_8601",label:"ISO 8601 (UTC)",example:"Example: 2025-09-30 21:23:01Z"},{value:"RELATIVE",label:"Relative time",example:"Example: 5 minutes ago"}];function D1(){const[t,e]=w.useState(!0),[n,i]=w.useState(!1),[a,o]=w.useState(null),[c,u]=w.useState(!1),[f,m]=w.useState(0),[g,v]=w.useState(7),[x,_]=w.useState(!1),[k,C]=w.useState(50),[E,T]=w.useState(365),[P,B]=w.useState(Ws),[z,H]=w.useState(""),[q,N]=w.useState(25),A="/opt/phpgrc/shared/blobs",[V,L]=w.useState(!1),D=w.useRef(null),K=w.useRef(null),X=(M,S,F)=>Math.max(S,Math.min(F,Math.trunc(M))),ne=w.useCallback(M=>{const S=M?.core??{},F=S.metrics??{},ee=S.rbac??{},ae=S.audit??{},ce=S.evidence??{},de=X(Number(F.cache_ttl_seconds??0),0,2592e3),De=X(Number(F.rbac_denies?.window_days??7),7,365),ke=!!(ee.require_auth??!1),Ve=X(Number(ee.user_search?.default_per_page??50),1,500),Je=X(Number(ae.retention_days??365),1,730),It=Qa(S.ui?.time_format),lt=typeof ce?.blob_storage_path=="string"?ce.blob_storage_path.trim():"",tt=lt===A?"":lt,Lt=X(Number(ce?.max_mb??25),1,4096);m(de),v(De),_(ke),C(Ve),T(Je),B(It),H(tt),N(Lt),D.current={cacheTtl:de,rbacDays:De,rbacRequireAuth:ke,rbacUserSearchPerPage:Ve,retentionDays:Je,timeFormat:It,evidenceBlobPath:tt,evidenceMaxMb:Lt}},[A]),oe=w.useCallback(async()=>{e(!0);try{const M=await fetch("/api/admin/settings",{method:"GET",credentials:"same-origin",headers:Tt()});if(M.status===403){u(!0),o("You do not have permission to view settings."),D.current=null;return}if(!M.ok)throw new Error(`Failed to load settings (HTTP ${M.status})`);const S=await M.json(),F=M.headers.get("ETag");F&&(K.current=F),u(!1),ne(S?.config??null)}catch{o("Failed to load settings.")}finally{e(!1)}},[ne]);w.useEffect(()=>{o(null),oe()},[oe]);const fe=()=>({cacheTtl:X(Number(f)||0,0,2592e3),rbacDays:X(Number(g)||7,7,365),rbacRequireAuth:x,rbacUserSearchPerPage:X(Number(k)||50,1,500),retentionDays:X(Number(E)||365,1,730),timeFormat:P,evidenceBlobPath:z.trim(),evidenceMaxMb:X(Number(q)||25,1,4096)}),pe=()=>{const M=fe(),S=D.current,F={apply:!0};if(!S)return F.rbac={require_auth:M.rbacRequireAuth,user_search:{default_per_page:M.rbacUserSearchPerPage}},F.audit={retention_days:M.retentionDays},F.metrics={cache_ttl_seconds:M.cacheTtl,rbac_denies:{window_days:M.rbacDays}},F.ui={time_format:M.timeFormat},F.evidence={blob_storage_path:M.evidenceBlobPath,max_mb:M.evidenceMaxMb},F;const ee={};M.rbacRequireAuth!==S.rbacRequireAuth&&(ee.require_auth=M.rbacRequireAuth),M.rbacUserSearchPerPage!==S.rbacUserSearchPerPage&&(ee.user_search={default_per_page:M.rbacUserSearchPerPage}),Object.keys(ee).length>0&&(F.rbac=ee),M.retentionDays!==S.retentionDays&&(F.audit={retention_days:M.retentionDays});const ae={};M.cacheTtl!==S.cacheTtl&&(ae.cache_ttl_seconds=M.cacheTtl),M.rbacDays!==S.rbacDays&&(ae.rbac_denies={window_days:M.rbacDays}),Object.keys(ae).length>0&&(F.metrics=ae),M.timeFormat!==S.timeFormat&&(F.ui={time_format:M.timeFormat});const ce={};return M.evidenceBlobPath!==S.evidenceBlobPath&&(ce.blob_storage_path=M.evidenceBlobPath),M.evidenceMaxMb!==S.evidenceMaxMb&&(ce.max_mb=M.evidenceMaxMb),Object.keys(ce).length>0&&(F.evidence=ce),F};async function Z(M){if(M.preventDefault(),c){o("You do not have permission to modify settings.");return}i(!0),o(null);try{const S=pe();if(!L1(S)){o("No changes to save."),i(!1);return}const ee=K.current;if(!ee){o("Settings version missing. Reloading..."),await oe();return}const ae=await fetch("/api/admin/settings",{method:"POST",credentials:"same-origin",headers:Tt({"Content-Type":"application/json","If-Match":ee}),body:JSON.stringify(S)}),ce=await A1(ae);if(ae.status===409){const ke=ce?.current_etag??ae.headers.get("ETag");ke&&(K.current=ke),o("Settings changed in another session. Latest values have been reloaded."),await oe();return}if(!ae.ok)throw new Error(`Save failed with status ${ae.status}`);const de=ae.headers.get("ETag")??ce?.etag??null;if(de&&(K.current=de),ce?.config)ne(ce.config);else{const ke=fe();D.current=ke,m(ke.cacheTtl),v(ke.rbacDays),_(ke.rbacRequireAuth),C(ke.rbacUserSearchPerPage),T(ke.retentionDays),B(ke.timeFormat),H(ke.evidenceBlobPath),N(ke.evidenceMaxMb)}const De=typeof ce?.message=="string"?ce.message:ce?.note==="stub-only"?"Validated. Not persisted (stub).":"Saved.";o(De)}catch(S){o(S instanceof Error?S.message:"Save failed.")}finally{i(!1)}}async function se(){if(!V&&window.confirm("Purge all evidence records? This cannot be undone.")){L(!0),o(null);try{const M=await zs("/api/admin/evidence/purge",{confirm:!0}),S=typeof M?.deleted=="number"?M.deleted:0;S>0?o(`Purged ${S} evidence item${S===1?"":"s"}.`):M?.note==="evidence-table-missing"?o("Evidence table not available."):o("No evidence to purge.")}catch{o("Purge failed.")}finally{L(!1)}}}return h.jsxs("main",{id:"main",className:"container py-3",children:[h.jsx("h1",{className:"mb-3",children:"Admin Settings"}),h.jsx(j1,{}),h.jsx(R1,{}),t?h.jsx("p",{children:"Loading"}):h.jsxs("form",{onSubmit:Z,className:"vstack gap-3","aria-label":"admin-settings",children:[h.jsxs("section",{className:"card",children:[h.jsx("div",{className:"card-header",children:h.jsx("strong",{children:"Authentication"})}),h.jsxs("div",{className:"card-body vstack gap-3",children:[h.jsxs("div",{className:"form-check",children:[h.jsx("input",{id:"rbacRequireAuth",type:"checkbox",className:"form-check-input",checked:x,onChange:M=>_(M.target.checked)}),h.jsx("label",{htmlFor:"rbacRequireAuth",className:"form-check-label",children:"Enforce Authentication"})]}),h.jsx("div",{className:"row g-2 align-items-end",children:h.jsxs("div",{className:"col-sm-4",children:[h.jsx("label",{htmlFor:"rbacUserSearchPerPage",className:"form-label",children:"User search default per-page"}),h.jsx("input",{id:"rbacUserSearchPerPage",type:"number",min:1,max:500,className:"form-control",value:k,onChange:M=>C(X(Number(M.target.value)||50,1,500))})]})})]})]}),h.jsxs("section",{className:"card",children:[h.jsx("div",{className:"card-header",children:h.jsx("strong",{children:"Audit"})}),h.jsxs("div",{className:"card-body",children:[h.jsx("label",{htmlFor:"retentionDays",className:"form-label",children:"Retention days"}),h.jsx("input",{id:"retentionDays",type:"number",min:1,max:730,className:"form-control",value:E,onChange:M=>T(Math.max(1,Math.min(730,Number(M.target.value)||1)))})]})]}),h.jsxs("section",{className:"card",children:[h.jsx("div",{className:"card-header",children:h.jsx("strong",{children:"Interface"})}),h.jsxs("div",{className:"card-body",children:[h.jsx("label",{htmlFor:"timeFormat",className:"form-label",children:"Timestamp display"}),h.jsx("select",{id:"timeFormat",className:"form-select",value:P,onChange:M=>B(Qa(M.target.value)),children:dg.map(M=>h.jsx("option",{value:M.value,children:M.label},M.value))}),h.jsx("div",{className:"form-text",children:dg.find(M=>M.value===P)?.example})]})]}),h.jsxs("section",{className:"card",children:[h.jsx("div",{className:"card-header",children:h.jsx("strong",{children:"Evidence"})}),h.jsxs("div",{className:"card-body vstack gap-3",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"evidenceBlobPath",className:"form-label",children:"Blob storage path"}),h.jsx("input",{id:"evidenceBlobPath",type:"text",className:"form-control placeholder-hide-on-focus",value:z,onChange:M=>H(M.target.value),placeholder:A,autoComplete:"off",onFocus:M=>{M.currentTarget.dataset.placeholder=M.currentTarget.placeholder,M.currentTarget.placeholder=""},onBlur:M=>{const S=M.currentTarget.dataset.placeholder||A;M.currentTarget.placeholder=M.currentTarget.value.trim()===""?S:A}}),h.jsx("div",{className:"form-text",children:"Leave blank to keep storing evidence in the database."})]}),h.jsx("div",{className:"row g-2 align-items-end",children:h.jsxs("div",{className:"col-sm-4",children:[h.jsx("label",{htmlFor:"evidenceMaxMb",className:"form-label",children:"Maximum file size (MB)"}),h.jsx("input",{id:"evidenceMaxMb",type:"number",min:1,max:4096,className:"form-control",value:q,onChange:M=>{const S=Math.trunc(Number(M.target.value)||1);N(X(S,1,4096))}}),h.jsx("div",{className:"form-text",children:"Files larger than this limit will be rejected."})]})}),h.jsxs("div",{className:"d-flex flex-column flex-sm-row align-items-sm-center gap-2",children:[h.jsx("button",{type:"button",className:"btn btn-outline-danger",onClick:()=>void se(),disabled:n||V,children:V?"Purging":"Purge evidence"}),h.jsx("span",{className:"text-muted small",children:"Irreversibly deletes all stored evidence records."})]})]})]}),h.jsxs("section",{className:"card",children:[h.jsx("div",{className:"card-header",children:h.jsx("strong",{children:"Metrics"})}),h.jsx("div",{className:"card-body vstack gap-3",children:h.jsxs("div",{className:"row g-2 align-items-end",children:[h.jsxs("div",{className:"col-sm-4",children:[h.jsx("label",{htmlFor:"cacheTtl",className:"form-label",children:"Cache TTL (seconds)"}),h.jsx("input",{id:"cacheTtl",type:"number",min:0,max:2592e3,className:"form-control",value:f,onChange:M=>m(Math.max(0,Math.min(2592e3,Number(M.target.value)||0)))})]}),h.jsxs("div",{className:"col-sm-4",children:[h.jsx("label",{htmlFor:"rbacDays",className:"form-label",children:"Authentication window (days)"}),h.jsx("input",{id:"rbacDays",type:"number",className:"form-control",value:g,onChange:M=>{const S=Math.trunc(Number(M.target.value));v(Number.isFinite(S)?S:0)}})]})]})})]}),h.jsxs("div",{className:"hstack gap-2",children:[h.jsx("button",{type:"submit",className:"btn btn-primary",disabled:n||V||c,children:n?"Saving":"Save"}),a&&h.jsx("span",{"aria-live":"polite",className:"text-muted",children:a})]})]})]})}function L1(t){return Object.entries(t).some(([e,n])=>e==="apply"||n==null?!1:typeof n!="object"?!0:Object.keys(n).length>0)}async function A1(t){try{return await t.json()}catch{return null}}function mt(t){return t!==null&&typeof t=="object"}function fg(t,e,n){return!Number.isFinite(t)||t<e?e:t>n?n:t}function By(t){if(!mt(t))return null;const e=Number(t.id??0),n=String(t.name??""),i=String(t.email??"");return!Number.isFinite(e)||e<=0?null:{id:e,name:n,email:i}}function $d(t){if(t instanceof Ft){const e=t.body,n=mt(e)&&typeof e.code=="string"?e.code:"REQUEST_FAILED",i=mt(e)&&typeof e.message=="string"?e.message:void 0;return{ok:!1,code:n,message:i}}return{ok:!1,code:"NETWORK_ERROR"}}async function Hd(){try{const t=await br("/api/rbac/roles"),e=mt(t)?t:{},n=[];let i=!1;const a=c=>{Array.isArray(c)&&(i=!0,n.push(...c))};if(a(t),a(e.roles),a(e.data),!i)return{ok:!1,roles:[],note:"invalid_response"};const o=typeof e.note=="string"?e.note:void 0;return{ok:!0,roles:n,note:o}}catch{return{ok:!1,roles:[],note:"network_error"}}}async function O1(t){try{const e=await zs("/api/rbac/roles",{name:t}),n=mt(e)?e:{},i=n.role,a=mt(i)?i:void 0,o=a&&a.id!==void 0?String(a.id):void 0,c=a&&a.name!==void 0?String(a.name):void 0;if(n.ok===!0&&o&&c)return{kind:"created",status:201,roleId:o,roleName:c,raw:e};if((typeof n.note=="string"?n.note:void 0)==="stub-only"){const g=n.accepted;let v=t;if(mt(g)){const x=g.name;typeof x=="string"&&(v=x)}return{kind:"stub",status:202,acceptedName:v,raw:e}}return{kind:"error",status:400,code:typeof n.code=="string"?n.code:void 0,raw:e}}catch(e){if(e instanceof Ft){const n=e.body,i=mt(n)&&typeof n.code=="string"?n.code:void 0,a=mt(n)&&typeof n.message=="string"?n.message:void 0;let o;if(mt(n?.errors)){const c=n.errors;for(const u of Object.values(c))if(Array.isArray(u)){const f=u.find(m=>typeof m=="string"&&m.trim()!=="");if(f){o=f;break}}}return{kind:"error",status:e.status,code:i,message:o??a,raw:n}}return{kind:"error",status:0,code:"NETWORK_ERROR"}}}async function F1(t,e){try{const n=await kb(`/api/rbac/roles/${encodeURIComponent(t)}`,{name:e}),i=mt(n)?n:{};if(i.ok===!0&&mt(i.role)){const u=i.role,f=typeof u.id=="string"?u.id:void 0,m=typeof u.name=="string"?u.name:void 0;if(f&&m)return{kind:"updated",status:200,roleId:f,roleName:m,raw:n}}if((typeof i.note=="string"?i.note:void 0)==="stub-only"){const u=mt(i.accepted)?i.accepted:void 0;return{kind:"stub",status:202,acceptedName:u&&typeof u.name=="string"?u.name:void 0,raw:n}}const o=typeof i.code=="string"?i.code:void 0,c=typeof i.message=="string"?i.message:void 0;return{kind:"error",status:typeof(i.status??400)=="number"?i.status:400,code:o,message:c,raw:n}}catch(n){if(n instanceof Ft){const i=n.body,a=mt(i)&&typeof i.code=="string"?i.code:void 0,o=mt(i)&&typeof i.message=="string"?i.message:void 0;return{kind:"error",status:n.status,code:a,message:o,raw:i??n}}return{kind:"error",status:0,code:"NETWORK_ERROR"}}}async function I1(t){try{const e=await Wl(`/api/rbac/roles/${encodeURIComponent(t)}`),n=mt(e)?e:{};if(n.ok===!0)return{kind:"deleted",status:200,raw:e};if((typeof n.note=="string"?n.note:void 0)==="stub-only")return{kind:"stub",status:202,raw:e};const a=typeof n.code=="string"?n.code:void 0,o=typeof n.message=="string"?n.message:void 0;return{kind:"error",status:typeof(n.status??400)=="number"?n.status:400,code:a,message:o,raw:e}}catch(e){if(e instanceof Ft){const n=e.body,i=mt(n)&&typeof n.code=="string"?n.code:void 0,a=mt(n)&&typeof n.message=="string"?n.message:void 0;return{kind:"error",status:e.status,code:i,message:a,raw:n??e}}return{kind:"error",status:0,code:"NETWORK_ERROR"}}}async function ud(t){try{const e=await br(`/api/rbac/users/${encodeURIComponent(String(t))}/roles`),n=mt(e)?e:{};if(n.ok===!0)return e;const i=By(n.user),a=Array.isArray(n.roles)?n.roles.filter(u=>typeof u=="string"):null;if(i&&a)return{ok:!0,user:i,roles:a};const o=typeof n.code=="string"?n.code:"REQUEST_FAILED",c=typeof n.message=="string"?n.message:void 0;return{ok:!1,code:o,message:c}}catch(e){return $d(e)}}async function z1(t,e){try{const n=await zs(`/api/rbac/users/${encodeURIComponent(String(t))}/roles/${encodeURIComponent(e)}`),i=mt(n)?n:{};if(i.ok===!0)return n;const a=typeof i.code=="string"?i.code:"REQUEST_FAILED",o=typeof i.message=="string"?i.message:void 0;return{ok:!1,code:a,message:o}}catch(n){return $d(n)}}async function U1(t,e){try{const n=await Wl(`/api/rbac/users/${encodeURIComponent(String(t))}/roles/${encodeURIComponent(e)}`),i=mt(n)?n:{};if(i.ok===!0)return n;const a=typeof i.code=="string"?i.code:"REQUEST_FAILED",o=typeof i.message=="string"?i.message:void 0;return{ok:!1,code:a,message:o}}catch(n){return $d(n)}}async function Wd(t,e=1,n=50){try{const i=fg(Number(e)||1,1,Number.MAX_SAFE_INTEGER),a=fg(Number(n)||50,1,500),o=await br("/api/rbac/users/search",{q:t,page:i,per_page:a}),c=mt(o)?o:{},f=(Array.isArray(c.data)?c.data:[]).map(By).filter(k=>!!k),m=mt(c.meta)?c.meta:{},g={page:Number(m.page??i)||i,per_page:Number(m.per_page??a)||a,total:Number(m.total??f.length)||0,total_pages:Number(m.total_pages??1)||1};if(c.ok===!0||Array.isArray(c.data)&&mt(c.meta))return{ok:!0,data:f,meta:g};const x=typeof c.code=="string"?c.code:"REQUEST_FAILED",_=typeof c.message=="string"?c.message:void 0;return{ok:!1,status:400,code:x,message:_,raw:o}}catch(i){if(i instanceof Ft){const a=i.body,o=mt(a)&&typeof a.code=="string"?a.code:"REQUEST_FAILED",c=mt(a)&&typeof a.message=="string"?a.message:void 0;return{ok:!1,status:i.status,code:o,message:c,raw:a}}return{ok:!1,status:0,code:"NETWORK_ERROR"}}}function B1(t){return t.normalize("NFKD").replace(/[\u0300-\u036f]/g,"")}function wl(t){if(typeof t=="string"){const e=t.trim();return e===""?null:e}return typeof t=="number"&&Number.isFinite(t)?String(t):null}function Vd(t){const e=B1(t.trim());return e===""?"":e.replace(/[\s-]+/g,"_").replace(/[^a-zA-Z0-9_]+/g,"").replace(/_+/g,"_").replace(/^_+|_+$/g,"").toLowerCase()}function xr(t){const e=t.trim().replace(/[_-]+/g," ");return e===""?"":e.split(/\s+/).map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join(" ")}function Kd(t){if(!Array.isArray(t))return[];const e=new Set,n=[];for(const i of t){let a=null,o=null;if(typeof i=="string"||typeof i=="number"){const m=wl(i);if(!m)continue;a=m,o=m}else if(i&&typeof i=="object"){const m=wl(i.id),g=wl(i.name);a=m??g,o=g??m}if(a===null)continue;const c=Vd(a);if(c===""||e.has(c))continue;e.add(c);const u=o??a,f=xr(u)||xr(c)||u;n.push({id:c,name:f})}return n.sort((i,a)=>i.name.localeCompare(a.name,void 0,{sensitivity:"base"}))}function Qi(t){if(!Array.isArray(t))return[];const e=new Set,n=[];for(const i of t){const a=wl(i);if(!a)continue;const o=Vd(a);o===""||e.has(o)||(e.add(o),n.push(o))}return n}function $1(){const[t,e]=w.useState(!0),[n,i]=w.useState([]),[a,o]=w.useState(null),[c,u]=w.useState(null),[f,m]=w.useState(""),[g,v]=w.useState(!1);async function x(E){e(!0),u(null);try{const T=await Hd();if(E?.aborted)return;T.ok?(i(Kd(T.roles??[])),o(T.note??null)):u("Failed to load roles.")}catch{E?.aborted||u("Failed to load roles.")}finally{E?.aborted||e(!1)}}w.useEffect(()=>{const E=new AbortController;return x(E.signal),()=>E.abort()},[]);const _=async E=>{E.preventDefault(),u(null);const T=f.trim();if(!(T.length<2)){v(!0);try{const P=await O1(T);if(P.kind==="created"){const B=Vd(P.roleName),z=xr(B||P.roleName)||P.roleName;u(`Created role ${z} (${P.roleId}).`),m(""),B&&i(H=>H.some(N=>N.id===B)?H:[...H,{id:B,name:z}].sort((N,A)=>N.name.localeCompare(A.name,void 0,{sensitivity:"base"}))),await x()}else if(P.kind==="stub"){const B=P.acceptedName??T,z=xr(B)??B;u(`Accepted: "${z}". Persistence not implemented.`),m("")}else P.kind==="error"&&(P.code==="FORBIDDEN"?u("Forbidden. Admin required."):P.code==="VALIDATION_FAILED"?u(P.message??"Validation error."):P.message?u(P.message):P.code==="NETWORK_ERROR"?u("Network error. Please retry."):u("Request failed."))}finally{v(!1)}}};async function k(E){const T=prompt("Rename role",E.name);if(T===null)return;const P=T.trim();if(P.length<2){u("Role name must be at least 2 characters.");return}v(!0),u(null);try{const B=await F1(E.id,P);if(B.kind==="updated"){const z=xr(B.roleName)??B.roleName;u(`Renamed to ${z}.`),await x()}else if(B.kind==="stub"){const z=B.acceptedName??P,H=xr(z)??z;u(`Accepted: "${H}". Persistence not implemented.`)}else u(B.message??B.code??"Rename failed.")}catch{u("Rename failed.")}finally{v(!1)}}async function C(E){const T=E.name;if(confirm(`Delete ${T}?`)){v(!0),u(null);try{const P=await I1(E.id);P.kind==="deleted"?(u(`${T} deleted.`),await x()):P.kind==="stub"?u("Accepted. Persistence not implemented."):u(P.message??P.code??"Delete failed.")}catch{u("Delete failed.")}finally{v(!1)}}}return t?h.jsxs("div",{className:"container py-5",role:"status","aria-live":"polite","aria-busy":"true",children:[h.jsx("div",{className:"spinner-border","aria-hidden":"true"}),h.jsx("span",{className:"visually-hidden",children:"Loading"})]}):h.jsxs("main",{id:"main",className:"container py-3",role:"main","aria-busy":g,children:[h.jsx("h1",{className:"mb-3",children:"Roles Management"}),h.jsxs("div",{"aria-live":"polite",role:"status",children:[a&&h.jsx("div",{className:"alert alert-secondary",role:"note",children:a}),c&&h.jsx("div",{className:"alert alert-info",role:"alert",children:c})]}),n.length===0?h.jsx("p",{className:"text-muted",children:"No roles defined."}):h.jsx("div",{className:"table-responsive",children:h.jsxs("table",{className:"table table-sm align-middle",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{scope:"col",children:"Role"}),h.jsx("th",{scope:"col",style:{width:"14rem"},children:"Actions"})]})}),h.jsx("tbody",{children:n.map(E=>h.jsxs("tr",{children:[h.jsx("td",{children:E.name}),h.jsxs("td",{className:"d-flex gap-2",children:[h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>void k(E),disabled:g,children:"Rename"}),h.jsx("button",{type:"button",className:"btn btn-outline-danger btn-sm",onClick:()=>void C(E),disabled:g,children:"Delete"})]})]},E.id))})]})}),h.jsxs("form",{className:"card p-3",onSubmit:_,noValidate:!0,"aria-busy":g,children:[h.jsxs("div",{className:"mb-2",children:[h.jsx("label",{htmlFor:"roleName",className:"form-label",children:"Create role"}),h.jsx("input",{id:"roleName",type:"text",name:"name",className:"form-control",value:f,minLength:2,maxLength:64,onChange:E=>m(E.target.value),placeholder:"e.g., Compliance Lead",required:!0,autoComplete:"off","aria-describedby":"roleHelp"}),h.jsx("div",{id:"roleHelp",className:"form-text",children:"264 characters. Letters, numbers, spaces, and dashes recommended."})]}),h.jsx("button",{type:"submit",className:"btn btn-primary",disabled:f.trim().length<2||g,children:g?"Submitting":"Submit"})]})]})}function H1(){const[t,e]=w.useState([]),[n,i]=w.useState(!1),[a,o]=w.useState(""),[c,u]=w.useState(!1),[f,m]=w.useState(null),[g,v]=w.useState([]),[x,_]=w.useState(""),[k,C]=w.useState(""),[E,T]=w.useState(1),[P,B]=w.useState(50),[z,H]=w.useState(!1),[q,N]=w.useState([]),[A,V]=w.useState(null),[L,D]=w.useState(null),K=w.useRef(null);w.useEffect(()=>{const M=new AbortController;return(async()=>{i(!0);try{const S=await Hd();if(M.signal.aborted)return;S.ok?e(Kd(S.roles??[])):(e([]),D("Failed to load roles."))}catch{M.signal.aborted||(e([]),D("Failed to load roles."))}finally{M.signal.aborted||i(!1)}})(),()=>M.abort()},[]);async function X(){D(null),m(null),v([]);const M=Number(a);if(!Number.isInteger(M)||M<=0){D("Enter a valid User ID.");return}u(!0);try{const S=await ud(M);if(S.ok){const F=S;m(F.user);const ee=Qi(F.roles??[]);v(ee),_(""),D(null),queueMicrotask(()=>K.current?.focus())}else D(`Error: ${S.code}${S.message?" - "+S.message:""}`)}catch{D("Network error.")}finally{u(!1)}}const ne=w.useMemo(()=>t.filter(M=>!g.includes(M.id)),[t,g]);w.useEffect(()=>{if(ne.length===0){x!==""&&_("");return}ne.some(M=>M.id===x)||_(ne[0].id)},[ne,x]);async function oe(){if(f&&x){D(null);try{const M=await z1(f.id,x);if(M.ok){const F=Qi(M.roles??[]);v(F);const ee=xr(x);_(""),D(ee?`${ee} attached.`:"Role attached.")}else D(`Attach failed: ${M.code}${M.message?" - "+M.message:""}`)}catch{D("Attach failed.")}}}async function fe(M){if(f){D(null);try{const S=await U1(f.id,M);if(S.ok){const ee=Qi(S.roles??[]);v(ee);const ae=xr(M);D(ae?`${ae} detached.`:"Role detached.")}else D(`Detach failed: ${S.code}${S.message?" - "+S.message:""}`)}catch{D("Detach failed.")}}}async function pe(M){H(!0),D(null);try{const F=await Wd(k,typeof M=="number"?M:E,P);if(F.ok){const ee=F;N(ee.data),V(ee.meta),T(ee.meta.page)}else N([]),V(null),D(`Search failed: ${F.code}${F.message?" - "+F.message:""}`)}catch{N([]),V(null),D("Search failed.")}finally{H(!1)}}function Z(M){o(String(M.id)),N([]),V(null),se(M.id)}async function se(M){D(null),m(null),v([]),u(!0);try{const S=await ud(M);if(S.ok){const F=S;m(F.user);const ee=Qi(F.roles??[]);v(ee),_(""),queueMicrotask(()=>K.current?.focus())}else D(`Error: ${S.code}${S.message?" - "+S.message:""}`)}catch{D("Network error.")}finally{u(!1)}}return h.jsxs("main",{className:"container py-3",children:[h.jsx("h1",{className:"mb-3",children:"User Roles"}),h.jsxs("section",{"aria-labelledby":"search",children:[h.jsx("h2",{id:"search",className:"h5",children:"Search users"}),h.jsxs("div",{className:"row g-2 align-items-end",children:[h.jsxs("div",{className:"col-12 col-md-5",children:[h.jsx("label",{htmlFor:"q",className:"form-label",children:"Query"}),h.jsx("input",{id:"q",type:"text",className:"form-control",value:k,onChange:M=>C(M.currentTarget.value),placeholder:"Search name, email, or role"})]}),h.jsxs("div",{className:"col-6 col-md-2",children:[h.jsx("label",{htmlFor:"per_page",className:"form-label",children:"Per page"}),h.jsx("input",{id:"per_page",type:"number",inputMode:"numeric",className:"form-control",value:P,min:1,max:500,onChange:M=>{const S=Number(M.currentTarget.value)||50;B(Math.max(1,Math.min(500,S)))}})]}),h.jsx("div",{className:"col-auto",children:h.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>{T(1),pe(1)},disabled:z,children:z?"Searching":"Search"})})]}),h.jsxs("div",{className:"mt-3",children:[q.length===0&&!z&&h.jsx("div",{className:"text-muted",children:"No matches"}),q.length>0&&h.jsx("div",{className:"table-responsive",children:h.jsxs("table",{className:"table table-sm align-middle",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{style:{width:"6rem"},children:"ID"}),h.jsx("th",{children:"Name"}),h.jsx("th",{children:"Email"}),h.jsx("th",{style:{width:"8rem"},children:"Action"})]})}),h.jsx("tbody",{children:q.map(M=>h.jsxs("tr",{children:[h.jsx("td",{children:M.id}),h.jsx("td",{children:M.name}),h.jsx("td",{children:M.email}),h.jsx("td",{children:h.jsx("button",{type:"button",className:"btn btn-outline-primary btn-sm",onClick:()=>Z(M),children:"Select"})})]},M.id))})]})}),A&&h.jsxs("nav",{"aria-label":"Pagination",className:"d-flex align-items-center gap-2",children:[h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>{A.page>1&&pe(A.page-1)},disabled:z||A.page<=1,children:"Prev"}),h.jsxs("span",{children:["Page ",A.page," of ",A.total_pages,"  ",A.total," total"]}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>{A.page<A.total_pages&&pe(A.page+1)},disabled:z||A.page>=A.total_pages,children:"Next"})]})]})]}),h.jsx("hr",{className:"my-4"}),h.jsxs("section",{"aria-labelledby":"lookup",children:[h.jsx("h2",{id:"lookup",className:"h5",children:"Lookup by ID"}),h.jsxs("div",{className:"row g-2 align-items-end",children:[h.jsxs("div",{className:"col-auto",children:[h.jsx("label",{htmlFor:"user_id",className:"form-label",children:"User ID"}),h.jsx("input",{id:"user_id",type:"number",inputMode:"numeric",className:"form-control",value:a,onChange:M=>o(M.currentTarget.value),"aria-describedby":"user_id_help"}),h.jsx("div",{id:"user_id_help",className:"form-text",children:"Enter a numeric user id."})]}),h.jsx("div",{className:"col-auto",children:h.jsx("button",{type:"button",className:"btn btn-primary",disabled:c,onClick:X,children:c?"Loading":"Load"})})]})]}),h.jsx("div",{"aria-live":"polite",role:"status",className:"mt-3",children:L&&h.jsx("div",{className:"alert alert-info py-2 mb-2",children:L})}),f&&h.jsxs("section",{className:"mt-4","aria-labelledby":"user_section",children:[h.jsx("h2",{id:"user_section",className:"h5",children:"User"}),h.jsx("div",{className:"card mb-3",children:h.jsxs("div",{className:"card-body",children:[h.jsxs("p",{className:"mb-1",children:[h.jsx("strong",{children:"ID:"})," ",f.id]}),h.jsxs("p",{className:"mb-1",children:[h.jsx("strong",{children:"Name:"})," ",f.name]}),h.jsxs("p",{className:"mb-3",children:[h.jsx("strong",{children:"Email:"})," ",f.email]}),h.jsxs("div",{className:"mb-3",children:[h.jsx("label",{htmlFor:"attach_role",className:"form-label",children:"Attach role"}),h.jsxs("div",{className:"d-flex gap-2",children:[h.jsx("select",{id:"attach_role",className:"form-select",value:x,onChange:M=>_(M.currentTarget.value),disabled:n||ne.length===0,"aria-disabled":n||ne.length===0,children:ne.map(M=>h.jsx("option",{value:M.id,children:M.name},M.id))}),h.jsx("button",{ref:K,type:"button",className:"btn btn-success",onClick:oe,disabled:!x,children:"Add"})]}),n&&h.jsx("div",{className:"form-text",children:"Loading roles"})]}),h.jsxs("div",{className:"mb-4",children:[h.jsx("h3",{className:"h6",children:"Current roles"}),h.jsxs("ul",{className:"list-unstyled",role:"list",children:[g.length===0&&h.jsx("li",{className:"text-muted",children:"None"}),g.map(M=>{const S=xr(M)||M;return h.jsxs("li",{className:"d-flex align-items-center justify-content-between border rounded p-2 mb-2",children:[h.jsx("span",{children:S}),h.jsx("button",{type:"button",className:"btn btn-outline-danger btn-sm",onClick:()=>fe(M),"aria-label":`Remove ${S}`,children:"Remove"})]},M)})]})]})]})})]})]})}async function W1(t){function e(i){return Array.isArray(i)&&i.every(a=>typeof a=="string")}function n(i,a){if(i&&typeof i=="object"){const o=i[a];if(e(o))return o}return null}try{const i=await br("/api/audit/categories",void 0,t);return((Array.isArray(i)?i:null)??n(i,"_categories")??n(i,"categories")??[]).filter(o=>typeof o=="string")}catch{return[]}}const V1={"auth.login":{label:"Login",category:"AUTH",variant:"success"},"auth.login.success":{label:"Login success",category:"AUTH",variant:"success"},"auth.login.failed":{label:"Login failed",category:"AUTH",variant:"warning"},"auth.login.redirected":{label:"Login redirected",category:"AUTH",variant:"neutral"},"auth.logout":{label:"Logout",category:"AUTH",variant:"neutral"},"auth.mfa.totp.enrolled":{label:"TOTP enrolled",category:"AUTH",variant:"success"},"auth.mfa.totp.verified":{label:"TOTP verified",category:"AUTH",variant:"success"},"auth.bruteforce.locked":{label:"Brute force locked",category:"AUTH",variant:"danger"},"rbac.deny.unauthenticated":{label:"Denied: unauthenticated",category:"RBAC",variant:"danger"},"rbac.deny.role_mismatch":{label:"Denied: missing required role",category:"RBAC",variant:"danger"},"rbac.deny.policy":{label:"Denied: policy",category:"RBAC",variant:"danger"},"rbac.deny.capability":{label:"Denied: capability",category:"RBAC",variant:"danger"},"rbac.deny.unknown_policy":{label:"Denied: unknown policy",category:"RBAC",variant:"danger"},"rbac.user_role.attached":{label:"Role attached",category:"RBAC",variant:"success"},"rbac.user_role.detached":{label:"Role detached",category:"RBAC",variant:"warning"},"rbac.user_role.replaced":{label:"Roles replaced",category:"RBAC",variant:"neutral"},"rbac.role.created":{label:"Role created",category:"RBAC",variant:"success"},"rbac.role.updated":{label:"Role updated",category:"RBAC",variant:"neutral"},"rbac.role.deleted":{label:"Role deleted",category:"RBAC",variant:"warning"},"rbac.user.created":{label:"User created",category:"RBAC",variant:"success"},"rbac.user.deleted":{label:"User deleted",category:"RBAC",variant:"warning"},"evidence.uploaded":{label:"Evidence uploaded",category:"EVIDENCE",variant:"success"},"evidence.downloaded":{label:"Evidence downloaded",category:"EVIDENCE",variant:"neutral"},"evidence.deleted":{label:"Evidence deleted",category:"EVIDENCE",variant:"warning"},"evidence.purged":{label:"Evidence purged",category:"EVIDENCE",variant:"warning"},"export.job.created":{label:"Export started",category:"EXPORTS",variant:"neutral"},"export.job.completed":{label:"Export completed",category:"EXPORTS",variant:"success"},"export.job.failed":{label:"Export failed",category:"EXPORTS",variant:"danger"},"settings.updated":{label:"Settings updated",category:"SETTINGS",variant:"neutral"},"setting.modified":{label:"Setting modified",category:"SETTINGS",variant:"neutral"},"audit.retention.purged":{label:"Audit purged",category:"AUDIT",variant:"warning"},"avatar.uploaded":{label:"Avatar uploaded",category:"AVATARS",variant:"success"},"setup.finished":{label:"Setup finished",category:"SETUP",variant:"success"}},K1={AUTH:"neutral",RBAC:"neutral",EVIDENCE:"neutral",EXPORTS:"neutral",SETTINGS:"neutral",AUDIT:"neutral",AVATARS:"neutral",SETUP:"neutral"};function Y1(t,e){const n=V1[t];if(n)return n;if(t.startsWith("rbac.deny."))return{label:"Denied: RBAC",category:"RBAC",variant:"danger"};if(t.startsWith("rbac.user_role."))return{label:"User role changed",category:"RBAC",variant:"neutral"};if(t.startsWith("export."))return{label:"Export event",category:"EXPORTS",variant:"neutral"};if(t.startsWith("evidence."))return{label:"Evidence event",category:"EVIDENCE",variant:"neutral"};if(t.startsWith("auth."))return{label:"Auth event",category:"AUTH",variant:"neutral"};if(t.startsWith("settings."))return{label:"Settings event",category:"SETTINGS",variant:"neutral"};if(t.startsWith("setting."))return{label:"Setting event",category:"SETTINGS",variant:"neutral"};if(t.startsWith("audit."))return{label:"Audit event",category:"AUDIT",variant:"neutral"};if(t.startsWith("avatar."))return{label:"Avatar event",category:"AVATARS",variant:"neutral"};if(t.startsWith("setup."))return{label:"Setup event",category:"SETUP",variant:"neutral"};const i=(e||"OTHER").toUpperCase();return{label:X1(t),category:i,variant:K1[i]??"neutral"}}function X1(t){return t.replace(/\./g," ").replace(/_/g," ").replace(/\s+/g," ").trim().replace(/^\w/,e=>e.toUpperCase())}function $y({headers:t}){return h.jsx("tr",{children:t.map(({key:e,label:n,onToggle:i,isActive:a,filterContent:o,summaryContent:c,className:u})=>h.jsxs("th",{scope:"col",className:u,children:[i?h.jsx("button",{type:"button",className:`btn btn-link p-0 fw-semibold text-start ${a?"":"link-underline-opacity-0"}`,onClick:i,children:n}):h.jsx("span",{className:"fw-semibold",children:n}),c,o]},e))})}function Hy(){const[t,e]=w.useState(null),n=w.useCallback(o=>{e(c=>c===o?null:o)},[]),i=w.useCallback(o=>t===o,[t]),a=w.useCallback(()=>{e(null)},[]);return{activeKey:t,toggle:n,isActive:i,reset:a}}const Q1=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function hg(t){const e=t.getUTCFullYear(),n=String(t.getUTCMonth()+1).padStart(2,"0"),i=String(t.getUTCDate()).padStart(2,"0");return`${e}-${n}-${i}`}function mg(t){if(!/^\d{4}-\d{2}-\d{2}$/.test(t))return null;const[e,n,i]=t.split("-"),a=Number(e),o=Number(n),c=Number(i);if(!Number.isFinite(a)||!Number.isFinite(o)||!Number.isFinite(c))return null;const u=new Date(Date.UTC(a,o-1,c));return u.getUTCFullYear()!==a||u.getUTCMonth()!==o-1||u.getUTCDate()!==c?null:u}function G1(t,e,n){return!t||!e?!1:n>t&&n<e}function Wy({start:t,end:e,onChange:n,onComplete:i,onClear:a}){const o=hg(new Date),u=mg(t||e||o)??new Date,[f,m]=w.useState(()=>u.getUTCFullYear()),[g,v]=w.useState(()=>u.getUTCMonth()),[x,_]=w.useState(t),[k,C]=w.useState(e),E=w.useMemo(()=>new Intl.DateTimeFormat(void 0,{month:"long",year:"numeric",timeZone:"UTC"}),[]),T=w.useMemo(()=>new Intl.DateTimeFormat(void 0,{weekday:"short",month:"short",day:"numeric",year:"numeric",timeZone:"UTC"}),[]);w.useEffect(()=>{_(t),C(e)},[t,e]);const P=w.useMemo(()=>E.format(new Date(Date.UTC(f,g,1))),[E,f,g]),B=w.useMemo(()=>{const V=new Date(Date.UTC(f,g,1)).getUTCDay(),L=new Date(Date.UTC(f,g+1,0)).getUTCDate(),D=[];for(let X=0;X<V;X+=1)D.push(null);for(let X=1;X<=L;X+=1){const ne=hg(new Date(Date.UTC(f,g,X)));D.push({iso:ne,day:X})}for(;D.length%7!==0;)D.push(null);const K=[];for(let X=0;X<D.length;X+=7)K.push(D.slice(X,X+7));return K},[f,g]),z=A=>{const V=new Date(Date.UTC(f,g+A,1));m(V.getUTCFullYear()),v(V.getUTCMonth())},H=(A,V)=>{const L=mg(A);return L?T.format(L):`Day ${V}`},q=A=>{if(!x||x&&k){_(A),C(""),n(A,"");return}if(x&&!k){if(A<x){_(A),C(""),n(A,"");return}C(A),n(x,A),i(x,A)}},N=()=>{_(""),C(""),n("",""),a()};return h.jsxs("div",{className:"border rounded p-3 d-inline-block",children:[h.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2 gap-2",children:[h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>z(-1),children:""}),h.jsx("div",{className:"fw-semibold",children:P}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>z(1),children:""})]}),h.jsxs("table",{className:"table table-sm mb-2",style:{width:"100%",minWidth:"16rem"},children:[h.jsx("thead",{children:h.jsx("tr",{children:Q1.map(A=>h.jsx("th",{className:"text-center small",children:A},A))})}),h.jsx("tbody",{children:B.map((A,V)=>h.jsx("tr",{children:A.map((L,D)=>{if(!L)return h.jsx("td",{},D);const K=x===L.iso,X=k===L.iso,ne=G1(x,k,L.iso),oe=L.iso===o,fe={width:"2.4rem",height:"2.4rem",borderRadius:"999px",border:"none",backgroundColor:"transparent",color:"#212529"};return ne&&(fe.backgroundColor="#e0edff"),K||X?(fe.backgroundColor="#0d6efd",fe.color="#ffffff",fe.fontWeight=600):oe&&(fe.border="1px solid #0d6efd"),h.jsx("td",{className:"text-center",children:h.jsx("button",{type:"button",className:"btn btn-sm p-0",style:fe,"aria-pressed":K||X,onClick:()=>q(L.iso),"aria-label":H(L.iso,L.day),children:L.day})},L.iso)})},V))})]}),h.jsxs("div",{className:"d-flex justify-content-between align-items-center gap-2",children:[h.jsxs("div",{className:"small text-muted",children:[x&&!k&&"Select an end date",x&&k&&`${x}  ${k}`,!x&&!k&&"Select start date"]}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:N,children:"Clear"})]})]})}const pg={SYSTEM:"System",RBAC:"Access Control",AUTH:"Authentication",SETTINGS:"Settings",EXPORTS:"Exports",EVIDENCE:"Evidence",AVATARS:"Avatars",AUDIT:"Audit Trail",SETUP:"Setup",METRICS:"Metrics",OTHER:"Other"};function dd(t){const e=t.toUpperCase();if(pg[e])return pg[e];const n=e.toLowerCase().split(/[^a-z0-9]+/i).filter(Boolean);return n.length===0?e:n.map(i=>i.charAt(0).toUpperCase()+i.slice(1)).join(" ")}function q1(t){const e=new Set,n=[];for(const i of t){const a=String(i??"").trim().toUpperCase();!a||e.has(a)||(e.add(a),n.push({value:a,label:dd(a)}))}return n.sort((i,a)=>i.label.localeCompare(a.label))}function J1(t){const e=new URLSearchParams;return Object.entries(t).forEach(([n,i])=>{if(i==null)return;const a=typeof i=="boolean"?i?"true":"false":String(i);a.length>0&&e.set(n,a)}),e.toString()}function Z1(t){return(t instanceof DOMException||typeof t=="object"&&t!==null)&&t.name==="AbortError"}function eC(t){if(t instanceof Error)return t.message;const e=t?.message;return typeof e=="string"?e:"Request failed"}function tC(t){if(!t||typeof t!="object")return{};const e=t,n=e.errors??e.error??e._errors;if(!n||typeof n!="object")return{};const i={};return Object.entries(n).forEach(([a,o])=>{Array.isArray(o)?i[a]=o.filter(c=>typeof c=="string"):typeof o=="string"&&(i[a]=[o])}),i}function nC(t){const e={display:"inline-block",fontSize:"0.85rem",padding:"0.15rem 0.5rem",borderRadius:"999px",border:"1px solid transparent",lineHeight:1.2,whiteSpace:"nowrap"};switch(t){case"success":return{...e,color:"#0f5132",backgroundColor:"#d1e7dd",borderColor:"#badbcc"};case"warning":return{...e,color:"#664d03",backgroundColor:"#fff3cd",borderColor:"#ffecb5"};case"danger":return{...e,color:"#842029",backgroundColor:"#f8d7da",borderColor:"#f5c2c7"};default:return{...e,color:"#0c5460",backgroundColor:"#e2f0f3",borderColor:"#bee5eb"}}}function rC(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}function iC(t){return typeof t.actor_label=="string"&&t.actor_label.trim()!==""?t.actor_label.trim():t.user_id!==null&&t.user_id!==void 0?String(t.user_id):t.actor_id!==null&&t.actor_id!==void 0?String(t.actor_id):"System"}function sC(t,e,n){const i=n||"System",a=rC(t.meta)?t.meta:{},o=typeof t.note=="string"&&t.note.trim()!==""?t.note.trim():"";if(o)return o;const c=typeof a.message=="string"&&a.message.trim()!==""?a.message.trim():"";if(c)return c;const u=v=>{if(v===null)return"null";if(v===void 0)return"n/a";if(typeof v=="string")return v;if(typeof v=="number"||typeof v=="boolean")return String(v);try{return JSON.stringify(v)}catch{return String(v)}},f=t.action??"";if(f==="setting.modified"){const _=[a.setting_label,a.setting_key,a.key,t.entity_id].find(E=>typeof E=="string"&&E.trim()!=="")??"Setting",k=u(a.old_value??a.old),C=u(a.new_value??a.new);return`${_} update by ${i}. Old: ${k} - New: ${C}`}if(f==="settings.update"){const v=Array.isArray(a.changes)?a.changes.length:0;return v>0?`Settings updated by ${i} (${v} ${v===1?"change":"changes"})`:`Settings updated by ${i}`}if(f==="evidence.upload"||f==="evidence.uploaded")return`${typeof a.filename=="string"&&a.filename?a.filename:typeof t.entity_id=="string"&&t.entity_id?t.entity_id:"Evidence"} uploaded to evidence by ${i}`;if(f==="evidence.downloaded")return`${typeof a.filename=="string"&&a.filename?a.filename:typeof t.entity_id=="string"&&t.entity_id?t.entity_id:"Evidence"} downloaded by ${i}`;if(f==="evidence.deleted")return`${typeof a.filename=="string"&&a.filename?a.filename:typeof t.entity_id=="string"&&t.entity_id?t.entity_id:"Evidence"} removed from evidence by ${i}`;if(f==="evidence.read"||f==="evidence.head")return`${typeof a.filename=="string"&&a.filename?a.filename:typeof t.entity_id=="string"&&t.entity_id?t.entity_id:"Evidence"} viewed by ${i}`;if(f==="auth.login")return`${i} logged in`;if(f.startsWith("auth."))return`${e.label} by ${i}`;if(f.startsWith("rbac.user_role.")){const v=typeof a.role=="string"?a.role:"";return v?`${e.label}: ${v} by ${i}`:`${e.label} by ${i}`}const m=typeof t.entity_type=="string"&&t.entity_type?t.entity_type:"",g=typeof t.entity_id=="string"&&t.entity_id?t.entity_id:"";if(m||g){const v=[m,g].filter(Boolean).join(" "),x=` by ${i}`;return v?`${e.label} on ${v}${x}`:`${e.label}${x}`}return`${e.label} by ${i}`}function aC(){const t=Hr(),[e,n]=w.useState(""),[i,a]=w.useState(""),[o,c]=w.useState(""),[u,f]=w.useState(""),[m,g]=w.useState(10),v=w.useRef(m),{activeKey:x,toggle:_,reset:k}=Hy(),[C,E]=w.useState([]),[T,P]=w.useState(Ws),[B,z]=w.useState(""),[H,q]=w.useState(!1),[N,A]=w.useState([]),[V,L]=w.useState(null),[D,K]=w.useState(null),[X,ne]=w.useState([]),[oe,fe]=w.useState("idle"),[pe,Z]=w.useState(""),[se,M]=w.useState({}),S=w.useRef(null),F=o?`${o}T00:00:00Z`:void 0,ee=u?`${u}T23:59:59Z`:void 0,ae=w.useMemo(()=>J1({category:e||void 0,action:i||void 0,occurred_from:F,occurred_to:ee,limit:m,actor_id:D?D.id:void 0}),[e,i,F,ee,m,D]),ce=w.useMemo(()=>!o||!u?!0:o<=u,[o,u]);async function de(G=!1,Ne){try{fe("loading"),Z(""),M({}),S.current?.abort(),S.current=new AbortController;const nt={category:e||void 0,action:i||void 0,occurred_from:F,occurred_to:ee,limit:v.current,actor_id:D?D.id:void 0,...Ne},_t=G?{...nt,cursor:null}:nt,Pt=await br("/api/audit",_t,S.current.signal);let zt=[],Ut=null;if(Array.isArray(Pt))zt=Pt;else if(Pt&&typeof Pt=="object"){const pt=Pt;Array.isArray(pt.items)?zt=pt.items:Array.isArray(pt.data)&&(zt=pt.data),typeof pt.time_format=="string"&&(Ut=Qa(pt.time_format))}P(pt=>Ut??pt),ne(zt),fe("ok")}catch(nt){if(Z1(nt))return;if(nt&&typeof nt=="object"&&nt.status===422){const _t=nt.body,Pt=tC(_t);M(Pt),fe("error"),Z("Validation error");return}fe("error"),Z(eC(nt))}}w.useEffect(()=>{(async()=>{const G=new AbortController;try{const Ne=await W1(G.signal);E(q1(Ne))}finally{}return await de(),()=>G.abort()})()},[]),w.useEffect(()=>{const G=new URLSearchParams(t.search),Ne=G.get("category")??"",nt=G.get("action")??"",_t=G.get("occurred_from")??"",Pt=G.get("occurred_to")??"",zt=_t?_t.slice(0,10):"",Ut=Pt?Pt.slice(0,10):"";(Ne!==e||nt!==i||zt!==o||Ut!==u)&&(n(Ne),a(nt),c(zt),f(Ut),de(!0,{category:Ne||void 0,action:nt||void 0,occurred_from:_t||void 0,occurred_to:Pt||void 0}))},[t.search]);const De=w.useMemo(()=>`/api/audit/export.csv?${ae}`,[ae]);async function ke(G){q(!0);try{const nt=await Wd(B,typeof G=="number"?G:1,10);if(nt.ok){const _t=nt;A(_t.data),L({page:_t.meta.page,total_pages:_t.meta.total_pages})}else A([]),L(null)}finally{q(!1)}}function Ve(G){K(G),A([]),L(null),z(""),k()}function Je(){K(null),A([]),L(null),z("")}const It=()=>{if(!ce){Lt();return}D?de(!0,{actor_id:D.id,limit:v.current}):ke()},lt=C.length>0,tt=()=>{M(G=>{if(!G.occurred_from&&!G.occurred_to)return G;const Ne={...G};return delete Ne.occurred_from,delete Ne.occurred_to,Ne})},Lt=()=>{M(G=>({...G,occurred_from:["From must be on or before To"],occurred_to:["To must be on or after From"]}))},Fn=G=>{if(!ce){Lt();return}de(!0,{category:G||void 0})},an=G=>Math.min(100,Math.max(1,G)),yn=G=>{const Ne=an(G);if(v.current=Ne,g(Ne),!ce){Lt();return}de(!0,{limit:Ne})};w.useEffect(()=>{v.current=m},[m]);const nn=G=>{!(x!==G)&&G==="user"&&(A([]),L(null),z("")),_(G)},Ct=()=>{n(""),a(""),c(""),f(""),v.current=10,g(10),K(null),A([]),L(null),z(""),k(),M({}),Z(""),de(!0,{category:void 0,action:void 0,occurred_from:void 0,occurred_to:void 0,actor_id:void 0,limit:10})},Xt=(G,Ne)=>{c(G),f(Ne),G&&Ne&&G>Ne?Lt():tt()},ct=(G,Ne)=>{if(G&&Ne&&G>Ne){Lt();return}tt(),de(!0,{occurred_from:G?`${G}T00:00:00Z`:void 0,occurred_to:Ne?`${Ne}T23:59:59Z`:void 0})},me=()=>{c(""),f(""),tt(),de(!0,{occurred_from:void 0,occurred_to:void 0})},Me=o||u?h.jsxs("div",{className:"small text-muted mt-1",children:[o||"Any","  ",u||"Any"]}):null,Ue=x==="timestamp"?h.jsxs("div",{className:"mt-2 d-flex flex-column gap-2",children:[h.jsx(Wy,{start:o,end:u,onChange:Xt,onComplete:ct,onClear:me}),h.jsxs("div",{className:"visually-hidden",children:[h.jsx("label",{htmlFor:"audit-date-from",className:"form-label",children:"From"}),h.jsx("input",{id:"audit-date-from",type:"date",className:"form-control form-control-sm",value:o,onChange:G=>{const Ne=G.target.value;Xt(Ne,u),ct(Ne,u)},onKeyDown:G=>{G.key==="Escape"&&(G.preventDefault(),k())},"aria-invalid":!ce||!!se.occurred_from?.length}),h.jsx("label",{htmlFor:"audit-date-to",className:"form-label",children:"To"}),h.jsx("input",{id:"audit-date-to",type:"date",className:"form-control form-control-sm",value:u,onChange:G=>{const Ne=G.target.value;Xt(o,Ne),ct(o,Ne)},onKeyDown:G=>{G.key==="Escape"&&(G.preventDefault(),k())},"aria-invalid":!ce||!!se.occurred_to?.length})]}),ce?null:h.jsx("p",{role:"alert",className:"text-danger small mb-0 mt-2",children:"From must be  To"}),se.occurred_from?.length?h.jsx("ul",{role:"alert",className:"text-danger small mb-0 ps-3 mt-2",children:se.occurred_from.map((G,Ne)=>h.jsx("li",{children:G},Ne))}):null,se.occurred_to?.length?h.jsx("ul",{role:"alert",className:"text-danger small mb-0 ps-3 mt-2",children:se.occurred_to.map((G,Ne)=>h.jsx("li",{children:G},Ne))}):null]}):null,bt=D?h.jsxs("div",{className:"small text-muted mt-1",children:[D.name||D.email||`id ${D.id}`," (id ",D.id,")"]}):null,Et=x==="user"?h.jsx("div",{className:"mt-2",children:D?h.jsxs("div",{className:"d-flex flex-column gap-2",children:[h.jsxs("div",{className:"small",children:[h.jsx("span",{className:"fw-semibold",children:D.name||D.email||`id ${D.id}`}),h.jsxs("span",{className:"text-muted ms-2",children:["id ",D.id]})]}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:Je,children:"Clear actor"})]}):h.jsxs(h.Fragment,{children:[h.jsx("label",{htmlFor:"audit-actor",className:"form-label visually-hidden",children:"Actor"}),h.jsx("input",{id:"audit-actor",className:"form-control form-control-sm",value:B,onChange:G=>z(G.target.value),onKeyDown:G=>{G.key==="Enter"?(G.preventDefault(),It()):G.key==="Escape"&&(G.preventDefault(),k())},placeholder:"Search name or email"}),h.jsxs("div",{className:"d-flex flex-wrap gap-2 mt-2",children:[h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>void ke(),"aria-busy":H,disabled:H||B.trim()==="",children:H?"Searching":"Find actor"}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>{A([]),L(null),z("")},disabled:H&&N.length===0,children:"Clear results"})]}),N.length>0&&h.jsxs("div",{className:"border rounded p-2 mt-2",style:{maxHeight:"220px",overflowY:"auto"},children:[h.jsx("ul",{className:"list-unstyled mb-0",children:N.map(G=>h.jsxs("li",{className:"d-flex justify-content-between gap-2 mb-2",children:[h.jsxs("div",{children:[h.jsx("div",{className:"small fw-semibold",children:G.name?.trim()||G.email||`id ${G.id}`}),G.email&&h.jsx("div",{className:"small text-muted",children:G.email})]}),h.jsx("button",{type:"button",className:"btn btn-outline-primary btn-sm",onClick:()=>Ve(G),children:"Select"})]},G.id))}),V&&h.jsxs("div",{className:"d-flex align-items-center justify-content-between gap-2 mt-2",children:[h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>V.page>1&&void ke(V.page-1),disabled:H||V.page<=1,children:"Prev"}),h.jsxs("span",{className:"small text-muted",children:["Page ",V.page," of ",V.total_pages]}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>V.page<V.total_pages&&void ke(V.page+1),disabled:H||V.page>=V.total_pages,children:"Next"})]})]})]})}):null,on=e?dd(e):"",rt=e?h.jsx("div",{className:"small text-muted mt-1",children:on}):null,ut=x==="category"?h.jsxs("div",{className:"mt-2",children:[h.jsx("label",{htmlFor:"audit-category",className:"form-label visually-hidden",children:"Category"}),lt?h.jsxs("select",{id:"audit-category",className:"form-select form-select-sm",value:e,onChange:G=>{const Ne=G.target.value;n(Ne),Fn(Ne)},"aria-invalid":!!se.category?.length,children:[h.jsx("option",{value:"",children:"(any)"}),C.map(G=>h.jsx("option",{value:G.value,children:G.label},G.value))]}):h.jsx("input",{id:"audit-category",className:"form-control form-control-sm",value:e,onChange:G=>n(G.target.value),onBlur:G=>Fn(G.target.value),onKeyDown:G=>{G.key==="Enter"?(G.preventDefault(),Fn(G.currentTarget.value)):G.key==="Escape"&&(G.preventDefault(),k())},placeholder:"e.g. RBAC","aria-invalid":!!se.category?.length}),se.category?.length?h.jsx("ul",{role:"alert",className:"text-danger small mb-0 ps-3 mt-2",children:se.category.map((G,Ne)=>h.jsx("li",{children:G},Ne))}):null]}):null,Qt=i?h.jsx("div",{className:"small text-muted mt-1",children:i}):null,jt=x==="action"?h.jsxs("div",{className:"mt-2",children:[h.jsx("label",{htmlFor:"audit-action",className:"form-label visually-hidden",children:"Action"}),h.jsx("input",{id:"audit-action",className:"form-control form-control-sm",value:i,onChange:G=>a(G.target.value),onKeyDown:G=>{G.key==="Enter"?(G.preventDefault(),ce?de(!0):Lt()):G.key==="Escape"&&(G.preventDefault(),k())},placeholder:"e.g. Role attached","aria-invalid":!!se.action?.length}),h.jsx("div",{className:"form-text",children:'Matches action labels, e.g. "Role attached".'}),se.action?.length?h.jsx("ul",{role:"alert",className:"text-danger small mb-0 ps-3 mt-2",children:se.action.map((G,Ne)=>h.jsx("li",{children:G},Ne))}):null]}):null,Yn=[{key:"timestamp",label:"Timestamp",onToggle:()=>nn("timestamp"),isActive:x==="timestamp",summaryContent:Me,filterContent:Ue},{key:"user",label:"User",onToggle:()=>nn("user"),isActive:x==="user",summaryContent:bt,filterContent:Et},{key:"ip",label:"IP"},{key:"category",label:"Category",onToggle:()=>nn("category"),isActive:x==="category",summaryContent:rt,filterContent:ut},{key:"action",label:"Action",onToggle:()=>nn("action"),isActive:x==="action",summaryContent:Qt,filterContent:jt},{key:"message",label:"Message"}];return h.jsxs("main",{className:"container py-3","aria-busy":oe==="loading",children:[h.jsx("h1",{children:"Audit"}),oe==="loading"&&h.jsx("p",{children:"Loading."}),oe==="error"&&h.jsxs("p",{role:"alert",children:["Error: ",pe]}),h.jsxs("section",{className:"d-flex flex-wrap align-items-center gap-3 mb-3",children:[h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:Ct,disabled:oe==="loading",children:"Reset filters"}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>{if(!ce){Lt();return}de(!0,{limit:v.current})},disabled:oe==="loading",children:oe==="loading"?"Refreshing":"Refresh"}),h.jsxs("div",{className:"d-flex flex-column",children:[h.jsxs("div",{className:"d-flex align-items-center gap-2",children:[h.jsx("label",{htmlFor:"audit-limit",className:"form-label mb-0",children:"Limit"}),h.jsx("input",{id:"audit-limit",type:"number",min:1,max:100,step:1,className:"form-control form-control-sm",style:{width:"5rem"},value:m,onChange:G=>{const Ne=G.target.value;if(Ne===""){v.current=10,g(10);return}const nt=Number(Ne);if(Number.isNaN(nt)||nt<1){v.current=1,g(1);return}yn(nt)},onKeyDown:G=>{G.key==="Enter"?(G.preventDefault(),yn(v.current||10)):G.key==="Escape"&&(G.preventDefault(),v.current=m)},"aria-invalid":!!se.limit?.length})]}),se.limit?.length?h.jsx("ul",{role:"alert",className:"text-danger small mb-0 ps-3 mt-1",children:se.limit.map((G,Ne)=>h.jsx("li",{children:G},Ne))}):null]})]}),h.jsx("div",{className:"table-responsive",children:h.jsxs("table",{"aria-label":"Audit events",className:"table",children:[h.jsx("thead",{children:h.jsx($y,{headers:Yn})}),h.jsx("tbody",{children:X.length===0&&oe==="ok"?h.jsx("tr",{children:h.jsx("td",{colSpan:6,children:"No results"})}):X.map((G,Ne)=>{const nt=G.id||G.ulid||String(Ne),_t=typeof G.occurred_at=="string"&&G.occurred_at||typeof G.created_at=="string"&&G.created_at||typeof G.ts=="string"&&G.ts||"",Pt=Bd(_t,T),zt=iC(G),Ut=String(G.category??""),pt=Y1(String(G.action??""),Ut),ln=dd(pt.category||Ut),cn=sC(G,pt,zt);return h.jsxs("tr",{children:[h.jsx("td",{title:_t,children:Pt}),h.jsx("td",{children:zt}),h.jsx("td",{children:String(G.ip??"")}),h.jsx("td",{children:ln}),h.jsx("td",{children:h.jsx("span",{style:nC(pt.variant),"aria-label":`${pt.label} (${G.action??""})`,title:String(G.action??""),children:pt.label})}),h.jsx("td",{children:cn})]},nt)})})]})}),h.jsx("div",{style:{marginTop:"0.75rem"},children:h.jsx("a",{href:De,className:"btn btn-outline-secondary btn-sm","aria-disabled":oe==="loading",onClick:G=>{oe==="loading"&&G.preventDefault()},children:"Download CSV"})})]})}function $a(t){return t!==null&&typeof t=="object"}function oC(t){if(!t)return null;const e=/filename\*=(?:UTF-8'')?([^;]+)/i.exec(t);if(e?.[1])try{return decodeURIComponent(e[1].replace(/(^"|"$)/g,""))}catch{return e[1].replace(/(^"|"$)/g,"")}const n=/filename="([^"]+)"/i.exec(t);if(n?.[1])return n[1];const i=/filename=([^;]+)/i.exec(t);return i?.[1]?i[1].trim().replace(/(^"|"$)/g,""):null}function fd(t,e){const n=encodeURIComponent(t),i=Vg(e?{sha256:e}:void 0);return`${ki}/api/evidence/${n}${i}`}async function lC(t,e){const n=fd(t,e),i=await fetch(n,{method:"GET",credentials:"same-origin",headers:Tt({Accept:"application/octet-stream"})}),a=i.headers.get("content-type")??"";if(!i.ok){let f=null;const m=a.toLowerCase();try{m.includes("application/json")||m.includes("+json")?f=await i.json():f=await i.text()}catch{f=null}throw new Ft(i.status,f)}const o=await i.blob(),c=oC(i.headers.get("content-disposition"))??t;return{blob:o,filename:c,mime:a!==""?a:"application/octet-stream"}}async function cC(t){if(typeof window>"u"||typeof document>"u")return;const e=t.filename?.trim()!==""?t.filename.trim():t.id,{blob:n,filename:i}=await lC(t.id,t.sha256);if(typeof URL.createObjectURL=="function"){const a=URL.createObjectURL(n),o=document.createElement("a");o.href=a,o.download=i?.trim()!==""?i:e,o.rel="noopener noreferrer",o.style.display="none",document.body.appendChild(o),o.click(),document.body.removeChild(o),window.setTimeout(()=>{typeof URL.revokeObjectURL=="function"&&URL.revokeObjectURL(a)},1e3)}else typeof window.open=="function"?window.open(fd(t.id,t.sha256),"_blank","noopener"):window.location.assign(fd(t.id,t.sha256))}async function uC(t={}){try{const e=await br("/api/evidence",t),n=$a(e)?e:{};if(n.ok===!0&&Array.isArray(n.data)){const o=n.data.map(f=>$a(f)?f:null).filter(f=>!!f).map(f=>({id:String(f.id??""),owner_id:Number(f.owner_id??0),filename:String(f.filename??""),mime:String(f.mime??""),mime_label:typeof f.mime_label=="string"&&f.mime_label.trim()!==""?f.mime_label:String(f.mime??""),size:Number(f.size??0),sha256:String(f.sha256??""),version:Number(f.version??0),created_at:String(f.created_at??"")})).filter(f=>f.id&&Number.isFinite(f.owner_id)),c=typeof n.next_cursor=="string"?n.next_cursor:(n.next_cursor===null,null),u=typeof n.time_format=="string"?Qa(n.time_format):void 0;return{ok:!0,data:o,next_cursor:c,filters:$a(n.filters)?n.filters:void 0,time_format:u}}const i=typeof n.code=="string"?n.code:"REQUEST_FAILED",a=typeof n.message=="string"?n.message:void 0;return{ok:!1,status:400,code:i,message:a,raw:e}}catch{return{ok:!1,status:0,code:"NETWORK_ERROR"}}}async function dC(t,e){const n=new FormData;n.append("file",t);const i=await Kg("/api/evidence",n,e);if(!$a(i)||i.ok!==!0)throw new Error("Invalid response from upload endpoint");const a=typeof i.id=="string"?i.id:"";if(!a)throw new Error("Missing id in upload response");const o=i.version,c=i.size??i.size_bytes,u=typeof i.sha256=="string"?i.sha256:"",f=typeof i.mime=="string"?i.mime:"",m=typeof i.name=="string"?i.name:"",g=Number(o??0),v=Number(c??0);return{ok:!0,id:a,version:Number.isNaN(g)?0:g,sha256:u,size:Number.isNaN(v)?0:v,mime:f,name:m}}async function fC(t,e){const n=await Wl(`/api/evidence/${encodeURIComponent(t)}`,e);if(!$a(n)||n.ok!==!0)throw new Error("Invalid response from delete endpoint");const i=typeof n.id=="string"&&n.id?n.id:t,a=n.deleted;return{ok:!0,id:i,deleted:a===void 0?!0:!!a}}function hC(t){return g1(t)}function mC(t,e=Ws){return Bd(t,e)}const ts=new Map,pl=new Map;function Yd(t){return Number.isInteger(t)&&t>0}async function pC(t){try{const e=await ud(t);return e.ok?(ts.set(t,e.user),e.user):(ts.set(t,null),null)}catch{}return null}async function gC(t){if(!Yd(t))return null;if(ts.has(t))return ts.get(t)??null;if(pl.has(t))return pl.get(t);const e=pC(t).finally(()=>{pl.delete(t)});return pl.set(t,e),e}function gg(t){for(const e of t)Yd(e.id)&&ts.set(e.id,e)}function yg(t){return ts.get(t)}async function yC(t){const e=new Set;for(const i of t){const a=Number(i);Yd(a)&&e.add(a)}await Promise.all(Array.from(e).map(i=>gC(i)));const n=new Map;for(const i of e)n.set(i,ts.get(i)??null);return n}function vC(t){const e=new Set;for(const n of t){const i=Number(n.owner_id);Number.isFinite(i)&&i>0&&e.add(i)}return Array.from(e).sort((n,i)=>n-i)}function xC(t,e){let n=!1;const i=new Map(t);for(const[a,o]of e.entries())i.get(a)!==o&&(i.set(a,o),n=!0);return n?i:t}function bC(t,e){if(!e)return;const n=[];return e.name?.trim()&&n.push(e.name.trim()),e.email?.trim()&&n.push(`<${e.email.trim()}>`),n.push(`id ${t}`),n.join(" ")}function _C(t,e){if(!e)return String(t);const n=e.name?.trim();if(n)return n;const i=e.email?.trim();return i||String(t)}function wC({headers:t,items:e,fetchState:n,timeFormat:i,onDownload:a,downloadingId:o,onDelete:c,deletingId:u}){const f=w.useMemo(()=>vC(e),[e]),m=w.useMemo(()=>f.join(","),[f]),[g,v]=w.useState(()=>{const x=new Map;for(const _ of f){const k=yg(_);k!==void 0&&x.set(_,k)}return x});return w.useEffect(()=>{v(x=>{let _=!1;const k=new Map(x);for(const C of f)if(!k.has(C)){const E=yg(C);E!==void 0&&(k.set(C,E),_=!0)}return _?k:x})},[f]),w.useEffect(()=>{if(f.length===0){v(new Map);return}let x=!1;return yC(f).then(_=>{x||v(k=>xC(k,_))}),()=>{x=!0}},[m,f]),e.length===0&&n==="ok"?h.jsx("div",{className:"alert alert-light border",role:"status",children:"No evidence to display."}):h.jsx("div",{className:"table-responsive",children:h.jsxs("table",{className:"table","aria-label":"Evidence results",children:[h.jsx("thead",{children:h.jsx($y,{headers:t})}),h.jsx("tbody",{children:e.map(x=>{const _=g.get(x.owner_id),k=mC(x.created_at,i),C=hC(x.size),E=x.mime_label?.trim()?x.mime_label:x.mime,T=x.sha256?`${x.sha256.slice(0,12)}`:"";return h.jsxs("tr",{children:[h.jsx("td",{title:x.created_at,children:k}),h.jsx("td",{className:"text-break",style:{maxWidth:"12rem"},title:bC(x.owner_id,_),children:_===void 0?h.jsx("span",{className:"text-muted",children:"Loading..."}):_C(x.owner_id,_)}),h.jsx("td",{className:"text-break",style:{maxWidth:"18rem"},children:x.filename}),h.jsx("td",{title:Number.isFinite(x.size)?`${x.size.toLocaleString()} bytes`:void 0,children:C}),h.jsx("td",{className:"text-break",style:{maxWidth:"14rem"},title:x.mime,children:E}),h.jsx("td",{style:{fontFamily:"monospace"},children:T}),h.jsx("td",{children:x.version}),h.jsx("td",{children:h.jsx("button",{type:"button",className:"btn btn-outline-primary btn-sm",onClick:()=>a(x),disabled:o===x.id,"aria-label":`Download ${x.filename||x.id}`,children:o===x.id?"Downloading":"Download"})}),h.jsx("td",{children:h.jsx("button",{type:"button",className:"btn btn-outline-danger btn-sm",onClick:()=>c(x),disabled:u===x.id,"aria-label":`Delete ${x.filename||x.id}`,children:u===x.id?"Deleting":"Delete"})})]},x.id)})})]})})}function vg(){return{display:"inline-block",fontSize:"0.85rem",padding:"0.15rem 0.5rem",borderRadius:"999px",border:"1px solid #bee5eb",lineHeight:1.2,whiteSpace:"nowrap",color:"#0c5460",backgroundColor:"#e2f0f3"}}function SC(){const[t,e]=w.useState(""),[n,i]=w.useState(null),[a,o]=w.useState(""),[c,u]=w.useState(""),[f,m]=w.useState(""),[g,v]=w.useState(""),[x,_]=w.useState(null),[k,C]=w.useState(""),[E,T]=w.useState("desc"),[P,B]=w.useState(20),{activeKey:z,toggle:H,reset:q}=Hy(),[N,A]=w.useState(""),[V,L]=w.useState(""),[D,K]=w.useState(""),[X,ne]=w.useState(""),[oe,fe]=w.useState(""),[pe,Z]=w.useState("20"),[se,M]=w.useState(null),[S,F]=w.useState([]),[ee,ae]=w.useState(null),[ce,de]=w.useState(1),[De,ke]=w.useState(!1),Ve=10,[Je,It]=w.useState("idle"),[lt,tt]=w.useState(""),[Lt,Fn]=w.useState(Ws),[an,yn]=w.useState([]),[nn,Ct]=w.useState(null),[Xt,ct]=w.useState([]),[me,Me]=w.useState(null),[Ue,bt]=w.useState(null),[Et,on]=w.useState(!1),[rt,ut]=w.useState(null),[Qt,jt]=w.useState(null),[Yn,G]=w.useState(null),[Ne,nt]=w.useState(null),[_t,Pt]=w.useState(null),zt=Hr(),Ut=w.useRef(null),pt=w.useRef(null),ln=w.useRef(null),cn=w.useRef(null),Wr=w.useRef(null);w.useEffect(()=>{z==="owner"?pt.current?.focus():z==="filename"?(ln.current?.focus(),ln.current?.select()):z==="mime"?(cn.current?.focus(),cn.current?.select()):z==="sha"&&(Wr.current?.focus(),Wr.current?.select())},[z]),w.useEffect(()=>{K(f)},[f]),w.useEffect(()=>{ne(g)},[g]),w.useEffect(()=>{A(a)},[a]),w.useEffect(()=>{L(c)},[c]),w.useEffect(()=>{Z(String(P))},[P]),w.useEffect(()=>{fe(k)},[k]);const Vr=a?`${a}T00:00:00Z`:void 0,Ci=c?`${c}T23:59:59Z`:void 0,Kr=w.useMemo(()=>{const J=k.trim().toLowerCase().replace(/[^a-f0-9]/g,"");let ve,Be;J.length>=64?ve=J.slice(0,64):J!==""&&(Be=J);const Fe=x==="raw"&&g||void 0,Ae=x==="label"&&g||void 0;return{owner_id:n?n.id:void 0,filename:f||void 0,mime:Fe,mime_label:Ae,created_from:Vr,created_to:Ci,order:E,limit:P,cursor:nn,sha256:ve||void 0,sha256_prefix:Be||void 0}},[n,f,g,x,Vr,Ci,E,P,nn,k]),_r=w.useMemo(()=>!a||!c?!0:a<=c,[a,c]);async function Mn(J,ve){const Be=t.trim();if(!Be){F([]),ae(null),de(1);return}ke(!0);try{const Ae=await Wd(Be,typeof J=="number"?J:ce,Ve);if(Ae.ok){const $e=Ae;F($e.data),ae($e.meta),de($e.meta.page),gg($e.data),ve?.autoApply&&$e.data.length===1&&Ei($e.data[0])}else F([]),ae(null)}finally{ke(!1)}}function Ei(J){gg([J]),i(J),F([]),ae(null),e(""),de(1),Ct(null),ct([]),q(),R(!0,{owner_id:J.id})}function ar(J=!0){i(null),F([]),ae(null),e(""),de(1),J&&(Ct(null),ct([]),q(),R(!0,{owner_id:void 0}))}async function R(J=!1,ve){if(!_r){M("From must be on or before To"),tt("From must be on or before To"),It("error");return}M(null),It("loading"),tt(""),bt(null);try{const Be=J?{...Kr,...ve,cursor:null}:{...Kr,...ve},Fe=await uC(Be);if(Fe.ok){const Ae=Fe;Fn($e=>Ae.time_format?Qa(Ae.time_format):$e),yn(Ae.data),J&&ct([]),Ct(Ae.next_cursor),It("ok")}else yn([]),It("error"),tt(`${Fe.code}${Fe.message?" - "+Fe.message:""}`)}catch{yn([]),It("error"),tt("Request failed")}}async function U(J){bt(null),Me(J.id);try{await cC(J)}catch(ve){let Be="Download failed. Please try again.";if(ve instanceof Ft){const Fe=ve.body??null,Ae=Fe?.message,$e=Fe?.code,wt=typeof Ae=="string"?Ae:null,mn=typeof $e=="string"?$e:null;wt?Be=`Download failed: ${wt}`:mn?Be=`Download failed: ${mn}`:Be=`Download failed (HTTP ${ve.status}).`}bt(Be)}finally{Me(null)}}function Q(J){if(J&&typeof J=="object"){const ve=J.message;if(typeof ve=="string"&&ve.trim()!=="")return ve.trim()}return typeof J=="string"&&J.trim()!==""?J.trim():null}function te(J){if(!J||typeof J!="object")return null;for(const ve of Object.values(J))if(Array.isArray(ve)){const Be=ve.find(Fe=>typeof Fe=="string"&&Fe.trim()!=="");if(typeof Be=="string")return Be.trim()}else if(typeof ve=="string"&&ve.trim()!=="")return ve.trim();return null}function he(J){if(!J)return null;const ve=te(J.errors??null);if(ve)return`Upload validation failed: ${ve}`;const Be=J.message;return typeof Be=="string"&&Be.trim()!==""?Be.trim():null}async function Ee(J){if(Et)return;const ve=J.currentTarget,Be=ve.files;if(!Be||Be.length===0)return;const Fe=Array.from(Be);on(!0),ut(null),jt(null);const Ae=[];try{for(const $e of Fe){const wt=await dC($e),mn=wt.name?.trim()!==""?wt.name.trim():wt.id;Ae.push(mn)}Ae.length===1?jt(`${Ae[0]} uploaded successfully.`):Ae.length>1&&jt(`${Ae.length} files uploaded successfully.`),ve.value="",await R(!0)}catch($e){ve.value="",Ae.length===1?jt(`${Ae[0]} uploaded successfully.`):Ae.length>1&&jt(`${Ae.length} files uploaded successfully.`);let wt="Upload failed. Please try again.";if($e instanceof Ft){const mn=$e.body??null,Xr=mn&&typeof mn=="object"?mn:null;if($e.status===422)wt=he(Xr)??"Upload validation failed. Please check the selected file.";else if($e.status===413)wt=Q(mn)??"Upload greater than the configured limit.";else{const wr=Q(mn);if(wr)wt=`Upload failed: ${wr}`;else if(Xr){const ns=Xr.code;typeof ns=="string"&&ns.trim()!==""?wt=`Upload failed: ${ns.trim()}`:typeof $e.message=="string"&&$e.message.trim()!==""&&(wt=$e.message)}else typeof $e.message=="string"&&$e.message.trim()!==""?wt=$e.message:wt=`Upload failed (HTTP ${$e.status}).`}}else $e instanceof Error&&$e.message&&(wt=$e.message);ut(wt),await R(!0)}finally{on(!1)}}async function Re(J){if(Yn)return;const ve=J.filename?.trim()!==""?J.filename.trim():J.id;if(window.confirm(`Delete ${ve}? This cannot be undone.`)){nt(null),Pt(null),G(J.id);try{await fC(J.id),Pt(`${ve} deleted.`),await R(!0)}catch(Fe){let Ae="Delete failed. Please try again.";if(Fe instanceof Ft){const $e=Fe.body??null,wt=$e?.message,mn=$e?.code,Xr=typeof wt=="string"?wt:null,wr=typeof mn=="string"?mn:null;Xr?Ae=`Delete failed: ${Xr}`:wr?Ae=`Delete failed: ${wr}`:Ae=`Delete failed (HTTP ${Fe.status}).`}else Fe instanceof Error&&Fe.message&&(Ae=Fe.message);nt(Ae)}finally{G(null)}}}w.useEffect(()=>{R(!0)},[]),w.useEffect(()=>{const J=new URLSearchParams(zt.search),ve=J.get("mime_label")??"",Be=J.get("mime")??"";let Fe=null,Ae="";if(ve.trim()!==""?(Fe="label",Ae=ve):Be.trim()!==""&&(Fe="raw",Ae=Be),Fe===x&&Ae===g)return;v(Ae),_(Fe),Ct(null),ct([]),R(!0,Fe==="label"?{mime_label:Ae||void 0,mime:void 0}:Fe==="raw"?{mime:Ae||void 0,mime_label:void 0}:{mime:void 0,mime_label:void 0})},[zt.search]);function be(){nn&&(ct(J=>[...J,nn]),R(!1))}function we(){if(Xt.length===0)return;const J=Xt[Xt.length-1];ct(ve=>ve.slice(0,-1)),Ct(J),R(!1)}const xe=n!==null||f.trim()!==""||x!==null&&g.trim()!==""||k.trim()!==""||a.trim()!==""||c.trim()!==""||E!=="desc"||P!==20,ge=w.useCallback(J=>{z!==J?J==="created"?(A(a),L(c),M(null)):J==="filename"?K(f):J==="mime"?ne(g):J==="sha"&&fe(k):J==="owner"&&(F([]),ae(null)),H(J)},[z,a,c,f,g,k,H]);function Le(J){const ve=J.trim();m(ve),K(ve),Ct(null),ct([]),R(!0,{filename:ve||void 0}),q()}function ze(J){const ve=J.trim();v(ve),ne(ve),_(ve===""?null:"label"),Ct(null),ct([]),R(!0,{mime_label:ve||void 0,mime:void 0}),q()}function Nt(J){const ve=J.trim().toLowerCase().replace(/[^a-f0-9]/g,"");C(ve),fe(ve),Ct(null),ct([]),R(!0,{sha256:ve.length>=64?ve.slice(0,64):void 0,sha256_prefix:ve!==""&&ve.length<64?ve:void 0}),q()}function Ze(J,ve,Be=!0){const Fe=J.trim(),Ae=ve.trim();if(Fe&&Ae&&Fe>Ae){M("From must be on or before To");return}M(null),o(Fe),u(Ae),A(Fe),L(Ae),Ct(null),ct([]),R(!0,{created_from:Fe?`${Fe}T00:00:00Z`:void 0,created_to:Ae?`${Ae}T23:59:59Z`:void 0}),Be&&q()}function Ke(){const J=E==="asc"?"desc":"asc";T(J),Ct(null),ct([]),R(!0,{order:J})}function dt(){const J=pe.trim();if(J===""){Z(String(P));return}const ve=Number(J);if(Number.isNaN(ve)||!Number.isFinite(ve)){Z(String(P));return}const Be=Math.max(1,Math.min(100,Math.trunc(ve)));if(Be===P){Z(String(Be));return}B(Be),Z(String(Be)),Ct(null),ct([]),R(!0,{limit:Be})}function Xn(){q(),M(null),ar(!1),m(""),K(""),v(""),ne(""),_(null),C(""),fe(""),o(""),u(""),A(""),L(""),T("desc"),B(20),Z("20"),Ct(null),ct([]),R(!0,{owner_id:void 0,filename:void 0,mime:void 0,mime_label:void 0,sha256:void 0,sha256_prefix:void 0,created_from:void 0,created_to:void 0,order:"desc",limit:20})}const or=n?[n.name?.trim()||null,n.email?.trim()?`<${n.email.trim()}>`:null,`id ${n.id}`].filter(J=>!!J).join(" "):"",Rn=n?h.jsx("div",{className:"mt-1",children:h.jsx("span",{style:vg(),children:or})}):null,Ye=z==="owner"?h.jsxs("div",{className:"mt-2",children:[n&&h.jsxs("div",{className:"d-flex align-items-center gap-2 mb-2",children:[h.jsx("span",{style:vg(),children:or}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>ar(),children:"Clear"})]}),h.jsx("label",{htmlFor:"filter-owner",className:"visually-hidden",children:"Filter by owner"}),h.jsx("input",{ref:pt,id:"filter-owner",className:"form-control form-control-sm",value:t,onChange:J=>e(J.currentTarget.value),onKeyDown:J=>{J.key==="Enter"?(J.preventDefault(),de(1),Mn(1,{autoApply:!0})):J.key==="Escape"&&(J.preventDefault(),q())},placeholder:"Name or email",autoComplete:"off"}),h.jsx("div",{className:"form-text",children:"Supports * wildcards."}),h.jsxs("div",{className:"d-flex gap-2 mt-2",children:[h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>{de(1),Mn(1,{autoApply:!0})},disabled:De||t.trim()==="",children:De?"Searching":"Search"}),!n&&h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>{e(""),F([]),ae(null),de(1)},children:"Reset"})]}),!De&&t.trim()!==""&&S.length===0&&h.jsx("div",{className:"small text-muted mt-2",children:"No matches."}),S.length>0&&h.jsx("ul",{className:"list-unstyled mt-3 mb-0",children:S.map(J=>h.jsxs("li",{className:"d-flex align-items-center justify-content-between gap-2 mb-2",children:[h.jsxs("div",{children:[h.jsx("div",{className:"small fw-semibold",children:J.name?.trim()||J.email||`id ${J.id}`}),h.jsx("div",{className:"small text-muted",children:J.email?.trim()?`${J.email}  id ${J.id}`:`id ${J.id}`})]}),h.jsx("button",{type:"button",className:"btn btn-outline-primary btn-sm",onClick:()=>Ei(J),children:"Select"})]},J.id))}),ee&&S.length>0&&h.jsxs("div",{className:"d-flex align-items-center gap-2 mt-2",children:[h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>{ee.page>1&&Mn(ee.page-1)},disabled:De||ee.page<=1,children:"Prev"}),h.jsxs("span",{className:"small text-muted",children:["Page ",ee.page," of ",ee.total_pages,"  ",ee.total," total"]}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>{ee.page<ee.total_pages&&Mn(ee.page+1)},disabled:De||ee.page>=ee.total_pages,children:"Next"})]})]}):null,ji=f?h.jsx("div",{className:"small text-muted mt-1",children:f}):null,Qn=z==="filename"?h.jsxs("div",{className:"mt-2",children:[h.jsx("label",{htmlFor:"filter-filename",className:"visually-hidden",children:"Filter by filename"}),h.jsx("input",{ref:ln,id:"filter-filename",className:"form-control form-control-sm",value:D,onChange:J=>K(J.currentTarget.value),onKeyDown:J=>{J.key==="Enter"?(J.preventDefault(),Le(J.currentTarget.value)):J.key==="Escape"&&(J.preventDefault(),q())},placeholder:"e.g. report*.pdf",autoComplete:"off"}),h.jsx("div",{className:"form-text",children:"Supports * wildcards."}),h.jsxs("div",{className:"d-flex gap-2 mt-2",children:[h.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:()=>Le(D),children:"Apply"}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>{K(""),Le("")},children:"Clear"})]})]}):null,In=g?h.jsx("div",{className:"small text-muted mt-1",children:g}):null,Gn=z==="mime"?h.jsxs("div",{className:"mt-2",children:[h.jsx("label",{htmlFor:"filter-mime",className:"visually-hidden",children:"Filter by MIME"}),h.jsx("input",{ref:cn,id:"filter-mime",className:"form-control form-control-sm",value:X,onChange:J=>ne(J.currentTarget.value),onKeyDown:J=>{J.key==="Enter"?(J.preventDefault(),ze(J.currentTarget.value)):J.key==="Escape"&&(J.preventDefault(),q())},placeholder:"e.g. image/*",autoComplete:"off"}),h.jsx("div",{className:"form-text",children:"Supports family wildcards like image/*."}),h.jsxs("div",{className:"d-flex gap-2 mt-2",children:[h.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:()=>ze(X),children:"Apply"}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>{ne(""),ze("")},children:"Clear"})]})]}):null,qn=k.trim().toLowerCase().replace(/[^a-f0-9]/g,""),We=qn?h.jsx("div",{className:"small text-muted mt-1",children:qn.length>12?`${qn.slice(0,12)}`:qn}):null,it=z==="sha"?h.jsxs("div",{className:"mt-2",children:[h.jsx("label",{htmlFor:"filter-sha",className:"visually-hidden",children:"Filter by SHA-256"}),h.jsx("input",{ref:Wr,id:"filter-sha",className:"form-control form-control-sm",value:oe,onChange:J=>fe(J.currentTarget.value),onKeyDown:J=>{J.key==="Enter"?(J.preventDefault(),Nt(J.currentTarget.value)):J.key==="Escape"&&(J.preventDefault(),q())},placeholder:"e.g. 7f9c2b",autoComplete:"off"}),h.jsx("div",{className:"form-text",children:"Partial hashes match by prefix."}),h.jsxs("div",{className:"d-flex gap-2 mt-2",children:[h.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:()=>Nt(oe),children:"Apply"}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>{fe(""),Nt("")},children:"Clear"})]})]}):null,Wt=a||c?h.jsxs("div",{className:"small text-muted mt-1",children:[a||"Any",c?`  ${c}`:a?"  ":""]}):null,Xe=[{key:"created",label:`Created ${E==="asc"?"":""}`,onToggle:()=>ge("created"),isActive:z==="created",summaryContent:Wt,filterContent:z==="created"?h.jsxs("div",{className:"mt-2 d-flex flex-column gap-3",children:[h.jsx(Wy,{start:N,end:V,onChange:(J,ve)=>{A(J),L(ve),M(null)},onComplete:(J,ve)=>{M(null),Ze(J,ve)},onClear:()=>{M(null),A(""),L(""),Ze("","",!1)}}),se&&h.jsx("div",{className:"text-danger small",children:se}),h.jsx("div",{className:"d-flex flex-wrap align-items-center gap-2",children:h.jsxs("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:Ke,children:["Sort ",E==="asc"?"":""]})})]}):null},{key:"owner",label:"Owner",onToggle:()=>ge("owner"),isActive:z==="owner",summaryContent:Rn,filterContent:Ye},{key:"filename",label:"Filename",onToggle:()=>ge("filename"),isActive:z==="filename",summaryContent:ji,filterContent:Qn},{key:"size",label:"Size"},{key:"mime",label:"MIME",onToggle:()=>ge("mime"),isActive:z==="mime",summaryContent:In,filterContent:Gn},{key:"sha256",label:"SHA-256",onToggle:()=>ge("sha"),isActive:z==="sha",summaryContent:We,filterContent:it,className:"text-nowrap"},{key:"version",label:"Version"},{key:"download",label:"Download",className:"text-nowrap"},{key:"delete",label:"Delete",className:"text-nowrap"}];return h.jsxs("main",{className:"container py-3",children:[h.jsx("h1",{className:"mb-3",children:"Evidence"}),h.jsxs("section",{className:"mb-4",children:[h.jsx("h2",{className:"h5",children:"Upload Evidence"}),h.jsxs("div",{className:"d-flex flex-column flex-sm-row align-items-sm-center gap-2","aria-label":"Upload evidence",children:[h.jsx("input",{ref:Ut,type:"file",id:"evidence-file",style:{display:"none"},multiple:!0,disabled:Et,onChange:Ee}),h.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>Ut.current?.click(),disabled:Et,"aria-label":"Select evidence files to upload",children:Et?"Uploading":"Upload Evidence"})]}),rt&&h.jsx("div",{className:"alert alert-danger mt-2",role:"alert",children:rt}),Qt&&h.jsx("div",{className:"alert alert-success mt-2",role:"status",children:Qt})]}),h.jsxs("section",{className:"d-flex flex-wrap align-items-center gap-3 mb-3",children:[h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:Xn,disabled:!xe||Je==="loading",children:"Clear filters"}),h.jsxs("div",{className:"d-flex align-items-center gap-2",children:[h.jsx("label",{htmlFor:"evidence-limit",className:"form-label mb-0",children:"Limit"}),h.jsx("input",{id:"evidence-limit",type:"number",inputMode:"numeric",min:1,max:100,className:"form-control form-control-sm",style:{width:"5rem"},value:pe,onChange:J=>Z(J.currentTarget.value),onBlur:dt,onKeyDown:J=>{J.key==="Enter"?(J.preventDefault(),dt()):J.key==="Escape"&&(J.preventDefault(),Z(String(P)))}})]})]}),h.jsx("hr",{className:"my-4"}),Je==="loading"&&h.jsx("p",{children:"Loading"}),Je==="error"&&h.jsxs("p",{role:"alert",className:"text-danger",children:["Error: ",lt]}),Ue&&h.jsx("div",{className:"alert alert-danger mt-3",role:"alert",children:Ue}),Ne&&h.jsx("div",{className:"alert alert-danger mt-3",role:"alert",children:Ne}),_t&&h.jsx("div",{className:"alert alert-success mt-3",role:"status",children:_t}),h.jsx(wC,{headers:Xe,items:an,fetchState:Je,timeFormat:Lt,onDownload:U,downloadingId:me,onDelete:Re,deletingId:Yn}),h.jsxs("nav",{"aria-label":"Evidence pagination",className:"d-flex align-items-center gap-2",children:[h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:we,disabled:Je!=="ok"||Xt.length===0,children:"Prev"}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:be,disabled:Je!=="ok"||!nn,children:"Next"})]})]})}const xg={name:"",email:"",password:"",roles:[]};function kC(t){if(!t||typeof t!="object")return!1;const e=t,n=e.meta;return e.ok===!0&&Array.isArray(e.data)&&!!n&&typeof n.page=="number"&&typeof n.total_pages=="number"}function CC(t,e){if(t.length!==e.length)return!1;const n=[...t].sort(),i=[...e].sort();for(let a=0;a<n.length;a++)if(n[a]!==i[a])return!1;return!0}const bg=/^[^\s@]+@[^\s@]+\.[^\s@]+$/i;function hd(t){if(!t||typeof t!="object")return{};const e=t.errors;if(!e||typeof e!="object")return{};const n={};return Object.entries(e).forEach(([i,a])=>{if(Array.isArray(a)){const o=a.find(c=>typeof c=="string"&&c.trim()!=="");typeof o=="string"&&(n[i]=o)}else typeof a=="string"&&a.trim()!==""&&(n[i]=a)}),n}function gl(t,e){if(t instanceof Ft){const n=t.body;if(n&&typeof n=="object"){const i=n.message;if(typeof i=="string"&&i.trim()!=="")return i;const a=hd(n),o=Object.values(a).find(c=>typeof c=="string"&&c.trim()!=="");if(typeof o=="string")return o}return typeof t.message=="string"&&t.message.trim()!==""?t.message:e}return t instanceof Error&&typeof t.message=="string"&&t.message.trim()!==""?t.message:e}function EC(){const[t,e]=w.useState(""),[n,i]=w.useState(""),[a,o]=w.useState(1),[c]=w.useState(25),[u,f]=w.useState([]),[m,g]=w.useState({page:1,per_page:25,total:0,total_pages:0}),[v,x]=w.useState(!1),[_,k]=w.useState(null),[C,E]=w.useState([]),[T,P]=w.useState(!1),[B,z]=w.useState(null),[H,q]=w.useState([]),[N,A]=w.useState(!1),[V,L]=w.useState(null),[D,K]=w.useState({}),[X,ne]=w.useState(null),[oe,fe]=w.useState(xg),[pe,Z]=w.useState(!1),[se,M]=w.useState(null),[S,F]=w.useState({}),[ee,ae]=w.useState(null),[ce,de]=w.useState(!1),De=m.page>1,ke=m.page<m.total_pages,Ve=Math.max(4,Math.min(8,C.length||4));w.useEffect(()=>{let me=!0;return P(!0),z(null),Hd().then(Me=>{me&&(Me.ok?E(Kd(Me.roles??[])):(E([]),z("Failed to load roles.")))}).catch(()=>{me&&(E([]),z("Failed to load roles."))}).finally(()=>{me&&P(!1)}),()=>{me=!1}},[]),w.useEffect(()=>{const me=new Set(C.map(Me=>Me.id));q(Me=>Me.filter(Ue=>me.has(Ue))),fe(Me=>{if(!X)return Me;const Ue=Me.roles.filter(bt=>me.has(bt));return Ue.length===Me.roles.length?Me:{...Me,roles:Ue}})},[C,X]),w.useEffect(()=>{if(!X){fe({...xg}),M(null),F({});return}fe({name:X.name,email:X.email,password:"",roles:Qi(X.roles)}),M(null),F({})},[X]);const Je=w.useMemo(()=>X?Qi(X.roles):[],[X]),It=w.useMemo(()=>{if(!X)return[];const me=Je.map(Me=>xr(Me));return me.length>0?me:X.roles},[X,Je]),lt=w.useMemo(()=>{if(!X)return!1;const me=oe.password.trim()!=="",Me=!CC(oe.roles,Je);return X.name!==oe.name||X.email!==oe.email||me||Me},[oe,X,Je]),tt=w.useCallback(async()=>{x(!0);try{const me={q:n.trim()===""?void 0:n,page:a,per_page:c},Me=await br("/api/users",me);kC(Me)?(f(Me.data),g(Me.meta)):(f([]),g({page:1,per_page:c,total:0,total_pages:0}),k({kind:"error",text:"Users API shape invalid or not implemented."}))}catch(me){f([]);const Me=gl(me,"Failed to load users.");k({kind:"error",text:Me})}finally{x(!1)}},[n,a,c]);w.useEffect(()=>{tt()},[tt]);const Lt=w.useCallback(me=>{me.preventDefault();const Me=t.trim();if(Me===n){a!==1?o(1):tt();return}i(Me),a!==1&&o(1)},[n,tt,a,t]);async function Fn(me){if(me.preventDefault(),N)return;const Me=me.currentTarget,Ue=new FormData(Me),bt=String(Ue.get("name")??"").trim(),Et=String(Ue.get("email")??"").trim(),rt=String(Ue.get("password")??"").trim(),ut={};if(bt.length<2&&(ut.name="Name is required."),Et===""?ut.email="Email is required.":bg.test(Et)||(ut.email="Enter a valid email address."),rt===""?ut.password="Password is required.":rt.length<8&&(ut.password="Password must be at least 8 characters."),Object.keys(ut).length>0){K(ut),L("Please fix the highlighted fields.");return}const Qt={name:bt,email:Et,password:rt,roles:H};K({}),A(!0),L(null),k(null);try{await zs("/api/users",Qt),Me.reset(),q([]),K({}),k({kind:"success",text:"User created."}),a!==1?o(1):await tt()}catch(jt){const Yn=gl(jt,"Create failed.");if(L(Yn),k({kind:"error",text:Yn}),jt instanceof Ft&&jt.body){const G=hd(jt.body);Object.keys(G).length>0&&K(G)}}finally{A(!1)}}function an(me){ne(me),ae(null)}function yn(){X&&(fe({name:X.name,email:X.email,password:"",roles:Qi(X.roles)}),M(null),F({}))}async function nn(me){if(me.preventDefault(),!X||pe)return;const Me=oe.name.trim(),Ue=oe.email.trim(),bt=oe.password.trim(),Et={};if(Me.length<2&&(Et.name="Name is required."),Ue===""?Et.email="Email is required.":bg.test(Ue)||(Et.email="Enter a valid email address."),bt!==""&&bt.length<8&&(Et.password="Password must be at least 8 characters."),Object.keys(Et).length>0){F(Et),M("Please fix the highlighted fields.");return}const on={name:Me,email:Ue,roles:oe.roles};bt!==""&&(on.password=bt),Z(!0),M(null),F({}),k(null);try{const rt=await Sb(`/api/users/${X.id}`,on);ne(rt.user),k({kind:"success",text:"User updated."}),await tt()}catch(rt){const ut=gl(rt,"Update failed.");if(M(ut),k({kind:"error",text:ut}),rt instanceof Ft&&rt.body){const Qt=hd(rt.body);Object.keys(Qt).length>0&&F(Qt)}}finally{Z(!1)}}function Ct(me){ae(me)}async function Xt(){if(!(!ee||ce)){de(!0),k(null);try{await Wl(`/api/users/${ee.id}`),X&&X.id===ee.id&&ne(null),ae(null),k({kind:"success",text:"User deleted."}),await tt()}catch(me){const Me=gl(me,"Delete failed.");k({kind:"error",text:Me}),ae(null)}finally{de(!1)}}}const ct=()=>{ce||ae(null)};return h.jsxs("main",{className:"container py-4",children:[h.jsx("header",{className:"d-flex align-items-center justify-content-between mb-3",children:h.jsx("h1",{className:"h3 mb-0",children:"Users"})}),h.jsx("section",{"aria-live":"polite",className:"mb-3",children:_&&h.jsx("div",{className:`alert ${_.kind==="success"?"alert-success":"alert-danger"}`,role:"alert",children:_.text})}),h.jsxs("section",{"aria-labelledby":"users-search",className:"mb-4",children:[h.jsx("h2",{id:"users-search",className:"h5",children:"Search"}),h.jsxs("form",{className:"row g-2 align-items-end",onSubmit:Lt,children:[h.jsxs("div",{className:"col-12 col-md-6",children:[h.jsx("label",{htmlFor:"users_q",className:"form-label",children:"Query"}),h.jsx("input",{id:"users_q",name:"q",value:t,onChange:me=>e(me.currentTarget.value),placeholder:"Search name, email, or role",className:"form-control",autoComplete:"off"})]}),h.jsx("div",{className:"col-auto",children:h.jsx("button",{type:"submit",className:"btn btn-primary",disabled:v,children:v?"Searching...":"Search"})})]})]}),h.jsx("div",{className:"table-responsive",children:h.jsxs("table",{className:"table table-sm align-middle",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{scope:"col",style:{width:"6rem"},children:"ID"}),h.jsx("th",{scope:"col",children:"Name"}),h.jsx("th",{scope:"col",children:"Email"}),h.jsx("th",{scope:"col",children:"Roles"}),h.jsx("th",{scope:"col",style:{width:"9rem"},className:"text-end",children:"Actions"})]})}),h.jsxs("tbody",{children:[u.map(me=>h.jsxs("tr",{className:X?.id===me.id?"table-active":void 0,children:[h.jsx("td",{children:me.id}),h.jsx("td",{children:me.name}),h.jsx("td",{children:me.email}),h.jsx("td",{children:me.roles.length>0?me.roles.join(", "):h.jsx("span",{className:"text-muted",children:"None"})}),h.jsx("td",{className:"text-end",children:h.jsxs("div",{className:"btn-group btn-group-sm",role:"group","aria-label":`Actions for ${me.email}`,children:[h.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:()=>an(me),disabled:pe&&X?.id===me.id,children:"Edit"}),h.jsx("button",{type:"button",className:"btn btn-outline-danger",onClick:()=>Ct(me),disabled:ce&&ee?.id===me.id,children:"Delete"})]})})]},me.id)),u.length===0&&!v&&h.jsx("tr",{children:h.jsx("td",{colSpan:5,className:"text-center text-muted py-4",children:"No users"})})]})]})}),h.jsxs("nav",{"aria-label":"Pagination",className:"d-flex align-items-center gap-3 mt-2",children:[h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>o(me=>Math.max(1,me-1)),disabled:!De||v,children:"Prev"}),h.jsxs("span",{className:"text-muted",children:["Page ",m.page," of ",Math.max(1,m.total_pages)]}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>o(me=>me+1),disabled:!ke||v,children:"Next"})]}),ee&&h.jsxs("div",{className:"alert alert-warning d-flex align-items-center justify-content-between mt-4",role:"alert",children:[h.jsxs("div",{children:[h.jsxs("strong",{children:["Delete ",ee.email,"?"]}),h.jsx("div",{className:"small",children:"This action cannot be undone."})]}),h.jsxs("div",{className:"d-flex gap-2",children:[h.jsx("button",{type:"button",className:"btn btn-danger",onClick:Xt,disabled:ce,children:ce?"Deleting...":"Delete"}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:ct,disabled:ce,children:"Cancel"})]})]}),h.jsxs("section",{className:"row g-4 mt-4",children:[h.jsx("div",{className:"col-12 col-lg-6",children:h.jsxs("div",{className:"card h-100",children:[h.jsx("div",{className:"card-header",children:"Edit user"}),h.jsx("div",{className:"card-body",children:X?h.jsxs("form",{onSubmit:nn,className:"row g-3",noValidate:!0,children:[h.jsxs("div",{className:"col-12",children:[h.jsx("div",{className:"fw-semibold",children:"User ID"}),h.jsx("div",{children:X.id})]}),h.jsxs("div",{className:"col-12",children:[h.jsx("div",{className:"fw-semibold",children:"Current roles"}),h.jsx("div",{children:It.length>0?It.join(", "):h.jsx("span",{className:"text-muted",children:"None"})})]}),h.jsxs("div",{className:"col-12",children:[h.jsxs("label",{htmlFor:"edit_name",className:"form-label",children:["Name ",h.jsx("span",{className:"text-danger","aria-hidden":"true",children:"*"})]}),h.jsx("input",{id:"edit_name",name:"name",className:`form-control${S.name?" is-invalid":""}`,value:oe.name,onChange:me=>{const Me=me.currentTarget.value;fe(Ue=>({...Ue,name:Me}))},required:!0,"aria-invalid":!!S.name,"aria-describedby":S.name?"edit_name_error":void 0}),S.name?h.jsx("div",{id:"edit_name_error",className:"invalid-feedback d-block",children:S.name}):null]}),h.jsxs("div",{className:"col-12",children:[h.jsxs("label",{htmlFor:"edit_email",className:"form-label",children:["Email ",h.jsx("span",{className:"text-danger","aria-hidden":"true",children:"*"})]}),h.jsx("input",{id:"edit_email",name:"email",className:`form-control${S.email?" is-invalid":""}`,type:"email",value:oe.email,onChange:me=>{const Me=me.currentTarget.value;fe(Ue=>({...Ue,email:Me}))},required:!0,"aria-invalid":!!S.email,"aria-describedby":S.email?"edit_email_error":void 0}),S.email?h.jsx("div",{id:"edit_email_error",className:"invalid-feedback d-block",children:S.email}):null]}),h.jsxs("div",{className:"col-12",children:[h.jsx("label",{htmlFor:"edit_password",className:"form-label",children:"Reset password"}),h.jsx("input",{id:"edit_password",name:"password",className:`form-control${S.password?" is-invalid":""}`,type:"password",placeholder:"Leave blank to keep current password",value:oe.password,onChange:me=>{const Me=me.currentTarget.value;fe(Ue=>({...Ue,password:Me}))},"aria-invalid":!!S.password,"aria-describedby":S.password?"edit_password_error":void 0}),S.password?h.jsx("div",{id:"edit_password_error",className:"invalid-feedback d-block",children:S.password}):null]}),h.jsxs("div",{className:"col-12",children:[h.jsx("label",{htmlFor:"edit_roles",className:"form-label",children:"Roles"}),h.jsx("select",{id:"edit_roles",name:"roles",multiple:!0,className:"form-select",size:Ve,value:oe.roles,onChange:me=>{const Me=Array.from(me.currentTarget.selectedOptions).map(Ue=>Ue.value);fe(Ue=>({...Ue,roles:Me}))},"aria-describedby":"edit_roles_help",children:C.map(me=>h.jsx("option",{value:me.id,children:me.name},me.id))}),h.jsx("div",{id:"edit_roles_help",className:"form-text",children:T?"Loading roles...":B??(C.length===0?"No roles available.":"Use Ctrl/Cmd-click to toggle selections.")})]}),se&&h.jsx("div",{className:"col-12",children:h.jsx("div",{className:"alert alert-danger py-2 mb-0",role:"alert",children:se})}),h.jsxs("div",{className:"col-12 d-flex gap-2",children:[h.jsx("button",{type:"submit",className:"btn btn-primary",disabled:!lt||pe,children:pe?"Saving...":"Save"}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:yn,disabled:pe||!lt,children:"Reset"})]})]}):h.jsx("p",{className:"text-muted mb-0",children:"No user selected."})})]})}),h.jsx("div",{className:"col-12 col-lg-6",children:h.jsxs("div",{className:"card h-100",children:[h.jsx("div",{className:"card-header",children:"Create user"}),h.jsxs("div",{className:"card-body",children:[V&&h.jsx("div",{className:"alert alert-danger py-2",role:"alert",children:V}),h.jsxs("form",{onSubmit:Fn,className:"row g-3",noValidate:!0,children:[h.jsxs("div",{className:"col-12",children:[h.jsxs("label",{htmlFor:"create_name",className:"form-label",children:["Name ",h.jsx("span",{className:"text-danger","aria-hidden":"true",children:"*"})]}),h.jsx("input",{id:"create_name",name:"name",className:`form-control${D.name?" is-invalid":""}`,required:!0,autoComplete:"off","aria-invalid":!!D.name,"aria-describedby":D.name?"create_name_error":void 0}),D.name?h.jsx("div",{id:"create_name_error",className:"invalid-feedback d-block",children:D.name}):null]}),h.jsxs("div",{className:"col-12",children:[h.jsxs("label",{htmlFor:"create_email",className:"form-label",children:["Email ",h.jsx("span",{className:"text-danger","aria-hidden":"true",children:"*"})]}),h.jsx("input",{id:"create_email",name:"email",type:"email",className:`form-control${D.email?" is-invalid":""}`,required:!0,autoComplete:"off","aria-invalid":!!D.email,"aria-describedby":D.email?"create_email_error":void 0}),D.email?h.jsx("div",{id:"create_email_error",className:"invalid-feedback d-block",children:D.email}):null]}),h.jsxs("div",{className:"col-12",children:[h.jsxs("label",{htmlFor:"create_password",className:"form-label",children:["Password ",h.jsx("span",{className:"text-danger","aria-hidden":"true",children:"*"})]}),h.jsx("input",{id:"create_password",name:"password",type:"password",className:`form-control${D.password?" is-invalid":""}`,required:!0,autoComplete:"new-password","aria-invalid":!!D.password,"aria-describedby":D.password?"create_password_error":void 0}),D.password?h.jsx("div",{id:"create_password_error",className:"invalid-feedback d-block",children:D.password}):null]}),h.jsxs("div",{className:"col-12",children:[h.jsx("label",{htmlFor:"create_roles",className:"form-label",children:"Roles"}),h.jsx("select",{id:"create_roles",name:"roles",multiple:!0,className:"form-select",size:Ve,value:H,onChange:me=>{const Me=Array.from(me.currentTarget.selectedOptions).map(Ue=>Ue.value);q(Me)},"aria-describedby":"create_roles_help",children:C.map(me=>h.jsx("option",{value:me.id,children:me.name},me.id))}),h.jsx("div",{id:"create_roles_help",className:"form-text",children:T?"Loading roles...":B??(C.length===0?"No roles available.":"Use Ctrl/Cmd-click to toggle selections.")})]}),h.jsx("div",{className:"col-12",children:h.jsx("button",{type:"submit",className:"btn btn-success",disabled:N,children:N?"Creating...":"Create"})})]})]})]})})]})]})}function jC(t){return t.code==="AVATARS_NOT_ENABLED"}function NC(t){return t.code==="AVATAR_TOO_LARGE"}function MC(t){return t.note==="stub-only"&&!!t.file}function RC(){const[t,e]=w.useState(null),[n,i]=w.useState(null),[a,o]=w.useState(null),[c,u]=w.useState(null),f=w.useRef(null);w.useEffect(()=>{if(f.current&&(URL.revokeObjectURL(f.current),f.current=null),t){const g=URL.createObjectURL(t);f.current=g,u(g)}else u(null);return()=>{f.current&&URL.revokeObjectURL(f.current)}},[t]);async function m(g){if(g.preventDefault(),i(null),o(null),!t){i("Choose an image first.");return}const v=new FormData;v.append("file",t);try{const x=await Kg("/api/avatar",v);if(jC(x)){i("Avatars feature disabled (stub).");return}if(NC(x)){i(`Image too large. Max ${x.limit.max_width}x${x.limit.max_height}px.`);return}if(MC(x)){o(x.file),i("Validated. Not stored (stub).");return}i("Request completed.")}catch{i("Network error.")}}return h.jsxs("div",{className:"container py-3",children:[h.jsx("h1",{children:"Profile Avatar"}),n&&h.jsx("div",{className:"alert alert-info",children:n}),h.jsxs("form",{onSubmit:m,children:[h.jsxs("div",{className:"mb-3",children:[h.jsx("label",{className:"form-label",children:"Select image (WEBP/JPEG/PNG)"}),h.jsx("input",{className:"form-control",type:"file",accept:"image/webp,image/jpeg,image/png",onChange:g=>e(g.currentTarget.files?.[0]??null)})]}),h.jsx("button",{className:"btn btn-primary",type:"submit",children:"Validate (stub)"})]}),c&&h.jsx("div",{className:"row mt-3",children:h.jsx("div",{className:"col-auto",children:h.jsx("img",{src:c,alt:"preview",className:"img-thumbnail"})})}),a&&h.jsxs("div",{className:"mt-3",children:[h.jsx("h2",{children:"Image Metadata"}),h.jsxs("ul",{children:[h.jsxs("li",{children:["Name: ",a.original_name]}),h.jsxs("li",{children:["MIME: ",a.mime]}),h.jsxs("li",{children:["Size: ",a.size_bytes," bytes"]}),h.jsxs("li",{children:["Dimensions: ",a.width,"",a.height]}),h.jsxs("li",{children:["Format: ",a.format]})]}),h.jsx("p",{className:"text-muted",children:"Phase 4 stub. No processing or storage yet."})]})]})}const TC=["color.primary","color.surface","color.text"],PC=["none","default","light","heavy","custom"],DC=["narrow","default","wide"],LC=["small","medium","large"],AC=["none","limited","full"],_g=50,wg=480,Sg=t=>({theme:t.theme,mode:t.mode,overrides:{...t.overrides},sidebar:{collapsed:t.sidebar.collapsed,width:t.sidebar.width,order:[...t.sidebar.order]}}),OC=(t,e)=>{const n={};return(!e||t.theme!==e.theme)&&(n.theme=t.theme),(!e||t.mode!==e.mode)&&(n.mode=t.mode),(!e||!FC(t.overrides,e.overrides))&&(n.overrides=t.overrides),(!e||e.sidebar.collapsed!==t.sidebar.collapsed||e.sidebar.width!==t.sidebar.width||!IC(e.sidebar.order,t.sidebar.order))&&(n.sidebar={...t.sidebar}),n},FC=(t,e)=>{const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(const a of n)if(t[a]!==e[a])return!1;return!0},IC=(t,e)=>t.length!==e.length?!1:t.every((n,i)=>n===e[i]);async function yl(t){try{return await t.json()}catch{return null}}function zC(){const[t,e]=w.useState(Gi),[n,i]=w.useState(en),[a,o]=w.useState(Sg(Dr)),[c,u]=w.useState(!0),[f,m]=w.useState(!1),[g,v]=w.useState(null),[x,_]=w.useState(!1),k=w.useRef(null),C=w.useRef(null),E=w.useMemo(()=>n.theme.default,[n]),T=w.useMemo(()=>[...t.themes,...t.packs],[t]),B=w.useMemo(()=>{const S=a.theme??E;return T.find(F=>F.slug===S)},[a.theme,T,E])?.supports?.mode??["light","dark"],z=n.theme.allow_user_override,H=n.theme.force_global,q=w.useCallback(S=>{const F=Sg(S);C.current=F,o(F),o_(S)},[]),N=w.useCallback(async S=>{u(!0),S?.preserveMessage||v(null);try{const[F,ee,ae]=await Promise.all([fetch("/api/settings/ui/themes",{method:"GET",credentials:"same-origin",headers:Tt()}),fetch("/api/settings/ui",{method:"GET",credentials:"same-origin",headers:Tt()}),fetch("/api/me/prefs/ui",{method:"GET",credentials:"same-origin",headers:Tt()})]);if(F.ok){const de=await yl(F);de&&Array.isArray(de.themes)&&(e(de),Gg(de))}if(ee.ok){const de=await yl(ee);de?.config?.ui&&(i(de.config.ui),Rs(de.config.ui))}if(ae.status===403){_(!0),v("You do not have permission to manage UI preferences."),k.current=null,q(Dr);return}if(!ae.ok){v("Failed to load preferences. Using defaults."),k.current=null,q(Dr);return}k.current=ae.headers.get("ETag");const ce=await yl(ae);ce?.prefs?q(ce.prefs):q(Dr),_(!1)}catch{v("Failed to load preferences. Using defaults."),k.current=null,q(Dr),i(en),Rs(en)}finally{u(!1)}},[q]);w.useEffect(()=>{N()},[N]);const A=S=>{o(F=>({...F,theme:S}))},V=S=>{o(F=>({...F,mode:S}))},L=(S,F)=>{o(ee=>({...ee,overrides:{...ee.overrides,[S]:F}}))},D=(S,F)=>{o(ee=>({...ee,overrides:{...ee.overrides,[S]:F}}))},K=S=>{o(F=>({...F,sidebar:{...F.sidebar,collapsed:S}}))},X=S=>{const F=Math.max(_g,Math.min(wg,S));o(ee=>({...ee,sidebar:{...ee.sidebar,width:F}}))},ne=()=>{C.current&&(o(C.current),v("Reverted to last saved preferences."))},oe=()=>{const S=n.theme.overrides,F={theme:z&&!H?null:n.theme.default,mode:null,overrides:{...S},sidebar:{collapsed:Dr.sidebar.collapsed,width:Dr.sidebar.width,order:[...Dr.sidebar.order]}};o(F),v("Preferences reset to global defaults.")},fe=async()=>{if(x){v("Read-only mode: preferences cannot be changed.");return}const S=C.current,F=OC(a,S);if(Object.keys(F).length===0){v("No changes to save.");return}const ee=k.current;if(!ee){await N(),v("Preferences version refreshed. Please retry.");return}m(!0),v(null);try{(H||!z)&&(F.theme=null),z||(F.overrides={});const ae=await fetch("/api/me/prefs/ui",{method:"PUT",credentials:"same-origin",headers:Tt({"Content-Type":"application/json","If-Match":ee}),body:JSON.stringify(F)}),ce=await yl(ae);if(ae.status===409){const ke=ce?.current_etag??ae.headers.get("ETag");ke&&(k.current=ke),v("Preferences changed elsewhere. Reloaded latest values."),await N({preserveMessage:!0});return}if(!ae.ok)throw new Error(`Save failed (HTTP ${ae.status}).`);const de=ae.headers.get("ETag")??ce?.etag??null;de&&(k.current=de),ce?.prefs?q(ce.prefs):await N({preserveMessage:!0});const De=typeof ce?.message=="string"?ce.message:"Preferences saved.";v(De)}catch(ae){v(ae instanceof Error?ae.message:"Save failed.")}finally{m(!1)}},pe=!z||H||x||f||c,Z=x||f||c||B.length===1,se=a.theme??E,M=f||c||x;return h.jsxs("main",{id:"profile-theme",className:"container py-3","aria-label":"theme-preferences",children:[h.jsx("h1",{className:"mb-3",children:"Theme Preferences"}),h.jsxs("section",{className:"card",children:[h.jsxs("div",{className:"card-header d-flex justify-content-between align-items-center",children:[h.jsx("strong",{children:"Personal Theme"}),h.jsxs("div",{className:"d-flex gap-2",children:[h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>void N(),disabled:c||f,children:"Reload"}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:ne,disabled:M,children:"Reset to saved"}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:oe,disabled:M,children:"Reset to global"}),h.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:()=>void fe(),disabled:M,children:f?"Saving":"Save"})]})]}),h.jsx("div",{className:"card-body vstack gap-4",children:c?h.jsx("p",{children:"Loading preferences"}):h.jsxs(h.Fragment,{children:[g&&h.jsx("div",{className:"alert alert-info mb-0",role:"status",children:g}),h.jsxs("fieldset",{className:"vstack gap-3",disabled:M,children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"prefTheme",className:"form-label fw-semibold",children:"Theme selection"}),h.jsx("select",{id:"prefTheme",className:"form-select",value:se,onChange:S=>A(S.target.value),disabled:pe,children:T.map(S=>h.jsxs("option",{value:S.slug,children:[S.name," (",S.source==="bootswatch"?"Bootswatch":"Pack",")"]},S.slug))}),!z&&h.jsx("div",{className:"form-text",children:"Theme overrides are disabled by your administrator."}),H&&h.jsx("div",{className:"form-text",children:"Global theme is enforced. Light/dark mode preference still applies when supported."})]}),h.jsxs("fieldset",{children:[h.jsx("legend",{className:"form-label fw-semibold",children:"Mode"}),h.jsxs("div",{className:"d-flex gap-3",children:[["light","dark"].map(S=>h.jsxs("label",{className:"form-check",children:[h.jsx("input",{className:"form-check-input",type:"radio",name:"themeMode",value:S,checked:a.mode===S,disabled:Z||!B.includes(S),onChange:()=>V(S)}),h.jsx("span",{className:"form-check-label text-capitalize",children:S})]},S)),h.jsxs("label",{className:"form-check",children:[h.jsx("input",{className:"form-check-input",type:"radio",name:"themeMode",value:"system",checked:a.mode===null,disabled:Z,onChange:()=>V(null)}),h.jsx("span",{className:"form-check-label",children:"Follow system"})]})]})]}),h.jsxs("div",{children:[h.jsx("h2",{className:"h5 mb-3",children:"Design tokens"}),h.jsx("div",{className:"row g-3",children:TC.map(S=>h.jsxs("div",{className:"col-sm-4",children:[h.jsxs("label",{htmlFor:`pref-${S}`,className:"form-label text-capitalize",children:[S.replace("color.","")," color"]}),h.jsx("input",{id:`pref-${S}`,type:"color",className:"form-control form-control-color",value:a.overrides[S]??"#000000",onChange:F=>L(S,F.target.value)})]},S))}),h.jsxs("div",{className:"row g-3 mt-1",children:[h.jsxs("div",{className:"col-sm-3",children:[h.jsx("label",{htmlFor:"prefShadow",className:"form-label",children:"Shadow preset"}),h.jsx("select",{id:"prefShadow",className:"form-select",value:a.overrides.shadow??"default",onChange:S=>D("shadow",S.target.value),children:PC.map(S=>h.jsx("option",{value:S,children:S},S))})]}),h.jsxs("div",{className:"col-sm-3",children:[h.jsx("label",{htmlFor:"prefSpacing",className:"form-label",children:"Spacing scale"}),h.jsx("select",{id:"prefSpacing",className:"form-select",value:a.overrides.spacing??"default",onChange:S=>D("spacing",S.target.value),children:DC.map(S=>h.jsx("option",{value:S,children:S},S))})]}),h.jsxs("div",{className:"col-sm-3",children:[h.jsx("label",{htmlFor:"prefTypeScale",className:"form-label",children:"Type scale"}),h.jsx("select",{id:"prefTypeScale",className:"form-select",value:a.overrides.typeScale??"medium",onChange:S=>D("typeScale",S.target.value),children:LC.map(S=>h.jsx("option",{value:S,children:S},S))})]}),h.jsxs("div",{className:"col-sm-3",children:[h.jsx("label",{htmlFor:"prefMotion",className:"form-label",children:"Motion"}),h.jsx("select",{id:"prefMotion",className:"form-select",value:a.overrides.motion??"full",onChange:S=>D("motion",S.target.value),children:AC.map(S=>h.jsx("option",{value:S,children:S},S))})]})]})]}),h.jsxs("div",{children:[h.jsx("h2",{className:"h5 mb-3",children:"Sidebar"}),h.jsxs("div",{className:"form-check mb-2",children:[h.jsx("input",{id:"prefSidebarCollapsed",type:"checkbox",className:"form-check-input",checked:a.sidebar.collapsed,onChange:S=>K(S.target.checked)}),h.jsx("label",{htmlFor:"prefSidebarCollapsed",className:"form-check-label",children:"Collapse sidebar by default"})]}),h.jsx("label",{htmlFor:"prefSidebarWidth",className:"form-label",children:"Sidebar width (px)"}),h.jsx("input",{id:"prefSidebarWidth",type:"range",className:"form-range",min:_g,max:wg,value:a.sidebar.width,onChange:S=>X(Number(S.target.value))}),h.jsxs("div",{className:"form-text",children:["Current width: ",a.sidebar.width,"px (min 50px, max ~50% viewport)."]}),h.jsx("div",{className:"alert alert-secondary mt-3",role:"note",children:"Sidebar module ordering coming soon."})]})]})]})})]})]})}function UC(){const[t,e]=w.useState(""),[n,i]=w.useState(""),[a,o]=w.useState(null),[c,u]=w.useState(null),[f,m]=w.useState(!1);w.useEffect(()=>{Eb()&&u("Session expiredplease sign in again.")},[]);async function g(v){v.preventDefault(),o(null),m(!0);try{await jb({email:t,password:n});const x=Cb()||"/dashboard";window.location.assign(x)}catch{o("Invalid credentials or server error.")}finally{m(!1)}}return h.jsxs("div",{className:"mx-auto mt-24 max-w-md rounded-2xl border p-6 shadow",children:[h.jsx("h1",{className:"mb-4 text-xl font-semibold",children:"Sign in"}),c&&h.jsx("div",{className:"mb-3 rounded-md bg-yellow-50 p-2 text-sm text-yellow-800",children:c}),h.jsxs("form",{onSubmit:g,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"mb-1 block text-sm font-medium",children:"Email"}),h.jsx("input",{type:"email",className:"w-full rounded-md border px-3 py-2",value:t,onChange:v=>e(v.currentTarget.value),required:!0,autoComplete:"username"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"mb-1 block text-sm font-medium",children:"Password"}),h.jsx("input",{type:"password",className:"w-full rounded-md border px-3 py-2",value:n,onChange:v=>i(v.currentTarget.value),required:!0,autoComplete:"current-password"})]}),a&&h.jsx("div",{className:"rounded-md bg-red-50 p-2 text-sm text-red-700",children:a}),h.jsx("button",{type:"submit",className:"w-full rounded-md bg-black px-4 py-2 text-white disabled:opacity-50",disabled:f,children:f?"Signing in...":"Sign in"})]})]})}const BC=rb(ed(h.jsxs(Zt,{path:"/",element:h.jsx(c_,{}),children:[h.jsx(Zt,{index:!0,element:h.jsx(Hm,{to:"/dashboard",replace:!0})}),h.jsx(Zt,{path:"auth",children:h.jsx(Zt,{path:"login",element:h.jsx(UC,{})})}),h.jsx(Zt,{path:"dashboard",element:h.jsx(b1,{})}),h.jsxs(Zt,{path:"admin",children:[h.jsx(Zt,{index:!0,element:h.jsx(_1,{})}),h.jsx(Zt,{path:"settings",element:h.jsx(D1,{})}),h.jsx(Zt,{path:"roles",element:h.jsx($1,{})}),h.jsx(Zt,{path:"users",element:h.jsx(EC,{})}),h.jsx(Zt,{path:"user-roles",element:h.jsx(H1,{})}),h.jsx(Zt,{path:"audit",element:h.jsx(aC,{})}),h.jsx(Zt,{path:"evidence",element:h.jsx(SC,{})})]}),h.jsxs(Zt,{path:"profile",children:[h.jsx(Zt,{path:"avatar",element:h.jsx(RC,{})}),h.jsx(Zt,{path:"theme",element:h.jsx(zC,{})})]}),h.jsx(Zt,{path:"*",element:h.jsx(Hm,{to:"/dashboard",replace:!0})})]})));Dx.createRoot(document.getElementById("root")).render(h.jsx(zl.StrictMode,{children:h.jsx(db,{router:BC,future:{v7_startTransition:!0}})}));
