function Xg(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in t)){const o=Object.getOwnPropertyDescriptor(s,a);o&&Object.defineProperty(t,a,o.get?o:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function Dd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Fu={exports:{}},Na={},Iu={exports:{}},Ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Om;function eb(){if(Om)return Ge;Om=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function x(j){return j===null||typeof j!="object"?null:(j=v&&j[v]||j["@@iterator"],typeof j=="function"?j:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,k={};function C(j,B,I){this.props=j,this.context=B,this.refs=k,this.updater=I||w}C.prototype.isReactComponent={},C.prototype.setState=function(j,B){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,B,"setState")},C.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function A(){}A.prototype=C.prototype;function P(j,B,I){this.props=j,this.context=B,this.refs=k,this.updater=I||w}var U=P.prototype=new A;U.constructor=P,S(U,C.prototype),U.isPureReactComponent=!0;var O=Array.isArray,V=Object.prototype.hasOwnProperty,q={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function z(j,B,I){var re,ie={},de=null,Ne=null;if(B!=null)for(re in B.ref!==void 0&&(Ne=B.ref),B.key!==void 0&&(de=""+B.key),B)V.call(B,re)&&!M.hasOwnProperty(re)&&(ie[re]=B[re]);var he=arguments.length-2;if(he===1)ie.children=I;else if(1<he){for(var Ue=Array(he),Be=0;Be<he;Be++)Ue[Be]=arguments[Be+2];ie.children=Ue}if(j&&j.defaultProps)for(re in he=j.defaultProps,he)ie[re]===void 0&&(ie[re]=he[re]);return{$$typeof:t,type:j,key:de,ref:Ne,props:ie,_owner:q.current}}function J(j,B){return{$$typeof:t,type:j.type,key:B,ref:j.ref,props:j.props,_owner:j._owner}}function E(j){return typeof j=="object"&&j!==null&&j.$$typeof===t}function R(j){var B={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(I){return B[I]})}var W=/\/+/g;function K(j,B){return typeof j=="object"&&j!==null&&j.key!=null?R(""+j.key):B.toString(36)}function te(j,B,I,re,ie){var de=typeof j;(de==="undefined"||de==="boolean")&&(j=null);var Ne=!1;if(j===null)Ne=!0;else switch(de){case"string":case"number":Ne=!0;break;case"object":switch(j.$$typeof){case t:case e:Ne=!0}}if(Ne)return Ne=j,ie=ie(Ne),j=re===""?"."+K(Ne,0):re,O(ie)?(I="",j!=null&&(I=j.replace(W,"$&/")+"/"),te(ie,B,I,"",function(Be){return Be})):ie!=null&&(E(ie)&&(ie=J(ie,I+(!ie.key||Ne&&Ne.key===ie.key?"":(""+ie.key).replace(W,"$&/")+"/")+j)),B.push(ie)),1;if(Ne=0,re=re===""?".":re+":",O(j))for(var he=0;he<j.length;he++){de=j[he];var Ue=re+K(de,he);Ne+=te(de,B,I,Ue,ie)}else if(Ue=x(j),typeof Ue=="function")for(j=Ue.call(j),he=0;!(de=j.next()).done;)de=de.value,Ue=re+K(de,he++),Ne+=te(de,B,I,Ue,ie);else if(de==="object")throw B=String(j),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return Ne}function ne(j,B,I){if(j==null)return j;var re=[],ie=0;return te(j,re,"","",function(de){return B.call(I,de,ie++)}),re}function ce(j){if(j._status===-1){var B=j._result;B=B(),B.then(function(I){(j._status===0||j._status===-1)&&(j._status=1,j._result=I)},function(I){(j._status===0||j._status===-1)&&(j._status=2,j._result=I)}),j._status===-1&&(j._status=0,j._result=B)}if(j._status===1)return j._result.default;throw j._result}var ve={current:null},ee={transition:null},ae={ReactCurrentDispatcher:ve,ReactCurrentBatchConfig:ee,ReactCurrentOwner:q};function T(){throw Error("act(...) is not supported in production builds of React.")}return Ge.Children={map:ne,forEach:function(j,B,I){ne(j,function(){B.apply(this,arguments)},I)},count:function(j){var B=0;return ne(j,function(){B++}),B},toArray:function(j){return ne(j,function(B){return B})||[]},only:function(j){if(!E(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},Ge.Component=C,Ge.Fragment=n,Ge.Profiler=a,Ge.PureComponent=P,Ge.StrictMode=s,Ge.Suspense=f,Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ae,Ge.act=T,Ge.cloneElement=function(j,B,I){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var re=S({},j.props),ie=j.key,de=j.ref,Ne=j._owner;if(B!=null){if(B.ref!==void 0&&(de=B.ref,Ne=q.current),B.key!==void 0&&(ie=""+B.key),j.type&&j.type.defaultProps)var he=j.type.defaultProps;for(Ue in B)V.call(B,Ue)&&!M.hasOwnProperty(Ue)&&(re[Ue]=B[Ue]===void 0&&he!==void 0?he[Ue]:B[Ue])}var Ue=arguments.length-2;if(Ue===1)re.children=I;else if(1<Ue){he=Array(Ue);for(var Be=0;Be<Ue;Be++)he[Be]=arguments[Be+2];re.children=he}return{$$typeof:t,type:j.type,key:ie,ref:de,props:re,_owner:Ne}},Ge.createContext=function(j){return j={$$typeof:c,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:o,_context:j},j.Consumer=j},Ge.createElement=z,Ge.createFactory=function(j){var B=z.bind(null,j);return B.type=j,B},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(j){return{$$typeof:u,render:j}},Ge.isValidElement=E,Ge.lazy=function(j){return{$$typeof:g,_payload:{_status:-1,_result:j},_init:ce}},Ge.memo=function(j,B){return{$$typeof:m,type:j,compare:B===void 0?null:B}},Ge.startTransition=function(j){var B=ee.transition;ee.transition={};try{j()}finally{ee.transition=B}},Ge.unstable_act=T,Ge.useCallback=function(j,B){return ve.current.useCallback(j,B)},Ge.useContext=function(j){return ve.current.useContext(j)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(j){return ve.current.useDeferredValue(j)},Ge.useEffect=function(j,B){return ve.current.useEffect(j,B)},Ge.useId=function(){return ve.current.useId()},Ge.useImperativeHandle=function(j,B,I){return ve.current.useImperativeHandle(j,B,I)},Ge.useInsertionEffect=function(j,B){return ve.current.useInsertionEffect(j,B)},Ge.useLayoutEffect=function(j,B){return ve.current.useLayoutEffect(j,B)},Ge.useMemo=function(j,B){return ve.current.useMemo(j,B)},Ge.useReducer=function(j,B,I){return ve.current.useReducer(j,B,I)},Ge.useRef=function(j){return ve.current.useRef(j)},Ge.useState=function(j){return ve.current.useState(j)},Ge.useSyncExternalStore=function(j,B,I){return ve.current.useSyncExternalStore(j,B,I)},Ge.useTransition=function(){return ve.current.useTransition()},Ge.version="18.3.1",Ge}var Fm;function Ad(){return Fm||(Fm=1,Iu.exports=eb()),Iu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Im;function tb(){if(Im)return Na;Im=1;var t=Ad(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(u,f,m){var g,v={},x=null,w=null;m!==void 0&&(x=""+m),f.key!==void 0&&(x=""+f.key),f.ref!==void 0&&(w=f.ref);for(g in f)s.call(f,g)&&!o.hasOwnProperty(g)&&(v[g]=f[g]);if(u&&u.defaultProps)for(g in f=u.defaultProps,f)v[g]===void 0&&(v[g]=f[g]);return{$$typeof:e,type:u,key:x,ref:w,props:v,_owner:a.current}}return Na.Fragment=n,Na.jsx=c,Na.jsxs=c,Na}var zm;function nb(){return zm||(zm=1,Fu.exports=tb()),Fu.exports}var h=nb(),b=Ad();const Yl=Dd(b),rb=Xg({__proto__:null,default:Yl},[b]);var sl={},zu={exports:{}},jn={},Uu={exports:{}},Bu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Um;function sb(){return Um||(Um=1,(function(t){function e(ee,ae){var T=ee.length;ee.push(ae);e:for(;0<T;){var j=T-1>>>1,B=ee[j];if(0<a(B,ae))ee[j]=ae,ee[T]=B,T=j;else break e}}function n(ee){return ee.length===0?null:ee[0]}function s(ee){if(ee.length===0)return null;var ae=ee[0],T=ee.pop();if(T!==ae){ee[0]=T;e:for(var j=0,B=ee.length,I=B>>>1;j<I;){var re=2*(j+1)-1,ie=ee[re],de=re+1,Ne=ee[de];if(0>a(ie,T))de<B&&0>a(Ne,ie)?(ee[j]=Ne,ee[de]=T,j=de):(ee[j]=ie,ee[re]=T,j=re);else if(de<B&&0>a(Ne,T))ee[j]=Ne,ee[de]=T,j=de;else break e}}return ae}function a(ee,ae){var T=ee.sortIndex-ae.sortIndex;return T!==0?T:ee.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,u=c.now();t.unstable_now=function(){return c.now()-u}}var f=[],m=[],g=1,v=null,x=3,w=!1,S=!1,k=!1,C=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function U(ee){for(var ae=n(m);ae!==null;){if(ae.callback===null)s(m);else if(ae.startTime<=ee)s(m),ae.sortIndex=ae.expirationTime,e(f,ae);else break;ae=n(m)}}function O(ee){if(k=!1,U(ee),!S)if(n(f)!==null)S=!0,ce(V);else{var ae=n(m);ae!==null&&ve(O,ae.startTime-ee)}}function V(ee,ae){S=!1,k&&(k=!1,A(z),z=-1),w=!0;var T=x;try{for(U(ae),v=n(f);v!==null&&(!(v.expirationTime>ae)||ee&&!R());){var j=v.callback;if(typeof j=="function"){v.callback=null,x=v.priorityLevel;var B=j(v.expirationTime<=ae);ae=t.unstable_now(),typeof B=="function"?v.callback=B:v===n(f)&&s(f),U(ae)}else s(f);v=n(f)}if(v!==null)var I=!0;else{var re=n(m);re!==null&&ve(O,re.startTime-ae),I=!1}return I}finally{v=null,x=T,w=!1}}var q=!1,M=null,z=-1,J=5,E=-1;function R(){return!(t.unstable_now()-E<J)}function W(){if(M!==null){var ee=t.unstable_now();E=ee;var ae=!0;try{ae=M(!0,ee)}finally{ae?K():(q=!1,M=null)}}else q=!1}var K;if(typeof P=="function")K=function(){P(W)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,ne=te.port2;te.port1.onmessage=W,K=function(){ne.postMessage(null)}}else K=function(){C(W,0)};function ce(ee){M=ee,q||(q=!0,K())}function ve(ee,ae){z=C(function(){ee(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ee){ee.callback=null},t.unstable_continueExecution=function(){S||w||(S=!0,ce(V))},t.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<ee?Math.floor(1e3/ee):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(ee){switch(x){case 1:case 2:case 3:var ae=3;break;default:ae=x}var T=x;x=ae;try{return ee()}finally{x=T}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ee,ae){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var T=x;x=ee;try{return ae()}finally{x=T}},t.unstable_scheduleCallback=function(ee,ae,T){var j=t.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?j+T:j):T=j,ee){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=T+B,ee={id:g++,callback:ae,priorityLevel:ee,startTime:T,expirationTime:B,sortIndex:-1},T>j?(ee.sortIndex=T,e(m,ee),n(f)===null&&ee===n(m)&&(k?(A(z),z=-1):k=!0,ve(O,T-j))):(ee.sortIndex=B,e(f,ee),S||w||(S=!0,ce(V))),ee},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(ee){var ae=x;return function(){var T=x;x=ae;try{return ee.apply(this,arguments)}finally{x=T}}}})(Bu)),Bu}var Bm;function ib(){return Bm||(Bm=1,Uu.exports=sb()),Uu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $m;function ab(){if($m)return jn;$m=1;var t=Ad(),e=ib();function n(r){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function o(r,i){c(r,i),c(r+"Capture",i)}function c(r,i){for(a[r]=i,r=0;r<i.length;r++)s.add(i[r])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},v={};function x(r){return f.call(v,r)?!0:f.call(g,r)?!1:m.test(r)?v[r]=!0:(g[r]=!0,!1)}function w(r,i,l,d){if(l!==null&&l.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function S(r,i,l,d){if(i===null||typeof i>"u"||w(r,i,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function k(r,i,l,d,p,y,_){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=d,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=r,this.type=i,this.sanitizeURL=y,this.removeEmptyString=_}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){C[r]=new k(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var i=r[0];C[i]=new k(i,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){C[r]=new k(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){C[r]=new k(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){C[r]=new k(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){C[r]=new k(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){C[r]=new k(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){C[r]=new k(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){C[r]=new k(r,5,!1,r.toLowerCase(),null,!1,!1)});var A=/[\-:]([a-z])/g;function P(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var i=r.replace(A,P);C[i]=new k(i,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var i=r.replace(A,P);C[i]=new k(i,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var i=r.replace(A,P);C[i]=new k(i,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){C[r]=new k(r,1,!1,r.toLowerCase(),null,!1,!1)}),C.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){C[r]=new k(r,1,!1,r.toLowerCase(),null,!0,!0)});function U(r,i,l,d){var p=C.hasOwnProperty(i)?C[i]:null;(p!==null?p.type!==0:d||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(S(i,l,p,d)&&(l=null),d||p===null?x(i)&&(l===null?r.removeAttribute(i):r.setAttribute(i,""+l)):p.mustUseProperty?r[p.propertyName]=l===null?p.type===3?!1:"":l:(i=p.attributeName,d=p.attributeNamespace,l===null?r.removeAttribute(i):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,d?r.setAttributeNS(d,i,l):r.setAttribute(i,l))))}var O=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,V=Symbol.for("react.element"),q=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),R=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),ne=Symbol.for("react.memo"),ce=Symbol.for("react.lazy"),ve=Symbol.for("react.offscreen"),ee=Symbol.iterator;function ae(r){return r===null||typeof r!="object"?null:(r=ee&&r[ee]||r["@@iterator"],typeof r=="function"?r:null)}var T=Object.assign,j;function B(r){if(j===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);j=i&&i[1]||""}return`
`+j+r}var I=!1;function re(r,i){if(!r||I)return"";I=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(X){var d=X}Reflect.construct(r,[],i)}else{try{i.call()}catch(X){d=X}r.call(i.prototype)}else{try{throw Error()}catch(X){d=X}r()}}catch(X){if(X&&d&&typeof X.stack=="string"){for(var p=X.stack.split(`
`),y=d.stack.split(`
`),_=p.length-1,N=y.length-1;1<=_&&0<=N&&p[_]!==y[N];)N--;for(;1<=_&&0<=N;_--,N--)if(p[_]!==y[N]){if(_!==1||N!==1)do if(_--,N--,0>N||p[_]!==y[N]){var L=`
`+p[_].replace(" at new "," at ");return r.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",r.displayName)),L}while(1<=_&&0<=N);break}}}finally{I=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?B(r):""}function ie(r){switch(r.tag){case 5:return B(r.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return r=re(r.type,!1),r;case 11:return r=re(r.type.render,!1),r;case 1:return r=re(r.type,!0),r;default:return""}}function de(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case M:return"Fragment";case q:return"Portal";case J:return"Profiler";case z:return"StrictMode";case K:return"Suspense";case te:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case R:return(r.displayName||"Context")+".Consumer";case E:return(r._context.displayName||"Context")+".Provider";case W:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case ne:return i=r.displayName||null,i!==null?i:de(r.type)||"Memo";case ce:i=r._payload,r=r._init;try{return de(r(i))}catch{}}return null}function Ne(r){var i=r.type;switch(r.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=i.render,r=r.displayName||r.name||"",i.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return de(i);case 8:return i===z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function he(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ue(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Be(r){var i=Ue(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),d=""+r[i];if(!r.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,y=l.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return p.call(this)},set:function(_){d=""+_,y.call(this,_)}}),Object.defineProperty(r,i,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(_){d=""+_},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function ft(r){r._valueTracker||(r._valueTracker=Be(r))}function Ze(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var l=i.getValue(),d="";return r&&(d=Ue(r)?r.checked?"true":"false":r.value),r=d,r!==l?(i.setValue(r),!0):!1}function nt(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Ft(r,i){var l=i.checked;return T({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function bn(r,i){var l=i.defaultValue==null?"":i.defaultValue,d=i.checked!=null?i.checked:i.defaultChecked;l=he(i.value!=null?i.value:l),r._wrapperState={initialChecked:d,initialValue:l,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function tn(r,i){i=i.checked,i!=null&&U(r,"checked",i,!1)}function dn(r,i){tn(r,i);var l=he(i.value),d=i.type;if(l!=null)d==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(d==="submit"||d==="reset"){r.removeAttribute("value");return}i.hasOwnProperty("value")?xt(r,i.type,l):i.hasOwnProperty("defaultValue")&&xt(r,i.type,he(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(r.defaultChecked=!!i.defaultChecked)}function Vt(r,i,l){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var d=i.type;if(!(d!=="submit"&&d!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+r._wrapperState.initialValue,l||i===r.value||(r.value=i),r.defaultValue=i}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function xt(r,i,l){(i!=="number"||nt(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var Kt=Array.isArray;function at(r,i,l,d){if(r=r.options,i){i={};for(var p=0;p<l.length;p++)i["$"+l[p]]=!0;for(l=0;l<r.length;l++)p=i.hasOwnProperty("$"+r[l].value),r[l].selected!==p&&(r[l].selected=p),p&&d&&(r[l].defaultSelected=!0)}else{for(l=""+he(l),i=null,p=0;p<r.length;p++){if(r[p].value===l){r[p].selected=!0,d&&(r[p].defaultSelected=!0);return}i!==null||r[p].disabled||(i=r[p])}i!==null&&(i.selected=!0)}}function pe(r,i){if(i.dangerouslySetInnerHTML!=null)throw Error(n(91));return T({},i,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function De(r,i){var l=i.value;if(l==null){if(l=i.children,i=i.defaultValue,l!=null){if(i!=null)throw Error(n(92));if(Kt(l)){if(1<l.length)throw Error(n(93));l=l[0]}i=l}i==null&&(i=""),l=i}r._wrapperState={initialValue:he(l)}}function He(r,i){var l=he(i.value),d=he(i.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),i.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),d!=null&&(r.defaultValue=""+d)}function wt(r){var i=r.textContent;i===r._wrapperState.initialValue&&i!==""&&i!==null&&(r.value=i)}function _t(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nn(r,i){return r==null||r==="http://www.w3.org/1999/xhtml"?_t(i):r==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var ut,dt=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,l,d,p){MSApp.execUnsafeLocalFunction(function(){return r(i,l,d,p)})}:r})(function(r,i){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=i;else{for(ut=ut||document.createElement("div"),ut.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=ut.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;i.firstChild;)r.appendChild(i.firstChild)}});function Yt(r,i){if(i){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=i;return}}r.textContent=i}var Tt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Bn=["Webkit","ms","Moz","O"];Object.keys(Tt).forEach(function(r){Bn.forEach(function(i){i=i+r.charAt(0).toUpperCase()+r.substring(1),Tt[i]=Tt[r]})});function Q(r,i,l){return i==null||typeof i=="boolean"||i===""?"":l||typeof i!="number"||i===0||Tt.hasOwnProperty(r)&&Tt[r]?(""+i).trim():i+"px"}function Me(r,i){r=r.style;for(var l in i)if(i.hasOwnProperty(l)){var d=l.indexOf("--")===0,p=Q(l,i[l],d);l==="float"&&(l="cssFloat"),d?r.setProperty(l,p):r[l]=p}}var ot=T({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function St(r,i){if(i){if(ot[r]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(n(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(n(61))}if(i.style!=null&&typeof i.style!="object")throw Error(n(62))}}function Pt(r,i){if(r.indexOf("-")===-1)return typeof i.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var se=null;function be(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ye=null,Ye=null,yt=null;function fn(r){if(r=ha(r)){if(typeof ye!="function")throw Error(n(280));var i=r.stateNode;i&&(i=xo(i),ye(r.stateNode,r.type,i))}}function fr(r){Ye?yt?yt.push(r):yt=[r]:Ye=r}function js(){if(Ye){var r=Ye,i=yt;if(yt=Ye=null,fn(r),i)for(r=0;r<i.length;r++)fn(i[r])}}function Xr(r,i){return r(i)}function Er(){}var Pn=!1;function Es(r,i,l){if(Pn)return r(i,l);Pn=!0;try{return Xr(r,i,l)}finally{Pn=!1,(Ye!==null||yt!==null)&&(Er(),js())}}function hr(r,i){var l=r.stateNode;if(l===null)return null;var d=xo(l);if(d===null)return null;l=d[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(n(231,i,typeof l));return l}var D=!1;if(u)try{var $={};Object.defineProperty($,"passive",{get:function(){D=!0}}),window.addEventListener("test",$,$),window.removeEventListener("test",$,$)}catch{D=!1}function G(r,i,l,d,p,y,_,N,L){var X=Array.prototype.slice.call(arguments,3);try{i.apply(l,X)}catch(ue){this.onError(ue)}}var oe=!1,ge=null,Te=!1,Ae=null,ke={onError:function(r){oe=!0,ge=r}};function je(r,i,l,d,p,y,_,N,L){oe=!1,ge=null,G.apply(ke,arguments)}function Se(r,i,l,d,p,y,_,N,L){if(je.apply(this,arguments),oe){if(oe){var X=ge;oe=!1,ge=null}else throw Error(n(198));Te||(Te=!0,Ae=X)}}function xe(r){var i=r,l=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(l=i.return),r=i.return;while(r)}return i.tag===3?l:null}function Fe(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function Ke(r){if(xe(r)!==r)throw Error(n(188))}function It(r){var i=r.alternate;if(!i){if(i=xe(r),i===null)throw Error(n(188));return i!==r?null:r}for(var l=r,d=i;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(d=p.return,d!==null){l=d;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return Ke(p),r;if(y===d)return Ke(p),i;y=y.sibling}throw Error(n(188))}if(l.return!==d.return)l=p,d=y;else{for(var _=!1,N=p.child;N;){if(N===l){_=!0,l=p,d=y;break}if(N===d){_=!0,d=p,l=y;break}N=N.sibling}if(!_){for(N=y.child;N;){if(N===l){_=!0,l=y,d=p;break}if(N===d){_=!0,d=y,l=p;break}N=N.sibling}if(!_)throw Error(n(189))}}if(l.alternate!==d)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?r:i}function lt(r){return r=It(r),r!==null?Je(r):null}function Je(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var i=Je(r);if(i!==null)return i;r=r.sibling}return null}var vt=e.unstable_scheduleCallback,Zn=e.unstable_cancelCallback,mr=e.unstable_shouldYield,Dn=e.unstable_requestPaint,et=e.unstable_now,Ns=e.unstable_getCurrentPriorityLevel,er=e.unstable_ImmediatePriority,$n=e.unstable_UserBlockingPriority,tr=e.unstable_NormalPriority,nr=e.unstable_LowPriority,qe=e.unstable_IdlePriority,ht=null,qt=null;function Qr(r){if(qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(ht,r,void 0,(r.current.flags&128)===128)}catch{}}var tt=Math.clz32?Math.clz32:Xe,Z=Math.log,_e=Math.LN2;function Xe(r){return r>>>=0,r===0?32:31-(Z(r)/_e|0)|0}var We=64,Ie=4194304;function Qe(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Dt(r,i){var l=r.pendingLanes;if(l===0)return 0;var d=0,p=r.suspendedLanes,y=r.pingedLanes,_=l&268435455;if(_!==0){var N=_&~p;N!==0?d=Qe(N):(y&=_,y!==0&&(d=Qe(y)))}else _=l&~p,_!==0?d=Qe(_):y!==0&&(d=Qe(y));if(d===0)return 0;if(i!==0&&i!==d&&(i&p)===0&&(p=d&-d,y=i&-i,p>=y||p===16&&(y&4194240)!==0))return i;if((d&4)!==0&&(d|=l&16),i=r.entangledLanes,i!==0)for(r=r.entanglements,i&=d;0<i;)l=31-tt(i),p=1<<l,d|=r[l],i&=~p;return d}function yn(r,i){switch(r){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gr(r,i){for(var l=r.suspendedLanes,d=r.pingedLanes,p=r.expirationTimes,y=r.pendingLanes;0<y;){var _=31-tt(y),N=1<<_,L=p[_];L===-1?((N&l)===0||(N&d)!==0)&&(p[_]=yn(N,i)):L<=i&&(r.expiredLanes|=N),y&=~N}}function Nr(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function ii(){var r=We;return We<<=1,(We&4194240)===0&&(We=64),r}function ic(r){for(var i=[],l=0;31>l;l++)i.push(r);return i}function Gi(r,i,l){r.pendingLanes|=i,i!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,i=31-tt(i),r[i]=l}function wv(r,i){var l=r.pendingLanes&~i;r.pendingLanes=i,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=i,r.mutableReadLanes&=i,r.entangledLanes&=i,i=r.entanglements;var d=r.eventTimes;for(r=r.expirationTimes;0<l;){var p=31-tt(l),y=1<<p;i[p]=0,d[p]=-1,r[p]=-1,l&=~y}}function ac(r,i){var l=r.entangledLanes|=i;for(r=r.entanglements;l;){var d=31-tt(l),p=1<<d;p&i|r[d]&i&&(r[d]|=i),l&=~p}}var mt=0;function mf(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var pf,oc,gf,yf,vf,lc=!1,ro=[],qr=null,Jr=null,Zr=null,qi=new Map,Ji=new Map,es=[],_v="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xf(r,i){switch(r){case"focusin":case"focusout":qr=null;break;case"dragenter":case"dragleave":Jr=null;break;case"mouseover":case"mouseout":Zr=null;break;case"pointerover":case"pointerout":qi.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ji.delete(i.pointerId)}}function Zi(r,i,l,d,p,y){return r===null||r.nativeEvent!==y?(r={blockedOn:i,domEventName:l,eventSystemFlags:d,nativeEvent:y,targetContainers:[p]},i!==null&&(i=ha(i),i!==null&&oc(i)),r):(r.eventSystemFlags|=d,i=r.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),r)}function Sv(r,i,l,d,p){switch(i){case"focusin":return qr=Zi(qr,r,i,l,d,p),!0;case"dragenter":return Jr=Zi(Jr,r,i,l,d,p),!0;case"mouseover":return Zr=Zi(Zr,r,i,l,d,p),!0;case"pointerover":var y=p.pointerId;return qi.set(y,Zi(qi.get(y)||null,r,i,l,d,p)),!0;case"gotpointercapture":return y=p.pointerId,Ji.set(y,Zi(Ji.get(y)||null,r,i,l,d,p)),!0}return!1}function bf(r){var i=Rs(r.target);if(i!==null){var l=xe(i);if(l!==null){if(i=l.tag,i===13){if(i=Fe(l),i!==null){r.blockedOn=i,vf(r.priority,function(){gf(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function so(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var l=uc(r.domEventName,r.eventSystemFlags,i[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var d=new l.constructor(l.type,l);se=d,l.target.dispatchEvent(d),se=null}else return i=ha(l),i!==null&&oc(i),r.blockedOn=l,!1;i.shift()}return!0}function wf(r,i,l){so(r)&&l.delete(i)}function kv(){lc=!1,qr!==null&&so(qr)&&(qr=null),Jr!==null&&so(Jr)&&(Jr=null),Zr!==null&&so(Zr)&&(Zr=null),qi.forEach(wf),Ji.forEach(wf)}function ea(r,i){r.blockedOn===i&&(r.blockedOn=null,lc||(lc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,kv)))}function ta(r){function i(p){return ea(p,r)}if(0<ro.length){ea(ro[0],r);for(var l=1;l<ro.length;l++){var d=ro[l];d.blockedOn===r&&(d.blockedOn=null)}}for(qr!==null&&ea(qr,r),Jr!==null&&ea(Jr,r),Zr!==null&&ea(Zr,r),qi.forEach(i),Ji.forEach(i),l=0;l<es.length;l++)d=es[l],d.blockedOn===r&&(d.blockedOn=null);for(;0<es.length&&(l=es[0],l.blockedOn===null);)bf(l),l.blockedOn===null&&es.shift()}var ai=O.ReactCurrentBatchConfig,io=!0;function Cv(r,i,l,d){var p=mt,y=ai.transition;ai.transition=null;try{mt=1,cc(r,i,l,d)}finally{mt=p,ai.transition=y}}function jv(r,i,l,d){var p=mt,y=ai.transition;ai.transition=null;try{mt=4,cc(r,i,l,d)}finally{mt=p,ai.transition=y}}function cc(r,i,l,d){if(io){var p=uc(r,i,l,d);if(p===null)Ec(r,i,d,ao,l),xf(r,d);else if(Sv(p,r,i,l,d))d.stopPropagation();else if(xf(r,d),i&4&&-1<_v.indexOf(r)){for(;p!==null;){var y=ha(p);if(y!==null&&pf(y),y=uc(r,i,l,d),y===null&&Ec(r,i,d,ao,l),y===p)break;p=y}p!==null&&d.stopPropagation()}else Ec(r,i,d,null,l)}}var ao=null;function uc(r,i,l,d){if(ao=null,r=be(d),r=Rs(r),r!==null)if(i=xe(r),i===null)r=null;else if(l=i.tag,l===13){if(r=Fe(i),r!==null)return r;r=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null);return ao=r,null}function _f(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ns()){case er:return 1;case $n:return 4;case tr:case nr:return 16;case qe:return 536870912;default:return 16}default:return 16}}var ts=null,dc=null,oo=null;function Sf(){if(oo)return oo;var r,i=dc,l=i.length,d,p="value"in ts?ts.value:ts.textContent,y=p.length;for(r=0;r<l&&i[r]===p[r];r++);var _=l-r;for(d=1;d<=_&&i[l-d]===p[y-d];d++);return oo=p.slice(r,1<d?1-d:void 0)}function lo(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function co(){return!0}function kf(){return!1}function An(r){function i(l,d,p,y,_){this._reactName=l,this._targetInst=p,this.type=d,this.nativeEvent=y,this.target=_,this.currentTarget=null;for(var N in r)r.hasOwnProperty(N)&&(l=r[N],this[N]=l?l(y):y[N]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?co:kf,this.isPropagationStopped=kf,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=co)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=co)},persist:function(){},isPersistent:co}),i}var oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fc=An(oi),na=T({},oi,{view:0,detail:0}),Ev=An(na),hc,mc,ra,uo=T({},na,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gc,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ra&&(ra&&r.type==="mousemove"?(hc=r.screenX-ra.screenX,mc=r.screenY-ra.screenY):mc=hc=0,ra=r),hc)},movementY:function(r){return"movementY"in r?r.movementY:mc}}),Cf=An(uo),Nv=T({},uo,{dataTransfer:0}),Rv=An(Nv),Mv=T({},na,{relatedTarget:0}),pc=An(Mv),Tv=T({},oi,{animationName:0,elapsedTime:0,pseudoElement:0}),Pv=An(Tv),Dv=T({},oi,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Av=An(Dv),Lv=T({},oi,{data:0}),jf=An(Lv),Ov={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Iv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zv(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=Iv[r])?!!i[r]:!1}function gc(){return zv}var Uv=T({},na,{key:function(r){if(r.key){var i=Ov[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=lo(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Fv[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gc,charCode:function(r){return r.type==="keypress"?lo(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?lo(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Bv=An(Uv),$v=T({},uo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ef=An($v),Hv=T({},na,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gc}),Wv=An(Hv),Vv=T({},oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kv=An(Vv),Yv=T({},uo,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Xv=An(Yv),Qv=[9,13,27,32],yc=u&&"CompositionEvent"in window,sa=null;u&&"documentMode"in document&&(sa=document.documentMode);var Gv=u&&"TextEvent"in window&&!sa,Nf=u&&(!yc||sa&&8<sa&&11>=sa),Rf=" ",Mf=!1;function Tf(r,i){switch(r){case"keyup":return Qv.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pf(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var li=!1;function qv(r,i){switch(r){case"compositionend":return Pf(i);case"keypress":return i.which!==32?null:(Mf=!0,Rf);case"textInput":return r=i.data,r===Rf&&Mf?null:r;default:return null}}function Jv(r,i){if(li)return r==="compositionend"||!yc&&Tf(r,i)?(r=Sf(),oo=dc=ts=null,li=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Nf&&i.locale!=="ko"?null:i.data;default:return null}}var Zv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Df(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!Zv[r.type]:i==="textarea"}function Af(r,i,l,d){fr(d),i=go(i,"onChange"),0<i.length&&(l=new fc("onChange","change",null,l,d),r.push({event:l,listeners:i}))}var ia=null,aa=null;function ex(r){Jf(r,0)}function fo(r){var i=hi(r);if(Ze(i))return r}function tx(r,i){if(r==="change")return i}var Lf=!1;if(u){var vc;if(u){var xc="oninput"in document;if(!xc){var Of=document.createElement("div");Of.setAttribute("oninput","return;"),xc=typeof Of.oninput=="function"}vc=xc}else vc=!1;Lf=vc&&(!document.documentMode||9<document.documentMode)}function Ff(){ia&&(ia.detachEvent("onpropertychange",If),aa=ia=null)}function If(r){if(r.propertyName==="value"&&fo(aa)){var i=[];Af(i,aa,r,be(r)),Es(ex,i)}}function nx(r,i,l){r==="focusin"?(Ff(),ia=i,aa=l,ia.attachEvent("onpropertychange",If)):r==="focusout"&&Ff()}function rx(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return fo(aa)}function sx(r,i){if(r==="click")return fo(i)}function ix(r,i){if(r==="input"||r==="change")return fo(i)}function ax(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var rr=typeof Object.is=="function"?Object.is:ax;function oa(r,i){if(rr(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var l=Object.keys(r),d=Object.keys(i);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var p=l[d];if(!f.call(i,p)||!rr(r[p],i[p]))return!1}return!0}function zf(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Uf(r,i){var l=zf(r);r=0;for(var d;l;){if(l.nodeType===3){if(d=r+l.textContent.length,r<=i&&d>=i)return{node:l,offset:i-r};r=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=zf(l)}}function Bf(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?Bf(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function $f(){for(var r=window,i=nt();i instanceof r.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)r=i.contentWindow;else break;i=nt(r.document)}return i}function bc(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}function ox(r){var i=$f(),l=r.focusedElem,d=r.selectionRange;if(i!==l&&l&&l.ownerDocument&&Bf(l.ownerDocument.documentElement,l)){if(d!==null&&bc(l)){if(i=d.start,r=d.end,r===void 0&&(r=i),"selectionStart"in l)l.selectionStart=i,l.selectionEnd=Math.min(r,l.value.length);else if(r=(i=l.ownerDocument||document)&&i.defaultView||window,r.getSelection){r=r.getSelection();var p=l.textContent.length,y=Math.min(d.start,p);d=d.end===void 0?y:Math.min(d.end,p),!r.extend&&y>d&&(p=d,d=y,y=p),p=Uf(l,y);var _=Uf(l,d);p&&_&&(r.rangeCount!==1||r.anchorNode!==p.node||r.anchorOffset!==p.offset||r.focusNode!==_.node||r.focusOffset!==_.offset)&&(i=i.createRange(),i.setStart(p.node,p.offset),r.removeAllRanges(),y>d?(r.addRange(i),r.extend(_.node,_.offset)):(i.setEnd(_.node,_.offset),r.addRange(i)))}}for(i=[],r=l;r=r.parentNode;)r.nodeType===1&&i.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<i.length;l++)r=i[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var lx=u&&"documentMode"in document&&11>=document.documentMode,ci=null,wc=null,la=null,_c=!1;function Hf(r,i,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;_c||ci==null||ci!==nt(d)||(d=ci,"selectionStart"in d&&bc(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),la&&oa(la,d)||(la=d,d=go(wc,"onSelect"),0<d.length&&(i=new fc("onSelect","select",null,i,l),r.push({event:i,listeners:d}),i.target=ci)))}function ho(r,i){var l={};return l[r.toLowerCase()]=i.toLowerCase(),l["Webkit"+r]="webkit"+i,l["Moz"+r]="moz"+i,l}var ui={animationend:ho("Animation","AnimationEnd"),animationiteration:ho("Animation","AnimationIteration"),animationstart:ho("Animation","AnimationStart"),transitionend:ho("Transition","TransitionEnd")},Sc={},Wf={};u&&(Wf=document.createElement("div").style,"AnimationEvent"in window||(delete ui.animationend.animation,delete ui.animationiteration.animation,delete ui.animationstart.animation),"TransitionEvent"in window||delete ui.transitionend.transition);function mo(r){if(Sc[r])return Sc[r];if(!ui[r])return r;var i=ui[r],l;for(l in i)if(i.hasOwnProperty(l)&&l in Wf)return Sc[r]=i[l];return r}var Vf=mo("animationend"),Kf=mo("animationiteration"),Yf=mo("animationstart"),Xf=mo("transitionend"),Qf=new Map,Gf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ns(r,i){Qf.set(r,i),o(i,[r])}for(var kc=0;kc<Gf.length;kc++){var Cc=Gf[kc],cx=Cc.toLowerCase(),ux=Cc[0].toUpperCase()+Cc.slice(1);ns(cx,"on"+ux)}ns(Vf,"onAnimationEnd"),ns(Kf,"onAnimationIteration"),ns(Yf,"onAnimationStart"),ns("dblclick","onDoubleClick"),ns("focusin","onFocus"),ns("focusout","onBlur"),ns(Xf,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ca="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dx=new Set("cancel close invalid load scroll toggle".split(" ").concat(ca));function qf(r,i,l){var d=r.type||"unknown-event";r.currentTarget=l,Se(d,i,void 0,r),r.currentTarget=null}function Jf(r,i){i=(i&4)!==0;for(var l=0;l<r.length;l++){var d=r[l],p=d.event;d=d.listeners;e:{var y=void 0;if(i)for(var _=d.length-1;0<=_;_--){var N=d[_],L=N.instance,X=N.currentTarget;if(N=N.listener,L!==y&&p.isPropagationStopped())break e;qf(p,N,X),y=L}else for(_=0;_<d.length;_++){if(N=d[_],L=N.instance,X=N.currentTarget,N=N.listener,L!==y&&p.isPropagationStopped())break e;qf(p,N,X),y=L}}}if(Te)throw r=Ae,Te=!1,Ae=null,r}function Et(r,i){var l=i[Dc];l===void 0&&(l=i[Dc]=new Set);var d=r+"__bubble";l.has(d)||(Zf(i,r,2,!1),l.add(d))}function jc(r,i,l){var d=0;i&&(d|=4),Zf(l,r,d,i)}var po="_reactListening"+Math.random().toString(36).slice(2);function ua(r){if(!r[po]){r[po]=!0,s.forEach(function(l){l!=="selectionchange"&&(dx.has(l)||jc(l,!1,r),jc(l,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[po]||(i[po]=!0,jc("selectionchange",!1,i))}}function Zf(r,i,l,d){switch(_f(i)){case 1:var p=Cv;break;case 4:p=jv;break;default:p=cc}l=p.bind(null,i,l,r),p=void 0,!D||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),d?p!==void 0?r.addEventListener(i,l,{capture:!0,passive:p}):r.addEventListener(i,l,!0):p!==void 0?r.addEventListener(i,l,{passive:p}):r.addEventListener(i,l,!1)}function Ec(r,i,l,d,p){var y=d;if((i&1)===0&&(i&2)===0&&d!==null)e:for(;;){if(d===null)return;var _=d.tag;if(_===3||_===4){var N=d.stateNode.containerInfo;if(N===p||N.nodeType===8&&N.parentNode===p)break;if(_===4)for(_=d.return;_!==null;){var L=_.tag;if((L===3||L===4)&&(L=_.stateNode.containerInfo,L===p||L.nodeType===8&&L.parentNode===p))return;_=_.return}for(;N!==null;){if(_=Rs(N),_===null)return;if(L=_.tag,L===5||L===6){d=y=_;continue e}N=N.parentNode}}d=d.return}Es(function(){var X=y,ue=be(l),fe=[];e:{var le=Qf.get(r);if(le!==void 0){var we=fc,Ee=r;switch(r){case"keypress":if(lo(l)===0)break e;case"keydown":case"keyup":we=Bv;break;case"focusin":Ee="focus",we=pc;break;case"focusout":Ee="blur",we=pc;break;case"beforeblur":case"afterblur":we=pc;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":we=Cf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":we=Rv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":we=Wv;break;case Vf:case Kf:case Yf:we=Pv;break;case Xf:we=Kv;break;case"scroll":we=Ev;break;case"wheel":we=Xv;break;case"copy":case"cut":case"paste":we=Av;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":we=Ef}var Re=(i&4)!==0,$t=!Re&&r==="scroll",H=Re?le!==null?le+"Capture":null:le;Re=[];for(var F=X,Y;F!==null;){Y=F;var me=Y.stateNode;if(Y.tag===5&&me!==null&&(Y=me,H!==null&&(me=hr(F,H),me!=null&&Re.push(da(F,me,Y)))),$t)break;F=F.return}0<Re.length&&(le=new we(le,Ee,null,l,ue),fe.push({event:le,listeners:Re}))}}if((i&7)===0){e:{if(le=r==="mouseover"||r==="pointerover",we=r==="mouseout"||r==="pointerout",le&&l!==se&&(Ee=l.relatedTarget||l.fromElement)&&(Rs(Ee)||Ee[Rr]))break e;if((we||le)&&(le=ue.window===ue?ue:(le=ue.ownerDocument)?le.defaultView||le.parentWindow:window,we?(Ee=l.relatedTarget||l.toElement,we=X,Ee=Ee?Rs(Ee):null,Ee!==null&&($t=xe(Ee),Ee!==$t||Ee.tag!==5&&Ee.tag!==6)&&(Ee=null)):(we=null,Ee=X),we!==Ee)){if(Re=Cf,me="onMouseLeave",H="onMouseEnter",F="mouse",(r==="pointerout"||r==="pointerover")&&(Re=Ef,me="onPointerLeave",H="onPointerEnter",F="pointer"),$t=we==null?le:hi(we),Y=Ee==null?le:hi(Ee),le=new Re(me,F+"leave",we,l,ue),le.target=$t,le.relatedTarget=Y,me=null,Rs(ue)===X&&(Re=new Re(H,F+"enter",Ee,l,ue),Re.target=Y,Re.relatedTarget=$t,me=Re),$t=me,we&&Ee)t:{for(Re=we,H=Ee,F=0,Y=Re;Y;Y=di(Y))F++;for(Y=0,me=H;me;me=di(me))Y++;for(;0<F-Y;)Re=di(Re),F--;for(;0<Y-F;)H=di(H),Y--;for(;F--;){if(Re===H||H!==null&&Re===H.alternate)break t;Re=di(Re),H=di(H)}Re=null}else Re=null;we!==null&&eh(fe,le,we,Re,!1),Ee!==null&&$t!==null&&eh(fe,$t,Ee,Re,!0)}}e:{if(le=X?hi(X):window,we=le.nodeName&&le.nodeName.toLowerCase(),we==="select"||we==="input"&&le.type==="file")var Pe=tx;else if(Df(le))if(Lf)Pe=ix;else{Pe=rx;var Le=nx}else(we=le.nodeName)&&we.toLowerCase()==="input"&&(le.type==="checkbox"||le.type==="radio")&&(Pe=sx);if(Pe&&(Pe=Pe(r,X))){Af(fe,Pe,l,ue);break e}Le&&Le(r,le,X),r==="focusout"&&(Le=le._wrapperState)&&Le.controlled&&le.type==="number"&&xt(le,"number",le.value)}switch(Le=X?hi(X):window,r){case"focusin":(Df(Le)||Le.contentEditable==="true")&&(ci=Le,wc=X,la=null);break;case"focusout":la=wc=ci=null;break;case"mousedown":_c=!0;break;case"contextmenu":case"mouseup":case"dragend":_c=!1,Hf(fe,l,ue);break;case"selectionchange":if(lx)break;case"keydown":case"keyup":Hf(fe,l,ue)}var Oe;if(yc)e:{switch(r){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else li?Tf(r,l)&&(ze="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(ze="onCompositionStart");ze&&(Nf&&l.locale!=="ko"&&(li||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&li&&(Oe=Sf()):(ts=ue,dc="value"in ts?ts.value:ts.textContent,li=!0)),Le=go(X,ze),0<Le.length&&(ze=new jf(ze,r,null,l,ue),fe.push({event:ze,listeners:Le}),Oe?ze.data=Oe:(Oe=Pf(l),Oe!==null&&(ze.data=Oe)))),(Oe=Gv?qv(r,l):Jv(r,l))&&(X=go(X,"onBeforeInput"),0<X.length&&(ue=new jf("onBeforeInput","beforeinput",null,l,ue),fe.push({event:ue,listeners:X}),ue.data=Oe))}Jf(fe,i)})}function da(r,i,l){return{instance:r,listener:i,currentTarget:l}}function go(r,i){for(var l=i+"Capture",d=[];r!==null;){var p=r,y=p.stateNode;p.tag===5&&y!==null&&(p=y,y=hr(r,l),y!=null&&d.unshift(da(r,y,p)),y=hr(r,i),y!=null&&d.push(da(r,y,p))),r=r.return}return d}function di(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function eh(r,i,l,d,p){for(var y=i._reactName,_=[];l!==null&&l!==d;){var N=l,L=N.alternate,X=N.stateNode;if(L!==null&&L===d)break;N.tag===5&&X!==null&&(N=X,p?(L=hr(l,y),L!=null&&_.unshift(da(l,L,N))):p||(L=hr(l,y),L!=null&&_.push(da(l,L,N)))),l=l.return}_.length!==0&&r.push({event:i,listeners:_})}var fx=/\r\n?/g,hx=/\u0000|\uFFFD/g;function th(r){return(typeof r=="string"?r:""+r).replace(fx,`
`).replace(hx,"")}function yo(r,i,l){if(i=th(i),th(r)!==i&&l)throw Error(n(425))}function vo(){}var Nc=null,Rc=null;function Mc(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Tc=typeof setTimeout=="function"?setTimeout:void 0,mx=typeof clearTimeout=="function"?clearTimeout:void 0,nh=typeof Promise=="function"?Promise:void 0,px=typeof queueMicrotask=="function"?queueMicrotask:typeof nh<"u"?function(r){return nh.resolve(null).then(r).catch(gx)}:Tc;function gx(r){setTimeout(function(){throw r})}function Pc(r,i){var l=i,d=0;do{var p=l.nextSibling;if(r.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(d===0){r.removeChild(p),ta(i);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=p}while(l);ta(i)}function rs(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return r}function rh(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return r;i--}else l==="/$"&&i++}r=r.previousSibling}return null}var fi=Math.random().toString(36).slice(2),pr="__reactFiber$"+fi,fa="__reactProps$"+fi,Rr="__reactContainer$"+fi,Dc="__reactEvents$"+fi,yx="__reactListeners$"+fi,vx="__reactHandles$"+fi;function Rs(r){var i=r[pr];if(i)return i;for(var l=r.parentNode;l;){if(i=l[Rr]||l[pr]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(r=rh(r);r!==null;){if(l=r[pr])return l;r=rh(r)}return i}r=l,l=r.parentNode}return null}function ha(r){return r=r[pr]||r[Rr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function hi(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function xo(r){return r[fa]||null}var Ac=[],mi=-1;function ss(r){return{current:r}}function Nt(r){0>mi||(r.current=Ac[mi],Ac[mi]=null,mi--)}function kt(r,i){mi++,Ac[mi]=r.current,r.current=i}var is={},hn=ss(is),wn=ss(!1),Ms=is;function pi(r,i){var l=r.type.contextTypes;if(!l)return is;var d=r.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===i)return d.__reactInternalMemoizedMaskedChildContext;var p={},y;for(y in l)p[y]=i[y];return d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=p),p}function _n(r){return r=r.childContextTypes,r!=null}function bo(){Nt(wn),Nt(hn)}function sh(r,i,l){if(hn.current!==is)throw Error(n(168));kt(hn,i),kt(wn,l)}function ih(r,i,l){var d=r.stateNode;if(i=i.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var p in d)if(!(p in i))throw Error(n(108,Ne(r)||"Unknown",p));return T({},l,d)}function wo(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||is,Ms=hn.current,kt(hn,r),kt(wn,wn.current),!0}function ah(r,i,l){var d=r.stateNode;if(!d)throw Error(n(169));l?(r=ih(r,i,Ms),d.__reactInternalMemoizedMergedChildContext=r,Nt(wn),Nt(hn),kt(hn,r)):Nt(wn),kt(wn,l)}var Mr=null,_o=!1,Lc=!1;function oh(r){Mr===null?Mr=[r]:Mr.push(r)}function xx(r){_o=!0,oh(r)}function as(){if(!Lc&&Mr!==null){Lc=!0;var r=0,i=mt;try{var l=Mr;for(mt=1;r<l.length;r++){var d=l[r];do d=d(!0);while(d!==null)}Mr=null,_o=!1}catch(p){throw Mr!==null&&(Mr=Mr.slice(r+1)),vt(er,as),p}finally{mt=i,Lc=!1}}return null}var gi=[],yi=0,So=null,ko=0,Hn=[],Wn=0,Ts=null,Tr=1,Pr="";function Ps(r,i){gi[yi++]=ko,gi[yi++]=So,So=r,ko=i}function lh(r,i,l){Hn[Wn++]=Tr,Hn[Wn++]=Pr,Hn[Wn++]=Ts,Ts=r;var d=Tr;r=Pr;var p=32-tt(d)-1;d&=~(1<<p),l+=1;var y=32-tt(i)+p;if(30<y){var _=p-p%5;y=(d&(1<<_)-1).toString(32),d>>=_,p-=_,Tr=1<<32-tt(i)+p|l<<p|d,Pr=y+r}else Tr=1<<y|l<<p|d,Pr=r}function Oc(r){r.return!==null&&(Ps(r,1),lh(r,1,0))}function Fc(r){for(;r===So;)So=gi[--yi],gi[yi]=null,ko=gi[--yi],gi[yi]=null;for(;r===Ts;)Ts=Hn[--Wn],Hn[Wn]=null,Pr=Hn[--Wn],Hn[Wn]=null,Tr=Hn[--Wn],Hn[Wn]=null}var Ln=null,On=null,At=!1,sr=null;function ch(r,i){var l=Xn(5,null,null,0);l.elementType="DELETED",l.stateNode=i,l.return=r,i=r.deletions,i===null?(r.deletions=[l],r.flags|=16):i.push(l)}function uh(r,i){switch(r.tag){case 5:var l=r.type;return i=i.nodeType!==1||l.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(r.stateNode=i,Ln=r,On=rs(i.firstChild),!0):!1;case 6:return i=r.pendingProps===""||i.nodeType!==3?null:i,i!==null?(r.stateNode=i,Ln=r,On=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(l=Ts!==null?{id:Tr,overflow:Pr}:null,r.memoizedState={dehydrated:i,treeContext:l,retryLane:1073741824},l=Xn(18,null,null,0),l.stateNode=i,l.return=r,r.child=l,Ln=r,On=null,!0):!1;default:return!1}}function Ic(r){return(r.mode&1)!==0&&(r.flags&128)===0}function zc(r){if(At){var i=On;if(i){var l=i;if(!uh(r,i)){if(Ic(r))throw Error(n(418));i=rs(l.nextSibling);var d=Ln;i&&uh(r,i)?ch(d,l):(r.flags=r.flags&-4097|2,At=!1,Ln=r)}}else{if(Ic(r))throw Error(n(418));r.flags=r.flags&-4097|2,At=!1,Ln=r}}}function dh(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Ln=r}function Co(r){if(r!==Ln)return!1;if(!At)return dh(r),At=!0,!1;var i;if((i=r.tag!==3)&&!(i=r.tag!==5)&&(i=r.type,i=i!=="head"&&i!=="body"&&!Mc(r.type,r.memoizedProps)),i&&(i=On)){if(Ic(r))throw fh(),Error(n(418));for(;i;)ch(r,i),i=rs(i.nextSibling)}if(dh(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(i===0){On=rs(r.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++}r=r.nextSibling}On=null}}else On=Ln?rs(r.stateNode.nextSibling):null;return!0}function fh(){for(var r=On;r;)r=rs(r.nextSibling)}function vi(){On=Ln=null,At=!1}function Uc(r){sr===null?sr=[r]:sr.push(r)}var bx=O.ReactCurrentBatchConfig;function ma(r,i,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(n(309));var d=l.stateNode}if(!d)throw Error(n(147,r));var p=d,y=""+r;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===y?i.ref:(i=function(_){var N=p.refs;_===null?delete N[y]:N[y]=_},i._stringRef=y,i)}if(typeof r!="string")throw Error(n(284));if(!l._owner)throw Error(n(290,r))}return r}function jo(r,i){throw r=Object.prototype.toString.call(i),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r))}function hh(r){var i=r._init;return i(r._payload)}function mh(r){function i(H,F){if(r){var Y=H.deletions;Y===null?(H.deletions=[F],H.flags|=16):Y.push(F)}}function l(H,F){if(!r)return null;for(;F!==null;)i(H,F),F=F.sibling;return null}function d(H,F){for(H=new Map;F!==null;)F.key!==null?H.set(F.key,F):H.set(F.index,F),F=F.sibling;return H}function p(H,F){return H=ms(H,F),H.index=0,H.sibling=null,H}function y(H,F,Y){return H.index=Y,r?(Y=H.alternate,Y!==null?(Y=Y.index,Y<F?(H.flags|=2,F):Y):(H.flags|=2,F)):(H.flags|=1048576,F)}function _(H){return r&&H.alternate===null&&(H.flags|=2),H}function N(H,F,Y,me){return F===null||F.tag!==6?(F=Tu(Y,H.mode,me),F.return=H,F):(F=p(F,Y),F.return=H,F)}function L(H,F,Y,me){var Pe=Y.type;return Pe===M?ue(H,F,Y.props.children,me,Y.key):F!==null&&(F.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===ce&&hh(Pe)===F.type)?(me=p(F,Y.props),me.ref=ma(H,F,Y),me.return=H,me):(me=Go(Y.type,Y.key,Y.props,null,H.mode,me),me.ref=ma(H,F,Y),me.return=H,me)}function X(H,F,Y,me){return F===null||F.tag!==4||F.stateNode.containerInfo!==Y.containerInfo||F.stateNode.implementation!==Y.implementation?(F=Pu(Y,H.mode,me),F.return=H,F):(F=p(F,Y.children||[]),F.return=H,F)}function ue(H,F,Y,me,Pe){return F===null||F.tag!==7?(F=Us(Y,H.mode,me,Pe),F.return=H,F):(F=p(F,Y),F.return=H,F)}function fe(H,F,Y){if(typeof F=="string"&&F!==""||typeof F=="number")return F=Tu(""+F,H.mode,Y),F.return=H,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case V:return Y=Go(F.type,F.key,F.props,null,H.mode,Y),Y.ref=ma(H,null,F),Y.return=H,Y;case q:return F=Pu(F,H.mode,Y),F.return=H,F;case ce:var me=F._init;return fe(H,me(F._payload),Y)}if(Kt(F)||ae(F))return F=Us(F,H.mode,Y,null),F.return=H,F;jo(H,F)}return null}function le(H,F,Y,me){var Pe=F!==null?F.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number")return Pe!==null?null:N(H,F,""+Y,me);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case V:return Y.key===Pe?L(H,F,Y,me):null;case q:return Y.key===Pe?X(H,F,Y,me):null;case ce:return Pe=Y._init,le(H,F,Pe(Y._payload),me)}if(Kt(Y)||ae(Y))return Pe!==null?null:ue(H,F,Y,me,null);jo(H,Y)}return null}function we(H,F,Y,me,Pe){if(typeof me=="string"&&me!==""||typeof me=="number")return H=H.get(Y)||null,N(F,H,""+me,Pe);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case V:return H=H.get(me.key===null?Y:me.key)||null,L(F,H,me,Pe);case q:return H=H.get(me.key===null?Y:me.key)||null,X(F,H,me,Pe);case ce:var Le=me._init;return we(H,F,Y,Le(me._payload),Pe)}if(Kt(me)||ae(me))return H=H.get(Y)||null,ue(F,H,me,Pe,null);jo(F,me)}return null}function Ee(H,F,Y,me){for(var Pe=null,Le=null,Oe=F,ze=F=0,an=null;Oe!==null&&ze<Y.length;ze++){Oe.index>ze?(an=Oe,Oe=null):an=Oe.sibling;var ct=le(H,Oe,Y[ze],me);if(ct===null){Oe===null&&(Oe=an);break}r&&Oe&&ct.alternate===null&&i(H,Oe),F=y(ct,F,ze),Le===null?Pe=ct:Le.sibling=ct,Le=ct,Oe=an}if(ze===Y.length)return l(H,Oe),At&&Ps(H,ze),Pe;if(Oe===null){for(;ze<Y.length;ze++)Oe=fe(H,Y[ze],me),Oe!==null&&(F=y(Oe,F,ze),Le===null?Pe=Oe:Le.sibling=Oe,Le=Oe);return At&&Ps(H,ze),Pe}for(Oe=d(H,Oe);ze<Y.length;ze++)an=we(Oe,H,ze,Y[ze],me),an!==null&&(r&&an.alternate!==null&&Oe.delete(an.key===null?ze:an.key),F=y(an,F,ze),Le===null?Pe=an:Le.sibling=an,Le=an);return r&&Oe.forEach(function(ps){return i(H,ps)}),At&&Ps(H,ze),Pe}function Re(H,F,Y,me){var Pe=ae(Y);if(typeof Pe!="function")throw Error(n(150));if(Y=Pe.call(Y),Y==null)throw Error(n(151));for(var Le=Pe=null,Oe=F,ze=F=0,an=null,ct=Y.next();Oe!==null&&!ct.done;ze++,ct=Y.next()){Oe.index>ze?(an=Oe,Oe=null):an=Oe.sibling;var ps=le(H,Oe,ct.value,me);if(ps===null){Oe===null&&(Oe=an);break}r&&Oe&&ps.alternate===null&&i(H,Oe),F=y(ps,F,ze),Le===null?Pe=ps:Le.sibling=ps,Le=ps,Oe=an}if(ct.done)return l(H,Oe),At&&Ps(H,ze),Pe;if(Oe===null){for(;!ct.done;ze++,ct=Y.next())ct=fe(H,ct.value,me),ct!==null&&(F=y(ct,F,ze),Le===null?Pe=ct:Le.sibling=ct,Le=ct);return At&&Ps(H,ze),Pe}for(Oe=d(H,Oe);!ct.done;ze++,ct=Y.next())ct=we(Oe,H,ze,ct.value,me),ct!==null&&(r&&ct.alternate!==null&&Oe.delete(ct.key===null?ze:ct.key),F=y(ct,F,ze),Le===null?Pe=ct:Le.sibling=ct,Le=ct);return r&&Oe.forEach(function(Zx){return i(H,Zx)}),At&&Ps(H,ze),Pe}function $t(H,F,Y,me){if(typeof Y=="object"&&Y!==null&&Y.type===M&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case V:e:{for(var Pe=Y.key,Le=F;Le!==null;){if(Le.key===Pe){if(Pe=Y.type,Pe===M){if(Le.tag===7){l(H,Le.sibling),F=p(Le,Y.props.children),F.return=H,H=F;break e}}else if(Le.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===ce&&hh(Pe)===Le.type){l(H,Le.sibling),F=p(Le,Y.props),F.ref=ma(H,Le,Y),F.return=H,H=F;break e}l(H,Le);break}else i(H,Le);Le=Le.sibling}Y.type===M?(F=Us(Y.props.children,H.mode,me,Y.key),F.return=H,H=F):(me=Go(Y.type,Y.key,Y.props,null,H.mode,me),me.ref=ma(H,F,Y),me.return=H,H=me)}return _(H);case q:e:{for(Le=Y.key;F!==null;){if(F.key===Le)if(F.tag===4&&F.stateNode.containerInfo===Y.containerInfo&&F.stateNode.implementation===Y.implementation){l(H,F.sibling),F=p(F,Y.children||[]),F.return=H,H=F;break e}else{l(H,F);break}else i(H,F);F=F.sibling}F=Pu(Y,H.mode,me),F.return=H,H=F}return _(H);case ce:return Le=Y._init,$t(H,F,Le(Y._payload),me)}if(Kt(Y))return Ee(H,F,Y,me);if(ae(Y))return Re(H,F,Y,me);jo(H,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"?(Y=""+Y,F!==null&&F.tag===6?(l(H,F.sibling),F=p(F,Y),F.return=H,H=F):(l(H,F),F=Tu(Y,H.mode,me),F.return=H,H=F),_(H)):l(H,F)}return $t}var xi=mh(!0),ph=mh(!1),Eo=ss(null),No=null,bi=null,Bc=null;function $c(){Bc=bi=No=null}function Hc(r){var i=Eo.current;Nt(Eo),r._currentValue=i}function Wc(r,i,l){for(;r!==null;){var d=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,d!==null&&(d.childLanes|=i)):d!==null&&(d.childLanes&i)!==i&&(d.childLanes|=i),r===l)break;r=r.return}}function wi(r,i){No=r,Bc=bi=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&i)!==0&&(Sn=!0),r.firstContext=null)}function Vn(r){var i=r._currentValue;if(Bc!==r)if(r={context:r,memoizedValue:i,next:null},bi===null){if(No===null)throw Error(n(308));bi=r,No.dependencies={lanes:0,firstContext:r}}else bi=bi.next=r;return i}var Ds=null;function Vc(r){Ds===null?Ds=[r]:Ds.push(r)}function gh(r,i,l,d){var p=i.interleaved;return p===null?(l.next=l,Vc(i)):(l.next=p.next,p.next=l),i.interleaved=l,Dr(r,d)}function Dr(r,i){r.lanes|=i;var l=r.alternate;for(l!==null&&(l.lanes|=i),l=r,r=r.return;r!==null;)r.childLanes|=i,l=r.alternate,l!==null&&(l.childLanes|=i),l=r,r=r.return;return l.tag===3?l.stateNode:null}var os=!1;function Kc(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yh(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Ar(r,i){return{eventTime:r,lane:i,tag:0,payload:null,callback:null,next:null}}function ls(r,i,l){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(rt&2)!==0){var p=d.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),d.pending=i,Dr(r,l)}return p=d.interleaved,p===null?(i.next=i,Vc(d)):(i.next=p.next,p.next=i),d.interleaved=i,Dr(r,l)}function Ro(r,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194240)!==0)){var d=i.lanes;d&=r.pendingLanes,l|=d,i.lanes=l,ac(r,l)}}function vh(r,i){var l=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var _={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?p=y=_:y=y.next=_,l=l.next}while(l!==null);y===null?p=y=i:y=y.next=i}else p=y=i;l={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:d.shared,effects:d.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=i:r.next=i,l.lastBaseUpdate=i}function Mo(r,i,l,d){var p=r.updateQueue;os=!1;var y=p.firstBaseUpdate,_=p.lastBaseUpdate,N=p.shared.pending;if(N!==null){p.shared.pending=null;var L=N,X=L.next;L.next=null,_===null?y=X:_.next=X,_=L;var ue=r.alternate;ue!==null&&(ue=ue.updateQueue,N=ue.lastBaseUpdate,N!==_&&(N===null?ue.firstBaseUpdate=X:N.next=X,ue.lastBaseUpdate=L))}if(y!==null){var fe=p.baseState;_=0,ue=X=L=null,N=y;do{var le=N.lane,we=N.eventTime;if((d&le)===le){ue!==null&&(ue=ue.next={eventTime:we,lane:0,tag:N.tag,payload:N.payload,callback:N.callback,next:null});e:{var Ee=r,Re=N;switch(le=i,we=l,Re.tag){case 1:if(Ee=Re.payload,typeof Ee=="function"){fe=Ee.call(we,fe,le);break e}fe=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=Re.payload,le=typeof Ee=="function"?Ee.call(we,fe,le):Ee,le==null)break e;fe=T({},fe,le);break e;case 2:os=!0}}N.callback!==null&&N.lane!==0&&(r.flags|=64,le=p.effects,le===null?p.effects=[N]:le.push(N))}else we={eventTime:we,lane:le,tag:N.tag,payload:N.payload,callback:N.callback,next:null},ue===null?(X=ue=we,L=fe):ue=ue.next=we,_|=le;if(N=N.next,N===null){if(N=p.shared.pending,N===null)break;le=N,N=le.next,le.next=null,p.lastBaseUpdate=le,p.shared.pending=null}}while(!0);if(ue===null&&(L=fe),p.baseState=L,p.firstBaseUpdate=X,p.lastBaseUpdate=ue,i=p.shared.interleaved,i!==null){p=i;do _|=p.lane,p=p.next;while(p!==i)}else y===null&&(p.shared.lanes=0);Os|=_,r.lanes=_,r.memoizedState=fe}}function xh(r,i,l){if(r=i.effects,i.effects=null,r!==null)for(i=0;i<r.length;i++){var d=r[i],p=d.callback;if(p!==null){if(d.callback=null,d=l,typeof p!="function")throw Error(n(191,p));p.call(d)}}}var pa={},gr=ss(pa),ga=ss(pa),ya=ss(pa);function As(r){if(r===pa)throw Error(n(174));return r}function Yc(r,i){switch(kt(ya,i),kt(ga,r),kt(gr,pa),r=i.nodeType,r){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:nn(null,"");break;default:r=r===8?i.parentNode:i,i=r.namespaceURI||null,r=r.tagName,i=nn(i,r)}Nt(gr),kt(gr,i)}function _i(){Nt(gr),Nt(ga),Nt(ya)}function bh(r){As(ya.current);var i=As(gr.current),l=nn(i,r.type);i!==l&&(kt(ga,r),kt(gr,l))}function Xc(r){ga.current===r&&(Nt(gr),Nt(ga))}var zt=ss(0);function To(r){for(var i=r;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Qc=[];function Gc(){for(var r=0;r<Qc.length;r++)Qc[r]._workInProgressVersionPrimary=null;Qc.length=0}var Po=O.ReactCurrentDispatcher,qc=O.ReactCurrentBatchConfig,Ls=0,Ut=null,Jt=null,rn=null,Do=!1,va=!1,xa=0,wx=0;function mn(){throw Error(n(321))}function Jc(r,i){if(i===null)return!1;for(var l=0;l<i.length&&l<r.length;l++)if(!rr(r[l],i[l]))return!1;return!0}function Zc(r,i,l,d,p,y){if(Ls=y,Ut=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Po.current=r===null||r.memoizedState===null?Cx:jx,r=l(d,p),va){y=0;do{if(va=!1,xa=0,25<=y)throw Error(n(301));y+=1,rn=Jt=null,i.updateQueue=null,Po.current=Ex,r=l(d,p)}while(va)}if(Po.current=Oo,i=Jt!==null&&Jt.next!==null,Ls=0,rn=Jt=Ut=null,Do=!1,i)throw Error(n(300));return r}function eu(){var r=xa!==0;return xa=0,r}function yr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rn===null?Ut.memoizedState=rn=r:rn=rn.next=r,rn}function Kn(){if(Jt===null){var r=Ut.alternate;r=r!==null?r.memoizedState:null}else r=Jt.next;var i=rn===null?Ut.memoizedState:rn.next;if(i!==null)rn=i,Jt=r;else{if(r===null)throw Error(n(310));Jt=r,r={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},rn===null?Ut.memoizedState=rn=r:rn=rn.next=r}return rn}function ba(r,i){return typeof i=="function"?i(r):i}function tu(r){var i=Kn(),l=i.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var d=Jt,p=d.baseQueue,y=l.pending;if(y!==null){if(p!==null){var _=p.next;p.next=y.next,y.next=_}d.baseQueue=p=y,l.pending=null}if(p!==null){y=p.next,d=d.baseState;var N=_=null,L=null,X=y;do{var ue=X.lane;if((Ls&ue)===ue)L!==null&&(L=L.next={lane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),d=X.hasEagerState?X.eagerState:r(d,X.action);else{var fe={lane:ue,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null};L===null?(N=L=fe,_=d):L=L.next=fe,Ut.lanes|=ue,Os|=ue}X=X.next}while(X!==null&&X!==y);L===null?_=d:L.next=N,rr(d,i.memoizedState)||(Sn=!0),i.memoizedState=d,i.baseState=_,i.baseQueue=L,l.lastRenderedState=d}if(r=l.interleaved,r!==null){p=r;do y=p.lane,Ut.lanes|=y,Os|=y,p=p.next;while(p!==r)}else p===null&&(l.lanes=0);return[i.memoizedState,l.dispatch]}function nu(r){var i=Kn(),l=i.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var d=l.dispatch,p=l.pending,y=i.memoizedState;if(p!==null){l.pending=null;var _=p=p.next;do y=r(y,_.action),_=_.next;while(_!==p);rr(y,i.memoizedState)||(Sn=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),l.lastRenderedState=y}return[y,d]}function wh(){}function _h(r,i){var l=Ut,d=Kn(),p=i(),y=!rr(d.memoizedState,p);if(y&&(d.memoizedState=p,Sn=!0),d=d.queue,ru(Ch.bind(null,l,d,r),[r]),d.getSnapshot!==i||y||rn!==null&&rn.memoizedState.tag&1){if(l.flags|=2048,wa(9,kh.bind(null,l,d,p,i),void 0,null),sn===null)throw Error(n(349));(Ls&30)!==0||Sh(l,i,p)}return p}function Sh(r,i,l){r.flags|=16384,r={getSnapshot:i,value:l},i=Ut.updateQueue,i===null?(i={lastEffect:null,stores:null},Ut.updateQueue=i,i.stores=[r]):(l=i.stores,l===null?i.stores=[r]:l.push(r))}function kh(r,i,l,d){i.value=l,i.getSnapshot=d,jh(i)&&Eh(r)}function Ch(r,i,l){return l(function(){jh(i)&&Eh(r)})}function jh(r){var i=r.getSnapshot;r=r.value;try{var l=i();return!rr(r,l)}catch{return!0}}function Eh(r){var i=Dr(r,1);i!==null&&lr(i,r,1,-1)}function Nh(r){var i=yr();return typeof r=="function"&&(r=r()),i.memoizedState=i.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:r},i.queue=r,r=r.dispatch=kx.bind(null,Ut,r),[i.memoizedState,r]}function wa(r,i,l,d){return r={tag:r,create:i,destroy:l,deps:d,next:null},i=Ut.updateQueue,i===null?(i={lastEffect:null,stores:null},Ut.updateQueue=i,i.lastEffect=r.next=r):(l=i.lastEffect,l===null?i.lastEffect=r.next=r:(d=l.next,l.next=r,r.next=d,i.lastEffect=r)),r}function Rh(){return Kn().memoizedState}function Ao(r,i,l,d){var p=yr();Ut.flags|=r,p.memoizedState=wa(1|i,l,void 0,d===void 0?null:d)}function Lo(r,i,l,d){var p=Kn();d=d===void 0?null:d;var y=void 0;if(Jt!==null){var _=Jt.memoizedState;if(y=_.destroy,d!==null&&Jc(d,_.deps)){p.memoizedState=wa(i,l,y,d);return}}Ut.flags|=r,p.memoizedState=wa(1|i,l,y,d)}function Mh(r,i){return Ao(8390656,8,r,i)}function ru(r,i){return Lo(2048,8,r,i)}function Th(r,i){return Lo(4,2,r,i)}function Ph(r,i){return Lo(4,4,r,i)}function Dh(r,i){if(typeof i=="function")return r=r(),i(r),function(){i(null)};if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function Ah(r,i,l){return l=l!=null?l.concat([r]):null,Lo(4,4,Dh.bind(null,i,r),l)}function su(){}function Lh(r,i){var l=Kn();i=i===void 0?null:i;var d=l.memoizedState;return d!==null&&i!==null&&Jc(i,d[1])?d[0]:(l.memoizedState=[r,i],r)}function Oh(r,i){var l=Kn();i=i===void 0?null:i;var d=l.memoizedState;return d!==null&&i!==null&&Jc(i,d[1])?d[0]:(r=r(),l.memoizedState=[r,i],r)}function Fh(r,i,l){return(Ls&21)===0?(r.baseState&&(r.baseState=!1,Sn=!0),r.memoizedState=l):(rr(l,i)||(l=ii(),Ut.lanes|=l,Os|=l,r.baseState=!0),i)}function _x(r,i){var l=mt;mt=l!==0&&4>l?l:4,r(!0);var d=qc.transition;qc.transition={};try{r(!1),i()}finally{mt=l,qc.transition=d}}function Ih(){return Kn().memoizedState}function Sx(r,i,l){var d=fs(r);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},zh(r))Uh(i,l);else if(l=gh(r,i,l,d),l!==null){var p=xn();lr(l,r,d,p),Bh(l,i,d)}}function kx(r,i,l){var d=fs(r),p={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(zh(r))Uh(i,p);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var _=i.lastRenderedState,N=y(_,l);if(p.hasEagerState=!0,p.eagerState=N,rr(N,_)){var L=i.interleaved;L===null?(p.next=p,Vc(i)):(p.next=L.next,L.next=p),i.interleaved=p;return}}catch{}finally{}l=gh(r,i,p,d),l!==null&&(p=xn(),lr(l,r,d,p),Bh(l,i,d))}}function zh(r){var i=r.alternate;return r===Ut||i!==null&&i===Ut}function Uh(r,i){va=Do=!0;var l=r.pending;l===null?i.next=i:(i.next=l.next,l.next=i),r.pending=i}function Bh(r,i,l){if((l&4194240)!==0){var d=i.lanes;d&=r.pendingLanes,l|=d,i.lanes=l,ac(r,l)}}var Oo={readContext:Vn,useCallback:mn,useContext:mn,useEffect:mn,useImperativeHandle:mn,useInsertionEffect:mn,useLayoutEffect:mn,useMemo:mn,useReducer:mn,useRef:mn,useState:mn,useDebugValue:mn,useDeferredValue:mn,useTransition:mn,useMutableSource:mn,useSyncExternalStore:mn,useId:mn,unstable_isNewReconciler:!1},Cx={readContext:Vn,useCallback:function(r,i){return yr().memoizedState=[r,i===void 0?null:i],r},useContext:Vn,useEffect:Mh,useImperativeHandle:function(r,i,l){return l=l!=null?l.concat([r]):null,Ao(4194308,4,Dh.bind(null,i,r),l)},useLayoutEffect:function(r,i){return Ao(4194308,4,r,i)},useInsertionEffect:function(r,i){return Ao(4,2,r,i)},useMemo:function(r,i){var l=yr();return i=i===void 0?null:i,r=r(),l.memoizedState=[r,i],r},useReducer:function(r,i,l){var d=yr();return i=l!==void 0?l(i):i,d.memoizedState=d.baseState=i,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:i},d.queue=r,r=r.dispatch=Sx.bind(null,Ut,r),[d.memoizedState,r]},useRef:function(r){var i=yr();return r={current:r},i.memoizedState=r},useState:Nh,useDebugValue:su,useDeferredValue:function(r){return yr().memoizedState=r},useTransition:function(){var r=Nh(!1),i=r[0];return r=_x.bind(null,r[1]),yr().memoizedState=r,[i,r]},useMutableSource:function(){},useSyncExternalStore:function(r,i,l){var d=Ut,p=yr();if(At){if(l===void 0)throw Error(n(407));l=l()}else{if(l=i(),sn===null)throw Error(n(349));(Ls&30)!==0||Sh(d,i,l)}p.memoizedState=l;var y={value:l,getSnapshot:i};return p.queue=y,Mh(Ch.bind(null,d,y,r),[r]),d.flags|=2048,wa(9,kh.bind(null,d,y,l,i),void 0,null),l},useId:function(){var r=yr(),i=sn.identifierPrefix;if(At){var l=Pr,d=Tr;l=(d&~(1<<32-tt(d)-1)).toString(32)+l,i=":"+i+"R"+l,l=xa++,0<l&&(i+="H"+l.toString(32)),i+=":"}else l=wx++,i=":"+i+"r"+l.toString(32)+":";return r.memoizedState=i},unstable_isNewReconciler:!1},jx={readContext:Vn,useCallback:Lh,useContext:Vn,useEffect:ru,useImperativeHandle:Ah,useInsertionEffect:Th,useLayoutEffect:Ph,useMemo:Oh,useReducer:tu,useRef:Rh,useState:function(){return tu(ba)},useDebugValue:su,useDeferredValue:function(r){var i=Kn();return Fh(i,Jt.memoizedState,r)},useTransition:function(){var r=tu(ba)[0],i=Kn().memoizedState;return[r,i]},useMutableSource:wh,useSyncExternalStore:_h,useId:Ih,unstable_isNewReconciler:!1},Ex={readContext:Vn,useCallback:Lh,useContext:Vn,useEffect:ru,useImperativeHandle:Ah,useInsertionEffect:Th,useLayoutEffect:Ph,useMemo:Oh,useReducer:nu,useRef:Rh,useState:function(){return nu(ba)},useDebugValue:su,useDeferredValue:function(r){var i=Kn();return Jt===null?i.memoizedState=r:Fh(i,Jt.memoizedState,r)},useTransition:function(){var r=nu(ba)[0],i=Kn().memoizedState;return[r,i]},useMutableSource:wh,useSyncExternalStore:_h,useId:Ih,unstable_isNewReconciler:!1};function ir(r,i){if(r&&r.defaultProps){i=T({},i),r=r.defaultProps;for(var l in r)i[l]===void 0&&(i[l]=r[l]);return i}return i}function iu(r,i,l,d){i=r.memoizedState,l=l(d,i),l=l==null?i:T({},i,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Fo={isMounted:function(r){return(r=r._reactInternals)?xe(r)===r:!1},enqueueSetState:function(r,i,l){r=r._reactInternals;var d=xn(),p=fs(r),y=Ar(d,p);y.payload=i,l!=null&&(y.callback=l),i=ls(r,y,p),i!==null&&(lr(i,r,p,d),Ro(i,r,p))},enqueueReplaceState:function(r,i,l){r=r._reactInternals;var d=xn(),p=fs(r),y=Ar(d,p);y.tag=1,y.payload=i,l!=null&&(y.callback=l),i=ls(r,y,p),i!==null&&(lr(i,r,p,d),Ro(i,r,p))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var l=xn(),d=fs(r),p=Ar(l,d);p.tag=2,i!=null&&(p.callback=i),i=ls(r,p,d),i!==null&&(lr(i,r,d,l),Ro(i,r,d))}};function $h(r,i,l,d,p,y,_){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,y,_):i.prototype&&i.prototype.isPureReactComponent?!oa(l,d)||!oa(p,y):!0}function Hh(r,i,l){var d=!1,p=is,y=i.contextType;return typeof y=="object"&&y!==null?y=Vn(y):(p=_n(i)?Ms:hn.current,d=i.contextTypes,y=(d=d!=null)?pi(r,p):is),i=new i(l,y),r.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Fo,r.stateNode=i,i._reactInternals=r,d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=p,r.__reactInternalMemoizedMaskedChildContext=y),i}function Wh(r,i,l,d){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,d),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,d),i.state!==r&&Fo.enqueueReplaceState(i,i.state,null)}function au(r,i,l,d){var p=r.stateNode;p.props=l,p.state=r.memoizedState,p.refs={},Kc(r);var y=i.contextType;typeof y=="object"&&y!==null?p.context=Vn(y):(y=_n(i)?Ms:hn.current,p.context=pi(r,y)),p.state=r.memoizedState,y=i.getDerivedStateFromProps,typeof y=="function"&&(iu(r,i,y,l),p.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(i=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),i!==p.state&&Fo.enqueueReplaceState(p,p.state,null),Mo(r,l,p,d),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308)}function Si(r,i){try{var l="",d=i;do l+=ie(d),d=d.return;while(d);var p=l}catch(y){p=`
Error generating stack: `+y.message+`
`+y.stack}return{value:r,source:i,stack:p,digest:null}}function ou(r,i,l){return{value:r,source:null,stack:l??null,digest:i??null}}function lu(r,i){try{console.error(i.value)}catch(l){setTimeout(function(){throw l})}}var Nx=typeof WeakMap=="function"?WeakMap:Map;function Vh(r,i,l){l=Ar(-1,l),l.tag=3,l.payload={element:null};var d=i.value;return l.callback=function(){Wo||(Wo=!0,Su=d),lu(r,i)},l}function Kh(r,i,l){l=Ar(-1,l),l.tag=3;var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var p=i.value;l.payload=function(){return d(p)},l.callback=function(){lu(r,i)}}var y=r.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){lu(r,i),typeof d!="function"&&(us===null?us=new Set([this]):us.add(this));var _=i.stack;this.componentDidCatch(i.value,{componentStack:_!==null?_:""})}),l}function Yh(r,i,l){var d=r.pingCache;if(d===null){d=r.pingCache=new Nx;var p=new Set;d.set(i,p)}else p=d.get(i),p===void 0&&(p=new Set,d.set(i,p));p.has(l)||(p.add(l),r=$x.bind(null,r,i,l),i.then(r,r))}function Xh(r){do{var i;if((i=r.tag===13)&&(i=r.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return r;r=r.return}while(r!==null);return null}function Qh(r,i,l,d,p){return(r.mode&1)===0?(r===i?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(i=Ar(-1,1),i.tag=2,ls(l,i,1))),l.lanes|=1),r):(r.flags|=65536,r.lanes=p,r)}var Rx=O.ReactCurrentOwner,Sn=!1;function vn(r,i,l,d){i.child=r===null?ph(i,null,l,d):xi(i,r.child,l,d)}function Gh(r,i,l,d,p){l=l.render;var y=i.ref;return wi(i,p),d=Zc(r,i,l,d,y,p),l=eu(),r!==null&&!Sn?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~p,Lr(r,i,p)):(At&&l&&Oc(i),i.flags|=1,vn(r,i,d,p),i.child)}function qh(r,i,l,d,p){if(r===null){var y=l.type;return typeof y=="function"&&!Mu(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(i.tag=15,i.type=y,Jh(r,i,y,d,p)):(r=Go(l.type,null,d,i,i.mode,p),r.ref=i.ref,r.return=i,i.child=r)}if(y=r.child,(r.lanes&p)===0){var _=y.memoizedProps;if(l=l.compare,l=l!==null?l:oa,l(_,d)&&r.ref===i.ref)return Lr(r,i,p)}return i.flags|=1,r=ms(y,d),r.ref=i.ref,r.return=i,i.child=r}function Jh(r,i,l,d,p){if(r!==null){var y=r.memoizedProps;if(oa(y,d)&&r.ref===i.ref)if(Sn=!1,i.pendingProps=d=y,(r.lanes&p)!==0)(r.flags&131072)!==0&&(Sn=!0);else return i.lanes=r.lanes,Lr(r,i,p)}return cu(r,i,l,d,p)}function Zh(r,i,l){var d=i.pendingProps,p=d.children,y=r!==null?r.memoizedState:null;if(d.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},kt(Ci,Fn),Fn|=l;else{if((l&1073741824)===0)return r=y!==null?y.baseLanes|l:l,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:r,cachePool:null,transitions:null},i.updateQueue=null,kt(Ci,Fn),Fn|=r,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=y!==null?y.baseLanes:l,kt(Ci,Fn),Fn|=d}else y!==null?(d=y.baseLanes|l,i.memoizedState=null):d=l,kt(Ci,Fn),Fn|=d;return vn(r,i,p,l),i.child}function em(r,i){var l=i.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(i.flags|=512,i.flags|=2097152)}function cu(r,i,l,d,p){var y=_n(l)?Ms:hn.current;return y=pi(i,y),wi(i,p),l=Zc(r,i,l,d,y,p),d=eu(),r!==null&&!Sn?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~p,Lr(r,i,p)):(At&&d&&Oc(i),i.flags|=1,vn(r,i,l,p),i.child)}function tm(r,i,l,d,p){if(_n(l)){var y=!0;wo(i)}else y=!1;if(wi(i,p),i.stateNode===null)zo(r,i),Hh(i,l,d),au(i,l,d,p),d=!0;else if(r===null){var _=i.stateNode,N=i.memoizedProps;_.props=N;var L=_.context,X=l.contextType;typeof X=="object"&&X!==null?X=Vn(X):(X=_n(l)?Ms:hn.current,X=pi(i,X));var ue=l.getDerivedStateFromProps,fe=typeof ue=="function"||typeof _.getSnapshotBeforeUpdate=="function";fe||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(N!==d||L!==X)&&Wh(i,_,d,X),os=!1;var le=i.memoizedState;_.state=le,Mo(i,d,_,p),L=i.memoizedState,N!==d||le!==L||wn.current||os?(typeof ue=="function"&&(iu(i,l,ue,d),L=i.memoizedState),(N=os||$h(i,l,N,d,le,L,X))?(fe||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(i.flags|=4194308)):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=d,i.memoizedState=L),_.props=d,_.state=L,_.context=X,d=N):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),d=!1)}else{_=i.stateNode,yh(r,i),N=i.memoizedProps,X=i.type===i.elementType?N:ir(i.type,N),_.props=X,fe=i.pendingProps,le=_.context,L=l.contextType,typeof L=="object"&&L!==null?L=Vn(L):(L=_n(l)?Ms:hn.current,L=pi(i,L));var we=l.getDerivedStateFromProps;(ue=typeof we=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(N!==fe||le!==L)&&Wh(i,_,d,L),os=!1,le=i.memoizedState,_.state=le,Mo(i,d,_,p);var Ee=i.memoizedState;N!==fe||le!==Ee||wn.current||os?(typeof we=="function"&&(iu(i,l,we,d),Ee=i.memoizedState),(X=os||$h(i,l,X,d,le,Ee,L)||!1)?(ue||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(d,Ee,L),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(d,Ee,L)),typeof _.componentDidUpdate=="function"&&(i.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof _.componentDidUpdate!="function"||N===r.memoizedProps&&le===r.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||N===r.memoizedProps&&le===r.memoizedState||(i.flags|=1024),i.memoizedProps=d,i.memoizedState=Ee),_.props=d,_.state=Ee,_.context=L,d=X):(typeof _.componentDidUpdate!="function"||N===r.memoizedProps&&le===r.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||N===r.memoizedProps&&le===r.memoizedState||(i.flags|=1024),d=!1)}return uu(r,i,l,d,y,p)}function uu(r,i,l,d,p,y){em(r,i);var _=(i.flags&128)!==0;if(!d&&!_)return p&&ah(i,l,!1),Lr(r,i,y);d=i.stateNode,Rx.current=i;var N=_&&typeof l.getDerivedStateFromError!="function"?null:d.render();return i.flags|=1,r!==null&&_?(i.child=xi(i,r.child,null,y),i.child=xi(i,null,N,y)):vn(r,i,N,y),i.memoizedState=d.state,p&&ah(i,l,!0),i.child}function nm(r){var i=r.stateNode;i.pendingContext?sh(r,i.pendingContext,i.pendingContext!==i.context):i.context&&sh(r,i.context,!1),Yc(r,i.containerInfo)}function rm(r,i,l,d,p){return vi(),Uc(p),i.flags|=256,vn(r,i,l,d),i.child}var du={dehydrated:null,treeContext:null,retryLane:0};function fu(r){return{baseLanes:r,cachePool:null,transitions:null}}function sm(r,i,l){var d=i.pendingProps,p=zt.current,y=!1,_=(i.flags&128)!==0,N;if((N=_)||(N=r!==null&&r.memoizedState===null?!1:(p&2)!==0),N?(y=!0,i.flags&=-129):(r===null||r.memoizedState!==null)&&(p|=1),kt(zt,p&1),r===null)return zc(i),r=i.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((i.mode&1)===0?i.lanes=1:r.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(_=d.children,r=d.fallback,y?(d=i.mode,y=i.child,_={mode:"hidden",children:_},(d&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=_):y=qo(_,d,0,null),r=Us(r,d,l,null),y.return=i,r.return=i,y.sibling=r,i.child=y,i.child.memoizedState=fu(l),i.memoizedState=du,r):hu(i,_));if(p=r.memoizedState,p!==null&&(N=p.dehydrated,N!==null))return Mx(r,i,_,d,N,p,l);if(y){y=d.fallback,_=i.mode,p=r.child,N=p.sibling;var L={mode:"hidden",children:d.children};return(_&1)===0&&i.child!==p?(d=i.child,d.childLanes=0,d.pendingProps=L,i.deletions=null):(d=ms(p,L),d.subtreeFlags=p.subtreeFlags&14680064),N!==null?y=ms(N,y):(y=Us(y,_,l,null),y.flags|=2),y.return=i,d.return=i,d.sibling=y,i.child=d,d=y,y=i.child,_=r.child.memoizedState,_=_===null?fu(l):{baseLanes:_.baseLanes|l,cachePool:null,transitions:_.transitions},y.memoizedState=_,y.childLanes=r.childLanes&~l,i.memoizedState=du,d}return y=r.child,r=y.sibling,d=ms(y,{mode:"visible",children:d.children}),(i.mode&1)===0&&(d.lanes=l),d.return=i,d.sibling=null,r!==null&&(l=i.deletions,l===null?(i.deletions=[r],i.flags|=16):l.push(r)),i.child=d,i.memoizedState=null,d}function hu(r,i){return i=qo({mode:"visible",children:i},r.mode,0,null),i.return=r,r.child=i}function Io(r,i,l,d){return d!==null&&Uc(d),xi(i,r.child,null,l),r=hu(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function Mx(r,i,l,d,p,y,_){if(l)return i.flags&256?(i.flags&=-257,d=ou(Error(n(422))),Io(r,i,_,d)):i.memoizedState!==null?(i.child=r.child,i.flags|=128,null):(y=d.fallback,p=i.mode,d=qo({mode:"visible",children:d.children},p,0,null),y=Us(y,p,_,null),y.flags|=2,d.return=i,y.return=i,d.sibling=y,i.child=d,(i.mode&1)!==0&&xi(i,r.child,null,_),i.child.memoizedState=fu(_),i.memoizedState=du,y);if((i.mode&1)===0)return Io(r,i,_,null);if(p.data==="$!"){if(d=p.nextSibling&&p.nextSibling.dataset,d)var N=d.dgst;return d=N,y=Error(n(419)),d=ou(y,d,void 0),Io(r,i,_,d)}if(N=(_&r.childLanes)!==0,Sn||N){if(d=sn,d!==null){switch(_&-_){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(d.suspendedLanes|_))!==0?0:p,p!==0&&p!==y.retryLane&&(y.retryLane=p,Dr(r,p),lr(d,r,p,-1))}return Ru(),d=ou(Error(n(421))),Io(r,i,_,d)}return p.data==="$?"?(i.flags|=128,i.child=r.child,i=Hx.bind(null,r),p._reactRetry=i,null):(r=y.treeContext,On=rs(p.nextSibling),Ln=i,At=!0,sr=null,r!==null&&(Hn[Wn++]=Tr,Hn[Wn++]=Pr,Hn[Wn++]=Ts,Tr=r.id,Pr=r.overflow,Ts=i),i=hu(i,d.children),i.flags|=4096,i)}function im(r,i,l){r.lanes|=i;var d=r.alternate;d!==null&&(d.lanes|=i),Wc(r.return,i,l)}function mu(r,i,l,d,p){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:p}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=l,y.tailMode=p)}function am(r,i,l){var d=i.pendingProps,p=d.revealOrder,y=d.tail;if(vn(r,i,d.children,l),d=zt.current,(d&2)!==0)d=d&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&im(r,l,i);else if(r.tag===19)im(r,l,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}if(kt(zt,d),(i.mode&1)===0)i.memoizedState=null;else switch(p){case"forwards":for(l=i.child,p=null;l!==null;)r=l.alternate,r!==null&&To(r)===null&&(p=l),l=l.sibling;l=p,l===null?(p=i.child,i.child=null):(p=l.sibling,l.sibling=null),mu(i,!1,p,l,y);break;case"backwards":for(l=null,p=i.child,i.child=null;p!==null;){if(r=p.alternate,r!==null&&To(r)===null){i.child=p;break}r=p.sibling,p.sibling=l,l=p,p=r}mu(i,!0,l,null,y);break;case"together":mu(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function zo(r,i){(i.mode&1)===0&&r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2)}function Lr(r,i,l){if(r!==null&&(i.dependencies=r.dependencies),Os|=i.lanes,(l&i.childLanes)===0)return null;if(r!==null&&i.child!==r.child)throw Error(n(153));if(i.child!==null){for(r=i.child,l=ms(r,r.pendingProps),i.child=l,l.return=i;r.sibling!==null;)r=r.sibling,l=l.sibling=ms(r,r.pendingProps),l.return=i;l.sibling=null}return i.child}function Tx(r,i,l){switch(i.tag){case 3:nm(i),vi();break;case 5:bh(i);break;case 1:_n(i.type)&&wo(i);break;case 4:Yc(i,i.stateNode.containerInfo);break;case 10:var d=i.type._context,p=i.memoizedProps.value;kt(Eo,d._currentValue),d._currentValue=p;break;case 13:if(d=i.memoizedState,d!==null)return d.dehydrated!==null?(kt(zt,zt.current&1),i.flags|=128,null):(l&i.child.childLanes)!==0?sm(r,i,l):(kt(zt,zt.current&1),r=Lr(r,i,l),r!==null?r.sibling:null);kt(zt,zt.current&1);break;case 19:if(d=(l&i.childLanes)!==0,(r.flags&128)!==0){if(d)return am(r,i,l);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),kt(zt,zt.current),d)break;return null;case 22:case 23:return i.lanes=0,Zh(r,i,l)}return Lr(r,i,l)}var om,pu,lm,cm;om=function(r,i){for(var l=i.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},pu=function(){},lm=function(r,i,l,d){var p=r.memoizedProps;if(p!==d){r=i.stateNode,As(gr.current);var y=null;switch(l){case"input":p=Ft(r,p),d=Ft(r,d),y=[];break;case"select":p=T({},p,{value:void 0}),d=T({},d,{value:void 0}),y=[];break;case"textarea":p=pe(r,p),d=pe(r,d),y=[];break;default:typeof p.onClick!="function"&&typeof d.onClick=="function"&&(r.onclick=vo)}St(l,d);var _;l=null;for(X in p)if(!d.hasOwnProperty(X)&&p.hasOwnProperty(X)&&p[X]!=null)if(X==="style"){var N=p[X];for(_ in N)N.hasOwnProperty(_)&&(l||(l={}),l[_]="")}else X!=="dangerouslySetInnerHTML"&&X!=="children"&&X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&X!=="autoFocus"&&(a.hasOwnProperty(X)?y||(y=[]):(y=y||[]).push(X,null));for(X in d){var L=d[X];if(N=p?.[X],d.hasOwnProperty(X)&&L!==N&&(L!=null||N!=null))if(X==="style")if(N){for(_ in N)!N.hasOwnProperty(_)||L&&L.hasOwnProperty(_)||(l||(l={}),l[_]="");for(_ in L)L.hasOwnProperty(_)&&N[_]!==L[_]&&(l||(l={}),l[_]=L[_])}else l||(y||(y=[]),y.push(X,l)),l=L;else X==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,N=N?N.__html:void 0,L!=null&&N!==L&&(y=y||[]).push(X,L)):X==="children"?typeof L!="string"&&typeof L!="number"||(y=y||[]).push(X,""+L):X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&(a.hasOwnProperty(X)?(L!=null&&X==="onScroll"&&Et("scroll",r),y||N===L||(y=[])):(y=y||[]).push(X,L))}l&&(y=y||[]).push("style",l);var X=y;(i.updateQueue=X)&&(i.flags|=4)}},cm=function(r,i,l,d){l!==d&&(i.flags|=4)};function _a(r,i){if(!At)switch(r.tailMode){case"hidden":i=r.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function pn(r){var i=r.alternate!==null&&r.alternate.child===r.child,l=0,d=0;if(i)for(var p=r.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags&14680064,d|=p.flags&14680064,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=d,r.childLanes=l,i}function Px(r,i,l){var d=i.pendingProps;switch(Fc(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pn(i),null;case 1:return _n(i.type)&&bo(),pn(i),null;case 3:return d=i.stateNode,_i(),Nt(wn),Nt(hn),Gc(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(Co(i)?i.flags|=4:r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,sr!==null&&(ju(sr),sr=null))),pu(r,i),pn(i),null;case 5:Xc(i);var p=As(ya.current);if(l=i.type,r!==null&&i.stateNode!=null)lm(r,i,l,d,p),r.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!d){if(i.stateNode===null)throw Error(n(166));return pn(i),null}if(r=As(gr.current),Co(i)){d=i.stateNode,l=i.type;var y=i.memoizedProps;switch(d[pr]=i,d[fa]=y,r=(i.mode&1)!==0,l){case"dialog":Et("cancel",d),Et("close",d);break;case"iframe":case"object":case"embed":Et("load",d);break;case"video":case"audio":for(p=0;p<ca.length;p++)Et(ca[p],d);break;case"source":Et("error",d);break;case"img":case"image":case"link":Et("error",d),Et("load",d);break;case"details":Et("toggle",d);break;case"input":bn(d,y),Et("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!y.multiple},Et("invalid",d);break;case"textarea":De(d,y),Et("invalid",d)}St(l,y),p=null;for(var _ in y)if(y.hasOwnProperty(_)){var N=y[_];_==="children"?typeof N=="string"?d.textContent!==N&&(y.suppressHydrationWarning!==!0&&yo(d.textContent,N,r),p=["children",N]):typeof N=="number"&&d.textContent!==""+N&&(y.suppressHydrationWarning!==!0&&yo(d.textContent,N,r),p=["children",""+N]):a.hasOwnProperty(_)&&N!=null&&_==="onScroll"&&Et("scroll",d)}switch(l){case"input":ft(d),Vt(d,y,!0);break;case"textarea":ft(d),wt(d);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(d.onclick=vo)}d=p,i.updateQueue=d,d!==null&&(i.flags|=4)}else{_=p.nodeType===9?p:p.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=_t(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=_.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof d.is=="string"?r=_.createElement(l,{is:d.is}):(r=_.createElement(l),l==="select"&&(_=r,d.multiple?_.multiple=!0:d.size&&(_.size=d.size))):r=_.createElementNS(r,l),r[pr]=i,r[fa]=d,om(r,i,!1,!1),i.stateNode=r;e:{switch(_=Pt(l,d),l){case"dialog":Et("cancel",r),Et("close",r),p=d;break;case"iframe":case"object":case"embed":Et("load",r),p=d;break;case"video":case"audio":for(p=0;p<ca.length;p++)Et(ca[p],r);p=d;break;case"source":Et("error",r),p=d;break;case"img":case"image":case"link":Et("error",r),Et("load",r),p=d;break;case"details":Et("toggle",r),p=d;break;case"input":bn(r,d),p=Ft(r,d),Et("invalid",r);break;case"option":p=d;break;case"select":r._wrapperState={wasMultiple:!!d.multiple},p=T({},d,{value:void 0}),Et("invalid",r);break;case"textarea":De(r,d),p=pe(r,d),Et("invalid",r);break;default:p=d}St(l,p),N=p;for(y in N)if(N.hasOwnProperty(y)){var L=N[y];y==="style"?Me(r,L):y==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,L!=null&&dt(r,L)):y==="children"?typeof L=="string"?(l!=="textarea"||L!=="")&&Yt(r,L):typeof L=="number"&&Yt(r,""+L):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(a.hasOwnProperty(y)?L!=null&&y==="onScroll"&&Et("scroll",r):L!=null&&U(r,y,L,_))}switch(l){case"input":ft(r),Vt(r,d,!1);break;case"textarea":ft(r),wt(r);break;case"option":d.value!=null&&r.setAttribute("value",""+he(d.value));break;case"select":r.multiple=!!d.multiple,y=d.value,y!=null?at(r,!!d.multiple,y,!1):d.defaultValue!=null&&at(r,!!d.multiple,d.defaultValue,!0);break;default:typeof p.onClick=="function"&&(r.onclick=vo)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return pn(i),null;case 6:if(r&&i.stateNode!=null)cm(r,i,r.memoizedProps,d);else{if(typeof d!="string"&&i.stateNode===null)throw Error(n(166));if(l=As(ya.current),As(gr.current),Co(i)){if(d=i.stateNode,l=i.memoizedProps,d[pr]=i,(y=d.nodeValue!==l)&&(r=Ln,r!==null))switch(r.tag){case 3:yo(d.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&yo(d.nodeValue,l,(r.mode&1)!==0)}y&&(i.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[pr]=i,i.stateNode=d}return pn(i),null;case 13:if(Nt(zt),d=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(At&&On!==null&&(i.mode&1)!==0&&(i.flags&128)===0)fh(),vi(),i.flags|=98560,y=!1;else if(y=Co(i),d!==null&&d.dehydrated!==null){if(r===null){if(!y)throw Error(n(318));if(y=i.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(n(317));y[pr]=i}else vi(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;pn(i),y=!1}else sr!==null&&(ju(sr),sr=null),y=!0;if(!y)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=l,i):(d=d!==null,d!==(r!==null&&r.memoizedState!==null)&&d&&(i.child.flags|=8192,(i.mode&1)!==0&&(r===null||(zt.current&1)!==0?Zt===0&&(Zt=3):Ru())),i.updateQueue!==null&&(i.flags|=4),pn(i),null);case 4:return _i(),pu(r,i),r===null&&ua(i.stateNode.containerInfo),pn(i),null;case 10:return Hc(i.type._context),pn(i),null;case 17:return _n(i.type)&&bo(),pn(i),null;case 19:if(Nt(zt),y=i.memoizedState,y===null)return pn(i),null;if(d=(i.flags&128)!==0,_=y.rendering,_===null)if(d)_a(y,!1);else{if(Zt!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(_=To(r),_!==null){for(i.flags|=128,_a(y,!1),d=_.updateQueue,d!==null&&(i.updateQueue=d,i.flags|=4),i.subtreeFlags=0,d=l,l=i.child;l!==null;)y=l,r=d,y.flags&=14680066,_=y.alternate,_===null?(y.childLanes=0,y.lanes=r,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=_.childLanes,y.lanes=_.lanes,y.child=_.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=_.memoizedProps,y.memoizedState=_.memoizedState,y.updateQueue=_.updateQueue,y.type=_.type,r=_.dependencies,y.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return kt(zt,zt.current&1|2),i.child}r=r.sibling}y.tail!==null&&et()>ji&&(i.flags|=128,d=!0,_a(y,!1),i.lanes=4194304)}else{if(!d)if(r=To(_),r!==null){if(i.flags|=128,d=!0,l=r.updateQueue,l!==null&&(i.updateQueue=l,i.flags|=4),_a(y,!0),y.tail===null&&y.tailMode==="hidden"&&!_.alternate&&!At)return pn(i),null}else 2*et()-y.renderingStartTime>ji&&l!==1073741824&&(i.flags|=128,d=!0,_a(y,!1),i.lanes=4194304);y.isBackwards?(_.sibling=i.child,i.child=_):(l=y.last,l!==null?l.sibling=_:i.child=_,y.last=_)}return y.tail!==null?(i=y.tail,y.rendering=i,y.tail=i.sibling,y.renderingStartTime=et(),i.sibling=null,l=zt.current,kt(zt,d?l&1|2:l&1),i):(pn(i),null);case 22:case 23:return Nu(),d=i.memoizedState!==null,r!==null&&r.memoizedState!==null!==d&&(i.flags|=8192),d&&(i.mode&1)!==0?(Fn&1073741824)!==0&&(pn(i),i.subtreeFlags&6&&(i.flags|=8192)):pn(i),null;case 24:return null;case 25:return null}throw Error(n(156,i.tag))}function Dx(r,i){switch(Fc(i),i.tag){case 1:return _n(i.type)&&bo(),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return _i(),Nt(wn),Nt(hn),Gc(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 5:return Xc(i),null;case 13:if(Nt(zt),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(n(340));vi()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return Nt(zt),null;case 4:return _i(),null;case 10:return Hc(i.type._context),null;case 22:case 23:return Nu(),null;case 24:return null;default:return null}}var Uo=!1,gn=!1,Ax=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function ki(r,i){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){Bt(r,i,d)}else l.current=null}function gu(r,i,l){try{l()}catch(d){Bt(r,i,d)}}var um=!1;function Lx(r,i){if(Nc=io,r=$f(),bc(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var p=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var _=0,N=-1,L=-1,X=0,ue=0,fe=r,le=null;t:for(;;){for(var we;fe!==l||p!==0&&fe.nodeType!==3||(N=_+p),fe!==y||d!==0&&fe.nodeType!==3||(L=_+d),fe.nodeType===3&&(_+=fe.nodeValue.length),(we=fe.firstChild)!==null;)le=fe,fe=we;for(;;){if(fe===r)break t;if(le===l&&++X===p&&(N=_),le===y&&++ue===d&&(L=_),(we=fe.nextSibling)!==null)break;fe=le,le=fe.parentNode}fe=we}l=N===-1||L===-1?null:{start:N,end:L}}else l=null}l=l||{start:0,end:0}}else l=null;for(Rc={focusedElem:r,selectionRange:l},io=!1,Ce=i;Ce!==null;)if(i=Ce,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,Ce=r;else for(;Ce!==null;){i=Ce;try{var Ee=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(Ee!==null){var Re=Ee.memoizedProps,$t=Ee.memoizedState,H=i.stateNode,F=H.getSnapshotBeforeUpdate(i.elementType===i.type?Re:ir(i.type,Re),$t);H.__reactInternalSnapshotBeforeUpdate=F}break;case 3:var Y=i.stateNode.containerInfo;Y.nodeType===1?Y.textContent="":Y.nodeType===9&&Y.documentElement&&Y.removeChild(Y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(me){Bt(i,i.return,me)}if(r=i.sibling,r!==null){r.return=i.return,Ce=r;break}Ce=i.return}return Ee=um,um=!1,Ee}function Sa(r,i,l){var d=i.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var p=d=d.next;do{if((p.tag&r)===r){var y=p.destroy;p.destroy=void 0,y!==void 0&&gu(i,l,y)}p=p.next}while(p!==d)}}function Bo(r,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var l=i=i.next;do{if((l.tag&r)===r){var d=l.create;l.destroy=d()}l=l.next}while(l!==i)}}function yu(r){var i=r.ref;if(i!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof i=="function"?i(r):i.current=r}}function dm(r){var i=r.alternate;i!==null&&(r.alternate=null,dm(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&(delete i[pr],delete i[fa],delete i[Dc],delete i[yx],delete i[vx])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function fm(r){return r.tag===5||r.tag===3||r.tag===4}function hm(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||fm(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function vu(r,i,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,i?l.nodeType===8?l.parentNode.insertBefore(r,i):l.insertBefore(r,i):(l.nodeType===8?(i=l.parentNode,i.insertBefore(r,l)):(i=l,i.appendChild(r)),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=vo));else if(d!==4&&(r=r.child,r!==null))for(vu(r,i,l),r=r.sibling;r!==null;)vu(r,i,l),r=r.sibling}function xu(r,i,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,i?l.insertBefore(r,i):l.appendChild(r);else if(d!==4&&(r=r.child,r!==null))for(xu(r,i,l),r=r.sibling;r!==null;)xu(r,i,l),r=r.sibling}var ln=null,ar=!1;function cs(r,i,l){for(l=l.child;l!==null;)mm(r,i,l),l=l.sibling}function mm(r,i,l){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(ht,l)}catch{}switch(l.tag){case 5:gn||ki(l,i);case 6:var d=ln,p=ar;ln=null,cs(r,i,l),ln=d,ar=p,ln!==null&&(ar?(r=ln,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):ln.removeChild(l.stateNode));break;case 18:ln!==null&&(ar?(r=ln,l=l.stateNode,r.nodeType===8?Pc(r.parentNode,l):r.nodeType===1&&Pc(r,l),ta(r)):Pc(ln,l.stateNode));break;case 4:d=ln,p=ar,ln=l.stateNode.containerInfo,ar=!0,cs(r,i,l),ln=d,ar=p;break;case 0:case 11:case 14:case 15:if(!gn&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){p=d=d.next;do{var y=p,_=y.destroy;y=y.tag,_!==void 0&&((y&2)!==0||(y&4)!==0)&&gu(l,i,_),p=p.next}while(p!==d)}cs(r,i,l);break;case 1:if(!gn&&(ki(l,i),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(N){Bt(l,i,N)}cs(r,i,l);break;case 21:cs(r,i,l);break;case 22:l.mode&1?(gn=(d=gn)||l.memoizedState!==null,cs(r,i,l),gn=d):cs(r,i,l);break;default:cs(r,i,l)}}function pm(r){var i=r.updateQueue;if(i!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new Ax),i.forEach(function(d){var p=Wx.bind(null,r,d);l.has(d)||(l.add(d),d.then(p,p))})}}function or(r,i){var l=i.deletions;if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];try{var y=r,_=i,N=_;e:for(;N!==null;){switch(N.tag){case 5:ln=N.stateNode,ar=!1;break e;case 3:ln=N.stateNode.containerInfo,ar=!0;break e;case 4:ln=N.stateNode.containerInfo,ar=!0;break e}N=N.return}if(ln===null)throw Error(n(160));mm(y,_,p),ln=null,ar=!1;var L=p.alternate;L!==null&&(L.return=null),p.return=null}catch(X){Bt(p,i,X)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)gm(i,r),i=i.sibling}function gm(r,i){var l=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(or(i,r),vr(r),d&4){try{Sa(3,r,r.return),Bo(3,r)}catch(Re){Bt(r,r.return,Re)}try{Sa(5,r,r.return)}catch(Re){Bt(r,r.return,Re)}}break;case 1:or(i,r),vr(r),d&512&&l!==null&&ki(l,l.return);break;case 5:if(or(i,r),vr(r),d&512&&l!==null&&ki(l,l.return),r.flags&32){var p=r.stateNode;try{Yt(p,"")}catch(Re){Bt(r,r.return,Re)}}if(d&4&&(p=r.stateNode,p!=null)){var y=r.memoizedProps,_=l!==null?l.memoizedProps:y,N=r.type,L=r.updateQueue;if(r.updateQueue=null,L!==null)try{N==="input"&&y.type==="radio"&&y.name!=null&&tn(p,y),Pt(N,_);var X=Pt(N,y);for(_=0;_<L.length;_+=2){var ue=L[_],fe=L[_+1];ue==="style"?Me(p,fe):ue==="dangerouslySetInnerHTML"?dt(p,fe):ue==="children"?Yt(p,fe):U(p,ue,fe,X)}switch(N){case"input":dn(p,y);break;case"textarea":He(p,y);break;case"select":var le=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!y.multiple;var we=y.value;we!=null?at(p,!!y.multiple,we,!1):le!==!!y.multiple&&(y.defaultValue!=null?at(p,!!y.multiple,y.defaultValue,!0):at(p,!!y.multiple,y.multiple?[]:"",!1))}p[fa]=y}catch(Re){Bt(r,r.return,Re)}}break;case 6:if(or(i,r),vr(r),d&4){if(r.stateNode===null)throw Error(n(162));p=r.stateNode,y=r.memoizedProps;try{p.nodeValue=y}catch(Re){Bt(r,r.return,Re)}}break;case 3:if(or(i,r),vr(r),d&4&&l!==null&&l.memoizedState.isDehydrated)try{ta(i.containerInfo)}catch(Re){Bt(r,r.return,Re)}break;case 4:or(i,r),vr(r);break;case 13:or(i,r),vr(r),p=r.child,p.flags&8192&&(y=p.memoizedState!==null,p.stateNode.isHidden=y,!y||p.alternate!==null&&p.alternate.memoizedState!==null||(_u=et())),d&4&&pm(r);break;case 22:if(ue=l!==null&&l.memoizedState!==null,r.mode&1?(gn=(X=gn)||ue,or(i,r),gn=X):or(i,r),vr(r),d&8192){if(X=r.memoizedState!==null,(r.stateNode.isHidden=X)&&!ue&&(r.mode&1)!==0)for(Ce=r,ue=r.child;ue!==null;){for(fe=Ce=ue;Ce!==null;){switch(le=Ce,we=le.child,le.tag){case 0:case 11:case 14:case 15:Sa(4,le,le.return);break;case 1:ki(le,le.return);var Ee=le.stateNode;if(typeof Ee.componentWillUnmount=="function"){d=le,l=le.return;try{i=d,Ee.props=i.memoizedProps,Ee.state=i.memoizedState,Ee.componentWillUnmount()}catch(Re){Bt(d,l,Re)}}break;case 5:ki(le,le.return);break;case 22:if(le.memoizedState!==null){xm(fe);continue}}we!==null?(we.return=le,Ce=we):xm(fe)}ue=ue.sibling}e:for(ue=null,fe=r;;){if(fe.tag===5){if(ue===null){ue=fe;try{p=fe.stateNode,X?(y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(N=fe.stateNode,L=fe.memoizedProps.style,_=L!=null&&L.hasOwnProperty("display")?L.display:null,N.style.display=Q("display",_))}catch(Re){Bt(r,r.return,Re)}}}else if(fe.tag===6){if(ue===null)try{fe.stateNode.nodeValue=X?"":fe.memoizedProps}catch(Re){Bt(r,r.return,Re)}}else if((fe.tag!==22&&fe.tag!==23||fe.memoizedState===null||fe===r)&&fe.child!==null){fe.child.return=fe,fe=fe.child;continue}if(fe===r)break e;for(;fe.sibling===null;){if(fe.return===null||fe.return===r)break e;ue===fe&&(ue=null),fe=fe.return}ue===fe&&(ue=null),fe.sibling.return=fe.return,fe=fe.sibling}}break;case 19:or(i,r),vr(r),d&4&&pm(r);break;case 21:break;default:or(i,r),vr(r)}}function vr(r){var i=r.flags;if(i&2){try{e:{for(var l=r.return;l!==null;){if(fm(l)){var d=l;break e}l=l.return}throw Error(n(160))}switch(d.tag){case 5:var p=d.stateNode;d.flags&32&&(Yt(p,""),d.flags&=-33);var y=hm(r);xu(r,y,p);break;case 3:case 4:var _=d.stateNode.containerInfo,N=hm(r);vu(r,N,_);break;default:throw Error(n(161))}}catch(L){Bt(r,r.return,L)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function Ox(r,i,l){Ce=r,ym(r)}function ym(r,i,l){for(var d=(r.mode&1)!==0;Ce!==null;){var p=Ce,y=p.child;if(p.tag===22&&d){var _=p.memoizedState!==null||Uo;if(!_){var N=p.alternate,L=N!==null&&N.memoizedState!==null||gn;N=Uo;var X=gn;if(Uo=_,(gn=L)&&!X)for(Ce=p;Ce!==null;)_=Ce,L=_.child,_.tag===22&&_.memoizedState!==null?bm(p):L!==null?(L.return=_,Ce=L):bm(p);for(;y!==null;)Ce=y,ym(y),y=y.sibling;Ce=p,Uo=N,gn=X}vm(r)}else(p.subtreeFlags&8772)!==0&&y!==null?(y.return=p,Ce=y):vm(r)}}function vm(r){for(;Ce!==null;){var i=Ce;if((i.flags&8772)!==0){var l=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:gn||Bo(5,i);break;case 1:var d=i.stateNode;if(i.flags&4&&!gn)if(l===null)d.componentDidMount();else{var p=i.elementType===i.type?l.memoizedProps:ir(i.type,l.memoizedProps);d.componentDidUpdate(p,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var y=i.updateQueue;y!==null&&xh(i,y,d);break;case 3:var _=i.updateQueue;if(_!==null){if(l=null,i.child!==null)switch(i.child.tag){case 5:l=i.child.stateNode;break;case 1:l=i.child.stateNode}xh(i,_,l)}break;case 5:var N=i.stateNode;if(l===null&&i.flags&4){l=N;var L=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":L.autoFocus&&l.focus();break;case"img":L.src&&(l.src=L.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var X=i.alternate;if(X!==null){var ue=X.memoizedState;if(ue!==null){var fe=ue.dehydrated;fe!==null&&ta(fe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}gn||i.flags&512&&yu(i)}catch(le){Bt(i,i.return,le)}}if(i===r){Ce=null;break}if(l=i.sibling,l!==null){l.return=i.return,Ce=l;break}Ce=i.return}}function xm(r){for(;Ce!==null;){var i=Ce;if(i===r){Ce=null;break}var l=i.sibling;if(l!==null){l.return=i.return,Ce=l;break}Ce=i.return}}function bm(r){for(;Ce!==null;){var i=Ce;try{switch(i.tag){case 0:case 11:case 15:var l=i.return;try{Bo(4,i)}catch(L){Bt(i,l,L)}break;case 1:var d=i.stateNode;if(typeof d.componentDidMount=="function"){var p=i.return;try{d.componentDidMount()}catch(L){Bt(i,p,L)}}var y=i.return;try{yu(i)}catch(L){Bt(i,y,L)}break;case 5:var _=i.return;try{yu(i)}catch(L){Bt(i,_,L)}}}catch(L){Bt(i,i.return,L)}if(i===r){Ce=null;break}var N=i.sibling;if(N!==null){N.return=i.return,Ce=N;break}Ce=i.return}}var Fx=Math.ceil,$o=O.ReactCurrentDispatcher,bu=O.ReactCurrentOwner,Yn=O.ReactCurrentBatchConfig,rt=0,sn=null,Xt=null,cn=0,Fn=0,Ci=ss(0),Zt=0,ka=null,Os=0,Ho=0,wu=0,Ca=null,kn=null,_u=0,ji=1/0,Or=null,Wo=!1,Su=null,us=null,Vo=!1,ds=null,Ko=0,ja=0,ku=null,Yo=-1,Xo=0;function xn(){return(rt&6)!==0?et():Yo!==-1?Yo:Yo=et()}function fs(r){return(r.mode&1)===0?1:(rt&2)!==0&&cn!==0?cn&-cn:bx.transition!==null?(Xo===0&&(Xo=ii()),Xo):(r=mt,r!==0||(r=window.event,r=r===void 0?16:_f(r.type)),r)}function lr(r,i,l,d){if(50<ja)throw ja=0,ku=null,Error(n(185));Gi(r,l,d),((rt&2)===0||r!==sn)&&(r===sn&&((rt&2)===0&&(Ho|=l),Zt===4&&hs(r,cn)),Cn(r,d),l===1&&rt===0&&(i.mode&1)===0&&(ji=et()+500,_o&&as()))}function Cn(r,i){var l=r.callbackNode;Gr(r,i);var d=Dt(r,r===sn?cn:0);if(d===0)l!==null&&Zn(l),r.callbackNode=null,r.callbackPriority=0;else if(i=d&-d,r.callbackPriority!==i){if(l!=null&&Zn(l),i===1)r.tag===0?xx(_m.bind(null,r)):oh(_m.bind(null,r)),px(function(){(rt&6)===0&&as()}),l=null;else{switch(mf(d)){case 1:l=er;break;case 4:l=$n;break;case 16:l=tr;break;case 536870912:l=qe;break;default:l=tr}l=Mm(l,wm.bind(null,r))}r.callbackPriority=i,r.callbackNode=l}}function wm(r,i){if(Yo=-1,Xo=0,(rt&6)!==0)throw Error(n(327));var l=r.callbackNode;if(Ei()&&r.callbackNode!==l)return null;var d=Dt(r,r===sn?cn:0);if(d===0)return null;if((d&30)!==0||(d&r.expiredLanes)!==0||i)i=Qo(r,d);else{i=d;var p=rt;rt|=2;var y=km();(sn!==r||cn!==i)&&(Or=null,ji=et()+500,Is(r,i));do try{Ux();break}catch(N){Sm(r,N)}while(!0);$c(),$o.current=y,rt=p,Xt!==null?i=0:(sn=null,cn=0,i=Zt)}if(i!==0){if(i===2&&(p=Nr(r),p!==0&&(d=p,i=Cu(r,p))),i===1)throw l=ka,Is(r,0),hs(r,d),Cn(r,et()),l;if(i===6)hs(r,d);else{if(p=r.current.alternate,(d&30)===0&&!Ix(p)&&(i=Qo(r,d),i===2&&(y=Nr(r),y!==0&&(d=y,i=Cu(r,y))),i===1))throw l=ka,Is(r,0),hs(r,d),Cn(r,et()),l;switch(r.finishedWork=p,r.finishedLanes=d,i){case 0:case 1:throw Error(n(345));case 2:zs(r,kn,Or);break;case 3:if(hs(r,d),(d&130023424)===d&&(i=_u+500-et(),10<i)){if(Dt(r,0)!==0)break;if(p=r.suspendedLanes,(p&d)!==d){xn(),r.pingedLanes|=r.suspendedLanes&p;break}r.timeoutHandle=Tc(zs.bind(null,r,kn,Or),i);break}zs(r,kn,Or);break;case 4:if(hs(r,d),(d&4194240)===d)break;for(i=r.eventTimes,p=-1;0<d;){var _=31-tt(d);y=1<<_,_=i[_],_>p&&(p=_),d&=~y}if(d=p,d=et()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*Fx(d/1960))-d,10<d){r.timeoutHandle=Tc(zs.bind(null,r,kn,Or),d);break}zs(r,kn,Or);break;case 5:zs(r,kn,Or);break;default:throw Error(n(329))}}}return Cn(r,et()),r.callbackNode===l?wm.bind(null,r):null}function Cu(r,i){var l=Ca;return r.current.memoizedState.isDehydrated&&(Is(r,i).flags|=256),r=Qo(r,i),r!==2&&(i=kn,kn=l,i!==null&&ju(i)),r}function ju(r){kn===null?kn=r:kn.push.apply(kn,r)}function Ix(r){for(var i=r;;){if(i.flags&16384){var l=i.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var p=l[d],y=p.getSnapshot;p=p.value;try{if(!rr(y(),p))return!1}catch{return!1}}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function hs(r,i){for(i&=~wu,i&=~Ho,r.suspendedLanes|=i,r.pingedLanes&=~i,r=r.expirationTimes;0<i;){var l=31-tt(i),d=1<<l;r[l]=-1,i&=~d}}function _m(r){if((rt&6)!==0)throw Error(n(327));Ei();var i=Dt(r,0);if((i&1)===0)return Cn(r,et()),null;var l=Qo(r,i);if(r.tag!==0&&l===2){var d=Nr(r);d!==0&&(i=d,l=Cu(r,d))}if(l===1)throw l=ka,Is(r,0),hs(r,i),Cn(r,et()),l;if(l===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=i,zs(r,kn,Or),Cn(r,et()),null}function Eu(r,i){var l=rt;rt|=1;try{return r(i)}finally{rt=l,rt===0&&(ji=et()+500,_o&&as())}}function Fs(r){ds!==null&&ds.tag===0&&(rt&6)===0&&Ei();var i=rt;rt|=1;var l=Yn.transition,d=mt;try{if(Yn.transition=null,mt=1,r)return r()}finally{mt=d,Yn.transition=l,rt=i,(rt&6)===0&&as()}}function Nu(){Fn=Ci.current,Nt(Ci)}function Is(r,i){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,mx(l)),Xt!==null)for(l=Xt.return;l!==null;){var d=l;switch(Fc(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&bo();break;case 3:_i(),Nt(wn),Nt(hn),Gc();break;case 5:Xc(d);break;case 4:_i();break;case 13:Nt(zt);break;case 19:Nt(zt);break;case 10:Hc(d.type._context);break;case 22:case 23:Nu()}l=l.return}if(sn=r,Xt=r=ms(r.current,null),cn=Fn=i,Zt=0,ka=null,wu=Ho=Os=0,kn=Ca=null,Ds!==null){for(i=0;i<Ds.length;i++)if(l=Ds[i],d=l.interleaved,d!==null){l.interleaved=null;var p=d.next,y=l.pending;if(y!==null){var _=y.next;y.next=p,d.next=_}l.pending=d}Ds=null}return r}function Sm(r,i){do{var l=Xt;try{if($c(),Po.current=Oo,Do){for(var d=Ut.memoizedState;d!==null;){var p=d.queue;p!==null&&(p.pending=null),d=d.next}Do=!1}if(Ls=0,rn=Jt=Ut=null,va=!1,xa=0,bu.current=null,l===null||l.return===null){Zt=1,ka=i,Xt=null;break}e:{var y=r,_=l.return,N=l,L=i;if(i=cn,N.flags|=32768,L!==null&&typeof L=="object"&&typeof L.then=="function"){var X=L,ue=N,fe=ue.tag;if((ue.mode&1)===0&&(fe===0||fe===11||fe===15)){var le=ue.alternate;le?(ue.updateQueue=le.updateQueue,ue.memoizedState=le.memoizedState,ue.lanes=le.lanes):(ue.updateQueue=null,ue.memoizedState=null)}var we=Xh(_);if(we!==null){we.flags&=-257,Qh(we,_,N,y,i),we.mode&1&&Yh(y,X,i),i=we,L=X;var Ee=i.updateQueue;if(Ee===null){var Re=new Set;Re.add(L),i.updateQueue=Re}else Ee.add(L);break e}else{if((i&1)===0){Yh(y,X,i),Ru();break e}L=Error(n(426))}}else if(At&&N.mode&1){var $t=Xh(_);if($t!==null){($t.flags&65536)===0&&($t.flags|=256),Qh($t,_,N,y,i),Uc(Si(L,N));break e}}y=L=Si(L,N),Zt!==4&&(Zt=2),Ca===null?Ca=[y]:Ca.push(y),y=_;do{switch(y.tag){case 3:y.flags|=65536,i&=-i,y.lanes|=i;var H=Vh(y,L,i);vh(y,H);break e;case 1:N=L;var F=y.type,Y=y.stateNode;if((y.flags&128)===0&&(typeof F.getDerivedStateFromError=="function"||Y!==null&&typeof Y.componentDidCatch=="function"&&(us===null||!us.has(Y)))){y.flags|=65536,i&=-i,y.lanes|=i;var me=Kh(y,N,i);vh(y,me);break e}}y=y.return}while(y!==null)}jm(l)}catch(Pe){i=Pe,Xt===l&&l!==null&&(Xt=l=l.return);continue}break}while(!0)}function km(){var r=$o.current;return $o.current=Oo,r===null?Oo:r}function Ru(){(Zt===0||Zt===3||Zt===2)&&(Zt=4),sn===null||(Os&268435455)===0&&(Ho&268435455)===0||hs(sn,cn)}function Qo(r,i){var l=rt;rt|=2;var d=km();(sn!==r||cn!==i)&&(Or=null,Is(r,i));do try{zx();break}catch(p){Sm(r,p)}while(!0);if($c(),rt=l,$o.current=d,Xt!==null)throw Error(n(261));return sn=null,cn=0,Zt}function zx(){for(;Xt!==null;)Cm(Xt)}function Ux(){for(;Xt!==null&&!mr();)Cm(Xt)}function Cm(r){var i=Rm(r.alternate,r,Fn);r.memoizedProps=r.pendingProps,i===null?jm(r):Xt=i,bu.current=null}function jm(r){var i=r;do{var l=i.alternate;if(r=i.return,(i.flags&32768)===0){if(l=Px(l,i,Fn),l!==null){Xt=l;return}}else{if(l=Dx(l,i),l!==null){l.flags&=32767,Xt=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Zt=6,Xt=null;return}}if(i=i.sibling,i!==null){Xt=i;return}Xt=i=r}while(i!==null);Zt===0&&(Zt=5)}function zs(r,i,l){var d=mt,p=Yn.transition;try{Yn.transition=null,mt=1,Bx(r,i,l,d)}finally{Yn.transition=p,mt=d}return null}function Bx(r,i,l,d){do Ei();while(ds!==null);if((rt&6)!==0)throw Error(n(327));l=r.finishedWork;var p=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var y=l.lanes|l.childLanes;if(wv(r,y),r===sn&&(Xt=sn=null,cn=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Vo||(Vo=!0,Mm(tr,function(){return Ei(),null})),y=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||y){y=Yn.transition,Yn.transition=null;var _=mt;mt=1;var N=rt;rt|=4,bu.current=null,Lx(r,l),gm(l,r),ox(Rc),io=!!Nc,Rc=Nc=null,r.current=l,Ox(l),Dn(),rt=N,mt=_,Yn.transition=y}else r.current=l;if(Vo&&(Vo=!1,ds=r,Ko=p),y=r.pendingLanes,y===0&&(us=null),Qr(l.stateNode),Cn(r,et()),i!==null)for(d=r.onRecoverableError,l=0;l<i.length;l++)p=i[l],d(p.value,{componentStack:p.stack,digest:p.digest});if(Wo)throw Wo=!1,r=Su,Su=null,r;return(Ko&1)!==0&&r.tag!==0&&Ei(),y=r.pendingLanes,(y&1)!==0?r===ku?ja++:(ja=0,ku=r):ja=0,as(),null}function Ei(){if(ds!==null){var r=mf(Ko),i=Yn.transition,l=mt;try{if(Yn.transition=null,mt=16>r?16:r,ds===null)var d=!1;else{if(r=ds,ds=null,Ko=0,(rt&6)!==0)throw Error(n(331));var p=rt;for(rt|=4,Ce=r.current;Ce!==null;){var y=Ce,_=y.child;if((Ce.flags&16)!==0){var N=y.deletions;if(N!==null){for(var L=0;L<N.length;L++){var X=N[L];for(Ce=X;Ce!==null;){var ue=Ce;switch(ue.tag){case 0:case 11:case 15:Sa(8,ue,y)}var fe=ue.child;if(fe!==null)fe.return=ue,Ce=fe;else for(;Ce!==null;){ue=Ce;var le=ue.sibling,we=ue.return;if(dm(ue),ue===X){Ce=null;break}if(le!==null){le.return=we,Ce=le;break}Ce=we}}}var Ee=y.alternate;if(Ee!==null){var Re=Ee.child;if(Re!==null){Ee.child=null;do{var $t=Re.sibling;Re.sibling=null,Re=$t}while(Re!==null)}}Ce=y}}if((y.subtreeFlags&2064)!==0&&_!==null)_.return=y,Ce=_;else e:for(;Ce!==null;){if(y=Ce,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:Sa(9,y,y.return)}var H=y.sibling;if(H!==null){H.return=y.return,Ce=H;break e}Ce=y.return}}var F=r.current;for(Ce=F;Ce!==null;){_=Ce;var Y=_.child;if((_.subtreeFlags&2064)!==0&&Y!==null)Y.return=_,Ce=Y;else e:for(_=F;Ce!==null;){if(N=Ce,(N.flags&2048)!==0)try{switch(N.tag){case 0:case 11:case 15:Bo(9,N)}}catch(Pe){Bt(N,N.return,Pe)}if(N===_){Ce=null;break e}var me=N.sibling;if(me!==null){me.return=N.return,Ce=me;break e}Ce=N.return}}if(rt=p,as(),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(ht,r)}catch{}d=!0}return d}finally{mt=l,Yn.transition=i}}return!1}function Em(r,i,l){i=Si(l,i),i=Vh(r,i,1),r=ls(r,i,1),i=xn(),r!==null&&(Gi(r,1,i),Cn(r,i))}function Bt(r,i,l){if(r.tag===3)Em(r,r,l);else for(;i!==null;){if(i.tag===3){Em(i,r,l);break}else if(i.tag===1){var d=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(us===null||!us.has(d))){r=Si(l,r),r=Kh(i,r,1),i=ls(i,r,1),r=xn(),i!==null&&(Gi(i,1,r),Cn(i,r));break}}i=i.return}}function $x(r,i,l){var d=r.pingCache;d!==null&&d.delete(i),i=xn(),r.pingedLanes|=r.suspendedLanes&l,sn===r&&(cn&l)===l&&(Zt===4||Zt===3&&(cn&130023424)===cn&&500>et()-_u?Is(r,0):wu|=l),Cn(r,i)}function Nm(r,i){i===0&&((r.mode&1)===0?i=1:(i=Ie,Ie<<=1,(Ie&130023424)===0&&(Ie=4194304)));var l=xn();r=Dr(r,i),r!==null&&(Gi(r,i,l),Cn(r,l))}function Hx(r){var i=r.memoizedState,l=0;i!==null&&(l=i.retryLane),Nm(r,l)}function Wx(r,i){var l=0;switch(r.tag){case 13:var d=r.stateNode,p=r.memoizedState;p!==null&&(l=p.retryLane);break;case 19:d=r.stateNode;break;default:throw Error(n(314))}d!==null&&d.delete(i),Nm(r,l)}var Rm;Rm=function(r,i,l){if(r!==null)if(r.memoizedProps!==i.pendingProps||wn.current)Sn=!0;else{if((r.lanes&l)===0&&(i.flags&128)===0)return Sn=!1,Tx(r,i,l);Sn=(r.flags&131072)!==0}else Sn=!1,At&&(i.flags&1048576)!==0&&lh(i,ko,i.index);switch(i.lanes=0,i.tag){case 2:var d=i.type;zo(r,i),r=i.pendingProps;var p=pi(i,hn.current);wi(i,l),p=Zc(null,i,d,r,p,l);var y=eu();return i.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,_n(d)?(y=!0,wo(i)):y=!1,i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Kc(i),p.updater=Fo,i.stateNode=p,p._reactInternals=i,au(i,d,r,l),i=uu(null,i,d,!0,y,l)):(i.tag=0,At&&y&&Oc(i),vn(null,i,p,l),i=i.child),i;case 16:d=i.elementType;e:{switch(zo(r,i),r=i.pendingProps,p=d._init,d=p(d._payload),i.type=d,p=i.tag=Kx(d),r=ir(d,r),p){case 0:i=cu(null,i,d,r,l);break e;case 1:i=tm(null,i,d,r,l);break e;case 11:i=Gh(null,i,d,r,l);break e;case 14:i=qh(null,i,d,ir(d.type,r),l);break e}throw Error(n(306,d,""))}return i;case 0:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:ir(d,p),cu(r,i,d,p,l);case 1:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:ir(d,p),tm(r,i,d,p,l);case 3:e:{if(nm(i),r===null)throw Error(n(387));d=i.pendingProps,y=i.memoizedState,p=y.element,yh(r,i),Mo(i,d,null,l);var _=i.memoizedState;if(d=_.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){p=Si(Error(n(423)),i),i=rm(r,i,d,l,p);break e}else if(d!==p){p=Si(Error(n(424)),i),i=rm(r,i,d,l,p);break e}else for(On=rs(i.stateNode.containerInfo.firstChild),Ln=i,At=!0,sr=null,l=ph(i,null,d,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(vi(),d===p){i=Lr(r,i,l);break e}vn(r,i,d,l)}i=i.child}return i;case 5:return bh(i),r===null&&zc(i),d=i.type,p=i.pendingProps,y=r!==null?r.memoizedProps:null,_=p.children,Mc(d,p)?_=null:y!==null&&Mc(d,y)&&(i.flags|=32),em(r,i),vn(r,i,_,l),i.child;case 6:return r===null&&zc(i),null;case 13:return sm(r,i,l);case 4:return Yc(i,i.stateNode.containerInfo),d=i.pendingProps,r===null?i.child=xi(i,null,d,l):vn(r,i,d,l),i.child;case 11:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:ir(d,p),Gh(r,i,d,p,l);case 7:return vn(r,i,i.pendingProps,l),i.child;case 8:return vn(r,i,i.pendingProps.children,l),i.child;case 12:return vn(r,i,i.pendingProps.children,l),i.child;case 10:e:{if(d=i.type._context,p=i.pendingProps,y=i.memoizedProps,_=p.value,kt(Eo,d._currentValue),d._currentValue=_,y!==null)if(rr(y.value,_)){if(y.children===p.children&&!wn.current){i=Lr(r,i,l);break e}}else for(y=i.child,y!==null&&(y.return=i);y!==null;){var N=y.dependencies;if(N!==null){_=y.child;for(var L=N.firstContext;L!==null;){if(L.context===d){if(y.tag===1){L=Ar(-1,l&-l),L.tag=2;var X=y.updateQueue;if(X!==null){X=X.shared;var ue=X.pending;ue===null?L.next=L:(L.next=ue.next,ue.next=L),X.pending=L}}y.lanes|=l,L=y.alternate,L!==null&&(L.lanes|=l),Wc(y.return,l,i),N.lanes|=l;break}L=L.next}}else if(y.tag===10)_=y.type===i.type?null:y.child;else if(y.tag===18){if(_=y.return,_===null)throw Error(n(341));_.lanes|=l,N=_.alternate,N!==null&&(N.lanes|=l),Wc(_,l,i),_=y.sibling}else _=y.child;if(_!==null)_.return=y;else for(_=y;_!==null;){if(_===i){_=null;break}if(y=_.sibling,y!==null){y.return=_.return,_=y;break}_=_.return}y=_}vn(r,i,p.children,l),i=i.child}return i;case 9:return p=i.type,d=i.pendingProps.children,wi(i,l),p=Vn(p),d=d(p),i.flags|=1,vn(r,i,d,l),i.child;case 14:return d=i.type,p=ir(d,i.pendingProps),p=ir(d.type,p),qh(r,i,d,p,l);case 15:return Jh(r,i,i.type,i.pendingProps,l);case 17:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:ir(d,p),zo(r,i),i.tag=1,_n(d)?(r=!0,wo(i)):r=!1,wi(i,l),Hh(i,d,p),au(i,d,p,l),uu(null,i,d,!0,r,l);case 19:return am(r,i,l);case 22:return Zh(r,i,l)}throw Error(n(156,i.tag))};function Mm(r,i){return vt(r,i)}function Vx(r,i,l,d){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xn(r,i,l,d){return new Vx(r,i,l,d)}function Mu(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Kx(r){if(typeof r=="function")return Mu(r)?1:0;if(r!=null){if(r=r.$$typeof,r===W)return 11;if(r===ne)return 14}return 2}function ms(r,i){var l=r.alternate;return l===null?(l=Xn(r.tag,i,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=i,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,i=r.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function Go(r,i,l,d,p,y){var _=2;if(d=r,typeof r=="function")Mu(r)&&(_=1);else if(typeof r=="string")_=5;else e:switch(r){case M:return Us(l.children,p,y,i);case z:_=8,p|=8;break;case J:return r=Xn(12,l,i,p|2),r.elementType=J,r.lanes=y,r;case K:return r=Xn(13,l,i,p),r.elementType=K,r.lanes=y,r;case te:return r=Xn(19,l,i,p),r.elementType=te,r.lanes=y,r;case ve:return qo(l,p,y,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case E:_=10;break e;case R:_=9;break e;case W:_=11;break e;case ne:_=14;break e;case ce:_=16,d=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return i=Xn(_,l,i,p),i.elementType=r,i.type=d,i.lanes=y,i}function Us(r,i,l,d){return r=Xn(7,r,d,i),r.lanes=l,r}function qo(r,i,l,d){return r=Xn(22,r,d,i),r.elementType=ve,r.lanes=l,r.stateNode={isHidden:!1},r}function Tu(r,i,l){return r=Xn(6,r,null,i),r.lanes=l,r}function Pu(r,i,l){return i=Xn(4,r.children!==null?r.children:[],r.key,i),i.lanes=l,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function Yx(r,i,l,d,p){this.tag=i,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ic(0),this.expirationTimes=ic(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ic(0),this.identifierPrefix=d,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function Du(r,i,l,d,p,y,_,N,L){return r=new Yx(r,i,l,N,L),i===1?(i=1,y===!0&&(i|=8)):i=0,y=Xn(3,null,null,i),r.current=y,y.stateNode=r,y.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Kc(y),r}function Xx(r,i,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:q,key:d==null?null:""+d,children:r,containerInfo:i,implementation:l}}function Tm(r){if(!r)return is;r=r._reactInternals;e:{if(xe(r)!==r||r.tag!==1)throw Error(n(170));var i=r;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(_n(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(n(171))}if(r.tag===1){var l=r.type;if(_n(l))return ih(r,l,i)}return i}function Pm(r,i,l,d,p,y,_,N,L){return r=Du(l,d,!0,r,p,y,_,N,L),r.context=Tm(null),l=r.current,d=xn(),p=fs(l),y=Ar(d,p),y.callback=i??null,ls(l,y,p),r.current.lanes=p,Gi(r,p,d),Cn(r,d),r}function Jo(r,i,l,d){var p=i.current,y=xn(),_=fs(p);return l=Tm(l),i.context===null?i.context=l:i.pendingContext=l,i=Ar(y,_),i.payload={element:r},d=d===void 0?null:d,d!==null&&(i.callback=d),r=ls(p,i,_),r!==null&&(lr(r,p,_,y),Ro(r,p,_)),_}function Zo(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Dm(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<i?l:i}}function Au(r,i){Dm(r,i),(r=r.alternate)&&Dm(r,i)}function Qx(){return null}var Am=typeof reportError=="function"?reportError:function(r){console.error(r)};function Lu(r){this._internalRoot=r}el.prototype.render=Lu.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(n(409));Jo(r,i,null,null)},el.prototype.unmount=Lu.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;Fs(function(){Jo(null,r,null,null)}),i[Rr]=null}};function el(r){this._internalRoot=r}el.prototype.unstable_scheduleHydration=function(r){if(r){var i=yf();r={blockedOn:null,target:r,priority:i};for(var l=0;l<es.length&&i!==0&&i<es[l].priority;l++);es.splice(l,0,r),l===0&&bf(r)}};function Ou(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function tl(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Lm(){}function Gx(r,i,l,d,p){if(p){if(typeof d=="function"){var y=d;d=function(){var X=Zo(_);y.call(X)}}var _=Pm(i,d,r,0,null,!1,!1,"",Lm);return r._reactRootContainer=_,r[Rr]=_.current,ua(r.nodeType===8?r.parentNode:r),Fs(),_}for(;p=r.lastChild;)r.removeChild(p);if(typeof d=="function"){var N=d;d=function(){var X=Zo(L);N.call(X)}}var L=Du(r,0,!1,null,null,!1,!1,"",Lm);return r._reactRootContainer=L,r[Rr]=L.current,ua(r.nodeType===8?r.parentNode:r),Fs(function(){Jo(i,L,l,d)}),L}function nl(r,i,l,d,p){var y=l._reactRootContainer;if(y){var _=y;if(typeof p=="function"){var N=p;p=function(){var L=Zo(_);N.call(L)}}Jo(i,_,r,p)}else _=Gx(l,i,r,p,d);return Zo(_)}pf=function(r){switch(r.tag){case 3:var i=r.stateNode;if(i.current.memoizedState.isDehydrated){var l=Qe(i.pendingLanes);l!==0&&(ac(i,l|1),Cn(i,et()),(rt&6)===0&&(ji=et()+500,as()))}break;case 13:Fs(function(){var d=Dr(r,1);if(d!==null){var p=xn();lr(d,r,1,p)}}),Au(r,1)}},oc=function(r){if(r.tag===13){var i=Dr(r,134217728);if(i!==null){var l=xn();lr(i,r,134217728,l)}Au(r,134217728)}},gf=function(r){if(r.tag===13){var i=fs(r),l=Dr(r,i);if(l!==null){var d=xn();lr(l,r,i,d)}Au(r,i)}},yf=function(){return mt},vf=function(r,i){var l=mt;try{return mt=r,i()}finally{mt=l}},ye=function(r,i,l){switch(i){case"input":if(dn(r,l),i=l.name,l.type==="radio"&&i!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<l.length;i++){var d=l[i];if(d!==r&&d.form===r.form){var p=xo(d);if(!p)throw Error(n(90));Ze(d),dn(d,p)}}}break;case"textarea":He(r,l);break;case"select":i=l.value,i!=null&&at(r,!!l.multiple,i,!1)}},Xr=Eu,Er=Fs;var qx={usingClientEntryPoint:!1,Events:[ha,hi,xo,fr,js,Eu]},Ea={findFiberByHostInstance:Rs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Jx={bundleType:Ea.bundleType,version:Ea.version,rendererPackageName:Ea.rendererPackageName,rendererConfig:Ea.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:O.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=lt(r),r===null?null:r.stateNode},findFiberByHostInstance:Ea.findFiberByHostInstance||Qx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rl.isDisabled&&rl.supportsFiber)try{ht=rl.inject(Jx),qt=rl}catch{}}return jn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qx,jn.createPortal=function(r,i){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ou(i))throw Error(n(200));return Xx(r,i,null,l)},jn.createRoot=function(r,i){if(!Ou(r))throw Error(n(299));var l=!1,d="",p=Am;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onRecoverableError!==void 0&&(p=i.onRecoverableError)),i=Du(r,1,!1,null,null,l,!1,d,p),r[Rr]=i.current,ua(r.nodeType===8?r.parentNode:r),new Lu(i)},jn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=lt(i),r=r===null?null:r.stateNode,r},jn.flushSync=function(r){return Fs(r)},jn.hydrate=function(r,i,l){if(!tl(i))throw Error(n(200));return nl(null,r,i,!0,l)},jn.hydrateRoot=function(r,i,l){if(!Ou(r))throw Error(n(405));var d=l!=null&&l.hydratedSources||null,p=!1,y="",_=Am;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(_=l.onRecoverableError)),i=Pm(i,null,r,1,l??null,p,!1,y,_),r[Rr]=i.current,ua(r),d)for(r=0;r<d.length;r++)l=d[r],p=l._getVersion,p=p(l._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[l,p]:i.mutableSourceEagerHydrationData.push(l,p);return new el(i)},jn.render=function(r,i,l){if(!tl(i))throw Error(n(200));return nl(null,r,i,!1,l)},jn.unmountComponentAtNode=function(r){if(!tl(r))throw Error(n(40));return r._reactRootContainer?(Fs(function(){nl(null,null,r,!1,function(){r._reactRootContainer=null,r[Rr]=null})}),!0):!1},jn.unstable_batchedUpdates=Eu,jn.unstable_renderSubtreeIntoContainer=function(r,i,l,d){if(!tl(l))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return nl(r,i,l,!1,d)},jn.version="18.3.1-next-f1338f8080-20240426",jn}var Hm;function Qg(){if(Hm)return zu.exports;Hm=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),zu.exports=ab(),zu.exports}var Wm;function ob(){if(Wm)return sl;Wm=1;var t=Qg();return sl.createRoot=t.createRoot,sl.hydrateRoot=t.hydrateRoot,sl}var lb=ob();const cb=Dd(lb);var Gg=Qg();const ub=Dd(Gg),db=Xg({__proto__:null,default:ub},[Gg]);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ot(){return Ot=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Ot.apply(this,arguments)}var Qt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Qt||(Qt={}));const Vm="popstate";function fb(t){t===void 0&&(t={});function e(s,a){let{pathname:o,search:c,hash:u}=s.location;return Xa("",{pathname:o,search:c,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:Zs(a)}return mb(e,n,null,t)}function Ve(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ui(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function hb(){return Math.random().toString(36).substr(2,8)}function Km(t,e){return{usr:t.state,key:t.key,idx:e}}function Xa(t,e,n,s){return n===void 0&&(n=null),Ot({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ks(e):e,{state:n,key:e&&e.key||s||hb()})}function Zs(t){let{pathname:e="/",search:n="",hash:s=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function ks(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substr(s),t=t.substr(0,s)),t&&(e.pathname=t)}return e}function mb(t,e,n,s){s===void 0&&(s={});let{window:a=document.defaultView,v5Compat:o=!1}=s,c=a.history,u=Qt.Pop,f=null,m=g();m==null&&(m=0,c.replaceState(Ot({},c.state,{idx:m}),""));function g(){return(c.state||{idx:null}).idx}function v(){u=Qt.Pop;let C=g(),A=C==null?null:C-m;m=C,f&&f({action:u,location:k.location,delta:A})}function x(C,A){u=Qt.Push;let P=Xa(k.location,C,A);m=g()+1;let U=Km(P,m),O=k.createHref(P);try{c.pushState(U,"",O)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;a.location.assign(O)}o&&f&&f({action:u,location:k.location,delta:1})}function w(C,A){u=Qt.Replace;let P=Xa(k.location,C,A);m=g();let U=Km(P,m),O=k.createHref(P);c.replaceState(U,"",O),o&&f&&f({action:u,location:k.location,delta:0})}function S(C){let A=a.location.origin!=="null"?a.location.origin:a.location.href,P=typeof C=="string"?C:Zs(C);return P=P.replace(/ $/,"%20"),Ve(A,"No window.location.(origin|href) available to create URL for href: "+P),new URL(P,A)}let k={get action(){return u},get location(){return t(a,c)},listen(C){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(Vm,v),f=C,()=>{a.removeEventListener(Vm,v),f=null}},createHref(C){return e(a,C)},createURL:S,encodeLocation(C){let A=S(C);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:x,replace:w,go(C){return c.go(C)}};return k}var pt;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(pt||(pt={}));const pb=new Set(["lazy","caseSensitive","path","id","index","children"]);function gb(t){return t.index===!0}function Ml(t,e,n,s){return n===void 0&&(n=[]),s===void 0&&(s={}),t.map((a,o)=>{let c=[...n,String(o)],u=typeof a.id=="string"?a.id:c.join("-");if(Ve(a.index!==!0||!a.children,"Cannot specify children on an index route"),Ve(!s[u],'Found a route id collision on id "'+u+`".  Route id's must be globally unique within Data Router usages`),gb(a)){let f=Ot({},a,e(a),{id:u});return s[u]=f,f}else{let f=Ot({},a,e(a),{id:u,children:void 0});return s[u]=f,a.children&&(f.children=Ml(a.children,e,c,s)),f}})}function Vs(t,e,n){return n===void 0&&(n="/"),Cl(t,e,n,!1)}function Cl(t,e,n,s){let a=typeof e=="string"?ks(e):e,o=Wr(a.pathname||"/",n);if(o==null)return null;let c=qg(t);vb(c);let u=null;for(let f=0;u==null&&f<c.length;++f){let m=Rb(o);u=Eb(c[f],m,s)}return u}function yb(t,e){let{route:n,pathname:s,params:a}=t;return{id:n.id,pathname:s,params:a,data:e[n.id],handle:n.handle}}function qg(t,e,n,s){e===void 0&&(e=[]),n===void 0&&(n=[]),s===void 0&&(s="");let a=(o,c,u)=>{let f={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};f.relativePath.startsWith("/")&&(Ve(f.relativePath.startsWith(s),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(s.length));let m=Hr([s,f.relativePath]),g=n.concat(f);o.children&&o.children.length>0&&(Ve(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),qg(o.children,e,g,m)),!(o.path==null&&!o.index)&&e.push({path:m,score:Cb(m,o.index),routesMeta:g})};return t.forEach((o,c)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))a(o,c);else for(let f of Jg(o.path))a(o,c,f)}),e}function Jg(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(s.length===0)return a?[o,""]:[o];let c=Jg(s.join("/")),u=[];return u.push(...c.map(f=>f===""?o:[o,f].join("/"))),a&&u.push(...c),u.map(f=>t.startsWith("/")&&f===""?"/":f)}function vb(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:jb(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const xb=/^:[\w-]+$/,bb=3,wb=2,_b=1,Sb=10,kb=-2,Ym=t=>t==="*";function Cb(t,e){let n=t.split("/"),s=n.length;return n.some(Ym)&&(s+=kb),e&&(s+=wb),n.filter(a=>!Ym(a)).reduce((a,o)=>a+(xb.test(o)?bb:o===""?_b:Sb),s)}function jb(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function Eb(t,e,n){n===void 0&&(n=!1);let{routesMeta:s}=t,a={},o="/",c=[];for(let u=0;u<s.length;++u){let f=s[u],m=u===s.length-1,g=o==="/"?e:e.slice(o.length)||"/",v=Tl({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},g),x=f.route;if(!v&&m&&n&&!s[s.length-1].route.index&&(v=Tl({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!v)return null;Object.assign(a,v.params),c.push({params:a,pathname:Hr([o,v.pathname]),pathnameBase:Pb(Hr([o,v.pathnameBase])),route:x}),v.pathnameBase!=="/"&&(o=Hr([o,v.pathnameBase]))}return c}function Tl(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=Nb(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let o=a[0],c=o.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:s.reduce((m,g,v)=>{let{paramName:x,isOptional:w}=g;if(x==="*"){let k=u[v]||"";c=o.slice(0,o.length-k.length).replace(/(.)\/+$/,"$1")}const S=u[v];return w&&!S?m[x]=void 0:m[x]=(S||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:c,pattern:t}}function Nb(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Ui(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,f)=>(s.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function Rb(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ui(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Wr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function Mb(t,e){e===void 0&&(e="/");let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?ks(t):t;return{pathname:n?n.startsWith("/")?n:Tb(n,e):e,search:Db(s),hash:Ab(a)}}function Tb(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function $u(t,e,n,s){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Zg(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Xl(t,e){let n=Zg(t);return e?n.map((s,a)=>a===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function Ql(t,e,n,s){s===void 0&&(s=!1);let a;typeof t=="string"?a=ks(t):(a=Ot({},t),Ve(!a.pathname||!a.pathname.includes("?"),$u("?","pathname","search",a)),Ve(!a.pathname||!a.pathname.includes("#"),$u("#","pathname","hash",a)),Ve(!a.search||!a.search.includes("#"),$u("#","search","hash",a)));let o=t===""||a.pathname==="",c=o?"/":a.pathname,u;if(c==null)u=n;else{let v=e.length-1;if(!s&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),v-=1;a.pathname=x.join("/")}u=v>=0?e[v]:"/"}let f=Mb(a,u),m=c&&c!=="/"&&c.endsWith("/"),g=(o||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(m||g)&&(f.pathname+="/"),f}const Hr=t=>t.join("/").replace(/\/\/+/g,"/"),Pb=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Db=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Ab=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Pl{constructor(e,n,s,a){a===void 0&&(a=!1),this.status=e,this.statusText=n||"",this.internal=a,s instanceof Error?(this.data=s.toString(),this.error=s):this.data=s}}function Qa(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const ey=["post","put","patch","delete"],Lb=new Set(ey),Ob=["get",...ey],Fb=new Set(Ob),Ib=new Set([301,302,303,307,308]),zb=new Set([307,308]),Hu={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ub={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ra={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Ld=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bb=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),ty="remix-router-transitions";function $b(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",s=!n;Ve(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let a;if(t.mapRouteProperties)a=t.mapRouteProperties;else if(t.detectErrorBoundary){let D=t.detectErrorBoundary;a=$=>({hasErrorBoundary:D($)})}else a=Bb;let o={},c=Ml(t.routes,a,void 0,o),u,f=t.basename||"/",m=t.dataStrategy||Kb,g=t.patchRoutesOnNavigation,v=Ot({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),x=null,w=new Set,S=null,k=null,C=null,A=t.hydrationData!=null,P=Vs(c,t.history.location,f),U=!1,O=null;if(P==null&&!g){let D=Nn(404,{pathname:t.history.location.pathname}),{matches:$,route:G}=sp(c);P=$,O={[G.id]:D}}P&&!t.hydrationData&&Er(P,c,t.history.location.pathname).active&&(P=null);let V;if(P)if(P.some(D=>D.route.lazy))V=!1;else if(!P.some(D=>D.route.loader))V=!0;else if(v.v7_partialHydration){let D=t.hydrationData?t.hydrationData.loaderData:null,$=t.hydrationData?t.hydrationData.errors:null;if($){let G=P.findIndex(oe=>$[oe.route.id]!==void 0);V=P.slice(0,G+1).every(oe=>!pd(oe.route,D,$))}else V=P.every(G=>!pd(G.route,D,$))}else V=t.hydrationData!=null;else if(V=!1,P=[],v.v7_partialHydration){let D=Er(null,c,t.history.location.pathname);D.active&&D.matches&&(U=!0,P=D.matches)}let q,M={historyAction:t.history.action,location:t.history.location,matches:P,initialized:V,navigation:Hu,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||O,fetchers:new Map,blockers:new Map},z=Qt.Pop,J=!1,E,R=!1,W=new Map,K=null,te=!1,ne=!1,ce=[],ve=new Set,ee=new Map,ae=0,T=-1,j=new Map,B=new Set,I=new Map,re=new Map,ie=new Set,de=new Map,Ne=new Map,he;function Ue(){if(x=t.history.listen(D=>{let{action:$,location:G,delta:oe}=D;if(he){he(),he=void 0;return}Ui(Ne.size===0||oe!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ge=ye({currentLocation:M.location,nextLocation:G,historyAction:$});if(ge&&oe!=null){let Te=new Promise(Ae=>{he=Ae});t.history.go(oe*-1),be(ge,{state:"blocked",location:G,proceed(){be(ge,{state:"proceeding",proceed:void 0,reset:void 0,location:G}),Te.then(()=>t.history.go(oe))},reset(){let Ae=new Map(M.blockers);Ae.set(ge,Ra),Ze({blockers:Ae})}});return}return tn($,G)}),n){a0(e,W);let D=()=>o0(e,W);e.addEventListener("pagehide",D),K=()=>e.removeEventListener("pagehide",D)}return M.initialized||tn(Qt.Pop,M.location,{initialHydration:!0}),q}function Be(){x&&x(),K&&K(),w.clear(),E&&E.abort(),M.fetchers.forEach((D,$)=>Tt($)),M.blockers.forEach((D,$)=>se($))}function ft(D){return w.add(D),()=>w.delete(D)}function Ze(D,$){$===void 0&&($={}),M=Ot({},M,D);let G=[],oe=[];v.v7_fetcherPersist&&M.fetchers.forEach((ge,Te)=>{ge.state==="idle"&&(ie.has(Te)?oe.push(Te):G.push(Te))}),ie.forEach(ge=>{!M.fetchers.has(ge)&&!ee.has(ge)&&oe.push(ge)}),[...w].forEach(ge=>ge(M,{deletedFetchers:oe,viewTransitionOpts:$.viewTransitionOpts,flushSync:$.flushSync===!0})),v.v7_fetcherPersist?(G.forEach(ge=>M.fetchers.delete(ge)),oe.forEach(ge=>Tt(ge))):oe.forEach(ge=>ie.delete(ge))}function nt(D,$,G){var oe,ge;let{flushSync:Te}=G===void 0?{}:G,Ae=M.actionData!=null&&M.navigation.formMethod!=null&&cr(M.navigation.formMethod)&&M.navigation.state==="loading"&&((oe=D.state)==null?void 0:oe._isRedirect)!==!0,ke;$.actionData?Object.keys($.actionData).length>0?ke=$.actionData:ke=null:Ae?ke=M.actionData:ke=null;let je=$.loaderData?np(M.loaderData,$.loaderData,$.matches||[],$.errors):M.loaderData,Se=M.blockers;Se.size>0&&(Se=new Map(Se),Se.forEach((Ke,It)=>Se.set(It,Ra)));let xe=J===!0||M.navigation.formMethod!=null&&cr(M.navigation.formMethod)&&((ge=D.state)==null?void 0:ge._isRedirect)!==!0;u&&(c=u,u=void 0),te||z===Qt.Pop||(z===Qt.Push?t.history.push(D,D.state):z===Qt.Replace&&t.history.replace(D,D.state));let Fe;if(z===Qt.Pop){let Ke=W.get(M.location.pathname);Ke&&Ke.has(D.pathname)?Fe={currentLocation:M.location,nextLocation:D}:W.has(D.pathname)&&(Fe={currentLocation:D,nextLocation:M.location})}else if(R){let Ke=W.get(M.location.pathname);Ke?Ke.add(D.pathname):(Ke=new Set([D.pathname]),W.set(M.location.pathname,Ke)),Fe={currentLocation:M.location,nextLocation:D}}Ze(Ot({},$,{actionData:ke,loaderData:je,historyAction:z,location:D,initialized:!0,navigation:Hu,revalidation:"idle",restoreScrollPosition:Xr(D,$.matches||M.matches),preventScrollReset:xe,blockers:Se}),{viewTransitionOpts:Fe,flushSync:Te===!0}),z=Qt.Pop,J=!1,R=!1,te=!1,ne=!1,ce=[]}async function Ft(D,$){if(typeof D=="number"){t.history.go(D);return}let G=md(M.location,M.matches,f,v.v7_prependBasename,D,v.v7_relativeSplatPath,$?.fromRouteId,$?.relative),{path:oe,submission:ge,error:Te}=Xm(v.v7_normalizeFormMethod,!1,G,$),Ae=M.location,ke=Xa(M.location,oe,$&&$.state);ke=Ot({},ke,t.history.encodeLocation(ke));let je=$&&$.replace!=null?$.replace:void 0,Se=Qt.Push;je===!0?Se=Qt.Replace:je===!1||ge!=null&&cr(ge.formMethod)&&ge.formAction===M.location.pathname+M.location.search&&(Se=Qt.Replace);let xe=$&&"preventScrollReset"in $?$.preventScrollReset===!0:void 0,Fe=($&&$.flushSync)===!0,Ke=ye({currentLocation:Ae,nextLocation:ke,historyAction:Se});if(Ke){be(Ke,{state:"blocked",location:ke,proceed(){be(Ke,{state:"proceeding",proceed:void 0,reset:void 0,location:ke}),Ft(D,$)},reset(){let It=new Map(M.blockers);It.set(Ke,Ra),Ze({blockers:It})}});return}return await tn(Se,ke,{submission:ge,pendingError:Te,preventScrollReset:xe,replace:$&&$.replace,enableViewTransition:$&&$.viewTransition,flushSync:Fe})}function bn(){if(nn(),Ze({revalidation:"loading"}),M.navigation.state!=="submitting"){if(M.navigation.state==="idle"){tn(M.historyAction,M.location,{startUninterruptedRevalidation:!0});return}tn(z||M.historyAction,M.navigation.location,{overrideNavigation:M.navigation,enableViewTransition:R===!0})}}async function tn(D,$,G){E&&E.abort(),E=null,z=D,te=(G&&G.startUninterruptedRevalidation)===!0,js(M.location,M.matches),J=(G&&G.preventScrollReset)===!0,R=(G&&G.enableViewTransition)===!0;let oe=u||c,ge=G&&G.overrideNavigation,Te=G!=null&&G.initialHydration&&M.matches&&M.matches.length>0&&!U?M.matches:Vs(oe,$,f),Ae=(G&&G.flushSync)===!0;if(Te&&M.initialized&&!ne&&Jb(M.location,$)&&!(G&&G.submission&&cr(G.submission.formMethod))){nt($,{matches:Te},{flushSync:Ae});return}let ke=Er(Te,oe,$.pathname);if(ke.active&&ke.matches&&(Te=ke.matches),!Te){let{error:lt,notFoundMatches:Je,route:vt}=Ye($.pathname);nt($,{matches:Je,loaderData:{},errors:{[vt.id]:lt}},{flushSync:Ae});return}E=new AbortController;let je=Ni(t.history,$,E.signal,G&&G.submission),Se;if(G&&G.pendingError)Se=[Ks(Te).route.id,{type:pt.error,error:G.pendingError}];else if(G&&G.submission&&cr(G.submission.formMethod)){let lt=await dn(je,$,G.submission,Te,ke.active,{replace:G.replace,flushSync:Ae});if(lt.shortCircuited)return;if(lt.pendingActionResult){let[Je,vt]=lt.pendingActionResult;if(zn(vt)&&Qa(vt.error)&&vt.error.status===404){E=null,nt($,{matches:lt.matches,loaderData:{},errors:{[Je]:vt.error}});return}}Te=lt.matches||Te,Se=lt.pendingActionResult,ge=Wu($,G.submission),Ae=!1,ke.active=!1,je=Ni(t.history,je.url,je.signal)}let{shortCircuited:xe,matches:Fe,loaderData:Ke,errors:It}=await Vt(je,$,Te,ke.active,ge,G&&G.submission,G&&G.fetcherSubmission,G&&G.replace,G&&G.initialHydration===!0,Ae,Se);xe||(E=null,nt($,Ot({matches:Fe||Te},rp(Se),{loaderData:Ke,errors:It})))}async function dn(D,$,G,oe,ge,Te){Te===void 0&&(Te={}),nn();let Ae=s0($,G);if(Ze({navigation:Ae},{flushSync:Te.flushSync===!0}),ge){let Se=await Pn(oe,$.pathname,D.signal);if(Se.type==="aborted")return{shortCircuited:!0};if(Se.type==="error"){let xe=Ks(Se.partialMatches).route.id;return{matches:Se.partialMatches,pendingActionResult:[xe,{type:pt.error,error:Se.error}]}}else if(Se.matches)oe=Se.matches;else{let{notFoundMatches:xe,error:Fe,route:Ke}=Ye($.pathname);return{matches:xe,pendingActionResult:[Ke.id,{type:pt.error,error:Fe}]}}}let ke,je=za(oe,$);if(!je.route.action&&!je.route.lazy)ke={type:pt.error,error:Nn(405,{method:D.method,pathname:$.pathname,routeId:je.route.id})};else if(ke=(await wt("action",M,D,[je],oe,null))[je.route.id],D.signal.aborted)return{shortCircuited:!0};if(Xs(ke)){let Se;return Te&&Te.replace!=null?Se=Te.replace:Se=Zm(ke.response.headers.get("Location"),new URL(D.url),f)===M.location.pathname+M.location.search,await He(D,ke,!0,{submission:G,replace:Se}),{shortCircuited:!0}}if(ys(ke))throw Nn(400,{type:"defer-action"});if(zn(ke)){let Se=Ks(oe,je.route.id);return(Te&&Te.replace)!==!0&&(z=Qt.Push),{matches:oe,pendingActionResult:[Se.route.id,ke]}}return{matches:oe,pendingActionResult:[je.route.id,ke]}}async function Vt(D,$,G,oe,ge,Te,Ae,ke,je,Se,xe){let Fe=ge||Wu($,Te),Ke=Te||Ae||ap(Fe),It=!te&&(!v.v7_partialHydration||!je);if(oe){if(It){let ht=xt(xe);Ze(Ot({navigation:Fe},ht!==void 0?{actionData:ht}:{}),{flushSync:Se})}let qe=await Pn(G,$.pathname,D.signal);if(qe.type==="aborted")return{shortCircuited:!0};if(qe.type==="error"){let ht=Ks(qe.partialMatches).route.id;return{matches:qe.partialMatches,loaderData:{},errors:{[ht]:qe.error}}}else if(qe.matches)G=qe.matches;else{let{error:ht,notFoundMatches:qt,route:Qr}=Ye($.pathname);return{matches:qt,loaderData:{},errors:{[Qr.id]:ht}}}}let lt=u||c,[Je,vt]=Gm(t.history,M,G,Ke,$,v.v7_partialHydration&&je===!0,v.v7_skipActionErrorRevalidation,ne,ce,ve,ie,I,B,lt,f,xe);if(yt(qe=>!(G&&G.some(ht=>ht.route.id===qe))||Je&&Je.some(ht=>ht.route.id===qe)),T=++ae,Je.length===0&&vt.length===0){let qe=ot();return nt($,Ot({matches:G,loaderData:{},errors:xe&&zn(xe[1])?{[xe[0]]:xe[1].error}:null},rp(xe),qe?{fetchers:new Map(M.fetchers)}:{}),{flushSync:Se}),{shortCircuited:!0}}if(It){let qe={};if(!oe){qe.navigation=Fe;let ht=xt(xe);ht!==void 0&&(qe.actionData=ht)}vt.length>0&&(qe.fetchers=Kt(vt)),Ze(qe,{flushSync:Se})}vt.forEach(qe=>{Q(qe.key),qe.controller&&ee.set(qe.key,qe.controller)});let Zn=()=>vt.forEach(qe=>Q(qe.key));E&&E.signal.addEventListener("abort",Zn);let{loaderResults:mr,fetcherResults:Dn}=await _t(M,G,Je,vt,D);if(D.signal.aborted)return{shortCircuited:!0};E&&E.signal.removeEventListener("abort",Zn),vt.forEach(qe=>ee.delete(qe.key));let et=il(mr);if(et)return await He(D,et.result,!0,{replace:ke}),{shortCircuited:!0};if(et=il(Dn),et)return B.add(et.key),await He(D,et.result,!0,{replace:ke}),{shortCircuited:!0};let{loaderData:Ns,errors:er}=tp(M,G,mr,xe,vt,Dn,de);de.forEach((qe,ht)=>{qe.subscribe(qt=>{(qt||qe.done)&&de.delete(ht)})}),v.v7_partialHydration&&je&&M.errors&&(er=Ot({},M.errors,er));let $n=ot(),tr=St(T),nr=$n||tr||vt.length>0;return Ot({matches:G,loaderData:Ns,errors:er},nr?{fetchers:new Map(M.fetchers)}:{})}function xt(D){if(D&&!zn(D[1]))return{[D[0]]:D[1].data};if(M.actionData)return Object.keys(M.actionData).length===0?null:M.actionData}function Kt(D){return D.forEach($=>{let G=M.fetchers.get($.key),oe=Ma(void 0,G?G.data:void 0);M.fetchers.set($.key,oe)}),new Map(M.fetchers)}function at(D,$,G,oe){if(s)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Q(D);let ge=(oe&&oe.flushSync)===!0,Te=u||c,Ae=md(M.location,M.matches,f,v.v7_prependBasename,G,v.v7_relativeSplatPath,$,oe?.relative),ke=Vs(Te,Ae,f),je=Er(ke,Te,Ae);if(je.active&&je.matches&&(ke=je.matches),!ke){dt(D,$,Nn(404,{pathname:Ae}),{flushSync:ge});return}let{path:Se,submission:xe,error:Fe}=Xm(v.v7_normalizeFormMethod,!0,Ae,oe);if(Fe){dt(D,$,Fe,{flushSync:ge});return}let Ke=za(ke,Se),It=(oe&&oe.preventScrollReset)===!0;if(xe&&cr(xe.formMethod)){pe(D,$,Se,Ke,ke,je.active,ge,It,xe);return}I.set(D,{routeId:$,path:Se}),De(D,$,Se,Ke,ke,je.active,ge,It,xe)}async function pe(D,$,G,oe,ge,Te,Ae,ke,je){nn(),I.delete(D);function Se(tt){if(!tt.route.action&&!tt.route.lazy){let Z=Nn(405,{method:je.formMethod,pathname:G,routeId:$});return dt(D,$,Z,{flushSync:Ae}),!0}return!1}if(!Te&&Se(oe))return;let xe=M.fetchers.get(D);ut(D,i0(je,xe),{flushSync:Ae});let Fe=new AbortController,Ke=Ni(t.history,G,Fe.signal,je);if(Te){let tt=await Pn(ge,new URL(Ke.url).pathname,Ke.signal,D);if(tt.type==="aborted")return;if(tt.type==="error"){dt(D,$,tt.error,{flushSync:Ae});return}else if(tt.matches){if(ge=tt.matches,oe=za(ge,G),Se(oe))return}else{dt(D,$,Nn(404,{pathname:G}),{flushSync:Ae});return}}ee.set(D,Fe);let It=ae,Je=(await wt("action",M,Ke,[oe],ge,D))[oe.route.id];if(Ke.signal.aborted){ee.get(D)===Fe&&ee.delete(D);return}if(v.v7_fetcherPersist&&ie.has(D)){if(Xs(Je)||zn(Je)){ut(D,gs(void 0));return}}else{if(Xs(Je))if(ee.delete(D),T>It){ut(D,gs(void 0));return}else return B.add(D),ut(D,Ma(je)),He(Ke,Je,!1,{fetcherSubmission:je,preventScrollReset:ke});if(zn(Je)){dt(D,$,Je.error);return}}if(ys(Je))throw Nn(400,{type:"defer-action"});let vt=M.navigation.location||M.location,Zn=Ni(t.history,vt,Fe.signal),mr=u||c,Dn=M.navigation.state!=="idle"?Vs(mr,M.navigation.location,f):M.matches;Ve(Dn,"Didn't find any matches after fetcher action");let et=++ae;j.set(D,et);let Ns=Ma(je,Je.data);M.fetchers.set(D,Ns);let[er,$n]=Gm(t.history,M,Dn,je,vt,!1,v.v7_skipActionErrorRevalidation,ne,ce,ve,ie,I,B,mr,f,[oe.route.id,Je]);$n.filter(tt=>tt.key!==D).forEach(tt=>{let Z=tt.key,_e=M.fetchers.get(Z),Xe=Ma(void 0,_e?_e.data:void 0);M.fetchers.set(Z,Xe),Q(Z),tt.controller&&ee.set(Z,tt.controller)}),Ze({fetchers:new Map(M.fetchers)});let tr=()=>$n.forEach(tt=>Q(tt.key));Fe.signal.addEventListener("abort",tr);let{loaderResults:nr,fetcherResults:qe}=await _t(M,Dn,er,$n,Zn);if(Fe.signal.aborted)return;Fe.signal.removeEventListener("abort",tr),j.delete(D),ee.delete(D),$n.forEach(tt=>ee.delete(tt.key));let ht=il(nr);if(ht)return He(Zn,ht.result,!1,{preventScrollReset:ke});if(ht=il(qe),ht)return B.add(ht.key),He(Zn,ht.result,!1,{preventScrollReset:ke});let{loaderData:qt,errors:Qr}=tp(M,Dn,nr,void 0,$n,qe,de);if(M.fetchers.has(D)){let tt=gs(Je.data);M.fetchers.set(D,tt)}St(et),M.navigation.state==="loading"&&et>T?(Ve(z,"Expected pending action"),E&&E.abort(),nt(M.navigation.location,{matches:Dn,loaderData:qt,errors:Qr,fetchers:new Map(M.fetchers)})):(Ze({errors:Qr,loaderData:np(M.loaderData,qt,Dn,Qr),fetchers:new Map(M.fetchers)}),ne=!1)}async function De(D,$,G,oe,ge,Te,Ae,ke,je){let Se=M.fetchers.get(D);ut(D,Ma(je,Se?Se.data:void 0),{flushSync:Ae});let xe=new AbortController,Fe=Ni(t.history,G,xe.signal);if(Te){let Je=await Pn(ge,new URL(Fe.url).pathname,Fe.signal,D);if(Je.type==="aborted")return;if(Je.type==="error"){dt(D,$,Je.error,{flushSync:Ae});return}else if(Je.matches)ge=Je.matches,oe=za(ge,G);else{dt(D,$,Nn(404,{pathname:G}),{flushSync:Ae});return}}ee.set(D,xe);let Ke=ae,lt=(await wt("loader",M,Fe,[oe],ge,D))[oe.route.id];if(ys(lt)&&(lt=await Od(lt,Fe.signal,!0)||lt),ee.get(D)===xe&&ee.delete(D),!Fe.signal.aborted){if(ie.has(D)){ut(D,gs(void 0));return}if(Xs(lt))if(T>Ke){ut(D,gs(void 0));return}else{B.add(D),await He(Fe,lt,!1,{preventScrollReset:ke});return}if(zn(lt)){dt(D,$,lt.error);return}Ve(!ys(lt),"Unhandled fetcher deferred data"),ut(D,gs(lt.data))}}async function He(D,$,G,oe){let{submission:ge,fetcherSubmission:Te,preventScrollReset:Ae,replace:ke}=oe===void 0?{}:oe;$.response.headers.has("X-Remix-Revalidate")&&(ne=!0);let je=$.response.headers.get("Location");Ve(je,"Expected a Location header on the redirect Response"),je=Zm(je,new URL(D.url),f);let Se=Xa(M.location,je,{_isRedirect:!0});if(n){let Je=!1;if($.response.headers.has("X-Remix-Reload-Document"))Je=!0;else if(Ld.test(je)){const vt=t.history.createURL(je);Je=vt.origin!==e.location.origin||Wr(vt.pathname,f)==null}if(Je){ke?e.location.replace(je):e.location.assign(je);return}}E=null;let xe=ke===!0||$.response.headers.has("X-Remix-Replace")?Qt.Replace:Qt.Push,{formMethod:Fe,formAction:Ke,formEncType:It}=M.navigation;!ge&&!Te&&Fe&&Ke&&It&&(ge=ap(M.navigation));let lt=ge||Te;if(zb.has($.response.status)&&lt&&cr(lt.formMethod))await tn(xe,Se,{submission:Ot({},lt,{formAction:je}),preventScrollReset:Ae||J,enableViewTransition:G?R:void 0});else{let Je=Wu(Se,ge);await tn(xe,Se,{overrideNavigation:Je,fetcherSubmission:Te,preventScrollReset:Ae||J,enableViewTransition:G?R:void 0})}}async function wt(D,$,G,oe,ge,Te){let Ae,ke={};try{Ae=await Yb(m,D,$,G,oe,ge,Te,o,a)}catch(je){return oe.forEach(Se=>{ke[Se.route.id]={type:pt.error,error:je}}),ke}for(let[je,Se]of Object.entries(Ae))if(Zb(Se)){let xe=Se.result;ke[je]={type:pt.redirect,response:Gb(xe,G,je,ge,f,v.v7_relativeSplatPath)}}else ke[je]=await Qb(Se);return ke}async function _t(D,$,G,oe,ge){let Te=D.matches,Ae=wt("loader",D,ge,G,$,null),ke=Promise.all(oe.map(async xe=>{if(xe.matches&&xe.match&&xe.controller){let Ke=(await wt("loader",D,Ni(t.history,xe.path,xe.controller.signal),[xe.match],xe.matches,xe.key))[xe.match.route.id];return{[xe.key]:Ke}}else return Promise.resolve({[xe.key]:{type:pt.error,error:Nn(404,{pathname:xe.path})}})})),je=await Ae,Se=(await ke).reduce((xe,Fe)=>Object.assign(xe,Fe),{});return await Promise.all([n0($,je,ge.signal,Te,D.loaderData),r0($,Se,oe)]),{loaderResults:je,fetcherResults:Se}}function nn(){ne=!0,ce.push(...yt()),I.forEach((D,$)=>{ee.has($)&&ve.add($),Q($)})}function ut(D,$,G){G===void 0&&(G={}),M.fetchers.set(D,$),Ze({fetchers:new Map(M.fetchers)},{flushSync:(G&&G.flushSync)===!0})}function dt(D,$,G,oe){oe===void 0&&(oe={});let ge=Ks(M.matches,$);Tt(D),Ze({errors:{[ge.route.id]:G},fetchers:new Map(M.fetchers)},{flushSync:(oe&&oe.flushSync)===!0})}function Yt(D){return re.set(D,(re.get(D)||0)+1),ie.has(D)&&ie.delete(D),M.fetchers.get(D)||Ub}function Tt(D){let $=M.fetchers.get(D);ee.has(D)&&!($&&$.state==="loading"&&j.has(D))&&Q(D),I.delete(D),j.delete(D),B.delete(D),v.v7_fetcherPersist&&ie.delete(D),ve.delete(D),M.fetchers.delete(D)}function Bn(D){let $=(re.get(D)||0)-1;$<=0?(re.delete(D),ie.add(D),v.v7_fetcherPersist||Tt(D)):re.set(D,$),Ze({fetchers:new Map(M.fetchers)})}function Q(D){let $=ee.get(D);$&&($.abort(),ee.delete(D))}function Me(D){for(let $ of D){let G=Yt($),oe=gs(G.data);M.fetchers.set($,oe)}}function ot(){let D=[],$=!1;for(let G of B){let oe=M.fetchers.get(G);Ve(oe,"Expected fetcher: "+G),oe.state==="loading"&&(B.delete(G),D.push(G),$=!0)}return Me(D),$}function St(D){let $=[];for(let[G,oe]of j)if(oe<D){let ge=M.fetchers.get(G);Ve(ge,"Expected fetcher: "+G),ge.state==="loading"&&(Q(G),j.delete(G),$.push(G))}return Me($),$.length>0}function Pt(D,$){let G=M.blockers.get(D)||Ra;return Ne.get(D)!==$&&Ne.set(D,$),G}function se(D){M.blockers.delete(D),Ne.delete(D)}function be(D,$){let G=M.blockers.get(D)||Ra;Ve(G.state==="unblocked"&&$.state==="blocked"||G.state==="blocked"&&$.state==="blocked"||G.state==="blocked"&&$.state==="proceeding"||G.state==="blocked"&&$.state==="unblocked"||G.state==="proceeding"&&$.state==="unblocked","Invalid blocker state transition: "+G.state+" -> "+$.state);let oe=new Map(M.blockers);oe.set(D,$),Ze({blockers:oe})}function ye(D){let{currentLocation:$,nextLocation:G,historyAction:oe}=D;if(Ne.size===0)return;Ne.size>1&&Ui(!1,"A router only supports one blocker at a time");let ge=Array.from(Ne.entries()),[Te,Ae]=ge[ge.length-1],ke=M.blockers.get(Te);if(!(ke&&ke.state==="proceeding")&&Ae({currentLocation:$,nextLocation:G,historyAction:oe}))return Te}function Ye(D){let $=Nn(404,{pathname:D}),G=u||c,{matches:oe,route:ge}=sp(G);return yt(),{notFoundMatches:oe,route:ge,error:$}}function yt(D){let $=[];return de.forEach((G,oe)=>{(!D||D(oe))&&(G.cancel(),$.push(oe),de.delete(oe))}),$}function fn(D,$,G){if(S=D,C=$,k=G||null,!A&&M.navigation===Hu){A=!0;let oe=Xr(M.location,M.matches);oe!=null&&Ze({restoreScrollPosition:oe})}return()=>{S=null,C=null,k=null}}function fr(D,$){return k&&k(D,$.map(oe=>yb(oe,M.loaderData)))||D.key}function js(D,$){if(S&&C){let G=fr(D,$);S[G]=C()}}function Xr(D,$){if(S){let G=fr(D,$),oe=S[G];if(typeof oe=="number")return oe}return null}function Er(D,$,G){if(g)if(D){if(Object.keys(D[0].params).length>0)return{active:!0,matches:Cl($,G,f,!0)}}else return{active:!0,matches:Cl($,G,f,!0)||[]};return{active:!1,matches:null}}async function Pn(D,$,G,oe){if(!g)return{type:"success",matches:D};let ge=D;for(;;){let Te=u==null,Ae=u||c,ke=o;try{await g({signal:G,path:$,matches:ge,fetcherKey:oe,patch:(xe,Fe)=>{G.aborted||Jm(xe,Fe,Ae,ke,a)}})}catch(xe){return{type:"error",error:xe,partialMatches:ge}}finally{Te&&!G.aborted&&(c=[...c])}if(G.aborted)return{type:"aborted"};let je=Vs(Ae,$,f);if(je)return{type:"success",matches:je};let Se=Cl(Ae,$,f,!0);if(!Se||ge.length===Se.length&&ge.every((xe,Fe)=>xe.route.id===Se[Fe].route.id))return{type:"success",matches:null};ge=Se}}function Es(D){o={},u=Ml(D,a,void 0,o)}function hr(D,$){let G=u==null;Jm(D,$,u||c,o,a),G&&(c=[...c],Ze({}))}return q={get basename(){return f},get future(){return v},get state(){return M},get routes(){return c},get window(){return e},initialize:Ue,subscribe:ft,enableScrollRestoration:fn,navigate:Ft,fetch:at,revalidate:bn,createHref:D=>t.history.createHref(D),encodeLocation:D=>t.history.encodeLocation(D),getFetcher:Yt,deleteFetcher:Bn,dispose:Be,getBlocker:Pt,deleteBlocker:se,patchRoutes:hr,_internalFetchControllers:ee,_internalActiveDeferreds:de,_internalSetRoutes:Es},q}function Hb(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function md(t,e,n,s,a,o,c,u){let f,m;if(c){f=[];for(let v of e)if(f.push(v),v.route.id===c){m=v;break}}else f=e,m=e[e.length-1];let g=Ql(a||".",Xl(f,o),Wr(t.pathname,n)||t.pathname,u==="path");if(a==null&&(g.search=t.search,g.hash=t.hash),(a==null||a===""||a===".")&&m){let v=Fd(g.search);if(m.route.index&&!v)g.search=g.search?g.search.replace(/^\?/,"?index&"):"?index";else if(!m.route.index&&v){let x=new URLSearchParams(g.search),w=x.getAll("index");x.delete("index"),w.filter(k=>k).forEach(k=>x.append("index",k));let S=x.toString();g.search=S?"?"+S:""}}return s&&n!=="/"&&(g.pathname=g.pathname==="/"?n:Hr([n,g.pathname])),Zs(g)}function Xm(t,e,n,s){if(!s||!Hb(s))return{path:n};if(s.formMethod&&!t0(s.formMethod))return{path:n,error:Nn(405,{method:s.formMethod})};let a=()=>({path:n,error:Nn(400,{type:"invalid-body"})}),o=s.formMethod||"get",c=t?o.toUpperCase():o.toLowerCase(),u=sy(n);if(s.body!==void 0){if(s.formEncType==="text/plain"){if(!cr(c))return a();let x=typeof s.body=="string"?s.body:s.body instanceof FormData||s.body instanceof URLSearchParams?Array.from(s.body.entries()).reduce((w,S)=>{let[k,C]=S;return""+w+k+"="+C+`
`},""):String(s.body);return{path:n,submission:{formMethod:c,formAction:u,formEncType:s.formEncType,formData:void 0,json:void 0,text:x}}}else if(s.formEncType==="application/json"){if(!cr(c))return a();try{let x=typeof s.body=="string"?JSON.parse(s.body):s.body;return{path:n,submission:{formMethod:c,formAction:u,formEncType:s.formEncType,formData:void 0,json:x,text:void 0}}}catch{return a()}}}Ve(typeof FormData=="function","FormData is not available in this environment");let f,m;if(s.formData)f=gd(s.formData),m=s.formData;else if(s.body instanceof FormData)f=gd(s.body),m=s.body;else if(s.body instanceof URLSearchParams)f=s.body,m=ep(f);else if(s.body==null)f=new URLSearchParams,m=new FormData;else try{f=new URLSearchParams(s.body),m=ep(f)}catch{return a()}let g={formMethod:c,formAction:u,formEncType:s&&s.formEncType||"application/x-www-form-urlencoded",formData:m,json:void 0,text:void 0};if(cr(g.formMethod))return{path:n,submission:g};let v=ks(n);return e&&v.search&&Fd(v.search)&&f.append("index",""),v.search="?"+f,{path:Zs(v),submission:g}}function Qm(t,e,n){n===void 0&&(n=!1);let s=t.findIndex(a=>a.route.id===e);return s>=0?t.slice(0,n?s+1:s):t}function Gm(t,e,n,s,a,o,c,u,f,m,g,v,x,w,S,k){let C=k?zn(k[1])?k[1].error:k[1].data:void 0,A=t.createURL(e.location),P=t.createURL(a),U=n;o&&e.errors?U=Qm(n,Object.keys(e.errors)[0],!0):k&&zn(k[1])&&(U=Qm(n,k[0]));let O=k?k[1].statusCode:void 0,V=c&&O&&O>=400,q=U.filter((z,J)=>{let{route:E}=z;if(E.lazy)return!0;if(E.loader==null)return!1;if(o)return pd(E,e.loaderData,e.errors);if(Wb(e.loaderData,e.matches[J],z)||f.some(K=>K===z.route.id))return!0;let R=e.matches[J],W=z;return qm(z,Ot({currentUrl:A,currentParams:R.params,nextUrl:P,nextParams:W.params},s,{actionResult:C,actionStatus:O,defaultShouldRevalidate:V?!1:u||A.pathname+A.search===P.pathname+P.search||A.search!==P.search||ny(R,W)}))}),M=[];return v.forEach((z,J)=>{if(o||!n.some(te=>te.route.id===z.routeId)||g.has(J))return;let E=Vs(w,z.path,S);if(!E){M.push({key:J,routeId:z.routeId,path:z.path,matches:null,match:null,controller:null});return}let R=e.fetchers.get(J),W=za(E,z.path),K=!1;x.has(J)?K=!1:m.has(J)?(m.delete(J),K=!0):R&&R.state!=="idle"&&R.data===void 0?K=u:K=qm(W,Ot({currentUrl:A,currentParams:e.matches[e.matches.length-1].params,nextUrl:P,nextParams:n[n.length-1].params},s,{actionResult:C,actionStatus:O,defaultShouldRevalidate:V?!1:u})),K&&M.push({key:J,routeId:z.routeId,path:z.path,matches:E,match:W,controller:new AbortController})}),[q,M]}function pd(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let s=e!=null&&e[t.id]!==void 0,a=n!=null&&n[t.id]!==void 0;return!s&&a?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!s&&!a}function Wb(t,e,n){let s=!e||n.route.id!==e.route.id,a=t[n.route.id]===void 0;return s||a}function ny(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function qm(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function Jm(t,e,n,s,a){var o;let c;if(t){let m=s[t];Ve(m,"No route found to patch children into: routeId = "+t),m.children||(m.children=[]),c=m.children}else c=n;let u=e.filter(m=>!c.some(g=>ry(m,g))),f=Ml(u,a,[t||"_","patch",String(((o=c)==null?void 0:o.length)||"0")],s);c.push(...f)}function ry(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,s)=>{var a;return(a=e.children)==null?void 0:a.some(o=>ry(n,o))}):!1}async function Vb(t,e,n){if(!t.lazy)return;let s=await t.lazy();if(!t.lazy)return;let a=n[t.id];Ve(a,"No route found in manifest");let o={};for(let c in s){let f=a[c]!==void 0&&c!=="hasErrorBoundary";Ui(!f,'Route "'+a.id+'" has a static property "'+c+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+c+'" will be ignored.')),!f&&!pb.has(c)&&(o[c]=s[c])}Object.assign(a,o),Object.assign(a,Ot({},e(a),{lazy:void 0}))}async function Kb(t){let{matches:e}=t,n=e.filter(a=>a.shouldLoad);return(await Promise.all(n.map(a=>a.resolve()))).reduce((a,o,c)=>Object.assign(a,{[n[c].route.id]:o}),{})}async function Yb(t,e,n,s,a,o,c,u,f,m){let g=o.map(w=>w.route.lazy?Vb(w.route,f,u):void 0),v=o.map((w,S)=>{let k=g[S],C=a.some(P=>P.route.id===w.route.id);return Ot({},w,{shouldLoad:C,resolve:async P=>(P&&s.method==="GET"&&(w.route.lazy||w.route.loader)&&(C=!0),C?Xb(e,s,w,k,P,m):Promise.resolve({type:pt.data,result:void 0}))})}),x=await t({matches:v,request:s,params:o[0].params,fetcherKey:c,context:m});try{await Promise.all(g)}catch{}return x}async function Xb(t,e,n,s,a,o){let c,u,f=m=>{let g,v=new Promise((S,k)=>g=k);u=()=>g(),e.signal.addEventListener("abort",u);let x=S=>typeof m!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):m({request:e,params:n.params,context:o},...S!==void 0?[S]:[]),w=(async()=>{try{return{type:"data",result:await(a?a(k=>x(k)):x())}}catch(S){return{type:"error",result:S}}})();return Promise.race([w,v])};try{let m=n.route[t];if(s)if(m){let g,[v]=await Promise.all([f(m).catch(x=>{g=x}),s]);if(g!==void 0)throw g;c=v}else if(await s,m=n.route[t],m)c=await f(m);else if(t==="action"){let g=new URL(e.url),v=g.pathname+g.search;throw Nn(405,{method:e.method,pathname:v,routeId:n.route.id})}else return{type:pt.data,result:void 0};else if(m)c=await f(m);else{let g=new URL(e.url),v=g.pathname+g.search;throw Nn(404,{pathname:v})}Ve(c.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(m){return{type:pt.error,result:m}}finally{u&&e.signal.removeEventListener("abort",u)}return c}async function Qb(t){let{result:e,type:n}=t;if(iy(e)){let v;try{let x=e.headers.get("Content-Type");x&&/\bapplication\/json\b/.test(x)?e.body==null?v=null:v=await e.json():v=await e.text()}catch(x){return{type:pt.error,error:x}}return n===pt.error?{type:pt.error,error:new Pl(e.status,e.statusText,v),statusCode:e.status,headers:e.headers}:{type:pt.data,data:v,statusCode:e.status,headers:e.headers}}if(n===pt.error){if(ip(e)){var s,a;if(e.data instanceof Error){var o,c;return{type:pt.error,error:e.data,statusCode:(o=e.init)==null?void 0:o.status,headers:(c=e.init)!=null&&c.headers?new Headers(e.init.headers):void 0}}return{type:pt.error,error:new Pl(((s=e.init)==null?void 0:s.status)||500,void 0,e.data),statusCode:Qa(e)?e.status:void 0,headers:(a=e.init)!=null&&a.headers?new Headers(e.init.headers):void 0}}return{type:pt.error,error:e,statusCode:Qa(e)?e.status:void 0}}if(e0(e)){var u,f;return{type:pt.deferred,deferredData:e,statusCode:(u=e.init)==null?void 0:u.status,headers:((f=e.init)==null?void 0:f.headers)&&new Headers(e.init.headers)}}if(ip(e)){var m,g;return{type:pt.data,data:e.data,statusCode:(m=e.init)==null?void 0:m.status,headers:(g=e.init)!=null&&g.headers?new Headers(e.init.headers):void 0}}return{type:pt.data,data:e}}function Gb(t,e,n,s,a,o){let c=t.headers.get("Location");if(Ve(c,"Redirects returned/thrown from loaders/actions must have a Location header"),!Ld.test(c)){let u=s.slice(0,s.findIndex(f=>f.route.id===n)+1);c=md(new URL(e.url),u,a,!0,c,o),t.headers.set("Location",c)}return t}function Zm(t,e,n){if(Ld.test(t)){let s=t,a=s.startsWith("//")?new URL(e.protocol+s):new URL(s),o=Wr(a.pathname,n)!=null;if(a.origin===e.origin&&o)return a.pathname+a.search+a.hash}return t}function Ni(t,e,n,s){let a=t.createURL(sy(e)).toString(),o={signal:n};if(s&&cr(s.formMethod)){let{formMethod:c,formEncType:u}=s;o.method=c.toUpperCase(),u==="application/json"?(o.headers=new Headers({"Content-Type":u}),o.body=JSON.stringify(s.json)):u==="text/plain"?o.body=s.text:u==="application/x-www-form-urlencoded"&&s.formData?o.body=gd(s.formData):o.body=s.formData}return new Request(a,o)}function gd(t){let e=new URLSearchParams;for(let[n,s]of t.entries())e.append(n,typeof s=="string"?s:s.name);return e}function ep(t){let e=new FormData;for(let[n,s]of t.entries())e.append(n,s);return e}function qb(t,e,n,s,a){let o={},c=null,u,f=!1,m={},g=n&&zn(n[1])?n[1].error:void 0;return t.forEach(v=>{if(!(v.route.id in e))return;let x=v.route.id,w=e[x];if(Ve(!Xs(w),"Cannot handle redirect results in processLoaderData"),zn(w)){let S=w.error;g!==void 0&&(S=g,g=void 0),c=c||{};{let k=Ks(t,x);c[k.route.id]==null&&(c[k.route.id]=S)}o[x]=void 0,f||(f=!0,u=Qa(w.error)?w.error.status:500),w.headers&&(m[x]=w.headers)}else ys(w)?(s.set(x,w.deferredData),o[x]=w.deferredData.data,w.statusCode!=null&&w.statusCode!==200&&!f&&(u=w.statusCode),w.headers&&(m[x]=w.headers)):(o[x]=w.data,w.statusCode&&w.statusCode!==200&&!f&&(u=w.statusCode),w.headers&&(m[x]=w.headers))}),g!==void 0&&n&&(c={[n[0]]:g},o[n[0]]=void 0),{loaderData:o,errors:c,statusCode:u||200,loaderHeaders:m}}function tp(t,e,n,s,a,o,c){let{loaderData:u,errors:f}=qb(e,n,s,c);return a.forEach(m=>{let{key:g,match:v,controller:x}=m,w=o[g];if(Ve(w,"Did not find corresponding fetcher result"),!(x&&x.signal.aborted))if(zn(w)){let S=Ks(t.matches,v?.route.id);f&&f[S.route.id]||(f=Ot({},f,{[S.route.id]:w.error})),t.fetchers.delete(g)}else if(Xs(w))Ve(!1,"Unhandled fetcher revalidation redirect");else if(ys(w))Ve(!1,"Unhandled fetcher deferred data");else{let S=gs(w.data);t.fetchers.set(g,S)}}),{loaderData:u,errors:f}}function np(t,e,n,s){let a=Ot({},e);for(let o of n){let c=o.route.id;if(e.hasOwnProperty(c)?e[c]!==void 0&&(a[c]=e[c]):t[c]!==void 0&&o.route.loader&&(a[c]=t[c]),s&&s.hasOwnProperty(c))break}return a}function rp(t){return t?zn(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Ks(t,e){return(e?t.slice(0,t.findIndex(s=>s.route.id===e)+1):[...t]).reverse().find(s=>s.route.hasErrorBoundary===!0)||t[0]}function sp(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Nn(t,e){let{pathname:n,routeId:s,method:a,type:o,message:c}=e===void 0?{}:e,u="Unknown Server Error",f="Unknown @remix-run/router error";return t===400?(u="Bad Request",a&&n&&s?f="You made a "+a+' request to "'+n+'" but '+('did not provide a `loader` for route "'+s+'", ')+"so there is no way to handle the request.":o==="defer-action"?f="defer() is not supported in actions":o==="invalid-body"&&(f="Unable to encode submission body")):t===403?(u="Forbidden",f='Route "'+s+'" does not match URL "'+n+'"'):t===404?(u="Not Found",f='No route matches URL "'+n+'"'):t===405&&(u="Method Not Allowed",a&&n&&s?f="You made a "+a.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+s+'", ')+"so there is no way to handle the request.":a&&(f='Invalid request method "'+a.toUpperCase()+'"')),new Pl(t||500,u,new Error(f),!0)}function il(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[s,a]=e[n];if(Xs(a))return{key:s,result:a}}}function sy(t){let e=typeof t=="string"?ks(t):t;return Zs(Ot({},e,{hash:""}))}function Jb(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Zb(t){return iy(t.result)&&Ib.has(t.result.status)}function ys(t){return t.type===pt.deferred}function zn(t){return t.type===pt.error}function Xs(t){return(t&&t.type)===pt.redirect}function ip(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function e0(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function iy(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function t0(t){return Fb.has(t.toLowerCase())}function cr(t){return Lb.has(t.toLowerCase())}async function n0(t,e,n,s,a){let o=Object.entries(e);for(let c=0;c<o.length;c++){let[u,f]=o[c],m=t.find(x=>x?.route.id===u);if(!m)continue;let g=s.find(x=>x.route.id===m.route.id),v=g!=null&&!ny(g,m)&&(a&&a[m.route.id])!==void 0;ys(f)&&v&&await Od(f,n,!1).then(x=>{x&&(e[u]=x)})}}async function r0(t,e,n){for(let s=0;s<n.length;s++){let{key:a,routeId:o,controller:c}=n[s],u=e[a];t.find(m=>m?.route.id===o)&&ys(u)&&(Ve(c,"Expected an AbortController for revalidating fetcher deferred result"),await Od(u,c.signal,!0).then(m=>{m&&(e[a]=m)}))}}async function Od(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:pt.data,data:t.deferredData.unwrappedData}}catch(a){return{type:pt.error,error:a}}return{type:pt.data,data:t.deferredData.data}}}function Fd(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function za(t,e){let n=typeof e=="string"?ks(e).search:e.search;if(t[t.length-1].route.index&&Fd(n||""))return t[t.length-1];let s=Zg(t);return s[s.length-1]}function ap(t){let{formMethod:e,formAction:n,formEncType:s,text:a,formData:o,json:c}=t;if(!(!e||!n||!s)){if(a!=null)return{formMethod:e,formAction:n,formEncType:s,formData:void 0,json:void 0,text:a};if(o!=null)return{formMethod:e,formAction:n,formEncType:s,formData:o,json:void 0,text:void 0};if(c!==void 0)return{formMethod:e,formAction:n,formEncType:s,formData:void 0,json:c,text:void 0}}}function Wu(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function s0(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Ma(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function i0(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function gs(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function a0(t,e){try{let n=t.sessionStorage.getItem(ty);if(n){let s=JSON.parse(n);for(let[a,o]of Object.entries(s||{}))o&&Array.isArray(o)&&e.set(a,new Set(o||[]))}}catch{}}function o0(t,e){if(e.size>0){let n={};for(let[s,a]of e)n[s]=[...a];try{t.sessionStorage.setItem(ty,JSON.stringify(n))}catch(s){Ui(!1,"Failed to save applied view transitions in sessionStorage ("+s+").")}}}/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dl(){return Dl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Dl.apply(this,arguments)}const to=b.createContext(null),Id=b.createContext(null),Vr=b.createContext(null),zd=b.createContext(null),Kr=b.createContext({outlet:null,matches:[],isDataRoute:!1}),ay=b.createContext(null);function l0(t,e){let{relative:n}=e===void 0?{}:e;Hi()||Ve(!1);let{basename:s,navigator:a}=b.useContext(Vr),{hash:o,pathname:c,search:u}=ql(t,{relative:n}),f=c;return s!=="/"&&(f=c==="/"?s:Hr([s,c])),a.createHref({pathname:f,search:u,hash:o})}function Hi(){return b.useContext(zd)!=null}function Yr(){return Hi()||Ve(!1),b.useContext(zd).location}function oy(t){b.useContext(Vr).static||b.useLayoutEffect(t)}function Gl(){let{isDataRoute:t}=b.useContext(Kr);return t?_0():c0()}function c0(){Hi()||Ve(!1);let t=b.useContext(to),{basename:e,future:n,navigator:s}=b.useContext(Vr),{matches:a}=b.useContext(Kr),{pathname:o}=Yr(),c=JSON.stringify(Xl(a,n.v7_relativeSplatPath)),u=b.useRef(!1);return oy(()=>{u.current=!0}),b.useCallback(function(m,g){if(g===void 0&&(g={}),!u.current)return;if(typeof m=="number"){s.go(m);return}let v=Ql(m,JSON.parse(c),o,g.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Hr([e,v.pathname])),(g.replace?s.replace:s.push)(v,g.state,g)},[e,s,c,o,t])}const u0=b.createContext(null);function d0(t){let e=b.useContext(Kr).outlet;return e&&b.createElement(u0.Provider,{value:t},e)}function ql(t,e){let{relative:n}=e===void 0?{}:e,{future:s}=b.useContext(Vr),{matches:a}=b.useContext(Kr),{pathname:o}=Yr(),c=JSON.stringify(Xl(a,s.v7_relativeSplatPath));return b.useMemo(()=>Ql(t,JSON.parse(c),o,n==="path"),[t,c,o,n])}function f0(t,e,n,s){Hi()||Ve(!1);let{navigator:a}=b.useContext(Vr),{matches:o}=b.useContext(Kr),c=o[o.length-1],u=c?c.params:{};c&&c.pathname;let f=c?c.pathnameBase:"/";c&&c.route;let m=Yr(),g;g=m;let v=g.pathname||"/",x=v;if(f!=="/"){let k=f.replace(/^\//,"").split("/");x="/"+v.replace(/^\//,"").split("/").slice(k.length).join("/")}let w=Vs(t,{pathname:x});return y0(w&&w.map(k=>Object.assign({},k,{params:Object.assign({},u,k.params),pathname:Hr([f,a.encodeLocation?a.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?f:Hr([f,a.encodeLocation?a.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),o,n,s)}function h0(){let t=w0(),e=Qa(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:a},n):null,null)}const m0=b.createElement(h0,null);class p0 extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?b.createElement(Kr.Provider,{value:this.props.routeContext},b.createElement(ay.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function g0(t){let{routeContext:e,match:n,children:s}=t,a=b.useContext(to);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(Kr.Provider,{value:e},s)}function y0(t,e,n,s){var a;if(e===void 0&&(e=[]),n===void 0&&(n=null),s===void 0&&(s=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=s)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let c=t,u=(a=n)==null?void 0:a.errors;if(u!=null){let g=c.findIndex(v=>v.route.id&&u?.[v.route.id]!==void 0);g>=0||Ve(!1),c=c.slice(0,Math.min(c.length,g+1))}let f=!1,m=-1;if(n&&s&&s.v7_partialHydration)for(let g=0;g<c.length;g++){let v=c[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(m=g),v.route.id){let{loaderData:x,errors:w}=n,S=v.route.loader&&x[v.route.id]===void 0&&(!w||w[v.route.id]===void 0);if(v.route.lazy||S){f=!0,m>=0?c=c.slice(0,m+1):c=[c[0]];break}}}return c.reduceRight((g,v,x)=>{let w,S=!1,k=null,C=null;n&&(w=u&&v.route.id?u[v.route.id]:void 0,k=v.route.errorElement||m0,f&&(m<0&&x===0?(S0("route-fallback"),S=!0,C=null):m===x&&(S=!0,C=v.route.hydrateFallbackElement||null)));let A=e.concat(c.slice(0,x+1)),P=()=>{let U;return w?U=k:S?U=C:v.route.Component?U=b.createElement(v.route.Component,null):v.route.element?U=v.route.element:U=g,b.createElement(g0,{match:v,routeContext:{outlet:g,matches:A,isDataRoute:n!=null},children:U})};return n&&(v.route.ErrorBoundary||v.route.errorElement||x===0)?b.createElement(p0,{location:n.location,revalidation:n.revalidation,component:k,error:w,children:P(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):P()},null)}var ly=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(ly||{}),cy=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(cy||{});function v0(t){let e=b.useContext(to);return e||Ve(!1),e}function x0(t){let e=b.useContext(Id);return e||Ve(!1),e}function b0(t){let e=b.useContext(Kr);return e||Ve(!1),e}function uy(t){let e=b0(),n=e.matches[e.matches.length-1];return n.route.id||Ve(!1),n.route.id}function w0(){var t;let e=b.useContext(ay),n=x0(),s=uy();return e!==void 0?e:(t=n.errors)==null?void 0:t[s]}function _0(){let{router:t}=v0(ly.UseNavigateStable),e=uy(cy.UseNavigateStable),n=b.useRef(!1);return oy(()=>{n.current=!0}),b.useCallback(function(a,o){o===void 0&&(o={}),n.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,Dl({fromRouteId:e},o)))},[t,e])}const op={};function S0(t,e,n){op[t]||(op[t]=!0)}function k0(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function lp(t){let{to:e,replace:n,state:s,relative:a}=t;Hi()||Ve(!1);let{future:o,static:c}=b.useContext(Vr),{matches:u}=b.useContext(Kr),{pathname:f}=Yr(),m=Gl(),g=Ql(e,Xl(u,o.v7_relativeSplatPath),f,a==="path"),v=JSON.stringify(g);return b.useEffect(()=>m(JSON.parse(v),{replace:n,state:s,relative:a}),[m,v,a,n,s]),null}function cp(t){return d0(t.context)}function Lt(t){Ve(!1)}function C0(t){let{basename:e="/",children:n=null,location:s,navigationType:a=Qt.Pop,navigator:o,static:c=!1,future:u}=t;Hi()&&Ve(!1);let f=e.replace(/^\/*/,"/"),m=b.useMemo(()=>({basename:f,navigator:o,static:c,future:Dl({v7_relativeSplatPath:!1},u)}),[f,u,o,c]);typeof s=="string"&&(s=ks(s));let{pathname:g="/",search:v="",hash:x="",state:w=null,key:S="default"}=s,k=b.useMemo(()=>{let C=Wr(g,f);return C==null?null:{location:{pathname:C,search:v,hash:x,state:w,key:S},navigationType:a}},[f,g,v,x,w,S,a]);return k==null?null:b.createElement(Vr.Provider,{value:m},b.createElement(zd.Provider,{children:n,value:k}))}new Promise(()=>{});function yd(t,e){e===void 0&&(e=[]);let n=[];return b.Children.forEach(t,(s,a)=>{if(!b.isValidElement(s))return;let o=[...e,a];if(s.type===b.Fragment){n.push.apply(n,yd(s.props.children,o));return}s.type!==Lt&&Ve(!1),!s.props.index||!s.props.children||Ve(!1);let c={id:s.props.id||o.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=yd(s.props.children,o)),n.push(c)}),n}function j0(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:b.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:b.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:b.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bi(){return Bi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Bi.apply(this,arguments)}function dy(t,e){if(t==null)return{};var n={},s=Object.keys(t),a,o;for(o=0;o<s.length;o++)a=s[o],!(e.indexOf(a)>=0)&&(n[a]=t[a]);return n}function E0(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function N0(t,e){return t.button===0&&(!e||e==="_self")&&!E0(t)}const R0=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],M0=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],T0="6";try{window.__reactRouterVersion=T0}catch{}function P0(t,e){return $b({basename:void 0,future:Bi({},void 0,{v7_prependBasename:!0}),history:fb({window:void 0}),hydrationData:D0(),routes:t,mapRouteProperties:j0,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function D0(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Bi({},e,{errors:A0(e.errors)})),e}function A0(t){if(!t)return null;let e=Object.entries(t),n={};for(let[s,a]of e)if(a&&a.__type==="RouteErrorResponse")n[s]=new Pl(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let o=window[a.__subType];if(typeof o=="function")try{let c=new o(a.message);c.stack="",n[s]=c}catch{}}if(n[s]==null){let o=new Error(a.message);o.stack="",n[s]=o}}else n[s]=a;return n}const fy=b.createContext({isTransitioning:!1}),L0=b.createContext(new Map),O0="startTransition",up=rb[O0],F0="flushSync",dp=db[F0];function I0(t){up?up(t):t()}function Ta(t){dp?dp(t):t()}class z0{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=s=>{this.status==="pending"&&(this.status="resolved",e(s))},this.reject=s=>{this.status==="pending"&&(this.status="rejected",n(s))}})}}function U0(t){let{fallbackElement:e,router:n,future:s}=t,[a,o]=b.useState(n.state),[c,u]=b.useState(),[f,m]=b.useState({isTransitioning:!1}),[g,v]=b.useState(),[x,w]=b.useState(),[S,k]=b.useState(),C=b.useRef(new Map),{v7_startTransition:A}=s||{},P=b.useCallback(z=>{A?I0(z):z()},[A]),U=b.useCallback((z,J)=>{let{deletedFetchers:E,flushSync:R,viewTransitionOpts:W}=J;z.fetchers.forEach((te,ne)=>{te.data!==void 0&&C.current.set(ne,te.data)}),E.forEach(te=>C.current.delete(te));let K=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!W||K){R?Ta(()=>o(z)):P(()=>o(z));return}if(R){Ta(()=>{x&&(g&&g.resolve(),x.skipTransition()),m({isTransitioning:!0,flushSync:!0,currentLocation:W.currentLocation,nextLocation:W.nextLocation})});let te=n.window.document.startViewTransition(()=>{Ta(()=>o(z))});te.finished.finally(()=>{Ta(()=>{v(void 0),w(void 0),u(void 0),m({isTransitioning:!1})})}),Ta(()=>w(te));return}x?(g&&g.resolve(),x.skipTransition(),k({state:z,currentLocation:W.currentLocation,nextLocation:W.nextLocation})):(u(z),m({isTransitioning:!0,flushSync:!1,currentLocation:W.currentLocation,nextLocation:W.nextLocation}))},[n.window,x,g,C,P]);b.useLayoutEffect(()=>n.subscribe(U),[n,U]),b.useEffect(()=>{f.isTransitioning&&!f.flushSync&&v(new z0)},[f]),b.useEffect(()=>{if(g&&c&&n.window){let z=c,J=g.promise,E=n.window.document.startViewTransition(async()=>{P(()=>o(z)),await J});E.finished.finally(()=>{v(void 0),w(void 0),u(void 0),m({isTransitioning:!1})}),w(E)}},[P,c,g,n.window]),b.useEffect(()=>{g&&c&&a.location.key===c.location.key&&g.resolve()},[g,x,a.location,c]),b.useEffect(()=>{!f.isTransitioning&&S&&(u(S.state),m({isTransitioning:!0,flushSync:!1,currentLocation:S.currentLocation,nextLocation:S.nextLocation}),k(void 0))},[f.isTransitioning,S]),b.useEffect(()=>{},[]);let O=b.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:z=>n.navigate(z),push:(z,J,E)=>n.navigate(z,{state:J,preventScrollReset:E?.preventScrollReset}),replace:(z,J,E)=>n.navigate(z,{replace:!0,state:J,preventScrollReset:E?.preventScrollReset})}),[n]),V=n.basename||"/",q=b.useMemo(()=>({router:n,navigator:O,static:!1,basename:V}),[n,O,V]),M=b.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return b.useEffect(()=>k0(s,n.future),[s,n.future]),b.createElement(b.Fragment,null,b.createElement(to.Provider,{value:q},b.createElement(Id.Provider,{value:a},b.createElement(L0.Provider,{value:C.current},b.createElement(fy.Provider,{value:f},b.createElement(C0,{basename:V,location:a.location,navigationType:a.historyAction,navigator:O,future:M},a.initialized||n.future.v7_partialHydration?b.createElement(B0,{routes:n.routes,future:n.future,state:a}):e))))),null)}const B0=b.memo($0);function $0(t){let{routes:e,future:n,state:s}=t;return f0(e,void 0,s,n)}const H0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",W0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Br=b.forwardRef(function(e,n){let{onClick:s,relative:a,reloadDocument:o,replace:c,state:u,target:f,to:m,preventScrollReset:g,viewTransition:v}=e,x=dy(e,R0),{basename:w}=b.useContext(Vr),S,k=!1;if(typeof m=="string"&&W0.test(m)&&(S=m,H0))try{let U=new URL(window.location.href),O=m.startsWith("//")?new URL(U.protocol+m):new URL(m),V=Wr(O.pathname,w);O.origin===U.origin&&V!=null?m=V+O.search+O.hash:k=!0}catch{}let C=l0(m,{relative:a}),A=K0(m,{replace:c,state:u,target:f,preventScrollReset:g,relative:a,viewTransition:v});function P(U){s&&s(U),U.defaultPrevented||A(U)}return b.createElement("a",Bi({},x,{href:S||C,onClick:k||o?s:P,ref:n,target:f}))}),Ri=b.forwardRef(function(e,n){let{"aria-current":s="page",caseSensitive:a=!1,className:o="",end:c=!1,style:u,to:f,viewTransition:m,children:g}=e,v=dy(e,M0),x=ql(f,{relative:v.relative}),w=Yr(),S=b.useContext(Id),{navigator:k,basename:C}=b.useContext(Vr),A=S!=null&&Y0(x)&&m===!0,P=k.encodeLocation?k.encodeLocation(x).pathname:x.pathname,U=w.pathname,O=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;a||(U=U.toLowerCase(),O=O?O.toLowerCase():null,P=P.toLowerCase()),O&&C&&(O=Wr(O,C)||O);const V=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let q=U===P||!c&&U.startsWith(P)&&U.charAt(V)==="/",M=O!=null&&(O===P||!c&&O.startsWith(P)&&O.charAt(P.length)==="/"),z={isActive:q,isPending:M,isTransitioning:A},J=q?s:void 0,E;typeof o=="function"?E=o(z):E=[o,q?"active":null,M?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let R=typeof u=="function"?u(z):u;return b.createElement(Br,Bi({},v,{"aria-current":J,className:E,ref:n,style:R,to:f,viewTransition:m}),typeof g=="function"?g(z):g)});var vd;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(vd||(vd={}));var fp;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(fp||(fp={}));function V0(t){let e=b.useContext(to);return e||Ve(!1),e}function K0(t,e){let{target:n,replace:s,state:a,preventScrollReset:o,relative:c,viewTransition:u}=e===void 0?{}:e,f=Gl(),m=Yr(),g=ql(t,{relative:c});return b.useCallback(v=>{if(N0(v,n)){v.preventDefault();let x=s!==void 0?s:Zs(m)===Zs(g);f(t,{replace:x,state:a,preventScrollReset:o,relative:c,viewTransition:u})}},[m,f,g,s,a,n,t,o,c,u])}function Y0(t,e){e===void 0&&(e={});let n=b.useContext(fy);n==null&&Ve(!1);let{basename:s}=V0(vd.useViewTransitionState),a=ql(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=Wr(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=Wr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Tl(a.pathname,c)!=null||Tl(a.pathname,o)!=null}const Cs="",Al="phpgrc_intended_path",Ll="phpgrc_session_expired",Ud="phpgrc_auth_token";let Oi;function Bd(){if(typeof window>"u")return null;try{return window.localStorage}catch{return null}}function X0(){const t=Bd();if(!t)return null;try{const e=t.getItem(Ud);return e&&e.length>0?e:null}catch{return null}}function hy(){return Oi!==void 0||(Oi=X0()),Oi}function Q0(){const t=hy();return typeof t=="string"&&t.length>0}function G0(t){Oi=t;const e=Bd();if(e)try{e.setItem(Ud,t)}catch{}}function my(){Oi=null;const t=Bd();if(t)try{t.removeItem(Ud)}catch{}}function jt(t){const e={Accept:"application/json","X-Requested-With":"XMLHttpRequest"},n=hy();return n&&(e.Authorization=`Bearer ${n}`),{...e,...t}}function py(t){if(!t)return"";const e=new URLSearchParams;for(const[s,a]of Object.entries(t))a!=null&&e.set(s,typeof a=="boolean"?a?"true":"false":String(a));const n=e.toString();return n?`?${n}`:""}class Wt extends Error{status;body;constructor(e,n,s){super(s??`HTTP ${e}`),this.status=e,this.body=n}}async function Wi(t){const e=t.headers.get("content-type")||"",n=e.includes("application/json")||e.includes("+json");try{return n?await t.json():await t.text()}catch{return null}}const xd=new Set;function q0(t){return xd.add(t),()=>xd.delete(t)}function Vi(t){my(),xd.forEach(e=>{try{e(t)}catch{}})}async function qn(t,e,n){const s=t.startsWith("/")?t:`/${t}`,a=`${Cs}${s}${py(e)}`,o=await fetch(a,{method:"GET",credentials:"same-origin",headers:jt(),signal:n}),c=await Wi(o);if(!o.ok){const u=new Wt(o.status,c);throw o.status===401&&Vi(u),u}return c??{}}async function J0(t,e,n){const s=t.startsWith("/")?t:`/${t}`,a=`${Cs}${s}`,o=await fetch(a,{method:"PUT",credentials:"same-origin",headers:jt({"Content-Type":"application/json"}),body:e===void 0?"{}":JSON.stringify(e),signal:n}),c=await Wi(o);if(!o.ok){const u=new Wt(o.status,c);throw o.status===401&&Vi(u),u}return c??{}}async function Z0(t,e,n){const s=t.startsWith("/")?t:`/${t}`,a=`${Cs}${s}`,o=await fetch(a,{method:"PATCH",credentials:"same-origin",headers:jt({"Content-Type":"application/json"}),body:e===void 0?"{}":JSON.stringify(e),signal:n}),c=await Wi(o);if(!o.ok){const u=new Wt(o.status,c);throw o.status===401&&Vi(u),u}return c??{}}async function ri(t,e,n){const s=t.startsWith("/")?t:`/${t}`,a=`${Cs}${s}`,o=await fetch(a,{method:"POST",credentials:"same-origin",headers:jt({"Content-Type":"application/json"}),body:e===void 0?"{}":JSON.stringify(e),signal:n}),c=await Wi(o);if(!o.ok){const u=new Wt(o.status,c);throw o.status===401&&Vi(u),u}return c??{}}async function gy(t,e,n){const s=t.startsWith("/")?t:`/${t}`,a=`${Cs}${s}`,o=await fetch(a,{method:"POST",credentials:"same-origin",headers:jt(),body:e,signal:n}),c=await Wi(o);if(!o.ok){const u=new Wt(o.status,c);throw o.status===401&&Vi(u),u}return c??{}}async function Jl(t,e){const n=t.startsWith("/")?t:`/${t}`,s=`${Cs}${n}`,a=await fetch(s,{method:"DELETE",credentials:"same-origin",headers:jt(),signal:e}),o=await Wi(a);if(!a.ok){const c=new Wt(a.status,o);throw a.status===401&&Vi(c),c}return o??{}}function Vu(t){try{t&&t!=="/auth/login"&&sessionStorage.setItem(Al,t)}catch{}}function ew(){try{const t=sessionStorage.getItem(Al);return t&&sessionStorage.removeItem(Al),t}catch{return null}}function al(){try{sessionStorage.setItem(Ll,"1")}catch{}}function tw(){try{const t=sessionStorage.getItem(Ll);return t&&sessionStorage.removeItem(Ll),t==="1"}catch{return!1}}async function nw(t){const e=await ri("/api/auth/login",t),n=e?.token,s=e?.user;if(!n||typeof n!="string")throw new Error("Missing auth token in login response");if(!s||typeof s.id>"u")throw new Error("Missing user payload in login response");return G0(n),s}async function rw(){try{await ri("/api/auth/logout",{})}catch{}my();try{sessionStorage.removeItem(Al),sessionStorage.removeItem(Ll)}catch{}}async function sw(){const e=(await qn("/api/auth/me"))?.user;if(!e||typeof e.id>"u")throw new Error("Missing user payload in auth/me response");return e}const iw="/assets/bootstrap.min-Bmwwozog.css",aw="/assets/bootstrap.min-Q9g3hQB7.css",ow="/assets/bootstrap.min-88E44Rpq.css",lw="/assets/bootstrap.min-CI_a7-UG.css",cw="/assets/bootstrap.min-C9ekKKp9.css",uw="/assets/bootstrap.min-BXtGUBhC.css",dw="/assets/bootstrap.min-D7tuEIVV.css",fw="/assets/bootstrap.min-JXPEk_5n.css",hw="/assets/bootstrap.min-DtyHuuJy.css",mw="/assets/bootstrap.min-CHitj9zK.css",pw="/assets/bootstrap.min-CWsoXVTE.css",gw="/assets/bootstrap.min-BZQE6Dhd.css",yw="/assets/bootstrap.min-6OsnpXDO.css",vw="/assets/bootstrap.min-BRwI2niL.css",xw="/assets/bootstrap.min-CHrSCAIO.css",bw="/assets/bootstrap.min-B9Ta7Jou.css",ww="/assets/bootstrap.min-CNLdrARh.css",_w="/assets/bootstrap.min-C4r-DQMA.css",Sw="/assets/bootstrap.min-CtU96xCh.css",kw="/assets/bootstrap.min-5NHe92vk.css",Cw="/assets/bootstrap.min-D2CbZOse.css",jw="/assets/bootstrap.min-B6G6dRgC.css",Ew="/assets/bootstrap.min-BCsPR365.css",Nw="/assets/bootstrap.min-DzUX-LSS.css",Rw="/assets/bootstrap.min-DgsMJor-.css",Zl=[{slug:"cerulean",name:"Cerulean",mode:"light",href:iw},{slug:"cosmo",name:"Cosmo",mode:"light",href:aw},{slug:"cyborg",name:"Cyborg",mode:"dark",href:ow},{slug:"darkly",name:"Darkly",mode:"dark",href:lw},{slug:"flatly",name:"Flatly",mode:"light",href:cw},{slug:"journal",name:"Journal",mode:"light",href:uw},{slug:"litera",name:"Litera",mode:"light",href:dw},{slug:"lumen",name:"Lumen",mode:"light",href:fw},{slug:"lux",name:"Lux",mode:"light",href:hw},{slug:"materia",name:"Materia",mode:"light",href:mw},{slug:"minty",name:"Minty",mode:"light",href:pw},{slug:"morph",name:"Morph",mode:"light",href:gw},{slug:"pulse",name:"Pulse",mode:"light",href:yw},{slug:"quartz",name:"Quartz",mode:"dark",href:vw},{slug:"sandstone",name:"Sandstone",mode:"light",href:xw},{slug:"simplex",name:"Simplex",mode:"light",href:bw},{slug:"sketchy",name:"Sketchy",mode:"light",href:ww},{slug:"slate",name:"Slate",mode:"dark",href:_w},{slug:"solar",name:"Solar",mode:"dark",href:Sw},{slug:"spacelab",name:"Spacelab",mode:"light",href:kw},{slug:"superhero",name:"Superhero",mode:"dark",href:Cw},{slug:"united",name:"United",mode:"light",href:jw},{slug:"vapor",name:"Vapor",mode:"dark",href:Ew},{slug:"yeti",name:"Yeti",mode:"light",href:Nw},{slug:"zephyr",name:"Zephyr",mode:"light",href:Rw}],hp=Zl.reduce((t,e)=>(t[e.slug]=e.href,t),{}),qs={version:"5.3.3",defaults:{dark:"slate",light:"flatly"},themes:Zl.map(t=>({slug:t.slug,name:t.name,source:"bootswatch",supports:{mode:[t.mode]}})),packs:[]},$e={theme:{default:qs.defaults.dark,allow_user_override:!0,force_global:!1,overrides:{"color.primary":"#0d6efd","color.surface":"#1b1e21","color.text":"#f8f9fa",shadow:"default",spacing:"default",typeScale:"medium",motion:"full"}},nav:{sidebar:{default_order:[]}},brand:{title_text:"phpGRC  Dashboard",favicon_asset_id:null,primary_logo_asset_id:null,secondary_logo_asset_id:null,header_logo_asset_id:null,footer_logo_asset_id:null,footer_logo_disabled:!1}},un={theme:null,mode:null,overrides:{"color.primary":"#0d6efd","color.surface":"#1b1e21","color.text":"#f8f9fa",shadow:"default",spacing:"default",typeScale:"medium",motion:"full"},sidebar:{collapsed:!1,width:280,order:[]}},mp="phpgrc-theme-css",Jn=t=>{if(typeof structuredClone=="function")try{return structuredClone(t)}catch{}return JSON.parse(JSON.stringify(t))};let $d=Jn(qs),ur=Jn($e),si=Jn(un),Cr=null,Mi=null;const bd=new Set,wd=new Set,yy=()=>{const t=Jn(si);bd.forEach(e=>{try{e(t)}catch{}})},vy=()=>{const t=Jn(ur);wd.forEach(e=>{try{e(t)}catch{}})},pp={none:"none",light:"0 .125rem .25rem rgba(0,0,0,.125)",default:"0 .5rem 1rem rgba(0,0,0,.15)",heavy:"0 1.25rem 3rem rgba(0,0,0,.35)"},Ku={narrow:"0.75rem",default:"1rem",wide:"1.5rem"},Yu={small:"0.95rem",medium:"1rem",large:"1.08rem"},Xu={none:{duration:"0s",behavior:"auto"},limited:{duration:"0.12s",behavior:"smooth"},full:{duration:"0.2s",behavior:"smooth"}},Mw=()=>{const t={...$e.theme.overrides},e=ur.theme.overrides??{};if(Object.entries(e).forEach(([n,s])=>{typeof s=="string"&&s.trim()!==""&&(t[n]=s)}),ur.theme.allow_user_override&&!ur.theme.force_global){const n=si.overrides??{};Object.entries(n).forEach(([s,a])=>{typeof a=="string"&&a.trim()!==""&&(t[s]=a)})}return t},xy=()=>{if(typeof document>"u")return;const t=document.documentElement,e=document.body??document.documentElement;if(!t)return;const n=Mw(),s=n["color.primary"]??$e.theme.overrides["color.primary"];s&&(t.style.setProperty("--ui-color-primary",s),t.style.setProperty("--bs-primary",s),t.style.setProperty("--bs-link-color",s),t.style.setProperty("--bs-link-hover-color",s));const a=n["color.surface"]??$e.theme.overrides["color.surface"];a&&(t.style.setProperty("--ui-color-surface",a),t.style.setProperty("--bs-body-bg",a),e.style.backgroundColor=a);const o=n["color.text"]??$e.theme.overrides["color.text"];o&&(t.style.setProperty("--ui-color-text",o),t.style.setProperty("--bs-body-color",o),e.style.color=o);const c=n.shadow??$e.theme.overrides.shadow,u=typeof c=="string"?pp[c]??c:pp.default;t.style.setProperty("--ui-shadow-surface",u),t.style.setProperty("--bs-box-shadow",u);const f=n.spacing??$e.theme.overrides.spacing,m=typeof f=="string"?Ku[f]??Ku.default:Ku.default;t.style.setProperty("--ui-space-base",m),t.style.setProperty("--bs-spacer",m);const g=n.typeScale??$e.theme.overrides.typeScale,v=typeof g=="string"?Yu[g]??Yu.medium:Yu.medium;t.style.setProperty("--ui-type-scale",g??"medium"),t.style.setProperty("--bs-body-font-size",v);const x=n.motion??$e.theme.overrides.motion,w=typeof x=="string"?Xu[x]??Xu.full:Xu.full;t.style.setProperty("--ui-motion-pref",x??"full"),t.style.setProperty("--bs-transition-duration",w.duration),t.style.setProperty("--bs-transition",`all ${w.duration} ease-in-out`),t.style.setProperty("scroll-behavior",w.behavior)},Tw=()=>typeof window>"u"||typeof window.matchMedia!="function"?!1:window.matchMedia("(prefers-color-scheme: dark)").matches,Pw=()=>{if(typeof document>"u")return null;let t=document.getElementById(mp);return t||(t=document.createElement("link"),t.id=mp,t.rel="stylesheet",t.type="text/css",document.head.appendChild(t)),t},Dw=t=>[...t.themes??[],...t.packs??[]],Ua=(t,e)=>{const n=e?.trim();if(n)return Dw(t).find(s=>s.slug===n)},Ys=t=>{if(typeof t!="string")return null;const e=t.trim();return e.length>0?e:null},by=t=>t?.supports?.mode?t.supports.mode.filter(e=>e==="light"||e==="dark"):[],_d=t=>Zl.find(n=>n.slug===t)?.mode??"light",Aw=()=>{const t=$d,e=ur,n=si,s=Ys(e.theme.default)??Ys(t.defaults?.dark??null)??Ys(t.defaults?.light??null)??Zl[0]?.slug??"slate";let a=s;const o=e.theme.allow_user_override&&!e.theme.force_global,c=o?Ys(n.theme):null;c&&Ua(t,c)&&(a=c),Ua(t,a)||(a=s),Ua(t,a)||(a=Ys(t.defaults?.dark)??a);const u=Ua(t,a),f=by(u);let m=null;o&&n.mode?(n.mode==="light"||n.mode==="dark")&&(m=n.mode):!o&&e.theme.force_global&&(m=e.theme.default===a?_d(a):null);let g;if(m&&f.includes(m))g=m;else if(f.length===0)g=m??_d(a);else if(f.length===1)g=f[0];else{const w=Tw()?"dark":"light";f.includes(w)?g=w:g=f[0]}const v=u?.source??"bootswatch";return{slug:a,mode:g,source:v}},Lw=t=>t in hp?hp[t]:null,wy=t=>{if(typeof document>"u")return;const e=Pw(),n=Lw(t.slug);e&&n&&e.href!==n&&(e.href=n);const s=document.documentElement;s.setAttribute("data-theme",t.slug),s.setAttribute("data-mode",t.mode),s.setAttribute("data-theme-source",t.source),Cr=t},ec=()=>{const t=Aw();(!Cr||Cr.slug!==t.slug||Cr.mode!==t.mode||Cr.source!==t.source)&&wy(t),xy()},Qu=async t=>{try{const e=await fetch(t,{method:"GET",credentials:"same-origin",headers:jt()});return e.ok?await e.json():null}catch{return null}},_y=async t=>Mi?t?.fetchUserPrefs?(await Mi,_y(t)):Mi:(Mi=(async()=>{const e=await Qu("/api/settings/ui/themes");e&&Array.isArray(e.themes)&&($d=e);const n=await Qu("/api/settings/ui");if(n?.config?.ui&&(ur=n.config.ui,vy()),t?.fetchUserPrefs??(ur.theme.allow_user_override&&!ur.theme.force_global)){const a=await Qu("/api/me/prefs/ui");a?.prefs&&(si=a.prefs,yy())}ec()})().catch(()=>{}).finally(()=>{Mi=null}),Mi),Sy=t=>{$d=Jn(t),ec()},Un=t=>{ur=Jn(t),ec(),vy()},Ol=t=>{si=Jn(t),ec(),yy()},Ow=()=>{if(Cr)return Cr;const t=Ys(qs.defaults.dark)??Ys(qs.defaults.light)??"slate",e=Ua(qs,t),n=by(e)[0]??_d(t);return Cr={slug:t,mode:n,source:e?.source??"bootswatch"},wy(Cr),xy(),Cr},gp=()=>Jn(ur),Fw=()=>Jn(si),Iw=t=>{bd.add(t);try{t(Jn(si))}catch{}return()=>{bd.delete(t)}},zw=t=>{wd.add(t);try{t(Jn(ur))}catch{}return()=>{wd.delete(t)}};typeof document<"u"&&Ow();const Hd=[{id:"dashboard",label:"Dashboard",path:"/dashboard",placement:"navbar"},{id:"evidence",label:"Evidence",path:"/evidence",placement:"navbar"},{id:"exports",label:"Exports",path:"/exports",placement:"navbar"},{id:"admin",label:"Admin",path:"/admin",placement:"navbar"},{id:"risks",label:"Risks",path:"/risks",placement:"sidebar"},{id:"compliance",label:"Compliance",path:"/compliance",placement:"sidebar"},{id:"policies",label:"Policies",path:"/policies",placement:"sidebar"}],Uw=(t,e)=>t.label.localeCompare(e.label,void 0,{sensitivity:"base"}),Bw=Hd.filter(t=>t.placement==="navbar").sort(Uw),Gu=Hd.filter(t=>t.placement==="sidebar"),qu=new Map(Hd.map(t=>[t.id,t])),Fi=50,yp=.5,$w=t=>Math.round(Number.isFinite(t)?t:0);function ky(t,e){const n=Number.isFinite(e)&&e&&e>0?e:typeof window<"u"&&Number.isFinite(window.innerWidth)?window.innerWidth:Fi/yp,s=Math.max(Fi,Math.floor(n*yp)),a=$w(t);return Number.isFinite(a)?Math.min(Math.max(a,Fi),s):Fi}const Hw=t=>{if(typeof t!="string")return null;const e=t.trim();return e===""?null:e};function Ju(t,e,n){const s=new Map(t.map(m=>[m.id,m])),a=new Set,o=m=>{if(!m)return[];const g=[];for(const v of m){const x=Hw(v);!x||a.has(x)||s.has(x)&&(a.add(x),g.push(x))}return g},c=o(n),u=o(e),f=t.filter(m=>!a.has(m.id)).sort((m,g)=>m.label.localeCompare(g.label,void 0,{sensitivity:"base"})).map(m=>m.id);return[...c,...u,...f]}const Cy="/api/images/phpGRC-light-horizontal-trans.png",Ww=600,vp=t=>`/api/settings/ui/brand-assets/${encodeURIComponent(t)}/download`,Vw=[{id:"admin.settings",label:"Settings",to:"/admin/settings"},{id:"admin.roles",label:"Roles",to:"/admin/roles"},{id:"admin.user-roles",label:"User Roles",to:"/admin/user-roles"},{id:"admin.users",label:"Users",to:"/admin/users"},{id:"admin.audit",label:"Audit Logs",to:"/admin/audit"}],ol=(t,e)=>t.length!==e.length?!1:t.every((n,s)=>n===e[s]);async function Zu(t){try{return await t.json()}catch{return null}}const Ti=t=>{const e=t?.nav?.sidebar?.default_order;if(!Array.isArray(e))return[];const n=[];for(const s of e){if(typeof s!="string")continue;const a=s.trim();a!==""&&n.push(a)}return n},Pi=t=>{const e=t?.brand??$e.brand,n=e?.title_text,s=String(n??$e.brand.title_text).trim(),a=s!==""?s:$e.brand.title_text,o=typeof e?.header_logo_asset_id=="string"?e.header_logo_asset_id:null,c=typeof e?.primary_logo_asset_id=="string"?e.primary_logo_asset_id:null;return{title:a,headerLogoId:o,primaryLogoId:c}},Kw=t=>t.headerLogoId?`${vp(t.headerLogoId)}?v=${encodeURIComponent(t.headerLogoId)}`:t.primaryLogoId?`${vp(t.primaryLogoId)}?v=${encodeURIComponent(t.primaryLogoId)}`:Cy,xr=t=>{const e=t??un.sidebar,n=!!e.collapsed,s=typeof e.width=="number"?e.width:un.sidebar.width,a=ky(s),o=Array.isArray(e.order)?e.order.map(c=>typeof c=="string"?c.trim():"").filter(c=>c!==""):[];return{collapsed:n,width:a,order:o}};function Yw(){const t=Yr(),e=Gl(),[n,s]=b.useState(!0),[a,o]=b.useState(!1),[c,u]=b.useState(!1),[f,m]=b.useState(()=>Pi(gp())),[g,v]=b.useState(()=>Ti(gp())),[x,w]=b.useState(()=>xr(Fw().sidebar)),S=b.useRef(x);b.useEffect(()=>{S.current=x},[x]);const k=b.useRef(null),[C,A]=b.useState(null),[P,U]=b.useState(!1),[O,V]=b.useState(!1),[q,M]=b.useState(!1),[z,J]=b.useState(!1),E=b.useRef(null),R=b.useRef(null),[W,K]=b.useState(!1),te=b.useRef(!1);b.useEffect(()=>{te.current=W},[W]);const[ne,ce]=b.useState([]),ve=b.useRef([]),ee=b.useRef(null),ae=b.useRef(!1),T=b.useRef(0),j=b.useRef(0),[B,I]=b.useState(!1),re=b.useRef(null),ie=b.useRef(null),[de,Ne]=b.useState(!1),he=b.useCallback(se=>{w(be=>{const ye=se(be);return be.collapsed===ye.collapsed&&be.width===ye.width&&ol(be.order,ye.order)?(S.current=be,be):(S.current=ye,ye)})},[]);b.useEffect(()=>{const se=Iw(ye=>{te.current||he(()=>xr(ye.sidebar))}),be=zw(ye=>{m(Pi(ye)),v(Ti(ye))});return()=>{se(),be()}},[he]);const Ue=b.useCallback(async()=>{if(!c){m(Pi($e)),v(Ti($e));return}try{const se=await fetch("/api/settings/ui",{method:"GET",credentials:"same-origin",headers:jt()});if(!se.ok)throw new Error(`Failed to load UI settings (HTTP ${se.status})`);const ye=(await Zu(se))?.config?.ui??null;ye&&(m(Pi(ye)),v(Ti(ye)),Un(ye))}catch{m(Pi($e)),v(Ti($e))}},[c]),Be=b.useCallback(async()=>{if(!c){he(()=>xr(un.sidebar)),k.current=null,V(!0);return}M(!0),A(null);try{const se=await fetch("/api/me/prefs/ui",{method:"GET",credentials:"same-origin",headers:jt()});if(se.status===403){V(!0),k.current=se.headers.get("ETag"),A({text:"You do not have permission to customize the sidebar.",tone:"error"}),he(()=>xr(un.sidebar));return}const be=await Zu(se),ye=se.headers.get("ETag")??be?.etag??null;if(k.current=ye,!se.ok||!be?.prefs){V(!1),he(()=>xr(un.sidebar));return}const Ye=xr(be.prefs.sidebar);he(()=>Ye),Ol(be.prefs),V(!1)}catch{V(!0),k.current=null,A({text:"Failed to load sidebar preferences. Using defaults.",tone:"error"}),he(()=>xr(un.sidebar))}finally{M(!1)}},[c,he]),ft=b.useCallback(async se=>{if(!c||O||!k.current&&(await Be(),!k.current))return!1;const be=xr({...S.current,...se});U(!0),A(null);try{const ye=await fetch("/api/me/prefs/ui",{method:"PUT",credentials:"same-origin",headers:jt({"Content-Type":"application/json","If-Match":k.current??""}),body:JSON.stringify({sidebar:be})}),Ye=await Zu(ye);if(ye.status===409){const fn=Ye?.current_etag??ye.headers.get("ETag")??null;return k.current=fn,A({text:"Sidebar preferences changed elsewhere. Reloaded latest values.",tone:"info"}),await Be(),!1}if(ye.status===403)return V(!0),A({text:"You do not have permission to customize the sidebar.",tone:"error"}),!1;if(!ye.ok)throw new Error(`Save failed (HTTP ${ye.status})`);const yt=ye.headers.get("ETag")??Ye?.etag??null;if(k.current=yt,Ye?.prefs){const fn=xr(Ye.prefs.sidebar);he(()=>fn),Ol(Ye.prefs)}else he(()=>be);return A({text:"Sidebar preferences saved.",tone:"info",ephemeral:!0}),!0}catch(ye){const Ye=ye instanceof Error?ye.message:"Failed to save sidebar preferences.";return A({text:Ye,tone:"error"}),!1}finally{U(!1)}},[c,O,Be,he]);b.useEffect(()=>{const se=q0(()=>{if(!t.pathname.startsWith("/auth/")){const ye=`${t.pathname}${t.search}${t.hash}`;Vu(ye),al(),e("/auth/login",{replace:!0})}});async function be(){s(!0);try{const Ye=!!(await qn("/api/health/fingerprint"))?.summary?.rbac?.require_auth;if(o(Ye),Ye){if(!Q0()){u(!1);return}try{await sw(),u(!0)}catch{u(!1)}}else u(!0)}finally{s(!1)}}return be(),()=>se()},[t.pathname]),b.useEffect(()=>{_y({fetchUserPrefs:c})},[a,c]),b.useEffect(()=>{if(!c){m(Pi($e)),v(Ti($e));return}Ue()},[c,Ue]),b.useEffect(()=>{if(!c){he(()=>xr(un.sidebar)),k.current=null,V(!0);return}Be()},[c,Be,he]),b.useEffect(()=>{if(!B)return;const se=ye=>{re.current&&!re.current.contains(ye.target)&&I(!1)},be=ye=>{ye.key==="Escape"&&I(!1)};return document.addEventListener("pointerdown",se),document.addEventListener("keydown",be),()=>{document.removeEventListener("pointerdown",se),document.removeEventListener("keydown",be)}},[B]),b.useEffect(()=>{if(!de)return;const se=ye=>{ie.current&&!ie.current.contains(ye.target)&&Ne(!1)},be=ye=>{ye.key==="Escape"&&Ne(!1)};return document.addEventListener("pointerdown",se),document.addEventListener("keydown",be),()=>{document.removeEventListener("pointerdown",se),document.removeEventListener("keydown",be)}},[de]),b.useEffect(()=>(E.current!==null&&(window.clearTimeout(E.current),E.current=null),R.current!==null&&(window.clearTimeout(R.current),R.current=null),C?.ephemeral?(J(!1),E.current=window.setTimeout(()=>{J(!0)},2400),R.current=window.setTimeout(()=>{let se=!1;A(be=>be===C?(se=!0,null):be),se&&J(!1)},3200)):C||J(!1),()=>{E.current!==null&&(window.clearTimeout(E.current),E.current=null),R.current!==null&&(window.clearTimeout(R.current),R.current=null)}),[C]),b.useEffect(()=>{if(typeof document>"u")return;const be=t.pathname.split("/").filter(Boolean)[0]??"dashboard",Ye=(qu.get(be)??qu.get("dashboard"))?.label??"Dashboard",yt=f.title||$e.brand.title_text;document.title=`${yt}  ${Ye}`},[f.title,t.pathname]);const Ze=b.useCallback(()=>{const se=!S.current.collapsed;he(be=>({...be,collapsed:se})),O||ft({collapsed:se})},[O,ft,he]),nt=se=>{O||(ae.current=!0,T.current=se.clientX,j.current=S.current.width,se.target.setPointerCapture(se.pointerId),se.preventDefault())},Ft=se=>{if(!ae.current)return;const be=se.clientX-T.current,ye=typeof window<"u"?window.innerWidth:void 0,Ye=ky(j.current+be,ye);he(yt=>yt.width===Ye?yt:{...yt,width:Ye})},bn=b.useCallback(se=>{O||se!==j.current&&ft({width:se})},[O,ft]),tn=se=>{ae.current&&(ae.current=!1,se.target.releasePointerCapture(se.pointerId),bn(S.current.width))},dn=()=>{ae.current&&(ae.current=!1,he(se=>({...se,width:j.current})))},Vt=b.useCallback(()=>{if(O)return;const se=Ju(Gu,g,S.current.order);ve.current=[...se],ce(se),K(!0)},[O,g]),xt=()=>{ee.current!==null&&(window.clearTimeout(ee.current),ee.current=null)},Kt=()=>{W||O||(xt(),ee.current=window.setTimeout(()=>{Vt(),ee.current=null},Ww))},at=()=>{xt()},pe=b.useCallback((se=!1)=>{const be=!ol(ne,ve.current);!se&&be&&!window.confirm("Discard unsaved sidebar changes?")||(ce([]),K(!1),xt())},[ne]),De=()=>{ce([...ve.current]),pe(!0)},He=()=>{const se=Ju(Gu,g,[]);ce(se)},wt=async()=>{if(O||P)return;if(ol(ne,ve.current)){pe(!0);return}await ft({order:ne})&&(ve.current=[...ne],he(be=>({...be,order:ne})),pe(!0))},_t=(se,be)=>{ce(ye=>{const Ye=ye.indexOf(se);if(Ye===-1)return ye;const yt=Ye+be;if(yt<0||yt>=ye.length)return ye;const fn=[...ye],[fr]=fn.splice(Ye,1);return fn.splice(yt,0,fr),fn})},nn=b.useCallback(async()=>{I(!1),await rw(),al(),e("/auth/login",{replace:!0})},[e]),ut=b.useCallback(()=>{I(!1);const se=`${t.pathname}${t.search}${t.hash}`;Vu(se),al(),e("/auth/login",{replace:!0})},[t.pathname,t.search,t.hash,e]),dt=b.useCallback(()=>{I(!1),e("/profile/theme")},[e]),Yt=b.useMemo(()=>Ju(Gu,g,x.order),[g,x.order]);if(n)return null;if(a&&!c&&!t.pathname.startsWith("/auth/")){const se=`${t.pathname}${t.search}${t.hash}`;return Vu(se),al(),e("/auth/login",{replace:!0}),null}if(t.pathname.startsWith("/auth/"))return h.jsx("main",{id:"main",role:"main",children:h.jsx(cp,{})});const Q=(W?ne:Yt).map(se=>qu.get(se)).filter(se=>!!se),Me=Bw,ot=Math.max(x.width,Fi),St=Kw(f),Pt=!ol(ne,ve.current);return h.jsxs("div",{className:"app-shell d-flex flex-column min-vh-100",children:[h.jsx("header",{className:"border-bottom bg-body",children:h.jsxs("div",{className:"container-fluid d-flex align-items-center gap-3 py-2",children:[h.jsxs("button",{type:"button",className:"p-0 border-0 bg-transparent","aria-label":x.collapsed?"Show sidebar":"Hide sidebar","aria-expanded":!x.collapsed,onClick:Ze,disabled:q,style:{width:"2.5rem",height:"2.5rem",display:"flex",alignItems:"center",justifyContent:"center",opacity:q?.4:1},children:[h.jsx("span",{"aria-hidden":"true",style:{fontSize:"1.5rem",lineHeight:1},children:""}),h.jsx("span",{className:"visually-hidden",children:x.collapsed?"Show navigation menu":"Hide navigation menu"})]}),h.jsxs(Ri,{to:"/",className:"navbar-brand d-flex align-items-center gap-2 text-decoration-none",children:[h.jsx("span",{className:"d-inline-flex align-items-center justify-content-center",style:{minHeight:"40px",padding:"4px 0"},children:h.jsx("img",{src:St,alt:f.title,height:40,style:{width:"auto",maxHeight:"40px"},"data-fallback-applied":"false",onError:se=>{se.currentTarget.dataset.fallbackApplied!=="true"&&(se.currentTarget.dataset.fallbackApplied="true",se.currentTarget.src=Cy)}})}),h.jsx("span",{className:"fw-semibold d-none d-sm-inline",children:f.title})]}),h.jsx("nav",{className:"nav nav-pills gap-1 ms-3 flex-wrap align-items-center","aria-label":"Primary navigation",children:Me.map(se=>{if(se.id==="admin"){const be=t.pathname.startsWith("/admin");return h.jsxs("div",{className:"position-relative d-inline-flex",ref:ie,onMouseEnter:()=>Ne(!0),onMouseLeave:()=>Ne(!1),onFocusCapture:()=>Ne(!0),onBlur:ye=>{ie.current&&!ie.current.contains(ye.relatedTarget)&&Ne(!1)},children:[h.jsx(Ri,{to:se.path,className:`nav-link py-1 px-2${be?" active fw-semibold":""}`,children:se.label}),h.jsx("div",{role:"menu","aria-hidden":de?"false":"true",className:"shadow-sm border bg-body rounded-2",style:{position:"absolute",top:"calc(100% + 0.35rem)",left:0,minWidth:"13rem",padding:"0.5rem 0",transform:de?"translateY(0)":"translateY(-6px)",opacity:de?1:0,visibility:de?"visible":"hidden",transition:"opacity 180ms ease, transform 180ms ease, visibility 0s linear 90ms",zIndex:1050,pointerEvents:de?"auto":"none"},children:Vw.map(ye=>h.jsx(Ri,{to:ye.to,className:({isActive:Ye})=>`dropdown-item${Ye?" active fw-semibold":""}`,role:"menuitem",onClick:()=>Ne(!1),children:ye.label},ye.id))})]},se.id)}return h.jsx(Ri,{to:se.path,className:({isActive:be})=>`nav-link py-1 px-2${be?" active fw-semibold":""}`,children:se.label},se.id)})}),h.jsx("div",{className:"ms-auto d-flex align-items-center gap-2",children:a&&!c?h.jsx(Ri,{className:"btn btn-primary btn-sm",to:"/auth/login",children:"Login"}):h.jsxs("div",{className:"dropdown",ref:re,children:[h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm dropdown-toggle","aria-expanded":B,onClick:()=>I(se=>!se),children:"Account"}),h.jsxs("div",{className:`dropdown-menu dropdown-menu-end${B?" show":""}`,children:[h.jsx("button",{type:"button",className:"dropdown-item",onClick:dt,children:"Profile"}),h.jsx("button",{type:"button",className:"dropdown-item",onClick:ut,children:"Lock"}),h.jsx("button",{type:"button",className:"dropdown-item text-danger",onClick:nn,children:"Logout"})]})]})})]})}),h.jsxs("div",{className:"app-body d-flex flex-grow-1 position-relative",children:[!x.collapsed&&h.jsxs(h.Fragment,{children:[h.jsx("aside",{className:"border-end bg-body","aria-label":"Secondary navigation",style:{width:`${ot}px`,minWidth:`${Fi}px`,position:"relative"},tabIndex:O?-1:0,onPointerDown:Kt,onPointerUp:at,onPointerLeave:at,onPointerCancel:at,onKeyDown:se=>{!O&&!W&&(se.key==="Enter"||se.key===" ")&&(se.preventDefault(),Vt()),W&&se.key==="Escape"&&(se.preventDefault(),pe(!0))},children:h.jsxs("div",{className:"d-flex flex-column h-100",children:[h.jsxs("div",{className:"px-3 py-3 border-bottom",children:[h.jsx("h2",{className:"h6 mb-1",children:"Modules"}),h.jsx("small",{className:"text-muted d-block",children:O?"Sidebar customization is disabled for your account.":"Press and hold anywhere on the sidebar to customize module order."})]}),W&&h.jsxs("div",{className:"px-3 py-2 border-bottom d-flex flex-wrap gap-2",children:[h.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:()=>void wt(),disabled:!Pt||P,children:P?"Saving":"Save"}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:De,children:"Cancel"}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:He,children:"Default"}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>pe(),children:"Exit"})]}),C&&h.jsx("div",{className:`shadow alert ${C.tone==="error"?"alert-danger":"alert-info"}`,role:"status",style:{position:"absolute",top:"0.75rem",right:"0.75rem",minWidth:"14rem",pointerEvents:"none",transition:"opacity 200ms ease-in-out",opacity:z?0:.95},children:C.text}),h.jsx("div",{className:"flex-grow-1 overflow-auto",children:W?h.jsx("ul",{className:"list-group list-group-flush",children:Q.map((se,be)=>h.jsxs("li",{className:"list-group-item d-flex align-items-center justify-content-between gap-2",children:[h.jsx("span",{children:se.label}),h.jsxs("div",{className:"btn-group btn-group-sm",role:"group","aria-label":`${se.label} position`,children:[h.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>_t(se.id,-1),disabled:be===0,"aria-label":`Move ${se.label} up`,children:""}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>_t(se.id,1),disabled:be===Q.length-1,"aria-label":`Move ${se.label} down`,children:""})]})]},se.id))}):h.jsx("nav",{className:"nav flex-column gap-1 px-2 py-3","aria-label":"Sidebar modules",children:Q.map(se=>h.jsx(Ri,{to:se.path,className:({isActive:be})=>`nav-link text-truncate${be?" active fw-semibold":""}`,children:se.label},se.id))})})]})}),h.jsx("div",{role:"separator","aria-orientation":"vertical",className:"bg-body border-end",style:{width:"4px",cursor:O?"not-allowed":"col-resize"},onPointerDown:nt,onPointerMove:Ft,onPointerUp:tn,onPointerCancel:dn})]}),h.jsx("main",{id:"main",role:"main",className:"flex-grow-1 overflow-auto",children:h.jsx(cp,{})})]})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function no(t){return t+.5|0}const vs=(t,e,n)=>Math.max(Math.min(t,n),e);function Ba(t){return vs(no(t*2.55),0,255)}function ws(t){return vs(no(t*255),0,255)}function Ur(t){return vs(no(t/2.55)/100,0,1)}function xp(t){return vs(no(t*100),0,100)}const Qn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Sd=[..."0123456789ABCDEF"],Xw=t=>Sd[t&15],Qw=t=>Sd[(t&240)>>4]+Sd[t&15],ll=t=>(t&240)>>4===(t&15),Gw=t=>ll(t.r)&&ll(t.g)&&ll(t.b)&&ll(t.a);function qw(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Qn[t[1]]*17,g:255&Qn[t[2]]*17,b:255&Qn[t[3]]*17,a:e===5?Qn[t[4]]*17:255}:(e===7||e===9)&&(n={r:Qn[t[1]]<<4|Qn[t[2]],g:Qn[t[3]]<<4|Qn[t[4]],b:Qn[t[5]]<<4|Qn[t[6]],a:e===9?Qn[t[7]]<<4|Qn[t[8]]:255})),n}const Jw=(t,e)=>t<255?e(t):"";function Zw(t){var e=Gw(t)?Xw:Qw;return t?"#"+e(t.r)+e(t.g)+e(t.b)+Jw(t.a,e):void 0}const e_=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function jy(t,e,n){const s=e*Math.min(n,1-n),a=(o,c=(o+t/30)%12)=>n-s*Math.max(Math.min(c-3,9-c,1),-1);return[a(0),a(8),a(4)]}function t_(t,e,n){const s=(a,o=(a+t/60)%6)=>n-n*e*Math.max(Math.min(o,4-o,1),0);return[s(5),s(3),s(1)]}function n_(t,e,n){const s=jy(t,1,.5);let a;for(e+n>1&&(a=1/(e+n),e*=a,n*=a),a=0;a<3;a++)s[a]*=1-e-n,s[a]+=e;return s}function r_(t,e,n,s,a){return t===a?(e-n)/s+(e<n?6:0):e===a?(n-t)/s+2:(t-e)/s+4}function Wd(t){const n=t.r/255,s=t.g/255,a=t.b/255,o=Math.max(n,s,a),c=Math.min(n,s,a),u=(o+c)/2;let f,m,g;return o!==c&&(g=o-c,m=u>.5?g/(2-o-c):g/(o+c),f=r_(n,s,a,g,o),f=f*60+.5),[f|0,m||0,u]}function Vd(t,e,n,s){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,s)).map(ws)}function Kd(t,e,n){return Vd(jy,t,e,n)}function s_(t,e,n){return Vd(n_,t,e,n)}function i_(t,e,n){return Vd(t_,t,e,n)}function Ey(t){return(t%360+360)%360}function a_(t){const e=e_.exec(t);let n=255,s;if(!e)return;e[5]!==s&&(n=e[6]?Ba(+e[5]):ws(+e[5]));const a=Ey(+e[2]),o=+e[3]/100,c=+e[4]/100;return e[1]==="hwb"?s=s_(a,o,c):e[1]==="hsv"?s=i_(a,o,c):s=Kd(a,o,c),{r:s[0],g:s[1],b:s[2],a:n}}function o_(t,e){var n=Wd(t);n[0]=Ey(n[0]+e),n=Kd(n),t.r=n[0],t.g=n[1],t.b=n[2]}function l_(t){if(!t)return;const e=Wd(t),n=e[0],s=xp(e[1]),a=xp(e[2]);return t.a<255?`hsla(${n}, ${s}%, ${a}%, ${Ur(t.a)})`:`hsl(${n}, ${s}%, ${a}%)`}const bp={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},wp={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function c_(){const t={},e=Object.keys(wp),n=Object.keys(bp);let s,a,o,c,u;for(s=0;s<e.length;s++){for(c=u=e[s],a=0;a<n.length;a++)o=n[a],u=u.replace(o,bp[o]);o=parseInt(wp[c],16),t[u]=[o>>16&255,o>>8&255,o&255]}return t}let cl;function u_(t){cl||(cl=c_(),cl.transparent=[0,0,0,0]);const e=cl[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const d_=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function f_(t){const e=d_.exec(t);let n=255,s,a,o;if(e){if(e[7]!==s){const c=+e[7];n=e[8]?Ba(c):vs(c*255,0,255)}return s=+e[1],a=+e[3],o=+e[5],s=255&(e[2]?Ba(s):vs(s,0,255)),a=255&(e[4]?Ba(a):vs(a,0,255)),o=255&(e[6]?Ba(o):vs(o,0,255)),{r:s,g:a,b:o,a:n}}}function h_(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Ur(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const ed=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Di=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function m_(t,e,n){const s=Di(Ur(t.r)),a=Di(Ur(t.g)),o=Di(Ur(t.b));return{r:ws(ed(s+n*(Di(Ur(e.r))-s))),g:ws(ed(a+n*(Di(Ur(e.g))-a))),b:ws(ed(o+n*(Di(Ur(e.b))-o))),a:t.a+n*(e.a-t.a)}}function ul(t,e,n){if(t){let s=Wd(t);s[e]=Math.max(0,Math.min(s[e]+s[e]*n,e===0?360:1)),s=Kd(s),t.r=s[0],t.g=s[1],t.b=s[2]}}function Ny(t,e){return t&&Object.assign(e||{},t)}function _p(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=ws(t[3]))):(e=Ny(t,{r:0,g:0,b:0,a:1}),e.a=ws(e.a)),e}function p_(t){return t.charAt(0)==="r"?f_(t):a_(t)}class Ga{constructor(e){if(e instanceof Ga)return e;const n=typeof e;let s;n==="object"?s=_p(e):n==="string"&&(s=qw(e)||u_(e)||p_(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=Ny(this._rgb);return e&&(e.a=Ur(e.a)),e}set rgb(e){this._rgb=_p(e)}rgbString(){return this._valid?h_(this._rgb):void 0}hexString(){return this._valid?Zw(this._rgb):void 0}hslString(){return this._valid?l_(this._rgb):void 0}mix(e,n){if(e){const s=this.rgb,a=e.rgb;let o;const c=n===o?.5:n,u=2*c-1,f=s.a-a.a,m=((u*f===-1?u:(u+f)/(1+u*f))+1)/2;o=1-m,s.r=255&m*s.r+o*a.r+.5,s.g=255&m*s.g+o*a.g+.5,s.b=255&m*s.b+o*a.b+.5,s.a=c*s.a+(1-c)*a.a,this.rgb=s}return this}interpolate(e,n){return e&&(this._rgb=m_(this._rgb,e._rgb,n)),this}clone(){return new Ga(this.rgb)}alpha(e){return this._rgb.a=ws(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=no(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return ul(this._rgb,2,e),this}darken(e){return ul(this._rgb,2,-e),this}saturate(e){return ul(this._rgb,1,e),this}desaturate(e){return ul(this._rgb,1,-e),this}rotate(e){return o_(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Fr(){}const g_=(()=>{let t=0;return()=>t++})();function bt(t){return t==null}function on(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function it(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Gn(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function br(t,e){return Gn(t)?t:e}function st(t,e){return typeof t>"u"?e:t}const y_=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,Ry=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Rt(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function gt(t,e,n,s){let a,o,c;if(on(t))for(o=t.length,a=0;a<o;a++)e.call(n,t[a],a);else if(it(t))for(c=Object.keys(t),o=c.length,a=0;a<o;a++)e.call(n,t[c[a]],c[a])}function Fl(t,e){let n,s,a,o;if(!t||!e||t.length!==e.length)return!1;for(n=0,s=t.length;n<s;++n)if(a=t[n],o=e[n],a.datasetIndex!==o.datasetIndex||a.index!==o.index)return!1;return!0}function Il(t){if(on(t))return t.map(Il);if(it(t)){const e=Object.create(null),n=Object.keys(t),s=n.length;let a=0;for(;a<s;++a)e[n[a]]=Il(t[n[a]]);return e}return t}function My(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function v_(t,e,n,s){if(!My(t))return;const a=e[t],o=n[t];it(a)&&it(o)?qa(a,o,s):e[t]=Il(o)}function qa(t,e,n){const s=on(e)?e:[e],a=s.length;if(!it(t))return t;n=n||{};const o=n.merger||v_;let c;for(let u=0;u<a;++u){if(c=s[u],!it(c))continue;const f=Object.keys(c);for(let m=0,g=f.length;m<g;++m)o(f[m],t,c,n)}return t}function Wa(t,e){return qa(t,e,{merger:x_})}function x_(t,e,n){if(!My(t))return;const s=e[t],a=n[t];it(s)&&it(a)?Wa(s,a):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Il(a))}const Sp={"":t=>t,x:t=>t.x,y:t=>t.y};function b_(t){const e=t.split("."),n=[];let s="";for(const a of e)s+=a,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function w_(t){const e=b_(t);return n=>{for(const s of e){if(s==="")break;n=n&&n[s]}return n}}function ei(t,e){return(Sp[e]||(Sp[e]=w_(e)))(t)}function Yd(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Ja=t=>typeof t<"u",Ss=t=>typeof t=="function",kp=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function __(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Mt=Math.PI,Gt=2*Mt,zl=Number.POSITIVE_INFINITY,S_=Mt/180,en=Mt/2,Bs=Mt/4,Cp=Mt*2/3,Ty=Math.log10,_s=Math.sign;function jl(t,e,n){return Math.abs(t-e)<n}function jp(t){const e=Math.round(t);t=jl(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Ty(t))),s=t/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function k_(t){const e=[],n=Math.sqrt(t);let s;for(s=1;s<n;s++)t%s===0&&(e.push(s),e.push(t/s));return n===(n|0)&&e.push(n),e.sort((a,o)=>a-o).pop(),e}function C_(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Ul(t){return!C_(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function j_(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function E_(t,e,n){let s,a,o;for(s=0,a=t.length;s<a;s++)o=t[s][n],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function $r(t){return t*(Mt/180)}function N_(t){return t*(180/Mt)}function Ep(t){if(!Gn(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function Py(t,e){const n=e.x-t.x,s=e.y-t.y,a=Math.sqrt(n*n+s*s);let o=Math.atan2(s,n);return o<-.5*Mt&&(o+=Gt),{angle:o,distance:a}}function R_(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function kr(t){return(t%Gt+Gt)%Gt}function Bl(t,e,n,s){const a=kr(t),o=kr(e),c=kr(n),u=kr(o-a),f=kr(c-a),m=kr(a-o),g=kr(a-c);return a===o||a===c||s&&o===c||u>f&&m<g}function Mn(t,e,n){return Math.max(e,Math.min(n,t))}function M_(t){return Mn(t,-32768,32767)}function Qs(t,e,n,s=1e-6){return t>=Math.min(e,n)-s&&t<=Math.max(e,n)+s}function Xd(t,e,n){n=n||(c=>t[c]<e);let s=t.length-1,a=0,o;for(;s-a>1;)o=a+s>>1,n(o)?a=o:s=o;return{lo:a,hi:s}}const kd=(t,e,n,s)=>Xd(t,n,s?a=>{const o=t[a][e];return o<n||o===n&&t[a+1][e]===n}:a=>t[a][e]<n),T_=(t,e,n)=>Xd(t,n,s=>t[s][e]>=n);function P_(t,e,n){let s=0,a=t.length;for(;s<a&&t[s]<e;)s++;for(;a>s&&t[a-1]>n;)a--;return s>0||a<t.length?t.slice(s,a):t}const Dy=["push","pop","shift","splice","unshift"];function D_(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Dy.forEach(n=>{const s="_onData"+Yd(n),a=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...o){const c=a.apply(this,o);return t._chartjs.listeners.forEach(u=>{typeof u[s]=="function"&&u[s](...o)}),c}})})}function Np(t,e){const n=t._chartjs;if(!n)return;const s=n.listeners,a=s.indexOf(e);a!==-1&&s.splice(a,1),!(s.length>0)&&(Dy.forEach(o=>{delete t[o]}),delete t._chartjs)}function Ay(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const Ly=(function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame})();function Oy(t,e){let n=[],s=!1;return function(...a){n=a,s||(s=!0,Ly.call(window,()=>{s=!1,t.apply(e,n)}))}}function A_(t,e){let n;return function(...s){return e?(clearTimeout(n),n=setTimeout(t,e,s)):t.apply(this,s),e}}const Fy=t=>t==="start"?"left":t==="end"?"right":"center",In=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,L_=(t,e,n,s)=>t===(s?"left":"right")?n:t==="center"?(e+n)/2:e,dl=t=>t===0||t===1,Rp=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Gt/n)),Mp=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Gt/n)+1,Va={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*en)+1,easeOutSine:t=>Math.sin(t*en),easeInOutSine:t=>-.5*(Math.cos(Mt*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>dl(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>dl(t)?t:Rp(t,.075,.3),easeOutElastic:t=>dl(t)?t:Mp(t,.075,.3),easeInOutElastic(t){return dl(t)?t:t<.5?.5*Rp(t*2,.1125,.45):.5+.5*Mp(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Va.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Va.easeInBounce(t*2)*.5:Va.easeOutBounce(t*2-1)*.5+.5};function Iy(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Tp(t){return Iy(t)?t:new Ga(t)}function td(t){return Iy(t)?t:new Ga(t).saturate(.5).darken(.1).hexString()}const O_=["x","y","borderWidth","radius","tension"],F_=["color","borderColor","backgroundColor"];function I_(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:F_},numbers:{type:"number",properties:O_}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function z_(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Pp=new Map;function U_(t,e){e=e||{};const n=t+JSON.stringify(e);let s=Pp.get(n);return s||(s=new Intl.NumberFormat(t,e),Pp.set(n,s)),s}function Qd(t,e,n){return U_(e,n).format(t)}const B_={values(t){return on(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const s=this.chart.options.locale;let a,o=t;if(n.length>1){const m=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(m<1e-4||m>1e15)&&(a="scientific"),o=$_(t,n)}const c=Ty(Math.abs(o)),u=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),f={notation:a,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(f,this.options.ticks.format),Qd(t,s,f)}};function $_(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var zy={formatters:B_};function H_(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:zy.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const ti=Object.create(null),Cd=Object.create(null);function Ka(t,e){if(!e)return t;const n=e.split(".");for(let s=0,a=n.length;s<a;++s){const o=n[s];t=t[o]||(t[o]=Object.create(null))}return t}function nd(t,e,n){return typeof e=="string"?qa(Ka(t,e),n):qa(Ka(t,""),e)}class W_{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,a)=>td(a.backgroundColor),this.hoverBorderColor=(s,a)=>td(a.borderColor),this.hoverColor=(s,a)=>td(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return nd(this,e,n)}get(e){return Ka(this,e)}describe(e,n){return nd(Cd,e,n)}override(e,n){return nd(ti,e,n)}route(e,n,s,a){const o=Ka(this,e),c=Ka(this,s),u="_"+n;Object.defineProperties(o,{[u]:{value:o[n],writable:!0},[n]:{enumerable:!0,get(){const f=this[u],m=c[a];return it(f)?Object.assign({},m,f):st(f,m)},set(f){this[u]=f}}})}apply(e){e.forEach(n=>n(this))}}var Ht=new W_({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[I_,z_,H_]);function V_(t){return!t||bt(t.size)||bt(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Dp(t,e,n,s,a){let o=e[a];return o||(o=e[a]=t.measureText(a).width,n.push(a)),o>s&&(s=o),s}function $s(t,e,n){const s=t.currentDevicePixelRatio,a=n!==0?Math.max(n/2,.5):0;return Math.round((e-a)*s)/s+a}function Ap(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Lp(t,e,n,s){Uy(t,e,n,s,null)}function Uy(t,e,n,s,a){let o,c,u,f,m,g,v,x;const w=e.pointStyle,S=e.rotation,k=e.radius;let C=(S||0)*S_;if(w&&typeof w=="object"&&(o=w.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){t.save(),t.translate(n,s),t.rotate(C),t.drawImage(w,-w.width/2,-w.height/2,w.width,w.height),t.restore();return}if(!(isNaN(k)||k<=0)){switch(t.beginPath(),w){default:a?t.ellipse(n,s,a/2,k,0,0,Gt):t.arc(n,s,k,0,Gt),t.closePath();break;case"triangle":g=a?a/2:k,t.moveTo(n+Math.sin(C)*g,s-Math.cos(C)*k),C+=Cp,t.lineTo(n+Math.sin(C)*g,s-Math.cos(C)*k),C+=Cp,t.lineTo(n+Math.sin(C)*g,s-Math.cos(C)*k),t.closePath();break;case"rectRounded":m=k*.516,f=k-m,c=Math.cos(C+Bs)*f,v=Math.cos(C+Bs)*(a?a/2-m:f),u=Math.sin(C+Bs)*f,x=Math.sin(C+Bs)*(a?a/2-m:f),t.arc(n-v,s-u,m,C-Mt,C-en),t.arc(n+x,s-c,m,C-en,C),t.arc(n+v,s+u,m,C,C+en),t.arc(n-x,s+c,m,C+en,C+Mt),t.closePath();break;case"rect":if(!S){f=Math.SQRT1_2*k,g=a?a/2:f,t.rect(n-g,s-f,2*g,2*f);break}C+=Bs;case"rectRot":v=Math.cos(C)*(a?a/2:k),c=Math.cos(C)*k,u=Math.sin(C)*k,x=Math.sin(C)*(a?a/2:k),t.moveTo(n-v,s-u),t.lineTo(n+x,s-c),t.lineTo(n+v,s+u),t.lineTo(n-x,s+c),t.closePath();break;case"crossRot":C+=Bs;case"cross":v=Math.cos(C)*(a?a/2:k),c=Math.cos(C)*k,u=Math.sin(C)*k,x=Math.sin(C)*(a?a/2:k),t.moveTo(n-v,s-u),t.lineTo(n+v,s+u),t.moveTo(n+x,s-c),t.lineTo(n-x,s+c);break;case"star":v=Math.cos(C)*(a?a/2:k),c=Math.cos(C)*k,u=Math.sin(C)*k,x=Math.sin(C)*(a?a/2:k),t.moveTo(n-v,s-u),t.lineTo(n+v,s+u),t.moveTo(n+x,s-c),t.lineTo(n-x,s+c),C+=Bs,v=Math.cos(C)*(a?a/2:k),c=Math.cos(C)*k,u=Math.sin(C)*k,x=Math.sin(C)*(a?a/2:k),t.moveTo(n-v,s-u),t.lineTo(n+v,s+u),t.moveTo(n+x,s-c),t.lineTo(n-x,s+c);break;case"line":c=a?a/2:Math.cos(C)*k,u=Math.sin(C)*k,t.moveTo(n-c,s-u),t.lineTo(n+c,s+u);break;case"dash":t.moveTo(n,s),t.lineTo(n+Math.cos(C)*(a?a/2:k),s+Math.sin(C)*k);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function By(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Gd(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function qd(t){t.restore()}function K_(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),bt(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function Y_(t,e,n,s,a){if(a.strikethrough||a.underline){const o=t.measureText(s),c=e-o.actualBoundingBoxLeft,u=e+o.actualBoundingBoxRight,f=n-o.actualBoundingBoxAscent,m=n+o.actualBoundingBoxDescent,g=a.strikethrough?(f+m)/2:m;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=a.decorationWidth||2,t.moveTo(c,g),t.lineTo(u,g),t.stroke()}}function X_(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function $l(t,e,n,s,a,o={}){const c=on(e)?e:[e],u=o.strokeWidth>0&&o.strokeColor!=="";let f,m;for(t.save(),t.font=a.string,K_(t,o),f=0;f<c.length;++f)m=c[f],o.backdrop&&X_(t,o.backdrop),u&&(o.strokeColor&&(t.strokeStyle=o.strokeColor),bt(o.strokeWidth)||(t.lineWidth=o.strokeWidth),t.strokeText(m,n,s,o.maxWidth)),t.fillText(m,n,s,o.maxWidth),Y_(t,n,s,m,o),s+=Number(a.lineHeight);t.restore()}function Hl(t,e){const{x:n,y:s,w:a,h:o,radius:c}=e;t.arc(n+c.topLeft,s+c.topLeft,c.topLeft,1.5*Mt,Mt,!0),t.lineTo(n,s+o-c.bottomLeft),t.arc(n+c.bottomLeft,s+o-c.bottomLeft,c.bottomLeft,Mt,en,!0),t.lineTo(n+a-c.bottomRight,s+o),t.arc(n+a-c.bottomRight,s+o-c.bottomRight,c.bottomRight,en,0,!0),t.lineTo(n+a,s+c.topRight),t.arc(n+a-c.topRight,s+c.topRight,c.topRight,0,-en,!0),t.lineTo(n+c.topLeft,s)}const Q_=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,G_=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function q_(t,e){const n=(""+t).match(Q_);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const J_=t=>+t||0;function Jd(t,e){const n={},s=it(e),a=s?Object.keys(e):e,o=it(t)?s?c=>st(t[c],t[e[c]]):c=>t[c]:()=>t;for(const c of a)n[c]=J_(o(c));return n}function $y(t){return Jd(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Ii(t){return Jd(t,["topLeft","topRight","bottomLeft","bottomRight"])}function dr(t){const e=$y(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Tn(t,e){t=t||{},e=e||Ht.font;let n=st(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let s=st(t.style,e.style);s&&!(""+s).match(G_)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const a={family:st(t.family,e.family),lineHeight:q_(st(t.lineHeight,e.lineHeight),n),size:n,style:s,weight:st(t.weight,e.weight),string:""};return a.string=V_(a),a}function fl(t,e,n,s){let a,o,c;for(a=0,o=t.length;a<o;++a)if(c=t[a],c!==void 0&&c!==void 0)return c}function Z_(t,e,n){const{min:s,max:a}=t,o=Ry(e,(a-s)/2),c=(u,f)=>n&&u===0?0:u+f;return{min:c(s,-Math.abs(o)),max:c(a,o)}}function Ki(t,e){return Object.assign(Object.create(t),e)}function Zd(t,e=[""],n,s,a=()=>t[0]){const o=n||t;typeof s>"u"&&(s=Ky("_fallback",t));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:o,_fallback:s,_getTarget:a,override:u=>Zd([u,...t],e,o,s)};return new Proxy(c,{deleteProperty(u,f){return delete u[f],delete u._keys,delete t[0][f],!0},get(u,f){return Wy(u,f,()=>oS(f,e,t,u))},getOwnPropertyDescriptor(u,f){return Reflect.getOwnPropertyDescriptor(u._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(u,f){return Fp(u).includes(f)},ownKeys(u){return Fp(u)},set(u,f,m){const g=u._storage||(u._storage=a());return u[f]=g[f]=m,delete u._keys,!0}})}function $i(t,e,n,s){const a={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:Hy(t,s),setContext:o=>$i(t,o,n,s),override:o=>$i(t.override(o),e,n,s)};return new Proxy(a,{deleteProperty(o,c){return delete o[c],delete t[c],!0},get(o,c,u){return Wy(o,c,()=>tS(o,c,u))},getOwnPropertyDescriptor(o,c){return o._descriptors.allKeys?Reflect.has(t,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,c)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(o,c){return Reflect.has(t,c)},ownKeys(){return Reflect.ownKeys(t)},set(o,c,u){return t[c]=u,delete o[c],!0}})}function Hy(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:s=e.indexable,_allKeys:a=e.allKeys}=t;return{allKeys:a,scriptable:n,indexable:s,isScriptable:Ss(n)?n:()=>n,isIndexable:Ss(s)?s:()=>s}}const eS=(t,e)=>t?t+Yd(e):e,ef=(t,e)=>it(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Wy(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const s=n();return t[e]=s,s}function tS(t,e,n){const{_proxy:s,_context:a,_subProxy:o,_descriptors:c}=t;let u=s[e];return Ss(u)&&c.isScriptable(e)&&(u=nS(e,u,t,n)),on(u)&&u.length&&(u=rS(e,u,t,c.isIndexable)),ef(e,u)&&(u=$i(u,a,o&&o[e],c)),u}function nS(t,e,n,s){const{_proxy:a,_context:o,_subProxy:c,_stack:u}=n;if(u.has(t))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+t);u.add(t);let f=e(o,c||s);return u.delete(t),ef(t,f)&&(f=tf(a._scopes,a,t,f)),f}function rS(t,e,n,s){const{_proxy:a,_context:o,_subProxy:c,_descriptors:u}=n;if(typeof o.index<"u"&&s(t))return e[o.index%e.length];if(it(e[0])){const f=e,m=a._scopes.filter(g=>g!==f);e=[];for(const g of f){const v=tf(m,a,t,g);e.push($i(v,o,c&&c[t],u))}}return e}function Vy(t,e,n){return Ss(t)?t(e,n):t}const sS=(t,e)=>t===!0?e:typeof t=="string"?ei(e,t):void 0;function iS(t,e,n,s,a){for(const o of e){const c=sS(n,o);if(c){t.add(c);const u=Vy(c._fallback,n,a);if(typeof u<"u"&&u!==n&&u!==s)return u}else if(c===!1&&typeof s<"u"&&n!==s)return null}return!1}function tf(t,e,n,s){const a=e._rootScopes,o=Vy(e._fallback,n,s),c=[...t,...a],u=new Set;u.add(s);let f=Op(u,c,n,o||n,s);return f===null||typeof o<"u"&&o!==n&&(f=Op(u,c,o,f,s),f===null)?!1:Zd(Array.from(u),[""],a,o,()=>aS(e,n,s))}function Op(t,e,n,s,a){for(;n;)n=iS(t,e,n,s,a);return n}function aS(t,e,n){const s=t._getTarget();e in s||(s[e]={});const a=s[e];return on(a)&&it(n)?n:a||{}}function oS(t,e,n,s){let a;for(const o of e)if(a=Ky(eS(o,t),n),typeof a<"u")return ef(t,a)?tf(n,s,t,a):a}function Ky(t,e){for(const n of e){if(!n)continue;const s=n[t];if(typeof s<"u")return s}}function Fp(t){let e=t._keys;return e||(e=t._keys=lS(t._scopes)),e}function lS(t){const e=new Set;for(const n of t)for(const s of Object.keys(n).filter(a=>!a.startsWith("_")))e.add(s);return Array.from(e)}function nf(){return typeof window<"u"&&typeof document<"u"}function rf(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Wl(t,e,n){let s;return typeof t=="string"?(s=parseInt(t,10),t.indexOf("%")!==-1&&(s=s/100*e.parentNode[n])):s=t,s}const tc=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function cS(t,e){return tc(t).getPropertyValue(e)}const uS=["top","right","bottom","left"];function Js(t,e,n){const s={};n=n?"-"+n:"";for(let a=0;a<4;a++){const o=uS[a];s[o]=parseFloat(t[e+"-"+o+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const dS=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function fS(t,e){const n=t.touches,s=n&&n.length?n[0]:t,{offsetX:a,offsetY:o}=s;let c=!1,u,f;if(dS(a,o,t.target))u=a,f=o;else{const m=e.getBoundingClientRect();u=s.clientX-m.left,f=s.clientY-m.top,c=!0}return{x:u,y:f,box:c}}function Ws(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:s}=e,a=tc(n),o=a.boxSizing==="border-box",c=Js(a,"padding"),u=Js(a,"border","width"),{x:f,y:m,box:g}=fS(t,n),v=c.left+(g&&u.left),x=c.top+(g&&u.top);let{width:w,height:S}=e;return o&&(w-=c.width+u.width,S-=c.height+u.height),{x:Math.round((f-v)/w*n.width/s),y:Math.round((m-x)/S*n.height/s)}}function hS(t,e,n){let s,a;if(e===void 0||n===void 0){const o=t&&rf(t);if(!o)e=t.clientWidth,n=t.clientHeight;else{const c=o.getBoundingClientRect(),u=tc(o),f=Js(u,"border","width"),m=Js(u,"padding");e=c.width-m.width-f.width,n=c.height-m.height-f.height,s=Wl(u.maxWidth,o,"clientWidth"),a=Wl(u.maxHeight,o,"clientHeight")}}return{width:e,height:n,maxWidth:s||zl,maxHeight:a||zl}}const hl=t=>Math.round(t*10)/10;function mS(t,e,n,s){const a=tc(t),o=Js(a,"margin"),c=Wl(a.maxWidth,t,"clientWidth")||zl,u=Wl(a.maxHeight,t,"clientHeight")||zl,f=hS(t,e,n);let{width:m,height:g}=f;if(a.boxSizing==="content-box"){const x=Js(a,"border","width"),w=Js(a,"padding");m-=w.width+x.width,g-=w.height+x.height}return m=Math.max(0,m-o.width),g=Math.max(0,s?m/s:g-o.height),m=hl(Math.min(m,c,f.maxWidth)),g=hl(Math.min(g,u,f.maxHeight)),m&&!g&&(g=hl(m/2)),(e!==void 0||n!==void 0)&&s&&f.height&&g>f.height&&(g=f.height,m=hl(Math.floor(g*s))),{width:m,height:g}}function Ip(t,e,n){const s=e||1,a=Math.floor(t.height*s),o=Math.floor(t.width*s);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const c=t.canvas;return c.style&&(n||!c.style.height&&!c.style.width)&&(c.style.height=`${t.height}px`,c.style.width=`${t.width}px`),t.currentDevicePixelRatio!==s||c.height!==a||c.width!==o?(t.currentDevicePixelRatio=s,c.height=a,c.width=o,t.ctx.setTransform(s,0,0,s,0,0),!0):!1}const pS=(function(){let t=!1;try{const e={get passive(){return t=!0,!1}};nf()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t})();function zp(t,e){const n=cS(t,e),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}const gS=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},yS=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function zi(t,e,n){return t?gS(e,n):yS()}function Yy(t,e){let n,s;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=s)}function Xy(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function ml(t,e,n){return t.options.clip?t[n]:e[n]}function vS(t,e){const{xScale:n,yScale:s}=t;return n&&s?{left:ml(n,e,"left"),right:ml(n,e,"right"),top:ml(s,e,"top"),bottom:ml(s,e,"bottom")}:e}function xS(t,e){const n=e._clip;if(n.disabled)return!1;const s=vS(e,t.chartArea);return{left:n.left===!1?0:s.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:s.right+(n.right===!0?0:n.right),top:n.top===!1?0:s.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:s.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class bS{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,s,a){const o=n.listeners[a],c=n.duration;o.forEach(u=>u({chart:e,initial:n.initial,numSteps:c,currentStep:Math.min(s-n.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=Ly.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((s,a)=>{if(!s.running||!s.items.length)return;const o=s.items;let c=o.length-1,u=!1,f;for(;c>=0;--c)f=o[c],f._active?(f._total>s.duration&&(s.duration=f._total),f.tick(e),u=!0):(o[c]=o[o.length-1],o.pop());u&&(a.draw(),this._notify(a,s,e,"progress")),o.length||(s.running=!1,this._notify(a,s,e,"complete"),s.initial=!1),n+=o.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let s=n.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,s)),s}listen(e,n,s){this._getAnims(e).listeners[n].push(s)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,a)=>Math.max(s,a._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const s=n.items;let a=s.length-1;for(;a>=0;--a)s[a].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Ir=new bS;const Up="transparent",wS={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const s=Tp(t||Up),a=s.valid&&Tp(e||Up);return a&&a.valid?a.mix(s,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class _S{constructor(e,n,s,a){const o=n[s];a=fl([e.to,a,o,e.from]);const c=fl([e.from,o,a]);this._active=!0,this._fn=e.fn||wS[e.type||typeof c],this._easing=Va[e.easing]||Va.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=s,this._from=c,this._to=a,this._promises=void 0}active(){return this._active}update(e,n,s){if(this._active){this._notify(!1);const a=this._target[this._prop],o=s-this._start,c=this._duration-o;this._start=s,this._duration=Math.floor(Math.max(c,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=fl([e.to,n,a,e.from]),this._from=fl([e.from,a,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,s=this._duration,a=this._prop,o=this._from,c=this._loop,u=this._to;let f;if(this._active=o!==u&&(c||n<s),!this._active){this._target[a]=u,this._notify(!0);return}if(n<0){this._target[a]=o;return}f=n/s%2,f=c&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[a]=this._fn(o,u,f)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,s)=>{e.push({res:n,rej:s})})}_notify(e){const n=e?"res":"rej",s=this._promises||[];for(let a=0;a<s.length;a++)s[a][n]()}}class Qy{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!it(e))return;const n=Object.keys(Ht.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(a=>{const o=e[a];if(!it(o))return;const c={};for(const u of n)c[u]=o[u];(on(o.properties)&&o.properties||[a]).forEach(u=>{(u===a||!s.has(u))&&s.set(u,c)})})}_animateOptions(e,n){const s=n.options,a=kS(e,s);if(!a)return[];const o=this._createAnimations(a,s);return s.$shared&&SS(e.options.$animations,s).then(()=>{e.options=s},()=>{}),o}_createAnimations(e,n){const s=this._properties,a=[],o=e.$animations||(e.$animations={}),c=Object.keys(n),u=Date.now();let f;for(f=c.length-1;f>=0;--f){const m=c[f];if(m.charAt(0)==="$")continue;if(m==="options"){a.push(...this._animateOptions(e,n));continue}const g=n[m];let v=o[m];const x=s.get(m);if(v)if(x&&v.active()){v.update(x,g,u);continue}else v.cancel();if(!x||!x.duration){e[m]=g;continue}o[m]=v=new _S(x,e,m,g),a.push(v)}return a}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const s=this._createAnimations(e,n);if(s.length)return Ir.add(this._chart,s),!0}}function SS(t,e){const n=[],s=Object.keys(e);for(let a=0;a<s.length;a++){const o=t[s[a]];o&&o.active()&&n.push(o.wait())}return Promise.all(n)}function kS(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Bp(t,e){const n=t&&t.options||{},s=n.reverse,a=n.min===void 0?e:0,o=n.max===void 0?e:0;return{start:s?o:a,end:s?a:o}}function CS(t,e,n){if(n===!1)return!1;const s=Bp(t,n),a=Bp(e,n);return{top:a.end,right:s.end,bottom:a.start,left:s.start}}function jS(t){let e,n,s,a;return it(t)?(e=t.top,n=t.right,s=t.bottom,a=t.left):e=n=s=a=t,{top:e,right:n,bottom:s,left:a,disabled:t===!1}}function Gy(t,e){const n=[],s=t._getSortedDatasetMetas(e);let a,o;for(a=0,o=s.length;a<o;++a)n.push(s[a].index);return n}function $p(t,e,n,s={}){const a=t.keys,o=s.mode==="single";let c,u,f,m;if(e===null)return;let g=!1;for(c=0,u=a.length;c<u;++c){if(f=+a[c],f===n){if(g=!0,s.all)continue;break}m=t.values[f],Gn(m)&&(o||e===0||_s(e)===_s(m))&&(e+=m)}return!g&&!s.all?0:e}function ES(t,e){const{iScale:n,vScale:s}=e,a=n.axis==="x"?"x":"y",o=s.axis==="x"?"x":"y",c=Object.keys(t),u=new Array(c.length);let f,m,g;for(f=0,m=c.length;f<m;++f)g=c[f],u[f]={[a]:g,[o]:t[g]};return u}function rd(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function NS(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function RS(t){const{min:e,max:n,minDefined:s,maxDefined:a}=t.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:a?n:Number.POSITIVE_INFINITY}}function MS(t,e,n){const s=t[e]||(t[e]={});return s[n]||(s[n]={})}function Hp(t,e,n,s){for(const a of e.getMatchingVisibleMetas(s).reverse()){const o=t[a.index];if(n&&o>0||!n&&o<0)return a.index}return null}function Wp(t,e){const{chart:n,_cachedMeta:s}=t,a=n._stacks||(n._stacks={}),{iScale:o,vScale:c,index:u}=s,f=o.axis,m=c.axis,g=NS(o,c,s),v=e.length;let x;for(let w=0;w<v;++w){const S=e[w],{[f]:k,[m]:C}=S,A=S._stacks||(S._stacks={});x=A[m]=MS(a,g,k),x[u]=C,x._top=Hp(x,c,!0,s.type),x._bottom=Hp(x,c,!1,s.type);const P=x._visualValues||(x._visualValues={});P[u]=C}}function sd(t,e){const n=t.scales;return Object.keys(n).filter(s=>n[s].axis===e).shift()}function TS(t,e){return Ki(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function PS(t,e,n){return Ki(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Pa(t,e){const n=t.controller.index,s=t.vScale&&t.vScale.axis;if(s){e=e||t._parsed;for(const a of e){const o=a._stacks;if(!o||o[s]===void 0||o[s][n]===void 0)return;delete o[s][n],o[s]._visualValues!==void 0&&o[s]._visualValues[n]!==void 0&&delete o[s]._visualValues[n]}}}const id=t=>t==="reset"||t==="none",Vp=(t,e)=>e?t:Object.assign({},t),DS=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:Gy(n,!0),values:null};class sf{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=rd(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Pa(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,s=this.getDataset(),a=(v,x,w,S)=>v==="x"?x:v==="r"?S:w,o=n.xAxisID=st(s.xAxisID,sd(e,"x")),c=n.yAxisID=st(s.yAxisID,sd(e,"y")),u=n.rAxisID=st(s.rAxisID,sd(e,"r")),f=n.indexAxis,m=n.iAxisID=a(f,o,c,u),g=n.vAxisID=a(f,c,o,u);n.xScale=this.getScaleForId(o),n.yScale=this.getScaleForId(c),n.rScale=this.getScaleForId(u),n.iScale=this.getScaleForId(m),n.vScale=this.getScaleForId(g)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Np(this._data,this),e._stacked&&Pa(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),s=this._data;if(it(n)){const a=this._cachedMeta;this._data=ES(n,a)}else if(s!==n){if(s){Np(s,this);const a=this._cachedMeta;Pa(a),a._parsed=[]}n&&Object.isExtensible(n)&&D_(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,s=this.getDataset();let a=!1;this._dataCheck();const o=n._stacked;n._stacked=rd(n.vScale,n),n.stack!==s.stack&&(a=!0,Pa(n),n.stack=s.stack),this._resyncElements(e),(a||o!==n._stacked)&&(Wp(this,n._parsed),n._stacked=rd(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:s,_data:a}=this,{iScale:o,_stacked:c}=s,u=o.axis;let f=e===0&&n===a.length?!0:s._sorted,m=e>0&&s._parsed[e-1],g,v,x;if(this._parsing===!1)s._parsed=a,s._sorted=!0,x=a;else{on(a[e])?x=this.parseArrayData(s,a,e,n):it(a[e])?x=this.parseObjectData(s,a,e,n):x=this.parsePrimitiveData(s,a,e,n);const w=()=>v[u]===null||m&&v[u]<m[u];for(g=0;g<n;++g)s._parsed[g+e]=v=x[g],f&&(w()&&(f=!1),m=v);s._sorted=f}c&&Wp(this,x)}parsePrimitiveData(e,n,s,a){const{iScale:o,vScale:c}=e,u=o.axis,f=c.axis,m=o.getLabels(),g=o===c,v=new Array(a);let x,w,S;for(x=0,w=a;x<w;++x)S=x+s,v[x]={[u]:g||o.parse(m[S],S),[f]:c.parse(n[S],S)};return v}parseArrayData(e,n,s,a){const{xScale:o,yScale:c}=e,u=new Array(a);let f,m,g,v;for(f=0,m=a;f<m;++f)g=f+s,v=n[g],u[f]={x:o.parse(v[0],g),y:c.parse(v[1],g)};return u}parseObjectData(e,n,s,a){const{xScale:o,yScale:c}=e,{xAxisKey:u="x",yAxisKey:f="y"}=this._parsing,m=new Array(a);let g,v,x,w;for(g=0,v=a;g<v;++g)x=g+s,w=n[x],m[g]={x:o.parse(ei(w,u),x),y:c.parse(ei(w,f),x)};return m}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,s){const a=this.chart,o=this._cachedMeta,c=n[e.axis],u={keys:Gy(a,!0),values:n._stacks[e.axis]._visualValues};return $p(u,c,o.index,{mode:s})}updateRangeFromParsed(e,n,s,a){const o=s[n.axis];let c=o===null?NaN:o;const u=a&&s._stacks[n.axis];a&&u&&(a.values=u,c=$p(a,o,this._cachedMeta.index)),e.min=Math.min(e.min,c),e.max=Math.max(e.max,c)}getMinMax(e,n){const s=this._cachedMeta,a=s._parsed,o=s._sorted&&e===s.iScale,c=a.length,u=this._getOtherScale(e),f=DS(n,s,this.chart),m={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:g,max:v}=RS(u);let x,w;function S(){w=a[x];const k=w[u.axis];return!Gn(w[e.axis])||g>k||v<k}for(x=0;x<c&&!(!S()&&(this.updateRangeFromParsed(m,e,w,f),o));++x);if(o){for(x=c-1;x>=0;--x)if(!S()){this.updateRangeFromParsed(m,e,w,f);break}}return m}getAllParsedValues(e){const n=this._cachedMeta._parsed,s=[];let a,o,c;for(a=0,o=n.length;a<o;++a)c=n[a][e.axis],Gn(c)&&s.push(c);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,s=n.iScale,a=n.vScale,o=this.getParsed(e);return{label:s?""+s.getLabelForValue(o[s.axis]):"",value:a?""+a.getLabelForValue(o[a.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=jS(st(this.options.clip,CS(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,s=this._cachedMeta,a=s.data||[],o=n.chartArea,c=[],u=this._drawStart||0,f=this._drawCount||a.length-u,m=this.options.drawActiveElementsOnTop;let g;for(s.dataset&&s.dataset.draw(e,o,u,f),g=u;g<u+f;++g){const v=a[g];v.hidden||(v.active&&m?c.push(v):v.draw(e,o))}for(g=0;g<c.length;++g)c[g].draw(e,o)}getStyle(e,n){const s=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,n,s){const a=this.getDataset();let o;if(e>=0&&e<this._cachedMeta.data.length){const c=this._cachedMeta.data[e];o=c.$context||(c.$context=PS(this.getContext(),e,c)),o.parsed=this.getParsed(e),o.raw=a.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=TS(this.chart.getContext(),this.index)),o.dataset=a,o.index=o.datasetIndex=this.index;return o.active=!!n,o.mode=s,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",s){const a=n==="active",o=this._cachedDataOpts,c=e+"-"+n,u=o[c],f=this.enableOptionSharing&&Ja(s);if(u)return Vp(u,f);const m=this.chart.config,g=m.datasetElementScopeKeys(this._type,e),v=a?[`${e}Hover`,"hover",e,""]:[e,""],x=m.getOptionScopes(this.getDataset(),g),w=Object.keys(Ht.elements[e]),S=()=>this.getContext(s,a,n),k=m.resolveNamedOptions(x,w,S,v);return k.$shared&&(k.$shared=f,o[c]=Object.freeze(Vp(k,f))),k}_resolveAnimations(e,n,s){const a=this.chart,o=this._cachedDataOpts,c=`animation-${n}`,u=o[c];if(u)return u;let f;if(a.options.animation!==!1){const g=this.chart.config,v=g.datasetAnimationScopeKeys(this._type,n),x=g.getOptionScopes(this.getDataset(),v);f=g.createResolver(x,this.getContext(e,s,n))}const m=new Qy(a,f&&f.animations);return f&&f._cacheable&&(o[c]=Object.freeze(m)),m}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||id(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const s=this.resolveDataElementOptions(e,n),a=this._sharedOptions,o=this.getSharedOptions(s),c=this.includeOptions(n,o)||o!==a;return this.updateSharedOptions(o,n,s),{sharedOptions:o,includeOptions:c}}updateElement(e,n,s,a){id(a)?Object.assign(e,s):this._resolveAnimations(n,a).update(e,s)}updateSharedOptions(e,n,s){e&&!id(n)&&this._resolveAnimations(void 0,n).update(e,s)}_setStyle(e,n,s,a){e.active=a;const o=this.getStyle(n,a);this._resolveAnimations(n,s,a).update(e,{options:!a&&this.getSharedOptions(o)||o})}removeHoverStyle(e,n,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,n,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,s=this._cachedMeta.data;for(const[u,f,m]of this._syncList)this[u](f,m);this._syncList=[];const a=s.length,o=n.length,c=Math.min(o,a);c&&this.parse(0,c),o>a?this._insertElements(a,o-a,e):o<a&&this._removeElements(o,a-o)}_insertElements(e,n,s=!0){const a=this._cachedMeta,o=a.data,c=e+n;let u;const f=m=>{for(m.length+=n,u=m.length-1;u>=c;u--)m[u]=m[u-n]};for(f(o),u=e;u<c;++u)o[u]=new this.dataElementType;this._parsing&&f(a._parsed),this.parse(e,n),s&&this.updateElements(o,e,n,"reset")}updateElements(e,n,s,a){}_removeElements(e,n){const s=this._cachedMeta;if(this._parsing){const a=s._parsed.splice(e,n);s._stacked&&Pa(s,a)}s.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,s,a]=e;this[n](s,a)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function AS(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let s=[];for(let a=0,o=n.length;a<o;a++)s=s.concat(n[a].controller.getAllParsedValues(t));t._cache.$bar=Ay(s.sort((a,o)=>a-o))}return t._cache.$bar}function LS(t){const e=t.iScale,n=AS(e,t.type);let s=e._length,a,o,c,u;const f=()=>{c===32767||c===-32768||(Ja(u)&&(s=Math.min(s,Math.abs(c-u)||s)),u=c)};for(a=0,o=n.length;a<o;++a)c=e.getPixelForValue(n[a]),f();for(u=void 0,a=0,o=e.ticks.length;a<o;++a)c=e.getPixelForTick(a),f();return s}function OS(t,e,n,s){const a=n.barThickness;let o,c;return bt(a)?(o=e.min*n.categoryPercentage,c=n.barPercentage):(o=a*s,c=1),{chunk:o/s,ratio:c,start:e.pixels[t]-o/2}}function FS(t,e,n,s){const a=e.pixels,o=a[t];let c=t>0?a[t-1]:null,u=t<a.length-1?a[t+1]:null;const f=n.categoryPercentage;c===null&&(c=o-(u===null?e.end-e.start:u-o)),u===null&&(u=o+o-c);const m=o-(o-Math.min(c,u))/2*f;return{chunk:Math.abs(u-c)/2*f/s,ratio:n.barPercentage,start:m}}function IS(t,e,n,s){const a=n.parse(t[0],s),o=n.parse(t[1],s),c=Math.min(a,o),u=Math.max(a,o);let f=c,m=u;Math.abs(c)>Math.abs(u)&&(f=u,m=c),e[n.axis]=m,e._custom={barStart:f,barEnd:m,start:a,end:o,min:c,max:u}}function qy(t,e,n,s){return on(t)?IS(t,e,n,s):e[n.axis]=n.parse(t,s),e}function Kp(t,e,n,s){const a=t.iScale,o=t.vScale,c=a.getLabels(),u=a===o,f=[];let m,g,v,x;for(m=n,g=n+s;m<g;++m)x=e[m],v={},v[a.axis]=u||a.parse(c[m],m),f.push(qy(x,v,o,m));return f}function ad(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function zS(t,e,n){return t!==0?_s(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function US(t){let e,n,s,a,o;return t.horizontal?(e=t.base>t.x,n="left",s="right"):(e=t.base<t.y,n="bottom",s="top"),e?(a="end",o="start"):(a="start",o="end"),{start:n,end:s,reverse:e,top:a,bottom:o}}function BS(t,e,n,s){let a=e.borderSkipped;const o={};if(!a){t.borderSkipped=o;return}if(a===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:c,end:u,reverse:f,top:m,bottom:g}=US(t);a==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===s?a=m:(n._bottom||0)===s?a=g:(o[Yp(g,c,u,f)]=!0,a=m)),o[Yp(a,c,u,f)]=!0,t.borderSkipped=o}function Yp(t,e,n,s){return s?(t=$S(t,e,n),t=Xp(t,n,e)):t=Xp(t,e,n),t}function $S(t,e,n){return t===e?n:t===n?e:t}function Xp(t,e,n){return t==="start"?e:t==="end"?n:t}function HS(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class WS extends sf{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,n,s,a){return Kp(e,n,s,a)}parseArrayData(e,n,s,a){return Kp(e,n,s,a)}parseObjectData(e,n,s,a){const{iScale:o,vScale:c}=e,{xAxisKey:u="x",yAxisKey:f="y"}=this._parsing,m=o.axis==="x"?u:f,g=c.axis==="x"?u:f,v=[];let x,w,S,k;for(x=s,w=s+a;x<w;++x)k=n[x],S={},S[o.axis]=o.parse(ei(k,m),x),v.push(qy(ei(k,g),S,c,x));return v}updateRangeFromParsed(e,n,s,a){super.updateRangeFromParsed(e,n,s,a);const o=s._custom;o&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,o.min),e.max=Math.max(e.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:s,vScale:a}=n,o=this.getParsed(e),c=o._custom,u=ad(c)?"["+c.start+", "+c.end+"]":""+a.getLabelForValue(o[a.axis]);return{label:""+s.getLabelForValue(o[s.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,s,a){const o=a==="reset",{index:c,_cachedMeta:{vScale:u}}=this,f=u.getBasePixel(),m=u.isHorizontal(),g=this._getRuler(),{sharedOptions:v,includeOptions:x}=this._getSharedOptions(n,a);for(let w=n;w<n+s;w++){const S=this.getParsed(w),k=o||bt(S[u.axis])?{base:f,head:f}:this._calculateBarValuePixels(w),C=this._calculateBarIndexPixels(w,g),A=(S._stacks||{})[u.axis],P={horizontal:m,base:k.base,enableBorderRadius:!A||ad(S._custom)||c===A._top||c===A._bottom,x:m?k.head:C.center,y:m?C.center:k.head,height:m?C.size:Math.abs(k.size),width:m?Math.abs(k.size):C.size};x&&(P.options=v||this.resolveDataElementOptions(w,e[w].active?"active":a));const U=P.options||e[w].options;BS(P,U,A,c),HS(P,U,g.ratio),this.updateElement(e[w],w,P,a)}}_getStacks(e,n){const{iScale:s}=this._cachedMeta,a=s.getMatchingVisibleMetas(this._type).filter(g=>g.controller.options.grouped),o=s.options.stacked,c=[],u=this._cachedMeta.controller.getParsed(n),f=u&&u[s.axis],m=g=>{const v=g._parsed.find(w=>w[s.axis]===f),x=v&&v[g.vScale.axis];if(bt(x)||isNaN(x))return!0};for(const g of a)if(!(n!==void 0&&m(g))&&((o===!1||c.indexOf(g.stack)===-1||o===void 0&&g.stack===void 0)&&c.push(g.stack),g.index===e))break;return c.length||c.push(void 0),c}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(s=>e[s].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)e[st(this.chart.options.indexAxis==="x"?s.xAxisID:s.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,s){const a=this._getStacks(e,s),o=n!==void 0?a.indexOf(n):-1;return o===-1?a.length-1:o}_getRuler(){const e=this.options,n=this._cachedMeta,s=n.iScale,a=[];let o,c;for(o=0,c=n.data.length;o<c;++o)a.push(s.getPixelForValue(this.getParsed(o)[s.axis],o));const u=e.barThickness;return{min:u||LS(n),pixels:a,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:e.grouped,ratio:u?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:s,index:a},options:{base:o,minBarLength:c}}=this,u=o||0,f=this.getParsed(e),m=f._custom,g=ad(m);let v=f[n.axis],x=0,w=s?this.applyStack(n,f,s):v,S,k;w!==v&&(x=w-v,w=v),g&&(v=m.barStart,w=m.barEnd-m.barStart,v!==0&&_s(v)!==_s(m.barEnd)&&(x=0),x+=v);const C=!bt(o)&&!g?o:x;let A=n.getPixelForValue(C);if(this.chart.getDataVisibility(e)?S=n.getPixelForValue(x+w):S=A,k=S-A,Math.abs(k)<c){k=zS(k,n,u)*c,v===u&&(A-=k/2);const P=n.getPixelForDecimal(0),U=n.getPixelForDecimal(1),O=Math.min(P,U),V=Math.max(P,U);A=Math.max(Math.min(A,V),O),S=A+k,s&&!g&&(f._stacks[n.axis]._visualValues[a]=n.getValueForPixel(S)-n.getValueForPixel(A))}if(A===n.getPixelForValue(u)){const P=_s(k)*n.getLineWidthForValue(u)/2;A+=P,k-=P}return{size:k,base:A,head:S,center:S+k/2}}_calculateBarIndexPixels(e,n){const s=n.scale,a=this.options,o=a.skipNull,c=st(a.maxBarThickness,1/0);let u,f;const m=this._getAxisCount();if(n.grouped){const g=o?this._getStackCount(e):n.stackCount,v=a.barThickness==="flex"?FS(e,n,a,g*m):OS(e,n,a,g*m),x=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,w=this._getAxis().indexOf(st(x,this.getFirstScaleIdForIndexAxis())),S=this._getStackIndex(this.index,this._cachedMeta.stack,o?e:void 0)+w;u=v.start+v.chunk*S+v.chunk/2,f=Math.min(c,v.chunk*v.ratio)}else u=s.getPixelForValue(this.getParsed(e)[s.axis],e),f=Math.min(c,n.min*n.ratio);return{base:u-f/2,head:u+f/2,center:u,size:f}}draw(){const e=this._cachedMeta,n=e.vScale,s=e.data,a=s.length;let o=0;for(;o<a;++o)this.getParsed(o)[n.axis]!==null&&!s[o].hidden&&s[o].draw(this._ctx)}}function VS(t,e,n){let s=1,a=1,o=0,c=0;if(e<Gt){const u=t,f=u+e,m=Math.cos(u),g=Math.sin(u),v=Math.cos(f),x=Math.sin(f),w=(U,O,V)=>Bl(U,u,f,!0)?1:Math.max(O,O*n,V,V*n),S=(U,O,V)=>Bl(U,u,f,!0)?-1:Math.min(O,O*n,V,V*n),k=w(0,m,v),C=w(en,g,x),A=S(Mt,m,v),P=S(Mt+en,g,x);s=(k-A)/2,a=(C-P)/2,o=-(k+A)/2,c=-(C+P)/2}return{ratioX:s,ratioY:a,offsetX:o,offsetY:c}}class KS extends sf{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:s,color:a}}=e.legend.options;return n.labels.map((o,c)=>{const f=e.getDatasetMeta(0).controller.getStyle(c);return{text:o,fillStyle:f.backgroundColor,strokeStyle:f.borderColor,fontColor:a,lineWidth:f.borderWidth,pointStyle:s,hidden:!e.getDataVisibility(c),index:c}})}return[]}},onClick(e,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}}}};constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const s=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=s;else{let o=f=>+s[f];if(it(s[e])){const{key:f="value"}=this._parsing;o=m=>+ei(s[m],f)}let c,u;for(c=e,u=e+n;c<u;++c)a._parsed[c]=o(c)}}_getRotation(){return $r(this.options.rotation-90)}_getCircumference(){return $r(this.options.circumference)}_getRotationExtents(){let e=Gt,n=-Gt;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const a=this.chart.getDatasetMeta(s).controller,o=a._getRotation(),c=a._getCircumference();e=Math.min(e,o),n=Math.max(n,o+c)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:s}=n,a=this._cachedMeta,o=a.data,c=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,u=Math.max((Math.min(s.width,s.height)-c)/2,0),f=Math.min(y_(this.options.cutout,u),1),m=this._getRingWeight(this.index),{circumference:g,rotation:v}=this._getRotationExtents(),{ratioX:x,ratioY:w,offsetX:S,offsetY:k}=VS(v,g,f),C=(s.width-c)/x,A=(s.height-c)/w,P=Math.max(Math.min(C,A)/2,0),U=Ry(this.options.radius,P),O=Math.max(U*f,0),V=(U-O)/this._getVisibleDatasetWeightTotal();this.offsetX=S*U,this.offsetY=k*U,a.total=this.calculateTotal(),this.outerRadius=U-V*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-V*m,0),this.updateElements(o,0,o.length,e)}_circumference(e,n){const s=this.options,a=this._cachedMeta,o=this._getCircumference();return n&&s.animation.animateRotate||!this.chart.getDataVisibility(e)||a._parsed[e]===null||a.data[e].hidden?0:this.calculateCircumference(a._parsed[e]*o/Gt)}updateElements(e,n,s,a){const o=a==="reset",c=this.chart,u=c.chartArea,m=c.options.animation,g=(u.left+u.right)/2,v=(u.top+u.bottom)/2,x=o&&m.animateScale,w=x?0:this.innerRadius,S=x?0:this.outerRadius,{sharedOptions:k,includeOptions:C}=this._getSharedOptions(n,a);let A=this._getRotation(),P;for(P=0;P<n;++P)A+=this._circumference(P,o);for(P=n;P<n+s;++P){const U=this._circumference(P,o),O=e[P],V={x:g+this.offsetX,y:v+this.offsetY,startAngle:A,endAngle:A+U,circumference:U,outerRadius:S,innerRadius:w};C&&(V.options=k||this.resolveDataElementOptions(P,O.active?"active":a)),A+=U,this.updateElement(O,P,V,a)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let s=0,a;for(a=0;a<n.length;a++){const o=e._parsed[a];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(a)&&!n[a].hidden&&(s+=Math.abs(o))}return s}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?Gt*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,s=this.chart,a=s.data.labels||[],o=Qd(n._parsed[e],s.options.locale);return{label:a[e]||"",value:o}}getMaxBorderWidth(e){let n=0;const s=this.chart;let a,o,c,u,f;if(!e){for(a=0,o=s.data.datasets.length;a<o;++a)if(s.isDatasetVisible(a)){c=s.getDatasetMeta(a),e=c.data,u=c.controller;break}}if(!e)return 0;for(a=0,o=e.length;a<o;++a)f=u.resolveDataElementOptions(a),f.borderAlign!=="inner"&&(n=Math.max(n,f.borderWidth||0,f.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let s=0,a=e.length;s<a;++s){const o=this.resolveDataElementOptions(s);n=Math.max(n,o.offset||0,o.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let s=0;s<e;++s)this.chart.isDatasetVisible(s)&&(n+=this._getRingWeight(s));return n}_getRingWeight(e){return Math.max(st(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class YS extends KS{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}function Hs(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class af{static override(e){Object.assign(af.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return Hs()}parse(){return Hs()}format(){return Hs()}add(){return Hs()}diff(){return Hs()}startOf(){return Hs()}endOf(){return Hs()}}var XS={_date:af};function QS(t,e,n,s){const{controller:a,data:o,_sorted:c}=t,u=a._cachedMeta.iScale,f=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(u&&e===u.axis&&e!=="r"&&c&&o.length){const m=u._reversePixels?T_:kd;if(s){if(a._sharedOptions){const g=o[0],v=typeof g.getRange=="function"&&g.getRange(e);if(v){const x=m(o,e,n-v),w=m(o,e,n+v);return{lo:x.lo,hi:w.hi}}}}else{const g=m(o,e,n);if(f){const{vScale:v}=a._cachedMeta,{_parsed:x}=t,w=x.slice(0,g.lo+1).reverse().findIndex(k=>!bt(k[v.axis]));g.lo-=Math.max(0,w);const S=x.slice(g.hi).findIndex(k=>!bt(k[v.axis]));g.hi+=Math.max(0,S)}return g}}return{lo:0,hi:o.length-1}}function nc(t,e,n,s,a){const o=t.getSortedVisibleDatasetMetas(),c=n[e];for(let u=0,f=o.length;u<f;++u){const{index:m,data:g}=o[u],{lo:v,hi:x}=QS(o[u],e,c,a);for(let w=v;w<=x;++w){const S=g[w];S.skip||s(S,m,w)}}}function GS(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(s,a){const o=e?Math.abs(s.x-a.x):0,c=n?Math.abs(s.y-a.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(c,2))}}function od(t,e,n,s,a){const o=[];return!a&&!t.isPointInArea(e)||nc(t,n,e,function(u,f,m){!a&&!By(u,t.chartArea,0)||u.inRange(e.x,e.y,s)&&o.push({element:u,datasetIndex:f,index:m})},!0),o}function qS(t,e,n,s){let a=[];function o(c,u,f){const{startAngle:m,endAngle:g}=c.getProps(["startAngle","endAngle"],s),{angle:v}=Py(c,{x:e.x,y:e.y});Bl(v,m,g)&&a.push({element:c,datasetIndex:u,index:f})}return nc(t,n,e,o),a}function JS(t,e,n,s,a,o){let c=[];const u=GS(n);let f=Number.POSITIVE_INFINITY;function m(g,v,x){const w=g.inRange(e.x,e.y,a);if(s&&!w)return;const S=g.getCenterPoint(a);if(!(!!o||t.isPointInArea(S))&&!w)return;const C=u(e,S);C<f?(c=[{element:g,datasetIndex:v,index:x}],f=C):C===f&&c.push({element:g,datasetIndex:v,index:x})}return nc(t,n,e,m),c}function ld(t,e,n,s,a,o){return!o&&!t.isPointInArea(e)?[]:n==="r"&&!s?qS(t,e,n,a):JS(t,e,n,s,a,o)}function Qp(t,e,n,s,a){const o=[],c=n==="x"?"inXRange":"inYRange";let u=!1;return nc(t,n,e,(f,m,g)=>{f[c]&&f[c](e[n],a)&&(o.push({element:f,datasetIndex:m,index:g}),u=u||f.inRange(e.x,e.y,a))}),s&&!u?[]:o}var ZS={modes:{index(t,e,n,s){const a=Ws(e,t),o=n.axis||"x",c=n.includeInvisible||!1,u=n.intersect?od(t,a,o,s,c):ld(t,a,o,!1,s,c),f=[];return u.length?(t.getSortedVisibleDatasetMetas().forEach(m=>{const g=u[0].index,v=m.data[g];v&&!v.skip&&f.push({element:v,datasetIndex:m.index,index:g})}),f):[]},dataset(t,e,n,s){const a=Ws(e,t),o=n.axis||"xy",c=n.includeInvisible||!1;let u=n.intersect?od(t,a,o,s,c):ld(t,a,o,!1,s,c);if(u.length>0){const f=u[0].datasetIndex,m=t.getDatasetMeta(f).data;u=[];for(let g=0;g<m.length;++g)u.push({element:m[g],datasetIndex:f,index:g})}return u},point(t,e,n,s){const a=Ws(e,t),o=n.axis||"xy",c=n.includeInvisible||!1;return od(t,a,o,s,c)},nearest(t,e,n,s){const a=Ws(e,t),o=n.axis||"xy",c=n.includeInvisible||!1;return ld(t,a,o,n.intersect,s,c)},x(t,e,n,s){const a=Ws(e,t);return Qp(t,a,"x",n.intersect,s)},y(t,e,n,s){const a=Ws(e,t);return Qp(t,a,"y",n.intersect,s)}}};const Jy=["left","top","right","bottom"];function Da(t,e){return t.filter(n=>n.pos===e)}function Gp(t,e){return t.filter(n=>Jy.indexOf(n.pos)===-1&&n.box.axis===e)}function Aa(t,e){return t.sort((n,s)=>{const a=e?s:n,o=e?n:s;return a.weight===o.weight?a.index-o.index:a.weight-o.weight})}function ek(t){const e=[];let n,s,a,o,c,u;for(n=0,s=(t||[]).length;n<s;++n)a=t[n],{position:o,options:{stack:c,stackWeight:u=1}}=a,e.push({index:n,box:a,pos:o,horizontal:a.isHorizontal(),weight:a.weight,stack:c&&o+c,stackWeight:u});return e}function tk(t){const e={};for(const n of t){const{stack:s,pos:a,stackWeight:o}=n;if(!s||!Jy.includes(a))continue;const c=e[s]||(e[s]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=o}return e}function nk(t,e){const n=tk(t),{vBoxMaxWidth:s,hBoxMaxHeight:a}=e;let o,c,u;for(o=0,c=t.length;o<c;++o){u=t[o];const{fullSize:f}=u.box,m=n[u.stack],g=m&&u.stackWeight/m.weight;u.horizontal?(u.width=g?g*s:f&&e.availableWidth,u.height=a):(u.width=s,u.height=g?g*a:f&&e.availableHeight)}return n}function rk(t){const e=ek(t),n=Aa(e.filter(m=>m.box.fullSize),!0),s=Aa(Da(e,"left"),!0),a=Aa(Da(e,"right")),o=Aa(Da(e,"top"),!0),c=Aa(Da(e,"bottom")),u=Gp(e,"x"),f=Gp(e,"y");return{fullSize:n,leftAndTop:s.concat(o),rightAndBottom:a.concat(f).concat(c).concat(u),chartArea:Da(e,"chartArea"),vertical:s.concat(a).concat(f),horizontal:o.concat(c).concat(u)}}function qp(t,e,n,s){return Math.max(t[n],e[n])+Math.max(t[s],e[s])}function Zy(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function sk(t,e,n,s){const{pos:a,box:o}=n,c=t.maxPadding;if(!it(a)){n.size&&(t[a]-=n.size);const v=s[n.stack]||{size:0,count:1};v.size=Math.max(v.size,n.horizontal?o.height:o.width),n.size=v.size/v.count,t[a]+=n.size}o.getPadding&&Zy(c,o.getPadding());const u=Math.max(0,e.outerWidth-qp(c,t,"left","right")),f=Math.max(0,e.outerHeight-qp(c,t,"top","bottom")),m=u!==t.w,g=f!==t.h;return t.w=u,t.h=f,n.horizontal?{same:m,other:g}:{same:g,other:m}}function ik(t){const e=t.maxPadding;function n(s){const a=Math.max(e[s]-t[s],0);return t[s]+=a,a}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function ak(t,e){const n=e.maxPadding;function s(a){const o={left:0,top:0,right:0,bottom:0};return a.forEach(c=>{o[c]=Math.max(e[c],n[c])}),o}return s(t?["left","right"]:["top","bottom"])}function $a(t,e,n,s){const a=[];let o,c,u,f,m,g;for(o=0,c=t.length,m=0;o<c;++o){u=t[o],f=u.box,f.update(u.width||e.w,u.height||e.h,ak(u.horizontal,e));const{same:v,other:x}=sk(e,n,u,s);m|=v&&a.length,g=g||x,f.fullSize||a.push(u)}return m&&$a(a,e,n,s)||g}function pl(t,e,n,s,a){t.top=n,t.left=e,t.right=e+s,t.bottom=n+a,t.width=s,t.height=a}function Jp(t,e,n,s){const a=n.padding;let{x:o,y:c}=e;for(const u of t){const f=u.box,m=s[u.stack]||{placed:0,weight:1},g=u.stackWeight/m.weight||1;if(u.horizontal){const v=e.w*g,x=m.size||f.height;Ja(m.start)&&(c=m.start),f.fullSize?pl(f,a.left,c,n.outerWidth-a.right-a.left,x):pl(f,e.left+m.placed,c,v,x),m.start=c,m.placed+=v,c=f.bottom}else{const v=e.h*g,x=m.size||f.width;Ja(m.start)&&(o=m.start),f.fullSize?pl(f,o,a.top,x,n.outerHeight-a.bottom-a.top):pl(f,o,e.top+m.placed,x,v),m.start=o,m.placed+=v,o=f.right}}e.x=o,e.y=c}var xs={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,s){if(!t)return;const a=dr(t.options.layout.padding),o=Math.max(e-a.width,0),c=Math.max(n-a.height,0),u=rk(t.boxes),f=u.vertical,m=u.horizontal;gt(t.boxes,k=>{typeof k.beforeLayout=="function"&&k.beforeLayout()});const g=f.reduce((k,C)=>C.box.options&&C.box.options.display===!1?k:k+1,0)||1,v=Object.freeze({outerWidth:e,outerHeight:n,padding:a,availableWidth:o,availableHeight:c,vBoxMaxWidth:o/2/g,hBoxMaxHeight:c/2}),x=Object.assign({},a);Zy(x,dr(s));const w=Object.assign({maxPadding:x,w:o,h:c,x:a.left,y:a.top},a),S=nk(f.concat(m),v);$a(u.fullSize,w,v,S),$a(f,w,v,S),$a(m,w,v,S)&&$a(f,w,v,S),ik(w),Jp(u.leftAndTop,w,v,S),w.x+=w.w,w.y+=w.h,Jp(u.rightAndBottom,w,v,S),t.chartArea={left:w.left,top:w.top,right:w.left+w.w,bottom:w.top+w.h,height:w.h,width:w.w},gt(u.chartArea,k=>{const C=k.box;Object.assign(C,t.chartArea),C.update(w.w,w.h,{left:0,top:0,right:0,bottom:0})})}};class ev{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,s){}removeEventListener(e,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,s,a){return n=Math.max(0,n||e.width),s=s||e.height,{width:n,height:Math.max(0,a?Math.floor(n/a):s)}}isAttached(e){return!0}updateConfig(e){}}class ok extends ev{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const El="$chartjs",lk={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Zp=t=>t===null||t==="";function ck(t,e){const n=t.style,s=t.getAttribute("height"),a=t.getAttribute("width");if(t[El]={initial:{height:s,width:a,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Zp(a)){const o=zp(t,"width");o!==void 0&&(t.width=o)}if(Zp(s))if(t.style.height==="")t.height=t.width/(e||2);else{const o=zp(t,"height");o!==void 0&&(t.height=o)}return t}const tv=pS?{passive:!0}:!1;function uk(t,e,n){t&&t.addEventListener(e,n,tv)}function dk(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,tv)}function fk(t,e){const n=lk[t.type]||t.type,{x:s,y:a}=Ws(t,e);return{type:n,chart:e,native:t,x:s!==void 0?s:null,y:a!==void 0?a:null}}function Vl(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function hk(t,e,n){const s=t.canvas,a=new MutationObserver(o=>{let c=!1;for(const u of o)c=c||Vl(u.addedNodes,s),c=c&&!Vl(u.removedNodes,s);c&&n()});return a.observe(document,{childList:!0,subtree:!0}),a}function mk(t,e,n){const s=t.canvas,a=new MutationObserver(o=>{let c=!1;for(const u of o)c=c||Vl(u.removedNodes,s),c=c&&!Vl(u.addedNodes,s);c&&n()});return a.observe(document,{childList:!0,subtree:!0}),a}const Za=new Map;let eg=0;function nv(){const t=window.devicePixelRatio;t!==eg&&(eg=t,Za.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function pk(t,e){Za.size||window.addEventListener("resize",nv),Za.set(t,e)}function gk(t){Za.delete(t),Za.size||window.removeEventListener("resize",nv)}function yk(t,e,n){const s=t.canvas,a=s&&rf(s);if(!a)return;const o=Oy((u,f)=>{const m=a.clientWidth;n(u,f),m<a.clientWidth&&n()},window),c=new ResizeObserver(u=>{const f=u[0],m=f.contentRect.width,g=f.contentRect.height;m===0&&g===0||o(m,g)});return c.observe(a),pk(t,o),c}function cd(t,e,n){n&&n.disconnect(),e==="resize"&&gk(t)}function vk(t,e,n){const s=t.canvas,a=Oy(o=>{t.ctx!==null&&n(fk(o,t))},t);return uk(s,e,a),a}class xk extends ev{acquireContext(e,n){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(ck(e,n),s):null}releaseContext(e){const n=e.canvas;if(!n[El])return!1;const s=n[El].initial;["height","width"].forEach(o=>{const c=s[o];bt(c)?n.removeAttribute(o):n.setAttribute(o,c)});const a=s.style||{};return Object.keys(a).forEach(o=>{n.style[o]=a[o]}),n.width=n.width,delete n[El],!0}addEventListener(e,n,s){this.removeEventListener(e,n);const a=e.$proxies||(e.$proxies={}),c={attach:hk,detach:mk,resize:yk}[n]||vk;a[n]=c(e,n,s)}removeEventListener(e,n){const s=e.$proxies||(e.$proxies={}),a=s[n];if(!a)return;({attach:cd,detach:cd,resize:cd}[n]||dk)(e,n,a),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,s,a){return mS(e,n,s,a)}isAttached(e){const n=e&&rf(e);return!!(n&&n.isConnected)}}function bk(t){return!nf()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?ok:xk}class Yi{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:n,y:s}=this.getProps(["x","y"],e);return{x:n,y:s}}hasValue(){return Ul(this.x)&&Ul(this.y)}getProps(e,n){const s=this.$animations;if(!n||!s)return this;const a={};return e.forEach(o=>{a[o]=s[o]&&s[o].active()?s[o]._to:this[o]}),a}}function wk(t,e){const n=t.options.ticks,s=_k(t),a=Math.min(n.maxTicksLimit||s,s),o=n.major.enabled?kk(e):[],c=o.length,u=o[0],f=o[c-1],m=[];if(c>a)return Ck(e,m,o,c/a),m;const g=Sk(o,e,a);if(c>0){let v,x;const w=c>1?Math.round((f-u)/(c-1)):null;for(gl(e,m,g,bt(w)?0:u-w,u),v=0,x=c-1;v<x;v++)gl(e,m,g,o[v],o[v+1]);return gl(e,m,g,f,bt(w)?e.length:f+w),m}return gl(e,m,g),m}function _k(t){const e=t.options.offset,n=t._tickSize(),s=t._length/n+(e?0:1),a=t._maxLength/n;return Math.floor(Math.min(s,a))}function Sk(t,e,n){const s=jk(t),a=e.length/n;if(!s)return Math.max(a,1);const o=k_(s);for(let c=0,u=o.length-1;c<u;c++){const f=o[c];if(f>a)return f}return Math.max(a,1)}function kk(t){const e=[];let n,s;for(n=0,s=t.length;n<s;n++)t[n].major&&e.push(n);return e}function Ck(t,e,n,s){let a=0,o=n[0],c;for(s=Math.ceil(s),c=0;c<t.length;c++)c===o&&(e.push(t[c]),a++,o=n[a*s])}function gl(t,e,n,s,a){const o=st(s,0),c=Math.min(st(a,t.length),t.length);let u=0,f,m,g;for(n=Math.ceil(n),a&&(f=a-s,n=f/Math.floor(f/n)),g=o;g<0;)u++,g=Math.round(o+u*n);for(m=Math.max(o,0);m<c;m++)m===g&&(e.push(t[m]),u++,g=Math.round(o+u*n))}function jk(t){const e=t.length;let n,s;if(e<2)return!1;for(s=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==s)return!1;return s}const Ek=t=>t==="left"?"right":t==="right"?"left":t,tg=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,ng=(t,e)=>Math.min(e||t,t);function rg(t,e){const n=[],s=t.length/e,a=t.length;let o=0;for(;o<a;o+=s)n.push(t[Math.floor(o)]);return n}function Nk(t,e,n){const s=t.ticks.length,a=Math.min(e,s-1),o=t._startPixel,c=t._endPixel,u=1e-6;let f=t.getPixelForTick(a),m;if(!(n&&(s===1?m=Math.max(f-o,c-f):e===0?m=(t.getPixelForTick(1)-f)/2:m=(f-t.getPixelForTick(a-1))/2,f+=a<e?m:-m,f<o-u||f>c+u)))return f}function Rk(t,e){gt(t,n=>{const s=n.gc,a=s.length/2;let o;if(a>e){for(o=0;o<a;++o)delete n.data[s[o]];s.splice(0,a)}})}function La(t){return t.drawTicks?t.tickLength:0}function sg(t,e){if(!t.display)return 0;const n=Tn(t.font,e),s=dr(t.padding);return(on(t.text)?t.text.length:1)*n.lineHeight+s.height}function Mk(t,e){return Ki(t,{scale:e,type:"scale"})}function Tk(t,e,n){return Ki(t,{tick:n,index:e,type:"tick"})}function Pk(t,e,n){let s=Fy(t);return(n&&e!=="right"||!n&&e==="right")&&(s=Ek(s)),s}function Dk(t,e,n,s){const{top:a,left:o,bottom:c,right:u,chart:f}=t,{chartArea:m,scales:g}=f;let v=0,x,w,S;const k=c-a,C=u-o;if(t.isHorizontal()){if(w=In(s,o,u),it(n)){const A=Object.keys(n)[0],P=n[A];S=g[A].getPixelForValue(P)+k-e}else n==="center"?S=(m.bottom+m.top)/2+k-e:S=tg(t,n,e);x=u-o}else{if(it(n)){const A=Object.keys(n)[0],P=n[A];w=g[A].getPixelForValue(P)-C+e}else n==="center"?w=(m.left+m.right)/2-C+e:w=tg(t,n,e);S=In(s,c,a),v=n==="left"?-en:en}return{titleX:w,titleY:S,maxWidth:x,rotation:v}}class Xi extends Yi{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:s,_suggestedMax:a}=this;return e=br(e,Number.POSITIVE_INFINITY),n=br(n,Number.NEGATIVE_INFINITY),s=br(s,Number.POSITIVE_INFINITY),a=br(a,Number.NEGATIVE_INFINITY),{min:br(e,s),max:br(n,a),minDefined:Gn(e),maxDefined:Gn(n)}}getMinMax(e){let{min:n,max:s,minDefined:a,maxDefined:o}=this.getUserBounds(),c;if(a&&o)return{min:n,max:s};const u=this.getMatchingVisibleMetas();for(let f=0,m=u.length;f<m;++f)c=u[f].controller.getMinMax(this,e),a||(n=Math.min(n,c.min)),o||(s=Math.max(s,c.max));return n=o&&n>s?s:n,s=a&&n>s?n:s,{min:br(n,br(s,n)),max:br(s,br(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Rt(this.options.beforeUpdate,[this])}update(e,n,s){const{beginAtZero:a,grace:o,ticks:c}=this.options,u=c.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Z_(this,o,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=u<this.ticks.length;this._convertTicksToLabels(f?rg(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=wk(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,e=!e),this._startPixel=n,this._endPixel=s,this._reversePixels=e,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Rt(this.options.afterUpdate,[this])}beforeSetDimensions(){Rt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Rt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Rt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Rt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let s,a,o;for(s=0,a=e.length;s<a;s++)o=e[s],o.label=Rt(n.callback,[o.value,s,e],this)}afterTickToLabelConversion(){Rt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Rt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,s=ng(this.ticks.length,e.ticks.maxTicksLimit),a=n.minRotation||0,o=n.maxRotation;let c=a,u,f,m;if(!this._isVisible()||!n.display||a>=o||s<=1||!this.isHorizontal()){this.labelRotation=a;return}const g=this._getLabelSizes(),v=g.widest.width,x=g.highest.height,w=Mn(this.chart.width-v,0,this.maxWidth);u=e.offset?this.maxWidth/s:w/(s-1),v+6>u&&(u=w/(s-(e.offset?.5:1)),f=this.maxHeight-La(e.grid)-n.padding-sg(e.title,this.chart.options.font),m=Math.sqrt(v*v+x*x),c=N_(Math.min(Math.asin(Mn((g.highest.height+6)/u,-1,1)),Math.asin(Mn(f/m,-1,1))-Math.asin(Mn(x/m,-1,1)))),c=Math.max(a,Math.min(o,c))),this.labelRotation=c}afterCalculateLabelRotation(){Rt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Rt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:s,title:a,grid:o}}=this,c=this._isVisible(),u=this.isHorizontal();if(c){const f=sg(a,n.options.font);if(u?(e.width=this.maxWidth,e.height=La(o)+f):(e.height=this.maxHeight,e.width=La(o)+f),s.display&&this.ticks.length){const{first:m,last:g,widest:v,highest:x}=this._getLabelSizes(),w=s.padding*2,S=$r(this.labelRotation),k=Math.cos(S),C=Math.sin(S);if(u){const A=s.mirror?0:C*v.width+k*x.height;e.height=Math.min(this.maxHeight,e.height+A+w)}else{const A=s.mirror?0:k*v.width+C*x.height;e.width=Math.min(this.maxWidth,e.width+A+w)}this._calculatePadding(m,g,C,k)}}this._handleMargins(),u?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,s,a){const{ticks:{align:o,padding:c},position:u}=this.options,f=this.labelRotation!==0,m=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const g=this.getPixelForTick(0)-this.left,v=this.right-this.getPixelForTick(this.ticks.length-1);let x=0,w=0;f?m?(x=a*e.width,w=s*n.height):(x=s*e.height,w=a*n.width):o==="start"?w=n.width:o==="end"?x=e.width:o!=="inner"&&(x=e.width/2,w=n.width/2),this.paddingLeft=Math.max((x-g+c)*this.width/(this.width-g),0),this.paddingRight=Math.max((w-v+c)*this.width/(this.width-v),0)}else{let g=n.height/2,v=e.height/2;o==="start"?(g=0,v=e.height):o==="end"&&(g=n.height,v=0),this.paddingTop=g+c,this.paddingBottom=v+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Rt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,s;for(n=0,s=e.length;n<s;n++)bt(e[n].label)&&(e.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=rg(s,n)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,s){const{ctx:a,_longestTextCache:o}=this,c=[],u=[],f=Math.floor(n/ng(n,s));let m=0,g=0,v,x,w,S,k,C,A,P,U,O,V;for(v=0;v<n;v+=f){if(S=e[v].label,k=this._resolveTickFontOptions(v),a.font=C=k.string,A=o[C]=o[C]||{data:{},gc:[]},P=k.lineHeight,U=O=0,!bt(S)&&!on(S))U=Dp(a,A.data,A.gc,U,S),O=P;else if(on(S))for(x=0,w=S.length;x<w;++x)V=S[x],!bt(V)&&!on(V)&&(U=Dp(a,A.data,A.gc,U,V),O+=P);c.push(U),u.push(O),m=Math.max(U,m),g=Math.max(O,g)}Rk(o,n);const q=c.indexOf(m),M=u.indexOf(g),z=J=>({width:c[J]||0,height:u[J]||0});return{first:z(0),last:z(n-1),widest:z(q),highest:z(M),widths:c,heights:u}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return M_(this._alignToPixels?$s(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const s=n[e];return s.$context||(s.$context=Tk(this.getContext(),e,s))}return this.$context||(this.$context=Mk(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=$r(this.labelRotation),s=Math.abs(Math.cos(n)),a=Math.abs(Math.sin(n)),o=this._getLabelSizes(),c=e.autoSkipPadding||0,u=o?o.widest.width+c:0,f=o?o.highest.height+c:0;return this.isHorizontal()?f*s>u*a?u/s:f/a:f*a<u*s?f/s:u/a}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,s=this.chart,a=this.options,{grid:o,position:c,border:u}=a,f=o.offset,m=this.isHorizontal(),v=this.ticks.length+(f?1:0),x=La(o),w=[],S=u.setContext(this.getContext()),k=S.display?S.width:0,C=k/2,A=function(ce){return $s(s,ce,k)};let P,U,O,V,q,M,z,J,E,R,W,K;if(c==="top")P=A(this.bottom),M=this.bottom-x,J=P-C,R=A(e.top)+C,K=e.bottom;else if(c==="bottom")P=A(this.top),R=e.top,K=A(e.bottom)-C,M=P+C,J=this.top+x;else if(c==="left")P=A(this.right),q=this.right-x,z=P-C,E=A(e.left)+C,W=e.right;else if(c==="right")P=A(this.left),E=e.left,W=A(e.right)-C,q=P+C,z=this.left+x;else if(n==="x"){if(c==="center")P=A((e.top+e.bottom)/2+.5);else if(it(c)){const ce=Object.keys(c)[0],ve=c[ce];P=A(this.chart.scales[ce].getPixelForValue(ve))}R=e.top,K=e.bottom,M=P+C,J=M+x}else if(n==="y"){if(c==="center")P=A((e.left+e.right)/2);else if(it(c)){const ce=Object.keys(c)[0],ve=c[ce];P=A(this.chart.scales[ce].getPixelForValue(ve))}q=P-C,z=q-x,E=e.left,W=e.right}const te=st(a.ticks.maxTicksLimit,v),ne=Math.max(1,Math.ceil(v/te));for(U=0;U<v;U+=ne){const ce=this.getContext(U),ve=o.setContext(ce),ee=u.setContext(ce),ae=ve.lineWidth,T=ve.color,j=ee.dash||[],B=ee.dashOffset,I=ve.tickWidth,re=ve.tickColor,ie=ve.tickBorderDash||[],de=ve.tickBorderDashOffset;O=Nk(this,U,f),O!==void 0&&(V=$s(s,O,ae),m?q=z=E=W=V:M=J=R=K=V,w.push({tx1:q,ty1:M,tx2:z,ty2:J,x1:E,y1:R,x2:W,y2:K,width:ae,color:T,borderDash:j,borderDashOffset:B,tickWidth:I,tickColor:re,tickBorderDash:ie,tickBorderDashOffset:de}))}return this._ticksLength=v,this._borderValue=P,w}_computeLabelItems(e){const n=this.axis,s=this.options,{position:a,ticks:o}=s,c=this.isHorizontal(),u=this.ticks,{align:f,crossAlign:m,padding:g,mirror:v}=o,x=La(s.grid),w=x+g,S=v?-g:w,k=-$r(this.labelRotation),C=[];let A,P,U,O,V,q,M,z,J,E,R,W,K="middle";if(a==="top")q=this.bottom-S,M=this._getXAxisLabelAlignment();else if(a==="bottom")q=this.top+S,M=this._getXAxisLabelAlignment();else if(a==="left"){const ne=this._getYAxisLabelAlignment(x);M=ne.textAlign,V=ne.x}else if(a==="right"){const ne=this._getYAxisLabelAlignment(x);M=ne.textAlign,V=ne.x}else if(n==="x"){if(a==="center")q=(e.top+e.bottom)/2+w;else if(it(a)){const ne=Object.keys(a)[0],ce=a[ne];q=this.chart.scales[ne].getPixelForValue(ce)+w}M=this._getXAxisLabelAlignment()}else if(n==="y"){if(a==="center")V=(e.left+e.right)/2-w;else if(it(a)){const ne=Object.keys(a)[0],ce=a[ne];V=this.chart.scales[ne].getPixelForValue(ce)}M=this._getYAxisLabelAlignment(x).textAlign}n==="y"&&(f==="start"?K="top":f==="end"&&(K="bottom"));const te=this._getLabelSizes();for(A=0,P=u.length;A<P;++A){U=u[A],O=U.label;const ne=o.setContext(this.getContext(A));z=this.getPixelForTick(A)+o.labelOffset,J=this._resolveTickFontOptions(A),E=J.lineHeight,R=on(O)?O.length:1;const ce=R/2,ve=ne.color,ee=ne.textStrokeColor,ae=ne.textStrokeWidth;let T=M;c?(V=z,M==="inner"&&(A===P-1?T=this.options.reverse?"left":"right":A===0?T=this.options.reverse?"right":"left":T="center"),a==="top"?m==="near"||k!==0?W=-R*E+E/2:m==="center"?W=-te.highest.height/2-ce*E+E:W=-te.highest.height+E/2:m==="near"||k!==0?W=E/2:m==="center"?W=te.highest.height/2-ce*E:W=te.highest.height-R*E,v&&(W*=-1),k!==0&&!ne.showLabelBackdrop&&(V+=E/2*Math.sin(k))):(q=z,W=(1-R)*E/2);let j;if(ne.showLabelBackdrop){const B=dr(ne.backdropPadding),I=te.heights[A],re=te.widths[A];let ie=W-B.top,de=0-B.left;switch(K){case"middle":ie-=I/2;break;case"bottom":ie-=I;break}switch(M){case"center":de-=re/2;break;case"right":de-=re;break;case"inner":A===P-1?de-=re:A>0&&(de-=re/2);break}j={left:de,top:ie,width:re+B.width,height:I+B.height,color:ne.backdropColor}}C.push({label:O,font:J,textOffset:W,options:{rotation:k,color:ve,strokeColor:ee,strokeWidth:ae,textAlign:T,textBaseline:K,translation:[V,q],backdrop:j}})}return C}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-$r(this.labelRotation))return e==="top"?"left":"right";let a="center";return n.align==="start"?a="left":n.align==="end"?a="right":n.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:s,mirror:a,padding:o}}=this.options,c=this._getLabelSizes(),u=e+o,f=c.widest.width;let m,g;return n==="left"?a?(g=this.right+o,s==="near"?m="left":s==="center"?(m="center",g+=f/2):(m="right",g+=f)):(g=this.right-u,s==="near"?m="right":s==="center"?(m="center",g-=f/2):(m="left",g=this.left)):n==="right"?a?(g=this.left+o,s==="near"?m="right":s==="center"?(m="center",g-=f/2):(m="left",g-=f)):(g=this.left+u,s==="near"?m="left":s==="center"?(m="center",g+=f/2):(m="right",g=this.right)):m="right",{textAlign:m,x:g}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:s,top:a,width:o,height:c}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(s,a,o,c),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const a=this.ticks.findIndex(o=>o.value===e);return a>=0?n.setContext(this.getContext(a)).lineWidth:0}drawGrid(e){const n=this.options.grid,s=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let o,c;const u=(f,m,g)=>{!g.width||!g.color||(s.save(),s.lineWidth=g.width,s.strokeStyle=g.color,s.setLineDash(g.borderDash||[]),s.lineDashOffset=g.borderDashOffset,s.beginPath(),s.moveTo(f.x,f.y),s.lineTo(m.x,m.y),s.stroke(),s.restore())};if(n.display)for(o=0,c=a.length;o<c;++o){const f=a[o];n.drawOnChartArea&&u({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),n.drawTicks&&u({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:s,grid:a}}=this,o=s.setContext(this.getContext()),c=s.display?o.width:0;if(!c)return;const u=a.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let m,g,v,x;this.isHorizontal()?(m=$s(e,this.left,c)-c/2,g=$s(e,this.right,u)+u/2,v=x=f):(v=$s(e,this.top,c)-c/2,x=$s(e,this.bottom,u)+u/2,m=g=f),n.save(),n.lineWidth=o.width,n.strokeStyle=o.color,n.beginPath(),n.moveTo(m,v),n.lineTo(g,x),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const s=this.ctx,a=this._computeLabelArea();a&&Gd(s,a);const o=this.getLabelItems(e);for(const c of o){const u=c.options,f=c.font,m=c.label,g=c.textOffset;$l(s,m,0,g,f,u)}a&&qd(s)}drawTitle(){const{ctx:e,options:{position:n,title:s,reverse:a}}=this;if(!s.display)return;const o=Tn(s.font),c=dr(s.padding),u=s.align;let f=o.lineHeight/2;n==="bottom"||n==="center"||it(n)?(f+=c.bottom,on(s.text)&&(f+=o.lineHeight*(s.text.length-1))):f+=c.top;const{titleX:m,titleY:g,maxWidth:v,rotation:x}=Dk(this,f,n,u);$l(e,s.text,0,0,o,{color:s.color,maxWidth:v,rotation:x,textAlign:Pk(u,n,a),textBaseline:"middle",translation:[m,g]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,s=st(e.grid&&e.grid.z,-1),a=st(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Xi.prototype.draw?[{z:n,draw:o=>{this.draw(o)}}]:[{z:s,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:n,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",a=[];let o,c;for(o=0,c=n.length;o<c;++o){const u=n[o];u[s]===this.id&&(!e||u.type===e)&&a.push(u)}return a}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Tn(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class yl{constructor(e,n,s){this.type=e,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let s;Ok(n)&&(s=this.register(n));const a=this.items,o=e.id,c=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in a||(a[o]=e,Ak(e,c,s),this.override&&Ht.override(e.id,e.overrides)),c}get(e){return this.items[e]}unregister(e){const n=this.items,s=e.id,a=this.scope;s in n&&delete n[s],a&&s in Ht[a]&&(delete Ht[a][s],this.override&&delete ti[s])}}function Ak(t,e,n){const s=qa(Object.create(null),[n?Ht.get(n):{},Ht.get(e),t.defaults]);Ht.set(e,s),t.defaultRoutes&&Lk(e,t.defaultRoutes),t.descriptors&&Ht.describe(e,t.descriptors)}function Lk(t,e){Object.keys(e).forEach(n=>{const s=n.split("."),a=s.pop(),o=[t].concat(s).join("."),c=e[n].split("."),u=c.pop(),f=c.join(".");Ht.route(o,a,f,u)})}function Ok(t){return"id"in t&&"defaults"in t}class Fk{constructor(){this.controllers=new yl(sf,"datasets",!0),this.elements=new yl(Yi,"elements"),this.plugins=new yl(Object,"plugins"),this.scales=new yl(Xi,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,s){[...n].forEach(a=>{const o=s||this._getRegistryForType(a);s||o.isForType(a)||o===this.plugins&&a.id?this._exec(e,o,a):gt(a,c=>{const u=s||this._getRegistryForType(c);this._exec(e,u,c)})})}_exec(e,n,s){const a=Yd(e);Rt(s["before"+a],[],s),n[e](s),Rt(s["after"+a],[],s)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(e))return s}return this.plugins}_get(e,n,s){const a=n.get(e);if(a===void 0)throw new Error('"'+e+'" is not a registered '+s+".");return a}}var Sr=new Fk;class Ik{constructor(){this._init=[]}notify(e,n,s,a){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const o=a?this._descriptors(e).filter(a):this._descriptors(e),c=this._notify(o,e,n,s);return n==="afterDestroy"&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall")),c}_notify(e,n,s,a){a=a||{};for(const o of e){const c=o.plugin,u=c[s],f=[n,a,o.options];if(Rt(u,f,c)===!1&&a.cancelable)return!1}return!0}invalidate(){bt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const s=e&&e.config,a=st(s.options&&s.options.plugins,{}),o=zk(s);return a===!1&&!n?[]:Bk(e,o,a,n)}_notifyStateChanges(e){const n=this._oldCache||[],s=this._cache,a=(o,c)=>o.filter(u=>!c.some(f=>u.plugin.id===f.plugin.id));this._notify(a(n,s),e,"stop"),this._notify(a(s,n),e,"start")}}function zk(t){const e={},n=[],s=Object.keys(Sr.plugins.items);for(let o=0;o<s.length;o++)n.push(Sr.getPlugin(s[o]));const a=t.plugins||[];for(let o=0;o<a.length;o++){const c=a[o];n.indexOf(c)===-1&&(n.push(c),e[c.id]=!0)}return{plugins:n,localIds:e}}function Uk(t,e){return!e&&t===!1?null:t===!0?{}:t}function Bk(t,{plugins:e,localIds:n},s,a){const o=[],c=t.getContext();for(const u of e){const f=u.id,m=Uk(s[f],a);m!==null&&o.push({plugin:u,options:$k(t.config,{plugin:u,local:n[f]},m,c)})}return o}function $k(t,{plugin:e,local:n},s,a){const o=t.pluginScopeKeys(e),c=t.getOptionScopes(s,o);return n&&e.defaults&&c.push(e.defaults),t.createResolver(c,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function jd(t,e){const n=Ht.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function Hk(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function Wk(t,e){return t===e?"_index_":"_value_"}function ig(t){if(t==="x"||t==="y"||t==="r")return t}function Vk(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Ed(t,...e){if(ig(t))return t;for(const n of e){const s=n.axis||Vk(n.position)||t.length>1&&ig(t[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function ag(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function Kk(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(s=>s.xAxisID===t||s.yAxisID===t);if(n.length)return ag(t,"x",n[0])||ag(t,"y",n[0])}return{}}function Yk(t,e){const n=ti[t.type]||{scales:{}},s=e.scales||{},a=jd(t.type,e),o=Object.create(null);return Object.keys(s).forEach(c=>{const u=s[c];if(!it(u))return console.error(`Invalid scale configuration for scale: ${c}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const f=Ed(c,u,Kk(c,t),Ht.scales[u.type]),m=Wk(f,a),g=n.scales||{};o[c]=Wa(Object.create(null),[{axis:f},u,g[f],g[m]])}),t.data.datasets.forEach(c=>{const u=c.type||t.type,f=c.indexAxis||jd(u,e),g=(ti[u]||{}).scales||{};Object.keys(g).forEach(v=>{const x=Hk(v,f),w=c[x+"AxisID"]||x;o[w]=o[w]||Object.create(null),Wa(o[w],[{axis:x},s[w],g[v]])})}),Object.keys(o).forEach(c=>{const u=o[c];Wa(u,[Ht.scales[u.type],Ht.scale])}),o}function rv(t){const e=t.options||(t.options={});e.plugins=st(e.plugins,{}),e.scales=Yk(t,e)}function sv(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function Xk(t){return t=t||{},t.data=sv(t.data),rv(t),t}const og=new Map,iv=new Set;function vl(t,e){let n=og.get(t);return n||(n=e(),og.set(t,n),iv.add(n)),n}const Oa=(t,e,n)=>{const s=ei(e,n);s!==void 0&&t.add(s)};class Qk{constructor(e){this._config=Xk(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=sv(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),rv(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return vl(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return vl(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return vl(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,s=this.type;return vl(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const s=this._scopeCache;let a=s.get(e);return(!a||n)&&(a=new Map,s.set(e,a)),a}getOptionScopes(e,n,s){const{options:a,type:o}=this,c=this._cachedScopes(e,s),u=c.get(n);if(u)return u;const f=new Set;n.forEach(g=>{e&&(f.add(e),g.forEach(v=>Oa(f,e,v))),g.forEach(v=>Oa(f,a,v)),g.forEach(v=>Oa(f,ti[o]||{},v)),g.forEach(v=>Oa(f,Ht,v)),g.forEach(v=>Oa(f,Cd,v))});const m=Array.from(f);return m.length===0&&m.push(Object.create(null)),iv.has(n)&&c.set(n,m),m}chartOptionScopes(){const{options:e,type:n}=this;return[e,ti[n]||{},Ht.datasets[n]||{},{type:n},Ht,Cd]}resolveNamedOptions(e,n,s,a=[""]){const o={$shared:!0},{resolver:c,subPrefixes:u}=lg(this._resolverCache,e,a);let f=c;if(qk(c,n)){o.$shared=!1,s=Ss(s)?s():s;const m=this.createResolver(e,s,u);f=$i(c,s,m)}for(const m of n)o[m]=f[m];return o}createResolver(e,n,s=[""],a){const{resolver:o}=lg(this._resolverCache,e,s);return it(n)?$i(o,n,void 0,a):o}}function lg(t,e,n){let s=t.get(e);s||(s=new Map,t.set(e,s));const a=n.join();let o=s.get(a);return o||(o={resolver:Zd(e,n),subPrefixes:n.filter(u=>!u.toLowerCase().includes("hover"))},s.set(a,o)),o}const Gk=t=>it(t)&&Object.getOwnPropertyNames(t).some(e=>Ss(t[e]));function qk(t,e){const{isScriptable:n,isIndexable:s}=Hy(t);for(const a of e){const o=n(a),c=s(a),u=(c||o)&&t[a];if(o&&(Ss(u)||Gk(u))||c&&on(u))return!0}return!1}var Jk="4.5.0";const Zk=["top","bottom","left","right","chartArea"];function cg(t,e){return t==="top"||t==="bottom"||Zk.indexOf(t)===-1&&e==="x"}function ug(t,e){return function(n,s){return n[t]===s[t]?n[e]-s[e]:n[t]-s[t]}}function dg(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Rt(n&&n.onComplete,[t],e)}function e1(t){const e=t.chart,n=e.options.animation;Rt(n&&n.onProgress,[t],e)}function av(t){return nf()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Nl={},fg=t=>{const e=av(t);return Object.values(Nl).filter(n=>n.canvas===e).pop()};function t1(t,e,n){const s=Object.keys(t);for(const a of s){const o=+a;if(o>=e){const c=t[a];delete t[a],(n>0||o>e)&&(t[o+n]=c)}}}function n1(t,e,n,s){return!n||t.type==="mouseout"?null:s?e:t}let rc=class{static defaults=Ht;static instances=Nl;static overrides=ti;static registry=Sr;static version=Jk;static getChart=fg;static register(...e){Sr.add(...e),hg()}static unregister(...e){Sr.remove(...e),hg()}constructor(e,n){const s=this.config=new Qk(n),a=av(e),o=fg(a);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const c=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||bk(a)),this.platform.updateConfig(s);const u=this.platform.acquireContext(a,c.aspectRatio),f=u&&u.canvas,m=f&&f.height,g=f&&f.width;if(this.id=g_(),this.ctx=u,this.canvas=f,this.width=g,this.height=m,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Ik,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=A_(v=>this.update(v),c.resizeDelay||0),this._dataChanges=[],Nl[this.id]=this,!u||!f){console.error("Failed to create chart: can't acquire context from the given item");return}Ir.listen(this,"complete",dg),Ir.listen(this,"progress",e1),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:s,height:a,_aspectRatio:o}=this;return bt(e)?n&&o?o:a?s/a:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Sr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Ip(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Ap(this.canvas,this.ctx),this}stop(){return Ir.stop(this),this}resize(e,n){Ir.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const s=this.options,a=this.canvas,o=s.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(a,e,n,o),u=s.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,Ip(this,u,!0)&&(this.notifyPlugins("resize",{size:c}),Rt(s.onResize,[this,c],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};gt(n,(s,a)=>{s.id=a})}buildOrUpdateScales(){const e=this.options,n=e.scales,s=this.scales,a=Object.keys(s).reduce((c,u)=>(c[u]=!1,c),{});let o=[];n&&(o=o.concat(Object.keys(n).map(c=>{const u=n[c],f=Ed(c,u),m=f==="r",g=f==="x";return{options:u,dposition:m?"chartArea":g?"bottom":"left",dtype:m?"radialLinear":g?"category":"linear"}}))),gt(o,c=>{const u=c.options,f=u.id,m=Ed(f,u),g=st(u.type,c.dtype);(u.position===void 0||cg(u.position,m)!==cg(c.dposition))&&(u.position=c.dposition),a[f]=!0;let v=null;if(f in s&&s[f].type===g)v=s[f];else{const x=Sr.getScale(g);v=new x({id:f,type:g,ctx:this.ctx,chart:this}),s[v.id]=v}v.init(u,e)}),gt(a,(c,u)=>{c||delete s[u]}),gt(s,c=>{xs.configure(this,c,c.options),xs.addBox(this,c)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,s=e.length;if(e.sort((a,o)=>a.index-o.index),s>n){for(let a=n;a<s;++a)this._destroyDatasetMeta(a);e.splice(n,s-n)}this._sortedMetasets=e.slice(0).sort(ug("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((s,a)=>{n.filter(o=>o===s._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let s,a;for(this._removeUnreferencedMetasets(),s=0,a=n.length;s<a;s++){const o=n[s];let c=this.getDatasetMeta(s);const u=o.type||this.config.type;if(c.type&&c.type!==u&&(this._destroyDatasetMeta(s),c=this.getDatasetMeta(s)),c.type=u,c.indexAxis=o.indexAxis||jd(u,this.options),c.order=o.order||0,c.index=s,c.label=""+o.label,c.visible=this.isDatasetVisible(s),c.controller)c.controller.updateIndex(s),c.controller.linkScales();else{const f=Sr.getController(u),{datasetElementType:m,dataElementType:g}=Ht.datasets[u];Object.assign(f,{dataElementType:Sr.getElement(g),datasetElementType:m&&Sr.getElement(m)}),c.controller=new f(this,s),e.push(c.controller)}}return this._updateMetasets(),e}_resetElements(){gt(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let m=0,g=this.data.datasets.length;m<g;m++){const{controller:v}=this.getDatasetMeta(m),x=!a&&o.indexOf(v)===-1;v.buildOrUpdateElements(x),c=Math.max(+v.getMaxOverflow(),c)}c=this._minPadding=s.layout.autoPadding?c:0,this._updateLayout(c),a||gt(o,m=>{m.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(ug("z","_idx"));const{_active:u,_lastEvent:f}=this;f?this._eventHandler(f,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){gt(this.scales,e=>{xs.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(e.events);(!kp(n,s)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:a,count:o}of n){const c=s==="_removeElements"?-o:o;t1(e,a,c)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=o=>new Set(e.filter(c=>c[0]===o).map((c,u)=>u+","+c.splice(1).join(","))),a=s(0);for(let o=1;o<n;o++)if(!kp(a,s(o)))return;return Array.from(a).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;xs.update(this,this.width,this.height,e);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],gt(this.boxes,a=>{s&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,o)=>{a._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,Ss(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const s=this.getDatasetMeta(e),a={meta:s,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(s.controller._update(n),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ir.has(this)?this.attached&&!Ir.running(this)&&Ir.start(this):(this.draw(),dg({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:s,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,s=[];let a,o;for(a=0,o=n.length;a<o;++a){const c=n[a];(!e||c.visible)&&s.push(c)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,s={meta:e,index:e.index,cancelable:!0},a=xS(this,e);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(a&&Gd(n,a),e.controller.draw(),a&&qd(n),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return By(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,s,a){const o=ZS.modes[n];return typeof o=="function"?o(this,e,s,a):[]}getDatasetMeta(e){const n=this.data.datasets[e],s=this._metasets;let a=s.filter(o=>o&&o._dataset===n).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},s.push(a)),a}getContext(){return this.$context||(this.$context=Ki(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const s=this.getDatasetMeta(e);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(e,n){const s=this.getDatasetMeta(e);s.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,s){const a=s?"show":"hide",o=this.getDatasetMeta(e),c=o.controller._resolveAnimations(void 0,a);Ja(n)?(o.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),c.update(o,{visible:s}),this.update(u=>u.datasetIndex===e?a:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Ir.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Ap(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Nl[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,s=(o,c)=>{n.addEventListener(this,o,c),e[o]=c},a=(o,c,u)=>{o.offsetX=c,o.offsetY=u,this._eventHandler(o)};gt(this.options.events,o=>s(o,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,s=(f,m)=>{n.addEventListener(this,f,m),e[f]=m},a=(f,m)=>{e[f]&&(n.removeEventListener(this,f,m),delete e[f])},o=(f,m)=>{this.canvas&&this.resize(f,m)};let c;const u=()=>{a("attach",u),this.attached=!0,this.resize(),s("resize",o),s("detach",c)};c=()=>{this.attached=!1,a("resize",o),this._stop(),this._resize(0,0),s("attach",u)},n.isAttached(this.canvas)?u():c()}unbindEvents(){gt(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},gt(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,s){const a=s?"set":"remove";let o,c,u,f;for(n==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+a+"DatasetHoverStyle"]()),u=0,f=e.length;u<f;++u){c=e[u];const m=c&&this.getDatasetMeta(c.datasetIndex).controller;m&&m[a+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],s=e.map(({datasetIndex:o,index:c})=>{const u=this.getDatasetMeta(o);if(!u)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:u.data[c],index:c}});!Fl(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(e,n,s){return this._plugins.notify(this,e,n,s)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,s){const a=this.options.hover,o=(f,m)=>f.filter(g=>!m.some(v=>g.datasetIndex===v.datasetIndex&&g.index===v.index)),c=o(n,e),u=s?e:o(e,n);c.length&&this.updateHoverStyle(c,a.mode,!1),u.length&&a.mode&&this.updateHoverStyle(u,a.mode,!0)}_eventHandler(e,n){const s={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},a=c=>(c.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",s,a)===!1)return;const o=this._handleEvent(e,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,a),(o||s.changed)&&this.render(),this}_handleEvent(e,n,s){const{_active:a=[],options:o}=this,c=n,u=this._getActiveElements(e,a,s,c),f=__(e),m=n1(e,this._lastEvent,s,f);s&&(this._lastEvent=null,Rt(o.onHover,[e,u,this],this),f&&Rt(o.onClick,[e,u,this],this));const g=!Fl(u,a);return(g||n)&&(this._active=u,this._updateHoverStyles(u,a,n)),this._lastEvent=m,g}_getActiveElements(e,n,s,a){if(e.type==="mouseout")return[];if(!s)return n;const o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,a)}};function hg(){return gt(rc.instances,t=>t._plugins.invalidate())}function r1(t,e,n){const{startAngle:s,x:a,y:o,outerRadius:c,innerRadius:u,options:f}=e,{borderWidth:m,borderJoinStyle:g}=f,v=Math.min(m/c,kr(s-n));if(t.beginPath(),t.arc(a,o,c-m/2,s+v/2,n-v/2),u>0){const x=Math.min(m/u,kr(s-n));t.arc(a,o,u+m/2,n-x/2,s+x/2,!0)}else{const x=Math.min(m/2,c*kr(s-n));if(g==="round")t.arc(a,o,x,n-Mt/2,s+Mt/2,!0);else if(g==="bevel"){const w=2*x*x,S=-w*Math.cos(n+Mt/2)+a,k=-w*Math.sin(n+Mt/2)+o,C=w*Math.cos(s+Mt/2)+a,A=w*Math.sin(s+Mt/2)+o;t.lineTo(S,k),t.lineTo(C,A)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function s1(t,e,n){const{startAngle:s,pixelMargin:a,x:o,y:c,outerRadius:u,innerRadius:f}=e;let m=a/u;t.beginPath(),t.arc(o,c,u,s-m,n+m),f>a?(m=a/f,t.arc(o,c,f,n+m,s-m,!0)):t.arc(o,c,a,n+en,s-en),t.closePath(),t.clip()}function i1(t){return Jd(t,["outerStart","outerEnd","innerStart","innerEnd"])}function a1(t,e,n,s){const a=i1(t.options.borderRadius),o=(n-e)/2,c=Math.min(o,s*e/2),u=f=>{const m=(n-Math.min(o,f))*s/2;return Mn(f,0,Math.min(o,m))};return{outerStart:u(a.outerStart),outerEnd:u(a.outerEnd),innerStart:Mn(a.innerStart,0,c),innerEnd:Mn(a.innerEnd,0,c)}}function Ai(t,e,n,s){return{x:n+t*Math.cos(e),y:s+t*Math.sin(e)}}function Kl(t,e,n,s,a,o){const{x:c,y:u,startAngle:f,pixelMargin:m,innerRadius:g}=e,v=Math.max(e.outerRadius+s+n-m,0),x=g>0?g+s+n+m:0;let w=0;const S=a-f;if(s){const ne=g>0?g-s:0,ce=v>0?v-s:0,ve=(ne+ce)/2,ee=ve!==0?S*ve/(ve+s):S;w=(S-ee)/2}const k=Math.max(.001,S*v-n/Mt)/v,C=(S-k)/2,A=f+C+w,P=a-C-w,{outerStart:U,outerEnd:O,innerStart:V,innerEnd:q}=a1(e,x,v,P-A),M=v-U,z=v-O,J=A+U/M,E=P-O/z,R=x+V,W=x+q,K=A+V/R,te=P-q/W;if(t.beginPath(),o){const ne=(J+E)/2;if(t.arc(c,u,v,J,ne),t.arc(c,u,v,ne,E),O>0){const ae=Ai(z,E,c,u);t.arc(ae.x,ae.y,O,E,P+en)}const ce=Ai(W,P,c,u);if(t.lineTo(ce.x,ce.y),q>0){const ae=Ai(W,te,c,u);t.arc(ae.x,ae.y,q,P+en,te+Math.PI)}const ve=(P-q/x+(A+V/x))/2;if(t.arc(c,u,x,P-q/x,ve,!0),t.arc(c,u,x,ve,A+V/x,!0),V>0){const ae=Ai(R,K,c,u);t.arc(ae.x,ae.y,V,K+Math.PI,A-en)}const ee=Ai(M,A,c,u);if(t.lineTo(ee.x,ee.y),U>0){const ae=Ai(M,J,c,u);t.arc(ae.x,ae.y,U,A-en,J)}}else{t.moveTo(c,u);const ne=Math.cos(J)*v+c,ce=Math.sin(J)*v+u;t.lineTo(ne,ce);const ve=Math.cos(E)*v+c,ee=Math.sin(E)*v+u;t.lineTo(ve,ee)}t.closePath()}function o1(t,e,n,s,a){const{fullCircles:o,startAngle:c,circumference:u}=e;let f=e.endAngle;if(o){Kl(t,e,n,s,f,a);for(let m=0;m<o;++m)t.fill();isNaN(u)||(f=c+(u%Gt||Gt))}return Kl(t,e,n,s,f,a),t.fill(),f}function l1(t,e,n,s,a){const{fullCircles:o,startAngle:c,circumference:u,options:f}=e,{borderWidth:m,borderJoinStyle:g,borderDash:v,borderDashOffset:x,borderRadius:w}=f,S=f.borderAlign==="inner";if(!m)return;t.setLineDash(v||[]),t.lineDashOffset=x,S?(t.lineWidth=m*2,t.lineJoin=g||"round"):(t.lineWidth=m,t.lineJoin=g||"bevel");let k=e.endAngle;if(o){Kl(t,e,n,s,k,a);for(let C=0;C<o;++C)t.stroke();isNaN(u)||(k=c+(u%Gt||Gt))}S&&s1(t,e,k),f.selfJoin&&k-c>=Mt&&w===0&&g!=="miter"&&r1(t,e,k),o||(Kl(t,e,n,s,k,a),t.stroke())}class c1 extends Yi{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,s){const a=this.getProps(["x","y"],s),{angle:o,distance:c}=Py(a,{x:e,y:n}),{startAngle:u,endAngle:f,innerRadius:m,outerRadius:g,circumference:v}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),x=(this.options.spacing+this.options.borderWidth)/2,w=st(v,f-u),S=Bl(o,u,f)&&u!==f,k=w>=Gt||S,C=Qs(c,m+x,g+x);return k&&C}getCenterPoint(e){const{x:n,y:s,startAngle:a,endAngle:o,innerRadius:c,outerRadius:u}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:f,spacing:m}=this.options,g=(a+o)/2,v=(c+u+m+f)/2;return{x:n+Math.cos(g)*v,y:s+Math.sin(g)*v}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:n,circumference:s}=this,a=(n.offset||0)/4,o=(n.spacing||0)/2,c=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=s>Gt?Math.floor(s/Gt):0,s===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const u=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(u)*a,Math.sin(u)*a);const f=1-Math.sin(Math.min(Mt,s||0)),m=a*f;e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,o1(e,this,m,o,c),l1(e,this,m,o,c),e.restore()}}function ov(t,e){const{x:n,y:s,base:a,width:o,height:c}=t.getProps(["x","y","base","width","height"],e);let u,f,m,g,v;return t.horizontal?(v=c/2,u=Math.min(n,a),f=Math.max(n,a),m=s-v,g=s+v):(v=o/2,u=n-v,f=n+v,m=Math.min(s,a),g=Math.max(s,a)),{left:u,top:m,right:f,bottom:g}}function bs(t,e,n,s){return t?0:Mn(e,n,s)}function u1(t,e,n){const s=t.options.borderWidth,a=t.borderSkipped,o=$y(s);return{t:bs(a.top,o.top,0,n),r:bs(a.right,o.right,0,e),b:bs(a.bottom,o.bottom,0,n),l:bs(a.left,o.left,0,e)}}function d1(t,e,n){const{enableBorderRadius:s}=t.getProps(["enableBorderRadius"]),a=t.options.borderRadius,o=Ii(a),c=Math.min(e,n),u=t.borderSkipped,f=s||it(a);return{topLeft:bs(!f||u.top||u.left,o.topLeft,0,c),topRight:bs(!f||u.top||u.right,o.topRight,0,c),bottomLeft:bs(!f||u.bottom||u.left,o.bottomLeft,0,c),bottomRight:bs(!f||u.bottom||u.right,o.bottomRight,0,c)}}function f1(t){const e=ov(t),n=e.right-e.left,s=e.bottom-e.top,a=u1(t,n/2,s/2),o=d1(t,n/2,s/2);return{outer:{x:e.left,y:e.top,w:n,h:s,radius:o},inner:{x:e.left+a.l,y:e.top+a.t,w:n-a.l-a.r,h:s-a.t-a.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,o.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(a.b,a.r))}}}}function ud(t,e,n,s){const a=e===null,o=n===null,u=t&&!(a&&o)&&ov(t,s);return u&&(a||Qs(e,u.left,u.right))&&(o||Qs(n,u.top,u.bottom))}function h1(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function m1(t,e){t.rect(e.x,e.y,e.w,e.h)}function dd(t,e,n={}){const s=t.x!==n.x?-e:0,a=t.y!==n.y?-e:0,o=(t.x+t.w!==n.x+n.w?e:0)-s,c=(t.y+t.h!==n.y+n.h?e:0)-a;return{x:t.x+s,y:t.y+a,w:t.w+o,h:t.h+c,radius:t.radius}}class p1 extends Yi{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:s,backgroundColor:a}}=this,{inner:o,outer:c}=f1(this),u=h1(c.radius)?Hl:m1;e.save(),(c.w!==o.w||c.h!==o.h)&&(e.beginPath(),u(e,dd(c,n,o)),e.clip(),u(e,dd(o,-n,c)),e.fillStyle=s,e.fill("evenodd")),e.beginPath(),u(e,dd(o,n)),e.fillStyle=a,e.fill(),e.restore()}inRange(e,n,s){return ud(this,e,n,s)}inXRange(e,n){return ud(this,e,null,n)}inYRange(e,n){return ud(this,null,e,n)}getCenterPoint(e){const{x:n,y:s,base:a,horizontal:o}=this.getProps(["x","y","base","horizontal"],e);return{x:o?(n+a)/2:n,y:o?s:(s+a)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}const mg=(t,e)=>{let{boxHeight:n=e,boxWidth:s=e}=t;return t.usePointStyle&&(n=Math.min(n,e),s=t.pointStyleWidth||Math.min(s,e)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(e,n)}},g1=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class pg extends Yi{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,s){this.maxWidth=e,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Rt(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(s=>e.filter(s,this.chart.data))),e.sort&&(n=n.sort((s,a)=>e.sort(s,a,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const s=e.labels,a=Tn(s.font),o=a.size,c=this._computeTitleHeight(),{boxWidth:u,itemHeight:f}=mg(s,o);let m,g;n.font=a.string,this.isHorizontal()?(m=this.maxWidth,g=this._fitRows(c,o,u,f)+10):(g=this.maxHeight,m=this._fitCols(c,a,u,f)+10),this.width=Math.min(m,e.maxWidth||this.maxWidth),this.height=Math.min(g,e.maxHeight||this.maxHeight)}_fitRows(e,n,s,a){const{ctx:o,maxWidth:c,options:{labels:{padding:u}}}=this,f=this.legendHitBoxes=[],m=this.lineWidths=[0],g=a+u;let v=e;o.textAlign="left",o.textBaseline="middle";let x=-1,w=-g;return this.legendItems.forEach((S,k)=>{const C=s+n/2+o.measureText(S.text).width;(k===0||m[m.length-1]+C+2*u>c)&&(v+=g,m[m.length-(k>0?0:1)]=0,w+=g,x++),f[k]={left:0,top:w,row:x,width:C,height:a},m[m.length-1]+=C+u}),v}_fitCols(e,n,s,a){const{ctx:o,maxHeight:c,options:{labels:{padding:u}}}=this,f=this.legendHitBoxes=[],m=this.columnSizes=[],g=c-e;let v=u,x=0,w=0,S=0,k=0;return this.legendItems.forEach((C,A)=>{const{itemWidth:P,itemHeight:U}=y1(s,n,o,C,a);A>0&&w+U+2*u>g&&(v+=x+u,m.push({width:x,height:w}),S+=x+u,k++,x=w=0),f[A]={left:S,top:w,col:k,width:P,height:U},x=Math.max(x,P),w+=U+u}),v+=x,m.push({width:x,height:w}),v}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:a},rtl:o}}=this,c=zi(o,this.left,this.width);if(this.isHorizontal()){let u=0,f=In(s,this.left+a,this.right-this.lineWidths[u]);for(const m of n)u!==m.row&&(u=m.row,f=In(s,this.left+a,this.right-this.lineWidths[u])),m.top+=this.top+e+a,m.left=c.leftForLtr(c.x(f),m.width),f+=m.width+a}else{let u=0,f=In(s,this.top+e+a,this.bottom-this.columnSizes[u].height);for(const m of n)m.col!==u&&(u=m.col,f=In(s,this.top+e+a,this.bottom-this.columnSizes[u].height)),m.top=f,m.left+=this.left+a,m.left=c.leftForLtr(c.x(m.left),m.width),f+=m.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Gd(e,this),this._draw(),qd(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:s,ctx:a}=this,{align:o,labels:c}=e,u=Ht.color,f=zi(e.rtl,this.left,this.width),m=Tn(c.font),{padding:g}=c,v=m.size,x=v/2;let w;this.drawTitle(),a.textAlign=f.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=m.string;const{boxWidth:S,boxHeight:k,itemHeight:C}=mg(c,v),A=function(q,M,z){if(isNaN(S)||S<=0||isNaN(k)||k<0)return;a.save();const J=st(z.lineWidth,1);if(a.fillStyle=st(z.fillStyle,u),a.lineCap=st(z.lineCap,"butt"),a.lineDashOffset=st(z.lineDashOffset,0),a.lineJoin=st(z.lineJoin,"miter"),a.lineWidth=J,a.strokeStyle=st(z.strokeStyle,u),a.setLineDash(st(z.lineDash,[])),c.usePointStyle){const E={radius:k*Math.SQRT2/2,pointStyle:z.pointStyle,rotation:z.rotation,borderWidth:J},R=f.xPlus(q,S/2),W=M+x;Uy(a,E,R,W,c.pointStyleWidth&&S)}else{const E=M+Math.max((v-k)/2,0),R=f.leftForLtr(q,S),W=Ii(z.borderRadius);a.beginPath(),Object.values(W).some(K=>K!==0)?Hl(a,{x:R,y:E,w:S,h:k,radius:W}):a.rect(R,E,S,k),a.fill(),J!==0&&a.stroke()}a.restore()},P=function(q,M,z){$l(a,z.text,q,M+C/2,m,{strikethrough:z.hidden,textAlign:f.textAlign(z.textAlign)})},U=this.isHorizontal(),O=this._computeTitleHeight();U?w={x:In(o,this.left+g,this.right-s[0]),y:this.top+g+O,line:0}:w={x:this.left+g,y:In(o,this.top+O+g,this.bottom-n[0].height),line:0},Yy(this.ctx,e.textDirection);const V=C+g;this.legendItems.forEach((q,M)=>{a.strokeStyle=q.fontColor,a.fillStyle=q.fontColor;const z=a.measureText(q.text).width,J=f.textAlign(q.textAlign||(q.textAlign=c.textAlign)),E=S+x+z;let R=w.x,W=w.y;f.setWidth(this.width),U?M>0&&R+E+g>this.right&&(W=w.y+=V,w.line++,R=w.x=In(o,this.left+g,this.right-s[w.line])):M>0&&W+V>this.bottom&&(R=w.x=R+n[w.line].width+g,w.line++,W=w.y=In(o,this.top+O+g,this.bottom-n[w.line].height));const K=f.x(R);if(A(K,W,q),R=L_(J,R+S+x,U?R+E:this.right,e.rtl),P(f.x(R),W,q),U)w.x+=E+g;else if(typeof q.text!="string"){const te=m.lineHeight;w.y+=lv(q,te)+g}else w.y+=V}),Xy(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,s=Tn(n.font),a=dr(n.padding);if(!n.display)return;const o=zi(e.rtl,this.left,this.width),c=this.ctx,u=n.position,f=s.size/2,m=a.top+f;let g,v=this.left,x=this.width;if(this.isHorizontal())x=Math.max(...this.lineWidths),g=this.top+m,v=In(e.align,v,this.right-x);else{const S=this.columnSizes.reduce((k,C)=>Math.max(k,C.height),0);g=m+In(e.align,this.top,this.bottom-S-e.labels.padding-this._computeTitleHeight())}const w=In(u,v,v+x);c.textAlign=o.textAlign(Fy(u)),c.textBaseline="middle",c.strokeStyle=n.color,c.fillStyle=n.color,c.font=s.string,$l(c,n.text,w,g,s)}_computeTitleHeight(){const e=this.options.title,n=Tn(e.font),s=dr(e.padding);return e.display?n.lineHeight+s.height:0}_getLegendItemAt(e,n){let s,a,o;if(Qs(e,this.left,this.right)&&Qs(n,this.top,this.bottom)){for(o=this.legendHitBoxes,s=0;s<o.length;++s)if(a=o[s],Qs(e,a.left,a.left+a.width)&&Qs(n,a.top,a.top+a.height))return this.legendItems[s]}return null}handleEvent(e){const n=this.options;if(!b1(e.type,n))return;const s=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const a=this._hoveredItem,o=g1(a,s);a&&!o&&Rt(n.onLeave,[e,a,this],this),this._hoveredItem=s,s&&!o&&Rt(n.onHover,[e,s,this],this)}else s&&Rt(n.onClick,[e,s,this],this)}}function y1(t,e,n,s,a){const o=v1(s,t,e,n),c=x1(a,s,e.lineHeight);return{itemWidth:o,itemHeight:c}}function v1(t,e,n,s){let a=t.text;return a&&typeof a!="string"&&(a=a.reduce((o,c)=>o.length>c.length?o:c)),e+n.size/2+s.measureText(a).width}function x1(t,e,n){let s=t;return typeof e.text!="string"&&(s=lv(e,n)),s}function lv(t,e){const n=t.text?t.text.length:0;return e*n}function b1(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var w1={id:"legend",_element:pg,start(t,e,n){const s=t.legend=new pg({ctx:t.ctx,options:n,chart:t});xs.configure(t,s,n),xs.addBox(t,s)},stop(t){xs.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const s=t.legend;xs.configure(t,s,n),s.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const s=e.datasetIndex,a=n.chart;a.isDatasetVisible(s)?(a.hide(s),e.hidden=!0):(a.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:a,color:o,useBorderRadius:c,borderRadius:u}}=t.legend.options;return t._getSortedDatasetMetas().map(f=>{const m=f.controller.getStyle(n?0:void 0),g=dr(m.borderWidth);return{text:e[f.index].label,fillStyle:m.backgroundColor,fontColor:o,hidden:!f.visible,lineCap:m.borderCapStyle,lineDash:m.borderDash,lineDashOffset:m.borderDashOffset,lineJoin:m.borderJoinStyle,lineWidth:(g.width+g.height)/4,strokeStyle:m.borderColor,pointStyle:s||m.pointStyle,rotation:m.rotation,textAlign:a||m.textAlign,borderRadius:c&&(u||m.borderRadius),datasetIndex:f.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};const Ha={average(t){if(!t.length)return!1;let e,n,s=new Set,a=0,o=0;for(e=0,n=t.length;e<n;++e){const u=t[e].element;if(u&&u.hasValue()){const f=u.tooltipPosition();s.add(f.x),a+=f.y,++o}}return o===0||s.size===0?!1:{x:[...s].reduce((u,f)=>u+f)/s.size,y:a/o}},nearest(t,e){if(!t.length)return!1;let n=e.x,s=e.y,a=Number.POSITIVE_INFINITY,o,c,u;for(o=0,c=t.length;o<c;++o){const f=t[o].element;if(f&&f.hasValue()){const m=f.getCenterPoint(),g=R_(e,m);g<a&&(a=g,u=f)}}if(u){const f=u.tooltipPosition();n=f.x,s=f.y}return{x:n,y:s}}};function _r(t,e){return e&&(on(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function zr(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function _1(t,e){const{element:n,datasetIndex:s,index:a}=e,o=t.getDatasetMeta(s).controller,{label:c,value:u}=o.getLabelAndValue(a);return{chart:t,label:c,parsed:o.getParsed(a),raw:t.data.datasets[s].data[a],formattedValue:u,dataset:o.getDataset(),dataIndex:a,datasetIndex:s,element:n}}function gg(t,e){const n=t.chart.ctx,{body:s,footer:a,title:o}=t,{boxWidth:c,boxHeight:u}=e,f=Tn(e.bodyFont),m=Tn(e.titleFont),g=Tn(e.footerFont),v=o.length,x=a.length,w=s.length,S=dr(e.padding);let k=S.height,C=0,A=s.reduce((O,V)=>O+V.before.length+V.lines.length+V.after.length,0);if(A+=t.beforeBody.length+t.afterBody.length,v&&(k+=v*m.lineHeight+(v-1)*e.titleSpacing+e.titleMarginBottom),A){const O=e.displayColors?Math.max(u,f.lineHeight):f.lineHeight;k+=w*O+(A-w)*f.lineHeight+(A-1)*e.bodySpacing}x&&(k+=e.footerMarginTop+x*g.lineHeight+(x-1)*e.footerSpacing);let P=0;const U=function(O){C=Math.max(C,n.measureText(O).width+P)};return n.save(),n.font=m.string,gt(t.title,U),n.font=f.string,gt(t.beforeBody.concat(t.afterBody),U),P=e.displayColors?c+2+e.boxPadding:0,gt(s,O=>{gt(O.before,U),gt(O.lines,U),gt(O.after,U)}),P=0,n.font=g.string,gt(t.footer,U),n.restore(),C+=S.width,{width:C,height:k}}function S1(t,e){const{y:n,height:s}=e;return n<s/2?"top":n>t.height-s/2?"bottom":"center"}function k1(t,e,n,s){const{x:a,width:o}=s,c=n.caretSize+n.caretPadding;if(t==="left"&&a+o+c>e.width||t==="right"&&a-o-c<0)return!0}function C1(t,e,n,s){const{x:a,width:o}=n,{width:c,chartArea:{left:u,right:f}}=t;let m="center";return s==="center"?m=a<=(u+f)/2?"left":"right":a<=o/2?m="left":a>=c-o/2&&(m="right"),k1(m,t,e,n)&&(m="center"),m}function yg(t,e,n){const s=n.yAlign||e.yAlign||S1(t,n);return{xAlign:n.xAlign||e.xAlign||C1(t,e,n,s),yAlign:s}}function j1(t,e){let{x:n,width:s}=t;return e==="right"?n-=s:e==="center"&&(n-=s/2),n}function E1(t,e,n){let{y:s,height:a}=t;return e==="top"?s+=n:e==="bottom"?s-=a+n:s-=a/2,s}function vg(t,e,n,s){const{caretSize:a,caretPadding:o,cornerRadius:c}=t,{xAlign:u,yAlign:f}=n,m=a+o,{topLeft:g,topRight:v,bottomLeft:x,bottomRight:w}=Ii(c);let S=j1(e,u);const k=E1(e,f,m);return f==="center"?u==="left"?S+=m:u==="right"&&(S-=m):u==="left"?S-=Math.max(g,x)+a:u==="right"&&(S+=Math.max(v,w)+a),{x:Mn(S,0,s.width-e.width),y:Mn(k,0,s.height-e.height)}}function xl(t,e,n){const s=dr(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-s.right:t.x+s.left}function xg(t){return _r([],zr(t))}function N1(t,e,n){return Ki(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function bg(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const cv={beforeTitle:Fr,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return n[e.dataIndex]}return""},afterTitle:Fr,beforeBody:Fr,beforeLabel:Fr,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return bt(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Fr,afterBody:Fr,beforeFooter:Fr,footer:Fr,afterFooter:Fr};function En(t,e,n,s){const a=t[e].call(n,s);return typeof a>"u"?cv[e].call(n,s):a}class wg extends Yi{static positioners=Ha;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,s=this.options.setContext(this.getContext()),a=s.enabled&&n.options.animation&&s.animations,o=new Qy(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=N1(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:s}=n,a=En(s,"beforeTitle",this,e),o=En(s,"title",this,e),c=En(s,"afterTitle",this,e);let u=[];return u=_r(u,zr(a)),u=_r(u,zr(o)),u=_r(u,zr(c)),u}getBeforeBody(e,n){return xg(En(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:s}=n,a=[];return gt(e,o=>{const c={before:[],lines:[],after:[]},u=bg(s,o);_r(c.before,zr(En(u,"beforeLabel",this,o))),_r(c.lines,En(u,"label",this,o)),_r(c.after,zr(En(u,"afterLabel",this,o))),a.push(c)}),a}getAfterBody(e,n){return xg(En(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:s}=n,a=En(s,"beforeFooter",this,e),o=En(s,"footer",this,e),c=En(s,"afterFooter",this,e);let u=[];return u=_r(u,zr(a)),u=_r(u,zr(o)),u=_r(u,zr(c)),u}_createItems(e){const n=this._active,s=this.chart.data,a=[],o=[],c=[];let u=[],f,m;for(f=0,m=n.length;f<m;++f)u.push(_1(this.chart,n[f]));return e.filter&&(u=u.filter((g,v,x)=>e.filter(g,v,x,s))),e.itemSort&&(u=u.sort((g,v)=>e.itemSort(g,v,s))),gt(u,g=>{const v=bg(e.callbacks,g);a.push(En(v,"labelColor",this,g)),o.push(En(v,"labelPointStyle",this,g)),c.push(En(v,"labelTextColor",this,g))}),this.labelColors=a,this.labelPointStyles=o,this.labelTextColors=c,this.dataPoints=u,u}update(e,n){const s=this.options.setContext(this.getContext()),a=this._active;let o,c=[];if(!a.length)this.opacity!==0&&(o={opacity:0});else{const u=Ha[s.position].call(this,a,this._eventPosition);c=this._createItems(s),this.title=this.getTitle(c,s),this.beforeBody=this.getBeforeBody(c,s),this.body=this.getBody(c,s),this.afterBody=this.getAfterBody(c,s),this.footer=this.getFooter(c,s);const f=this._size=gg(this,s),m=Object.assign({},u,f),g=yg(this.chart,s,m),v=vg(s,m,g,this.chart);this.xAlign=g.xAlign,this.yAlign=g.yAlign,o={opacity:1,x:v.x,y:v.y,width:f.width,height:f.height,caretX:u.x,caretY:u.y}}this._tooltipItems=c,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,s,a){const o=this.getCaretPosition(e,s,a);n.lineTo(o.x1,o.y1),n.lineTo(o.x2,o.y2),n.lineTo(o.x3,o.y3)}getCaretPosition(e,n,s){const{xAlign:a,yAlign:o}=this,{caretSize:c,cornerRadius:u}=s,{topLeft:f,topRight:m,bottomLeft:g,bottomRight:v}=Ii(u),{x,y:w}=e,{width:S,height:k}=n;let C,A,P,U,O,V;return o==="center"?(O=w+k/2,a==="left"?(C=x,A=C-c,U=O+c,V=O-c):(C=x+S,A=C+c,U=O-c,V=O+c),P=C):(a==="left"?A=x+Math.max(f,g)+c:a==="right"?A=x+S-Math.max(m,v)-c:A=this.caretX,o==="top"?(U=w,O=U-c,C=A-c,P=A+c):(U=w+k,O=U+c,C=A+c,P=A-c),V=U),{x1:C,x2:A,x3:P,y1:U,y2:O,y3:V}}drawTitle(e,n,s){const a=this.title,o=a.length;let c,u,f;if(o){const m=zi(s.rtl,this.x,this.width);for(e.x=xl(this,s.titleAlign,s),n.textAlign=m.textAlign(s.titleAlign),n.textBaseline="middle",c=Tn(s.titleFont),u=s.titleSpacing,n.fillStyle=s.titleColor,n.font=c.string,f=0;f<o;++f)n.fillText(a[f],m.x(e.x),e.y+c.lineHeight/2),e.y+=c.lineHeight+u,f+1===o&&(e.y+=s.titleMarginBottom-u)}}_drawColorBox(e,n,s,a,o){const c=this.labelColors[s],u=this.labelPointStyles[s],{boxHeight:f,boxWidth:m}=o,g=Tn(o.bodyFont),v=xl(this,"left",o),x=a.x(v),w=f<g.lineHeight?(g.lineHeight-f)/2:0,S=n.y+w;if(o.usePointStyle){const k={radius:Math.min(m,f)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},C=a.leftForLtr(x,m)+m/2,A=S+f/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,Lp(e,k,C,A),e.strokeStyle=c.borderColor,e.fillStyle=c.backgroundColor,Lp(e,k,C,A)}else{e.lineWidth=it(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,e.strokeStyle=c.borderColor,e.setLineDash(c.borderDash||[]),e.lineDashOffset=c.borderDashOffset||0;const k=a.leftForLtr(x,m),C=a.leftForLtr(a.xPlus(x,1),m-2),A=Ii(c.borderRadius);Object.values(A).some(P=>P!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,Hl(e,{x:k,y:S,w:m,h:f,radius:A}),e.fill(),e.stroke(),e.fillStyle=c.backgroundColor,e.beginPath(),Hl(e,{x:C,y:S+1,w:m-2,h:f-2,radius:A}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(k,S,m,f),e.strokeRect(k,S,m,f),e.fillStyle=c.backgroundColor,e.fillRect(C,S+1,m-2,f-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,n,s){const{body:a}=this,{bodySpacing:o,bodyAlign:c,displayColors:u,boxHeight:f,boxWidth:m,boxPadding:g}=s,v=Tn(s.bodyFont);let x=v.lineHeight,w=0;const S=zi(s.rtl,this.x,this.width),k=function(z){n.fillText(z,S.x(e.x+w),e.y+x/2),e.y+=x+o},C=S.textAlign(c);let A,P,U,O,V,q,M;for(n.textAlign=c,n.textBaseline="middle",n.font=v.string,e.x=xl(this,C,s),n.fillStyle=s.bodyColor,gt(this.beforeBody,k),w=u&&C!=="right"?c==="center"?m/2+g:m+2+g:0,O=0,q=a.length;O<q;++O){for(A=a[O],P=this.labelTextColors[O],n.fillStyle=P,gt(A.before,k),U=A.lines,u&&U.length&&(this._drawColorBox(n,e,O,S,s),x=Math.max(v.lineHeight,f)),V=0,M=U.length;V<M;++V)k(U[V]),x=v.lineHeight;gt(A.after,k)}w=0,x=v.lineHeight,gt(this.afterBody,k),e.y-=o}drawFooter(e,n,s){const a=this.footer,o=a.length;let c,u;if(o){const f=zi(s.rtl,this.x,this.width);for(e.x=xl(this,s.footerAlign,s),e.y+=s.footerMarginTop,n.textAlign=f.textAlign(s.footerAlign),n.textBaseline="middle",c=Tn(s.footerFont),n.fillStyle=s.footerColor,n.font=c.string,u=0;u<o;++u)n.fillText(a[u],f.x(e.x),e.y+c.lineHeight/2),e.y+=c.lineHeight+s.footerSpacing}}drawBackground(e,n,s,a){const{xAlign:o,yAlign:c}=this,{x:u,y:f}=e,{width:m,height:g}=s,{topLeft:v,topRight:x,bottomLeft:w,bottomRight:S}=Ii(a.cornerRadius);n.fillStyle=a.backgroundColor,n.strokeStyle=a.borderColor,n.lineWidth=a.borderWidth,n.beginPath(),n.moveTo(u+v,f),c==="top"&&this.drawCaret(e,n,s,a),n.lineTo(u+m-x,f),n.quadraticCurveTo(u+m,f,u+m,f+x),c==="center"&&o==="right"&&this.drawCaret(e,n,s,a),n.lineTo(u+m,f+g-S),n.quadraticCurveTo(u+m,f+g,u+m-S,f+g),c==="bottom"&&this.drawCaret(e,n,s,a),n.lineTo(u+w,f+g),n.quadraticCurveTo(u,f+g,u,f+g-w),c==="center"&&o==="left"&&this.drawCaret(e,n,s,a),n.lineTo(u,f+v),n.quadraticCurveTo(u,f,u+v,f),n.closePath(),n.fill(),a.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,s=this.$animations,a=s&&s.x,o=s&&s.y;if(a||o){const c=Ha[e.position].call(this,this._active,this._eventPosition);if(!c)return;const u=this._size=gg(this,e),f=Object.assign({},c,this._size),m=yg(n,e,f),g=vg(e,f,m,n);(a._to!==g.x||o._to!==g.y)&&(this.xAlign=m.xAlign,this.yAlign=m.yAlign,this.width=u.width,this.height=u.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,g))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const a={width:this.width,height:this.height},o={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const c=dr(n.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&u&&(e.save(),e.globalAlpha=s,this.drawBackground(o,e,a,n),Yy(e,n.textDirection),o.y+=c.top,this.drawTitle(o,e,n),this.drawBody(o,e,n),this.drawFooter(o,e,n),Xy(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const s=this._active,a=e.map(({datasetIndex:u,index:f})=>{const m=this.chart.getDatasetMeta(u);if(!m)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:m.data[f],index:f}}),o=!Fl(s,a),c=this._positionChanged(a,n);(o||c)&&(this._active=a,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,o=this._active||[],c=this._getActiveElements(e,o,n,s),u=this._positionChanged(c,e),f=n||!Fl(c,o)||u;return f&&(this._active=c,(a.enabled||a.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),f}_getActiveElements(e,n,s,a){const o=this.options;if(e.type==="mouseout")return[];if(!a)return n.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const c=this.chart.getElementsAtEventForMode(e,o.mode,o,s);return o.reverse&&c.reverse(),c}_positionChanged(e,n){const{caretX:s,caretY:a,options:o}=this,c=Ha[o.position].call(this,e,n);return c!==!1&&(s!==c.x||a!==c.y)}}var R1={id:"tooltip",_element:wg,positioners:Ha,afterInit(t,e,n){n&&(t.tooltip=new wg({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:cv},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const M1=(t,e,n,s)=>(typeof e=="string"?(n=t.push(e)-1,s.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function T1(t,e,n,s){const a=t.indexOf(e);if(a===-1)return M1(t,e,n,s);const o=t.lastIndexOf(e);return a!==o?n:a}const P1=(t,e)=>t===null?null:Mn(Math.round(t),0,e);function _g(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class D1 extends Xi{static id="category";static defaults={ticks:{callback:_g}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:a,label:o}of n)s[a]===o&&s.splice(a,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(bt(e))return null;const s=this.getLabels();return n=isFinite(n)&&s[n]===e?n:T1(s,e,st(n,e),this._addedLabels),P1(n,s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:s,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(s=0),n||(a=this.getLabels().length-1)),this.min=s,this.max=a}buildTicks(){const e=this.min,n=this.max,s=this.options.offset,a=[];let o=this.getLabels();o=e===0&&n===o.length-1?o:o.slice(e,n+1),this._valueRange=Math.max(o.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let c=e;c<=n;c++)a.push({value:c});return a}getLabelForValue(e){return _g.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function A1(t,e){const n=[],{bounds:a,step:o,min:c,max:u,precision:f,count:m,maxTicks:g,maxDigits:v,includeBounds:x}=t,w=o||1,S=g-1,{min:k,max:C}=e,A=!bt(c),P=!bt(u),U=!bt(m),O=(C-k)/(v+1);let V=jp((C-k)/S/w)*w,q,M,z,J;if(V<1e-14&&!A&&!P)return[{value:k},{value:C}];J=Math.ceil(C/V)-Math.floor(k/V),J>S&&(V=jp(J*V/S/w)*w),bt(f)||(q=Math.pow(10,f),V=Math.ceil(V*q)/q),a==="ticks"?(M=Math.floor(k/V)*V,z=Math.ceil(C/V)*V):(M=k,z=C),A&&P&&o&&j_((u-c)/o,V/1e3)?(J=Math.round(Math.min((u-c)/V,g)),V=(u-c)/J,M=c,z=u):U?(M=A?c:M,z=P?u:z,J=m-1,V=(z-M)/J):(J=(z-M)/V,jl(J,Math.round(J),V/1e3)?J=Math.round(J):J=Math.ceil(J));const E=Math.max(Ep(V),Ep(M));q=Math.pow(10,bt(f)?E:f),M=Math.round(M*q)/q,z=Math.round(z*q)/q;let R=0;for(A&&(x&&M!==c?(n.push({value:c}),M<c&&R++,jl(Math.round((M+R*V)*q)/q,c,Sg(c,O,t))&&R++):M<c&&R++);R<J;++R){const W=Math.round((M+R*V)*q)/q;if(P&&W>u)break;n.push({value:W})}return P&&x&&z!==u?n.length&&jl(n[n.length-1].value,u,Sg(u,O,t))?n[n.length-1].value=u:n.push({value:u}):(!P||z===u)&&n.push({value:z}),n}function Sg(t,e,{horizontal:n,minRotation:s}){const a=$r(s),o=(n?Math.sin(a):Math.cos(a))||.001,c=.75*e*(""+t).length;return Math.min(e/o,c)}class L1 extends Xi{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return bt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:a,max:o}=this;const c=f=>a=n?a:f,u=f=>o=s?o:f;if(e){const f=_s(a),m=_s(o);f<0&&m<0?u(0):f>0&&m>0&&c(0)}if(a===o){let f=o===0?1:Math.abs(o*.05);u(o+f),e||c(a-f)}this.min=a,this.max=o}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:s}=e,a;return s?(a=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),n=n||11),n&&(a=Math.min(n,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const a={maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},o=this._range||this,c=A1(a,o);return e.bounds==="ticks"&&E_(c,this,"value"),e.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const e=this.ticks;let n=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const a=(s-n)/Math.max(e.length-1,1)/2;n-=a,s+=a}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(e){return Qd(e,this.chart.options.locale,this.options.ticks.format)}}class O1 extends L1{static id="linear";static defaults={ticks:{callback:zy.formatters.numeric}};determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Gn(e)?e:0,this.max=Gn(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,s=$r(this.options.ticks.minRotation),a=(e?Math.sin(s):Math.cos(s))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,o.lineHeight/a))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const sc={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Rn=Object.keys(sc);function kg(t,e){return t-e}function Cg(t,e){if(bt(e))return null;const n=t._adapter,{parser:s,round:a,isoWeekday:o}=t._parseOpts;let c=e;return typeof s=="function"&&(c=s(c)),Gn(c)||(c=typeof s=="string"?n.parse(c,s):n.parse(c)),c===null?null:(a&&(c=a==="week"&&(Ul(o)||o===!0)?n.startOf(c,"isoWeek",o):n.startOf(c,a)),+c)}function jg(t,e,n,s){const a=Rn.length;for(let o=Rn.indexOf(t);o<a-1;++o){const c=sc[Rn[o]],u=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((n-e)/(u*c.size))<=s)return Rn[o]}return Rn[a-1]}function F1(t,e,n,s,a){for(let o=Rn.length-1;o>=Rn.indexOf(n);o--){const c=Rn[o];if(sc[c].common&&t._adapter.diff(a,s,c)>=e-1)return c}return Rn[n?Rn.indexOf(n):0]}function I1(t){for(let e=Rn.indexOf(t)+1,n=Rn.length;e<n;++e)if(sc[Rn[e]].common)return Rn[e]}function Eg(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:s,hi:a}=Xd(n,e),o=n[s]>=e?n[s]:n[a];t[o]=!0}}function z1(t,e,n,s){const a=t._adapter,o=+a.startOf(e[0].value,s),c=e[e.length-1].value;let u,f;for(u=o;u<=c;u=+a.add(u,1,s))f=n[u],f>=0&&(e[f].major=!0);return e}function Ng(t,e,n){const s=[],a={},o=e.length;let c,u;for(c=0;c<o;++c)u=e[c],a[u]=c,s.push({value:u,major:!1});return o===0||!n?s:z1(t,s,a,n)}class Rg extends Xi{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const s=e.time||(e.time={}),a=this._adapter=new XS._date(e.adapters.date);a.init(n),Wa(s.displayFormats,a.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:Cg(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,s=e.time.unit||"day";let{min:a,max:o,minDefined:c,maxDefined:u}=this.getUserBounds();function f(m){!c&&!isNaN(m.min)&&(a=Math.min(a,m.min)),!u&&!isNaN(m.max)&&(o=Math.max(o,m.max))}(!c||!u)&&(f(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&f(this.getMinMax(!1))),a=Gn(a)&&!isNaN(a)?a:+n.startOf(Date.now(),s),o=Gn(o)&&!isNaN(o)?o:+n.endOf(Date.now(),s)+1,this.min=Math.min(a,o-1),this.max=Math.max(a+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],s=e[e.length-1]),{min:n,max:s}}buildTicks(){const e=this.options,n=e.time,s=e.ticks,a=s.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const o=this.min,c=this.max,u=P_(a,o,c);return this._unit=n.unit||(s.autoSkip?jg(n.minUnit,this.min,this.max,this._getLabelCapacity(o)):F1(this,u.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:I1(this._unit),this.initOffsets(a),e.reverse&&u.reverse(),Ng(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,s=0,a,o;this.options.offset&&e.length&&(a=this.getDecimalForValue(e[0]),e.length===1?n=1-a:n=(this.getDecimalForValue(e[1])-a)/2,o=this.getDecimalForValue(e[e.length-1]),e.length===1?s=o:s=(o-this.getDecimalForValue(e[e.length-2]))/2);const c=e.length<3?.5:.25;n=Mn(n,0,c),s=Mn(s,0,c),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const e=this._adapter,n=this.min,s=this.max,a=this.options,o=a.time,c=o.unit||jg(o.minUnit,n,s,this._getLabelCapacity(n)),u=st(a.ticks.stepSize,1),f=c==="week"?o.isoWeekday:!1,m=Ul(f)||f===!0,g={};let v=n,x,w;if(m&&(v=+e.startOf(v,"isoWeek",f)),v=+e.startOf(v,m?"day":c),e.diff(s,n,c)>1e5*u)throw new Error(n+" and "+s+" are too far apart with stepSize of "+u+" "+c);const S=a.ticks.source==="data"&&this.getDataTimestamps();for(x=v,w=0;x<s;x=+e.add(x,u,c),w++)Eg(g,x,S);return(x===s||a.bounds==="ticks"||w===1)&&Eg(g,x,S),Object.keys(g).sort(kg).map(k=>+k)}getLabelForValue(e){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(e,s.tooltipFormat):n.format(e,s.displayFormats.datetime)}format(e,n){const a=this.options.time.displayFormats,o=this._unit,c=n||a[o];return this._adapter.format(e,c)}_tickFormatFunction(e,n,s,a){const o=this.options,c=o.ticks.callback;if(c)return Rt(c,[e,n,s],this);const u=o.time.displayFormats,f=this._unit,m=this._majorUnit,g=f&&u[f],v=m&&u[m],x=s[n],w=m&&v&&x&&x.major;return this._adapter.format(e,a||(w?v:g))}generateTickLabels(e){let n,s,a;for(n=0,s=e.length;n<s;++n)a=e[n],a.label=this._tickFormatFunction(a.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,s=this.ctx.measureText(e).width,a=$r(this.isHorizontal()?n.maxRotation:n.minRotation),o=Math.cos(a),c=Math.sin(a),u=this._resolveTickFontOptions(0).size;return{w:s*o+u*c,h:s*c+u*o}}_getLabelCapacity(e){const n=this.options.time,s=n.displayFormats,a=s[n.unit]||s.millisecond,o=this._tickFormatFunction(e,0,Ng(this,[e],this._majorUnit),a),c=this._getLabelSize(o),u=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return u>0?u:1}getDataTimestamps(){let e=this._cache.data||[],n,s;if(e.length)return e;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(n=0,s=a.length;n<s;++n)e=e.concat(a[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,s;if(e.length)return e;const a=this.getLabels();for(n=0,s=a.length;n<s;++n)e.push(Cg(this,a[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Ay(e.sort(kg))}}function bl(t,e,n){let s=0,a=t.length-1,o,c,u,f;n?(e>=t[s].pos&&e<=t[a].pos&&({lo:s,hi:a}=kd(t,"pos",e)),{pos:o,time:u}=t[s],{pos:c,time:f}=t[a]):(e>=t[s].time&&e<=t[a].time&&({lo:s,hi:a}=kd(t,"time",e)),{time:o,pos:u}=t[s],{time:c,pos:f}=t[a]);const m=c-o;return m?u+(f-u)*(e-o)/m:u}class Oj extends Rg{static id="timeseries";static defaults=Rg.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=bl(n,this.min),this._tableRange=bl(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:s}=this,a=[],o=[];let c,u,f,m,g;for(c=0,u=e.length;c<u;++c)m=e[c],m>=n&&m<=s&&a.push(m);if(a.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(c=0,u=a.length;c<u;++c)g=a[c+1],f=a[c-1],m=a[c],Math.round((g+f)/2)!==m&&o.push({time:m,pos:c/(u-1)});return o}_generate(){const e=this.min,n=this.max;let s=super.getDataTimestamps();return(!s.includes(e)||!s.length)&&s.splice(0,0,e),(!s.includes(n)||s.length===1)&&s.push(n),s.sort((a,o)=>a-o)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?e=this.normalize(n.concat(s)):e=n.length?n:s,e=this._cache.all=e,e}getDecimalForValue(e){return(bl(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return bl(this._table,s*this._tableRange+this._minPos,!0)}}const uv="label";function Mg(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function U1(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function dv(t,e){t.labels=e}function fv(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:uv;const s=[];t.datasets=e.map(a=>{const o=t.datasets.find(c=>c[n]===a[n]);return!o||!a.data||s.includes(o)?{...a}:(s.push(o),Object.assign(o,a),o)})}function B1(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:uv;const n={labels:[],datasets:[]};return dv(n,t.labels),fv(n,t.datasets,e),n}function $1(t,e){const{height:n=150,width:s=300,redraw:a=!1,datasetIdKey:o,type:c,data:u,options:f,plugins:m=[],fallbackContent:g,updateMode:v,...x}=t,w=b.useRef(null),S=b.useRef(null),k=()=>{w.current&&(S.current=new rc(w.current,{type:c,data:B1(u,o),options:f&&{...f},plugins:m}),Mg(e,S.current))},C=()=>{Mg(e,null),S.current&&(S.current.destroy(),S.current=null)};return b.useEffect(()=>{!a&&S.current&&f&&U1(S.current,f)},[a,f]),b.useEffect(()=>{!a&&S.current&&dv(S.current.config.data,u.labels)},[a,u.labels]),b.useEffect(()=>{!a&&S.current&&u.datasets&&fv(S.current.config.data,u.datasets,o)},[a,u.datasets]),b.useEffect(()=>{S.current&&(a?(C(),setTimeout(k)):S.current.update(v))},[a,f,u.labels,u.datasets,v]),b.useEffect(()=>{S.current&&(C(),setTimeout(k))},[c]),b.useEffect(()=>(k(),()=>C()),[]),Yl.createElement("canvas",{ref:w,role:"img",height:n,width:s,...x},g)}const H1=b.forwardRef($1);function hv(t,e){return rc.register(e),b.forwardRef((n,s)=>Yl.createElement(H1,{...n,ref:s,type:t}))}const W1=hv("bar",WS),V1=hv("pie",YS);function K1(t){const e=typeof t=="number"&&Number.isFinite(t)?t:0,n=e<=1?e*100:e;return Math.max(0,Math.min(100,n))}function Y1(t){const e=t&&typeof t=="object"?t:{},n=e.auth_activity??{},s={window_days:Number.isFinite(n.window_days)?Number(n.window_days):7,from:typeof n.from=="string"?n.from:"",to:typeof n.to=="string"?n.to:"",daily:Array.isArray(n.daily)?n.daily.map(f=>({date:typeof f.date=="string"?f.date:"",success:Number.isFinite(f.success)?Number(f.success):0,failed:Number.isFinite(f.failed)?Number(f.failed):0,total:Number.isFinite(f.total)?Number(f.total):0})):[],totals:{success:Number.isFinite(n.totals?.success)?Number(n.totals?.success):0,failed:Number.isFinite(n.totals?.failed)?Number(n.totals?.failed):0,total:Number.isFinite(n.totals?.total)?Number(n.totals?.total):0},max_daily_total:Number.isFinite(n.max_daily_total)?Number(n.max_daily_total):0},a=e.evidence_mime??{},o={total:Number.isFinite(a.total)?Number(a.total):0,by_mime:Array.isArray(a.by_mime)?a.by_mime.map(f=>{const m=typeof f.mime=="string"&&f.mime.length>0?f.mime:"Unknown",g=typeof f.mime_label=="string"&&f.mime_label.length>0?f.mime_label:m;return{mime:m,mime_label:g,count:Number.isFinite(f.count)?Number(f.count):0,percent:K1(f.percent??0)}}):[]},c=e.admin_activity??{},u={admins:Array.isArray(c.admins)?c.admins.map(f=>({id:Number.isFinite(f.id)?Number(f.id):0,name:typeof f.name=="string"?f.name:"",email:typeof f.email=="string"?f.email:"",last_login_at:typeof f.last_login_at=="string"&&f.last_login_at.length>0?f.last_login_at:null})):[]};return{auth_activity:s,evidence_mime:o,admin_activity:u}}async function X1(t,e){const s=await qn("/api/dashboard/kpis",void 0,t),a=s&&typeof s=="object"&&"data"in s?s.data:s;return Y1(a)}function Q1(t){if(!t)return null;const e=/filename\*=(?:UTF-8'')?([^;]+)/i.exec(t);if(e?.[1])try{return decodeURIComponent(e[1].replace(/(^"|"$)/g,""))}catch{return e[1].replace(/(^"|"$)/g,"")}const n=/filename="([^"]+)"/i.exec(t);if(n?.[1])return n[1];const s=/filename=([^;]+)/i.exec(t);return s?.[1]?s[1].trim().replace(/(^"|"$)/g,""):null}function Nd(){return`${Cs}/api/reports/admin-activity?format=csv`}async function G1(){const t=Nd(),e=await fetch(t,{method:"GET",credentials:"same-origin",headers:jt({Accept:"text/csv"})});if(!e.ok){let o=null;try{o=await e.json()}catch{try{o=await e.text()}catch{o=null}}throw new Wt(e.status,o)}const n=await e.blob(),s=Q1(e.headers.get("content-disposition"))??"admin-activity-report.csv",a=e.headers.get("content-type")??"text/csv";return{blob:n,filename:s,mime:a}}async function q1(){if(typeof window>"u"||typeof document>"u")return;const t=await G1(),e=t.filename&&t.filename.trim().length>0?t.filename.trim():"admin-activity-report.csv";if(typeof URL<"u"&&typeof URL.createObjectURL=="function"){const n=URL.createObjectURL(t.blob),s=document.createElement("a");s.href=n,s.download=e,s.rel="noopener noreferrer",s.style.display="none",document.body.appendChild(s),s.click(),document.body.removeChild(s),window.setTimeout(()=>{typeof URL.revokeObjectURL=="function"&&URL.revokeObjectURL(n)},1e3);return}if(typeof window.open=="function"){window.open(Nd(),"_blank","noopener");return}window.location.assign(Nd())}const J1=["ISO_8601","LOCAL","RELATIVE"],Qi="LOCAL";function eo(t){if(typeof t=="string"){const e=t.trim().toUpperCase();if(e&&J1.includes(e))return e}return Qi}function of(t,e){if(!t)return"";const n=new Date(t);if(Number.isNaN(n.valueOf()))return t;switch(e){case"ISO_8601":return n.toISOString().replace("T"," ").replace("Z","Z");case"RELATIVE":return Z1(n,new Date);case"LOCAL":default:return n.toLocaleString()}}function Z1(t,e){const n=t.getTime()-e.getTime(),s=Math.abs(n),a=[{unit:"year",ms:1e3*60*60*24*365},{unit:"month",ms:1e3*60*60*24*30},{unit:"week",ms:1e3*60*60*24*7},{unit:"day",ms:1e3*60*60*24},{unit:"hour",ms:1e3*60*60},{unit:"minute",ms:1e3*60},{unit:"second",ms:1e3}],o=typeof Intl<"u"&&typeof Intl.RelativeTimeFormat<"u"?new Intl.RelativeTimeFormat(void 0,{numeric:"auto"}):null;for(const{unit:c,ms:u}of a)if(s>=u||c==="second"){const f=n/u,m=Math.round(f);if(o)return o.format(m,c);if(m===0)return"just now";const g=Math.abs(m)===1?c:`${c}s`;return m>0?`in ${m} ${g}`:`${Math.abs(m)} ${g} ago`}return t.toLocaleString()}function eC(t){const e=typeof t=="number"&&Number.isFinite(t)?Math.max(t,0):0;if(e===0)return"0 B";const n=["B","KB","MB","GB","TB","PB"];let s=e,a=0;for(;s>=1024&&a<n.length-1;)s/=1024,a+=1;const o=a===0?0:2;return`${new Intl.NumberFormat("en-US",{minimumFractionDigits:o,maximumFractionDigits:o}).format(s)} ${n[a]}`}rc.register(D1,O1,p1,c1,R1,w1);const tC=300,Tg=300;function nC(t){if(!t)return{labels:[],success:[],failed:[]};const e=t.auth_activity.daily;return{labels:e.map(n=>n.date),success:e.map(n=>n.success),failed:e.map(n=>n.failed)}}function rC(t){const[e,n]=b.useState(()=>typeof window>"u"||typeof window.matchMedia!="function"?!1:window.matchMedia(t).matches);return b.useEffect(()=>{if(typeof window>"u"||typeof window.matchMedia!="function")return;const s=window.matchMedia(t),a=o=>n(o.matches);return n(s.matches),typeof s.addEventListener=="function"?s.addEventListener("change",a):typeof s.addListener=="function"&&s.addListener(a),()=>{typeof s.removeEventListener=="function"?s.removeEventListener("change",a):typeof s.removeListener=="function"&&s.removeListener(a)}},[t]),e}function sC(){const[t,e]=b.useState(!0),[n,s]=b.useState(null),[a,o]=b.useState(null),[c,u]=b.useState(!1),[f,m]=b.useState(null),g=Gl(),v=rC("(min-width: 1200px)");b.useEffect(()=>{let R=!1;const W=new AbortController;return(async()=>{try{e(!0),s(null);const te=await X1(W.signal);R||o(te)}catch(te){if(R)return;te instanceof Wt?te.status===401?s("You must log in to view KPIs."):te.status===403?s("You do not have access to KPIs."):s(`Request failed (HTTP ${te.status}).`):te instanceof Error&&te.name==="AbortError"||s("Network error."),o(null)}finally{R||e(!1)}})(),()=>{R=!0,W.abort()}},[]);const x=b.useMemo(()=>nC(a),[a]),w=a?.auth_activity.window_days??7,S=Math.max(0,a?.auth_activity.max_daily_total??0),k=Math.max(1,S+1),C=b.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,onClick:(R,W)=>{if(!a||W.length===0)return;const K=W[0].index,te=a.auth_activity.daily[K];if(!te)return;const ne=new URLSearchParams({category:"AUTH",occurred_from:te.date,occurred_to:te.date});g(`/admin/audit?${ne.toString()}`)},plugins:{legend:{position:"top"},tooltip:{callbacks:{title:R=>R[0]?.label??""}}},scales:{x:{stacked:!0,title:{display:!0,text:"Date"},grid:{display:!1}},y:{stacked:!0,beginAtZero:!0,max:k,ticks:{stepSize:Math.max(1,Math.ceil(k/6))},title:{display:!0,text:"Authentications"}}}}),[a,g,k]),A=b.useMemo(()=>({labels:x.labels.map(R=>new Date(R).toLocaleDateString()),datasets:[{label:"Success",data:x.success,backgroundColor:"#198754",borderColor:"#146c43",borderWidth:1},{label:"Failed",data:x.failed,backgroundColor:"#dc3545",borderColor:"#b02a37",borderWidth:1}]}),[x]),P=b.useMemo(()=>a?.evidence_mime.by_mime??[],[a]),U=b.useMemo(()=>{if(P.length===0)return null;const R=P.map(te=>te.mime_label??te.mime),W=P.map(te=>te.count),K=["#0d6efd","#6f42c1","#20c997","#fd7e14","#6610f2","#ffca2c"];return{labels:R,datasets:[{data:W,backgroundColor:R.map((te,ne)=>K[ne%K.length]),borderColor:"#ffffff",borderWidth:1}]}},[P]),O=v?"left":"top",V=b.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:O,align:"start",labels:{usePointStyle:!0,boxWidth:12}}},onClick:(R,W)=>{if(!U||W.length===0)return;const K=W[0].index,te=P[K];if(!te)return;const ne=te.mime_label??te.mime,ce=new URLSearchParams({mime_label:ne});g(`/admin/evidence?${ce.toString()}`)}}),[O,U,P,g]),q=b.useMemo(()=>`/admin/audit?${new URLSearchParams({category:"AUTH"}).toString()}`,[]),M="/admin/evidence",z=b.useCallback(async()=>{if(!c)try{u(!0),m(null),await q1()}catch(R){R instanceof Wt?R.status===401?m("You must log in to download the report."):R.status===403?m("You do not have access to this report."):m(`Download failed (HTTP ${R.status}).`):m("Network error while downloading report.")}finally{u(!1)}},[c]),J=a?.auth_activity.totals??{success:0,failed:0,total:0},E=a?.admin_activity.admins??[];return h.jsxs("div",{className:"container py-3",children:[h.jsx("h1",{className:"mb-3",children:"Dashboard KPIs"}),t&&h.jsx("p",{children:"Loading"}),!t&&n&&h.jsx("div",{className:"alert alert-warning",role:"alert",children:n}),!t&&!n&&a&&h.jsxs("div",{className:"vstack gap-3",children:[h.jsxs("section",{className:"card",children:[h.jsxs("div",{className:"card-header d-flex flex-column flex-md-row align-items-md-center justify-content-between gap-2",children:[h.jsxs(Br,{to:q,className:"fw-semibold text-decoration-none",children:["Authentications last ",w," days"]}),h.jsxs("div",{className:"text-muted small",children:[h.jsxs("span",{className:"me-3",children:["Success: ",J.success]}),h.jsxs("span",{className:"me-3",children:["Failed: ",J.failed]}),h.jsxs("span",{children:["Total: ",J.total]})]})]}),h.jsx("div",{className:"card-body",style:{height:tC},children:x.labels.length===0?h.jsx("p",{className:"text-muted mb-0",children:"No authentication activity in the selected window."}):h.jsx(W1,{options:C,data:A,"aria-label":"Authentication activity"})})]}),h.jsxs("div",{style:{display:"grid",gap:"1.5rem",gridTemplateColumns:v?"repeat(2, minmax(0, 1fr))":"repeat(1, minmax(0, 1fr))"},children:[h.jsxs("section",{className:"card h-100",style:{minWidth:0},children:[h.jsx("div",{className:"card-header",children:h.jsx(Br,{to:M,className:"fw-semibold text-decoration-none",children:"Evidence File Types"})}),h.jsx("div",{className:"card-body",style:{height:Tg},children:U?h.jsx(V1,{data:U,options:V,"aria-label":"Evidence file type distribution"}):h.jsx("p",{className:"text-muted mb-0",children:"No evidence uploads yet."})})]}),h.jsxs("section",{className:"card h-100",style:{minWidth:0},children:[h.jsx("div",{className:"card-header d-flex justify-content-between align-items-center",children:h.jsx(Br,{to:`${q}&role=Admin`,className:"fw-semibold text-decoration-none",children:"Admin Activity"})}),h.jsxs("div",{className:"card-body d-flex flex-column p-0",style:{height:Tg},children:[f&&h.jsx("div",{className:"alert alert-warning mb-0 rounded-0 py-2 px-3",role:"alert",children:f}),h.jsx("div",{className:"flex-grow-1 overflow-auto",children:E.length===0?h.jsx("p",{className:"text-muted px-3 py-3 mb-0",children:"No admin users found."}):h.jsx("div",{className:"table-responsive",children:h.jsxs("table",{className:"table table-sm table-striped mb-0",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{scope:"col",children:"User"}),h.jsx("th",{scope:"col",children:"Last Login"})]})}),h.jsx("tbody",{children:E.map(R=>{const W=R.last_login_at?of(R.last_login_at,Qi):"";return h.jsxs("tr",{children:[h.jsxs("td",{children:[h.jsx("div",{className:"fw-semibold",children:R.name||R.email||`User ${R.id}`}),R.email&&h.jsx("div",{className:"text-muted small",children:R.email})]}),h.jsx("td",{children:W})]},`${R.id}-${R.email}`)})})]})})})]}),h.jsx("div",{className:"card-footer text-end bg-transparent border-top",children:h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:z,disabled:c,"aria-busy":c,children:c?"Downloading":"Download CSV"})})]})]})]})]})}function iC(){return h.jsxs("div",{className:"container py-3",children:[h.jsx("h1",{children:"Risks"}),h.jsx("p",{className:"text-muted",children:"Module stub. Detailed workflows arrive in a later phase."})]})}function aC(){return h.jsxs("div",{className:"container py-3",children:[h.jsx("h1",{children:"Compliance"}),h.jsx("p",{className:"text-muted",children:"Compliance tracking is planned for a future milestone."})]})}const fd={"rbac.deny.capability":{label:"Access denied: capability disabled",aria:"Access denied because the requested capability is disabled",category:"RBAC"},"rbac.deny.unauthenticated":{label:"Access denied: unauthenticated",aria:"Access denied because the user is not authenticated",category:"RBAC"},"rbac.deny.role_mismatch":{label:"Access denied: role mismatch",aria:"Access denied because a required role is missing or does not match",category:"RBAC"},"rbac.deny.policy":{label:"Access denied: policy check failed",aria:"Access denied because a required policy is not satisfied",category:"RBAC"},"rbac.deny.require_auth":{label:"Access denied: authentication required",aria:"Access denied because authentication is required",category:"RBAC"},"rbac.deny.unauthorized":{label:"Access denied: unauthorized",aria:"Access denied because the user lacks permission",category:"RBAC"},"rbac.deny.role_required":{label:"Access denied: role required",aria:"Access denied because a required role is missing",category:"RBAC"},"rbac.deny.role_missing":{label:"Access denied: role missing",aria:"Access denied because a required role is missing",category:"RBAC"},"rbac.deny.role":{label:"Access denied: role mismatch",aria:"Access denied because a required role is missing or does not match",category:"RBAC"},"rbac.deny.policy.core.metrics.view":{label:"Access denied: metrics view policy",aria:"Access denied because policy core.metrics.view is not satisfied",category:"RBAC"},"rbac.deny.policy.core.audit.view":{label:"Access denied: audit view policy",aria:"Access denied because policy core.audit.view is not satisfied",category:"RBAC"},"rbac.deny.policy.core.evidence.view":{label:"Access denied: evidence view policy",aria:"Access denied because policy core.evidence.view is not satisfied",category:"RBAC"}};function oC(t){const e=String(t||"").trim();return{label:`Access denied: ${e}`,aria:`Access denied due to ${e}`,category:"RBAC"}}function mv(t){const e=String(t||"").trim();if(e in fd)return fd[e];if(e.startsWith("rbac.deny.policy.")){const n=e.slice(17);return{label:`Access denied: ${n} policy`,aria:`Access denied because policy ${n} is not satisfied`,category:"RBAC"}}return e.startsWith("rbac.deny.role.")?fd["rbac.deny.role"]:oC(e)}function lC(t){return mv(t).aria}function cC(){const[t,e]=b.useState(!0),[n,s]=b.useState([]),[a,o]=b.useState(null);return b.useEffect(()=>{(async()=>{e(!0),o(null);try{const c=await qn("/api/audit",{limit:20});c?.ok&&Array.isArray(c.items)?s(c.items):o("Failed to load audit events.")}catch{o("Network error.")}finally{e(!1)}})()},[]),t?h.jsx("p",{children:"Loading"}):h.jsxs("div",{className:"container py-3",children:[h.jsx("h1",{children:"Audit Trail"}),a&&h.jsx("div",{className:"alert alert-warning",children:a}),n.length===0?h.jsx("p",{children:"No events."}):h.jsx("div",{className:"table-responsive",children:h.jsxs("table",{className:"table table-sm table-striped",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{children:"Time (UTC)"}),h.jsx("th",{children:"Action"}),h.jsx("th",{children:"Entity"}),h.jsx("th",{children:"Actor"}),h.jsx("th",{children:"IP"})]})}),h.jsx("tbody",{children:n.map(c=>{const u=mv(c.action),f=c.occurred_at??"";let m="";if(f){const v=new Date(f);m=Number.isNaN(v.valueOf())?String(f):v.toISOString().replace("T"," ").replace("Z","Z")}const g=c.actor_label&&c.actor_label.length>0?c.actor_label:c.actor_id??"-";return h.jsxs("tr",{children:[h.jsx("td",{children:m}),h.jsx("td",{children:h.jsx("span",{title:c.action,"aria-label":lC(c.action),children:u.label})}),h.jsx("td",{children:`${c.entity_type}:${c.entity_id}`}),h.jsx("td",{children:g}),h.jsx("td",{children:c.ip??"-"})]},c.id)})})]})}),h.jsx("p",{className:"text-muted mt-3",children:"Phase 4 stub. Pagination and persistence deferred."})]})}function uC(){return h.jsxs("div",{className:"container py-3",children:[h.jsx("h1",{children:"Policies"}),h.jsx("p",{className:"text-muted",children:"Policy library scaffolding ships later in the roadmap."})]})}function dC(){return h.jsxs("section",{children:[h.jsx("h1",{children:"Admin"}),h.jsxs("ul",{children:[h.jsx("li",{children:h.jsx(Br,{to:"/admin/settings",children:"Settings"})}),h.jsx("li",{children:h.jsx(Br,{to:"/admin/roles",children:"Roles"})}),h.jsx("li",{children:h.jsx(Br,{to:"/admin/users",children:"Users"})}),h.jsx("li",{children:h.jsx(Br,{to:"/admin/user-roles",children:"User Roles"})}),h.jsx("li",{children:h.jsx(Br,{to:"/admin/audit",children:"Audit Logs"})}),h.jsx("li",{children:h.jsx("a",{href:"/api/docs",children:"API Documentation"})})]})]})}const fC=[{key:"color.primary",label:"Primary color"},{key:"color.surface",label:"Surface color"},{key:"color.text",label:"Text color"}],hC=["none","default","light","heavy","custom"],mC=["narrow","default","wide"],pC=["small","medium","large"],gC=["none","limited","full"];function wr(t){return{theme:t.theme.default,allowOverride:t.theme.allow_user_override,forceGlobal:t.theme.force_global,overrides:{...t.theme.overrides}}}function Pg(t,e){if(!e||t.theme!==e.theme||t.allowOverride!==e.allowOverride||t.forceGlobal!==e.forceGlobal)return!0;const n=new Set([...Object.keys(t.overrides),...Object.keys(e.overrides)]);for(const s of n)if((t.overrides[s]??"")!==(e.overrides[s]??""))return!0;return!1}async function hd(t){try{return await t.json()}catch{return null}}function yC(){const[t,e]=b.useState(!0),[n,s]=b.useState(!1),[a,o]=b.useState(null),[c,u]=b.useState(!1),[f,m]=b.useState(qs),[g,v]=b.useState(wr($e)),x=b.useRef(null),w=b.useRef(wr($e)),S=b.useMemo(()=>[...f.themes,...f.packs].map(R=>({slug:R.slug,name:R.name,source:R.source})),[f]),k=b.useCallback(E=>{const R=wr(E);w.current=R,v(R),Un(E)},[]),C=b.useCallback(async()=>{try{const E=await fetch("/api/settings/ui/themes",{method:"GET",credentials:"same-origin",headers:jt()});if(!E.ok){o("Theme manifest unavailable; using bundled defaults.");return}const R=await hd(E);R&&Array.isArray(R.themes)&&(m(R),Sy(R))}catch{o("Theme manifest unavailable; using bundled defaults.")}},[]),A=b.useCallback(async E=>{e(!0),E?.preserveMessage||o(null);try{await C();const R=await fetch("/api/settings/ui",{method:"GET",credentials:"same-origin",headers:jt()});if(R.status===403){u(!0),o("You do not have permission to adjust theme settings."),x.current=null,w.current=wr($e),v(wr($e)),Un($e);return}if(!R.ok){o("Failed to load theme settings. Using defaults."),x.current=null,w.current=wr($e),v(wr($e)),Un($e);return}x.current=R.headers.get("ETag");const K=(await hd(R))?.config?.ui??$e;k(K)}catch{o("Failed to load theme settings. Using defaults."),x.current=null,w.current=wr($e),v(wr($e)),Un($e)}finally{e(!1)}},[k,C]);b.useEffect(()=>{A()},[A]);const P=E=>{v(R=>({...R,theme:E}))},U=E=>{v(R=>({...R,allowOverride:E}))},O=E=>{v(R=>({...R,forceGlobal:E}))},V=(E,R)=>{v(W=>({...W,overrides:{...W.overrides,[E]:R}}))},q=(E,R)=>{v(W=>({...W,overrides:{...W.overrides,[E]:R}}))},M=()=>{const E=w.current??wr($e);v(E),o("Reverted to last saved values.")},z=async()=>{if(c){o("Read-only mode: theme settings cannot be changed.");return}const E=w.current;if(!Pg(g,E)){o("No changes to save.");return}const R=x.current;if(!R){await A(),o("Settings version refreshed. Please retry.");return}s(!0),o(null);try{const W={ui:{theme:{default:g.theme,allow_user_override:g.allowOverride,force_global:g.forceGlobal,overrides:g.overrides}}},K=await fetch("/api/settings/ui",{method:"PUT",credentials:"same-origin",headers:jt({"Content-Type":"application/json","If-Match":R}),body:JSON.stringify(W)}),te=await hd(K);if(K.status===409){const ve=te?.current_etag??K.headers.get("ETag");ve&&(x.current=ve),o("Settings changed elsewhere. Reloaded latest values."),await A({preserveMessage:!0});return}if(!K.ok)throw new Error(`Save failed (HTTP ${K.status}).`);const ne=K.headers.get("ETag")??te?.etag??null;ne&&(x.current=ne),te?.config?.ui?k(te.config.ui):(w.current=g,await A({preserveMessage:!0}));const ce=typeof te?.message=="string"?te.message:"Theme settings saved.";o(ce)}catch(W){o(W instanceof Error?W.message:"Save failed.")}finally{s(!1)}},J=t||n||c;return h.jsxs("section",{className:"card mb-4","aria-label":"theme-configurator",children:[h.jsxs("div",{className:"card-header d-flex justify-content-between align-items-center",children:[h.jsx("strong",{children:"Theming"}),h.jsxs("div",{className:"d-flex gap-2",children:[h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>void A(),disabled:t||n,children:"Reload"}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:M,disabled:J,children:"Reset"}),h.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:()=>void z(),disabled:J||!Pg(g,w.current),children:n?"Saving":"Save"})]})]}),h.jsx("div",{className:"card-body vstack gap-4",children:t?h.jsx("p",{children:"Loading theme settings"}):h.jsxs(h.Fragment,{children:[a&&h.jsx("div",{className:"alert alert-info mb-0",role:"status",children:a}),h.jsxs("fieldset",{className:"vstack gap-3",disabled:J,children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"themeSelect",className:"form-label fw-semibold",children:"Default theme"}),h.jsx("select",{id:"themeSelect",className:"form-select",value:g.theme,onChange:E=>P(E.target.value),children:S.map(E=>h.jsxs("option",{value:E.slug,children:[E.name," (",E.source==="bootswatch"?"Bootswatch":"Pack",")"]},E.slug))}),h.jsx("div",{className:"form-text",children:"Users can select from available themes when overrides are allowed."})]}),h.jsxs("div",{className:"form-check",children:[h.jsx("input",{id:"allowOverride",type:"checkbox",className:"form-check-input",checked:g.allowOverride,onChange:E=>U(E.target.checked)}),h.jsx("label",{htmlFor:"allowOverride",className:"form-check-label",children:"Allow user theme override"})]}),h.jsxs("div",{className:"form-check",children:[h.jsx("input",{id:"forceGlobal",type:"checkbox",className:"form-check-input",checked:g.forceGlobal,onChange:E=>O(E.target.checked)}),h.jsx("label",{htmlFor:"forceGlobal",className:"form-check-label",children:"Force global theme (light/dark still follows capability rules)"})]}),h.jsxs("div",{children:[h.jsx("h2",{className:"h5 mb-3",children:"Design tokens"}),h.jsx("div",{className:"row g-3",children:fC.map(({key:E,label:R})=>h.jsxs("div",{className:"col-sm-4",children:[h.jsx("label",{htmlFor:E,className:"form-label",children:R}),h.jsx("input",{id:E,className:"form-control form-control-color",type:"color",value:g.overrides[E]??"#000000",onChange:W=>V(E,W.target.value),title:R})]},E))}),h.jsxs("div",{className:"row g-3 mt-1",children:[h.jsxs("div",{className:"col-sm-3",children:[h.jsx("label",{htmlFor:"shadowPreset",className:"form-label",children:"Shadow preset"}),h.jsx("select",{id:"shadowPreset",className:"form-select",value:g.overrides.shadow??"default",onChange:E=>q("shadow",E.target.value),children:hC.map(E=>h.jsx("option",{value:E,children:E},E))})]}),h.jsxs("div",{className:"col-sm-3",children:[h.jsx("label",{htmlFor:"spacingPreset",className:"form-label",children:"Spacing scale"}),h.jsx("select",{id:"spacingPreset",className:"form-select",value:g.overrides.spacing??"default",onChange:E=>q("spacing",E.target.value),children:mC.map(E=>h.jsx("option",{value:E,children:E},E))})]}),h.jsxs("div",{className:"col-sm-3",children:[h.jsx("label",{htmlFor:"typeScalePreset",className:"form-label",children:"Type scale"}),h.jsx("select",{id:"typeScalePreset",className:"form-select",value:g.overrides.typeScale??"medium",onChange:E=>q("typeScale",E.target.value),children:pC.map(E=>h.jsx("option",{value:E,children:E},E))})]}),h.jsxs("div",{className:"col-sm-3",children:[h.jsx("label",{htmlFor:"motionPreset",className:"form-label",children:"Motion"}),h.jsx("select",{id:"motionPreset",className:"form-select",value:g.overrides.motion??"full",onChange:E=>q("motion",E.target.value),children:gC.map(E=>h.jsx("option",{value:E,children:E},E))})]})]})]})]})]})})]})}const vC=5*1024*1024,pv=["image/png","image/jpeg","image/webp","image/svg+xml"],xC={primary_logo:"Primary logo",secondary_logo:"Secondary logo",header_logo:"Header logo",footer_logo:"Footer logo",favicon:"Favicon"},Dg=t=>`/api/settings/ui/brand-assets/${encodeURIComponent(t)}/download`,Fa=t=>({...$e,...t??{},theme:{...$e.theme,...t?.theme??$e.theme},nav:{...$e.nav,...t?.nav??$e.nav},brand:{...$e.brand,...t?.brand??$e.brand}}),Li=()=>({...$e.brand});async function wl(t){try{return await t.json()}catch{return null}}function bC(){const[t,e]=b.useState(Li()),[n,s]=b.useState([]),[a,o]=b.useState(!0),[c,u]=b.useState(!1),[f,m]=b.useState(null),[g,v]=b.useState(null),[x,w]=b.useState(!1),S=b.useRef(null),k=b.useRef(null),C=b.useRef($e),A=b.useCallback(async E=>{o(!0),E?.preserveMessage||m(null);try{const[R,W]=await Promise.all([fetch("/api/settings/ui",{method:"GET",credentials:"same-origin",headers:jt()}),fetch("/api/settings/ui/brand-assets",{method:"GET",credentials:"same-origin",headers:jt()})]);if(R.status===403){w(!0),m("You do not have permission to update branding."),S.current=null,e(Li()),k.current=Li(),s([]);return}if(R.ok){S.current=R.headers.get("ETag");const te=(await wl(R))?.config?.ui??null;if(te){const ne=Fa(te);C.current=ne,Un(ne);const ce={...ne.brand};e(ce),k.current={...ce}}else{const ne=Li(),ce=Fa(null);C.current=ce,Un(ce),e(ne),k.current=ne}}else{m("Failed to load branding settings. Using defaults.");const K=Li(),te=Fa(null);C.current=te,Un(te),e(K),k.current=K}if(W.ok){const K=await wl(W),te=Array.isArray(K?.assets)?K.assets.map(ne=>({...ne,url:Dg(ne.id)})):[];s(te)}else s([])}catch{m("Failed to load branding settings. Using defaults."),S.current=null;const R=Li(),W=Fa(null);C.current=W,Un(W),e(R),k.current=R,s([])}finally{o(!1)}},[]);b.useEffect(()=>{A()},[A]);const P=E=>{const W={...C.current,brand:{...E}};Un(W)},U=(E,R)=>{e(W=>{const K={...W,[E]:R};return P(K),K})},O=()=>{const E=k.current;return E?t.title_text!==E.title_text||t.favicon_asset_id!==E.favicon_asset_id||t.primary_logo_asset_id!==E.primary_logo_asset_id||t.secondary_logo_asset_id!==E.secondary_logo_asset_id||t.header_logo_asset_id!==E.header_logo_asset_id||t.footer_logo_asset_id!==E.footer_logo_asset_id||t.footer_logo_disabled!==E.footer_logo_disabled:!0},V=async()=>{if(x){m("Branding is read-only for your account.");return}if(!O()){m("No branding changes to save.");return}const E=S.current;if(!E){await A(),m("Settings version refreshed. Please retry.");return}u(!0),m(null);try{const R={ui:{brand:t}},W=await fetch("/api/settings/ui",{method:"PUT",credentials:"same-origin",headers:jt({"Content-Type":"application/json","If-Match":E}),body:JSON.stringify(R)}),K=await wl(W);if(W.status===409){const ne=K?.etag??W.headers.get("ETag");ne&&(S.current=ne),m("Branding changed elsewhere. Reloaded latest values."),await A({preserveMessage:!0});return}if(!W.ok)throw new Error(`Save failed (HTTP ${W.status}).`);const te=W.headers.get("ETag")??K?.etag??null;if(te&&(S.current=te),K?.config?.ui){const ne=Fa(K.config.ui);C.current=ne,Un(ne);const ce={...ne.brand};e(ce),k.current={...ce}}else k.current={...t};m("Branding saved."),await A({preserveMessage:!0})}catch(R){m(R instanceof Error?R.message:"Save failed.")}finally{u(!1)}},q=async(E,R)=>{if(!pv.includes(R.type)){v(`Unsupported file type: ${R.type||"unknown"}.`);return}if(R.size>vC){v("File exceeds 5 MB limit.");return}const W=new FormData;W.append("kind",E),W.append("file",R);try{const K=await fetch("/api/settings/ui/brand-assets",{method:"POST",credentials:"same-origin",headers:jt(),body:W}),te=await wl(K);if(!K.ok||!te?.asset){const ce=typeof te?.message=="string"?te.message:"Upload failed.";v(ce);return}const ne={...te.asset,url:Dg(te.asset.id)};switch(s(ce=>[ne,...ce.filter(ve=>ve.id!==ne.id)]),E){case"primary_logo":U("primary_logo_asset_id",te.asset.id);break;case"secondary_logo":U("secondary_logo_asset_id",te.asset.id);break;case"header_logo":U("header_logo_asset_id",te.asset.id);break;case"footer_logo":U("footer_logo_asset_id",te.asset.id);break;case"favicon":U("favicon_asset_id",te.asset.id);break}v("Upload successful.")}catch{v("Upload failed.")}},M=async E=>{if(window.confirm("Delete this asset? This cannot be undone."))try{const R=await fetch(`/api/settings/ui/brand-assets/${encodeURIComponent(E)}`,{method:"DELETE",credentials:"same-origin",headers:jt()});if(!R.ok)throw new Error(`Delete failed (${R.status})`);s(te=>te.filter(ne=>ne.id!==E));let W=!1;const K={...t};["favicon","primary_logo","secondary_logo","header_logo","footer_logo"].forEach(te=>{const ne=`${te}_asset_id`;K[ne]===E&&(K[ne]=null,W=!0)}),W&&(e(K),P(K),m("Asset deleted and references cleared. Save to apply."))}catch(R){v(R instanceof Error?R.message:"Delete failed.")}},z=a||c||x,J=E=>E?n.find(R=>R.id===E)??null:null;return h.jsxs("section",{className:"card mb-4","aria-label":"branding-card",children:[h.jsxs("div",{className:"card-header d-flex justify-content-between align-items-center",children:[h.jsx("strong",{children:"Branding"}),h.jsxs("div",{className:"d-flex gap-2",children:[h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>void A(),disabled:a||c,title:"Fetch the latest branding settings from the server",children:"Fetch latest"}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>{const E=k.current;if(E){const R={...E};e(R),P(R),m("Reverted to last saved branding.")}},disabled:z,title:"Undo unsaved changes",children:"Undo changes"}),h.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:()=>void V(),disabled:z,children:c?"Saving":"Save"})]})]}),h.jsx("div",{className:"card-body vstack gap-4",children:a?h.jsx("p",{children:"Loading branding settings"}):h.jsxs(h.Fragment,{children:[f&&h.jsx("div",{className:"alert alert-info mb-0",role:"status",children:f}),g&&h.jsx("div",{className:"alert alert-secondary mb-0",role:"note",children:g}),h.jsxs("fieldset",{className:"vstack gap-3",disabled:z,children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"brandTitle",className:"form-label fw-semibold",children:"Title text"}),h.jsx("input",{id:"brandTitle",type:"text",className:"form-control",value:t.title_text,maxLength:120,onChange:E=>U("title_text",E.target.value)}),h.jsx("div",{className:"form-text",children:"Default: phpGRC  <module>"})]}),h.jsx(Ia,{label:"Primary logo",description:"Displayed in header and as fallback for other locations.",kind:"primary_logo",asset:J(t.primary_logo_asset_id),assets:n,onUpload:q,onSelect:E=>U("primary_logo_asset_id",E),onClear:()=>U("primary_logo_asset_id",null),onDelete:M,disabled:z}),h.jsx(Ia,{label:"Secondary logo",description:"Used when the primary logo is not suitable; falls back to primary otherwise.",kind:"secondary_logo",asset:J(t.secondary_logo_asset_id),assets:n,onUpload:q,onSelect:E=>U("secondary_logo_asset_id",E),onClear:()=>U("secondary_logo_asset_id",null),onDelete:M,disabled:z}),h.jsx(Ia,{label:"Header logo",description:"Optional specialized logo for application header.",kind:"header_logo",asset:J(t.header_logo_asset_id),assets:n,onUpload:q,onSelect:E=>U("header_logo_asset_id",E),onClear:()=>U("header_logo_asset_id",null),onDelete:M,disabled:z}),h.jsx(Ia,{label:"Footer logo",description:"Displayed in footer; falls back to primary when absent.",kind:"footer_logo",asset:J(t.footer_logo_asset_id),assets:n,onUpload:q,onSelect:E=>U("footer_logo_asset_id",E),onClear:()=>U("footer_logo_asset_id",null),onDelete:M,disabled:z}),h.jsxs("div",{className:"form-check",children:[h.jsx("input",{id:"footerLogoDisabled",type:"checkbox",className:"form-check-input",checked:t.footer_logo_disabled,onChange:E=>U("footer_logo_disabled",E.target.checked)}),h.jsx("label",{htmlFor:"footerLogoDisabled",className:"form-check-label",children:"Disable footer logo (falls back to primary when unchecked)."})]}),h.jsx(Ia,{label:"Favicon",description:"Used in browser tabs. If absent, derived from primary logo.",kind:"favicon",asset:J(t.favicon_asset_id),assets:n,onUpload:q,onSelect:E=>U("favicon_asset_id",E),onClear:()=>U("favicon_asset_id",null),onDelete:M,disabled:z})]}),h.jsx(wC,{assets:n,onDelete:M,disabled:z})]})})]})}function Ia({label:t,description:e,kind:n,asset:s,assets:a,onUpload:o,onSelect:c,onClear:u,onDelete:f,disabled:m}){const g=b.useRef(null),v=w=>{const S=w.target.files?.[0];S&&o(n,S)},x=a.filter(w=>w.kind===n);return h.jsx("div",{className:"card border-secondary-subtle",children:h.jsxs("div",{className:"card-body d-flex flex-column flex-lg-row gap-3",children:[h.jsxs("div",{className:"flex-grow-1",children:[h.jsx("h3",{className:"h6 mb-1",children:t}),h.jsx("p",{className:"text-muted small mb-3",children:e}),s?h.jsxs("div",{className:"d-flex align-items-center gap-3",children:[s.url?h.jsx("img",{src:s.url,alt:`${t} preview`,style:{maxHeight:64,maxWidth:120},className:"border rounded"}):h.jsx("div",{className:"border rounded bg-light d-flex align-items-center justify-content-center",style:{height:64,width:120},children:h.jsx("span",{className:"text-muted small",children:"Preview"})}),h.jsxs("div",{className:"small text-muted",children:[h.jsx("div",{children:s.name}),h.jsx("div",{children:s.mime}),h.jsx("div",{children:gv(s.size_bytes)})]})]}):h.jsx("div",{className:"text-muted small",children:"No asset selected."})]}),h.jsxs("div",{className:"d-flex flex-column gap-2",children:[h.jsx("button",{type:"button",className:"btn btn-outline-primary btn-sm",onClick:()=>g.current?.click(),disabled:m,children:"Upload new"}),h.jsx("input",{ref:g,type:"file",accept:pv.join(","),className:"d-none",onChange:v}),h.jsxs("select",{className:"form-select form-select-sm",value:s?.id??"",onChange:w=>c(w.target.value||null),disabled:m||x.length===0,children:[h.jsx("option",{value:"",children:"Select existing"}),x.map(w=>h.jsx("option",{value:w.id,children:w.name},w.id))]}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:u,disabled:m||!s,children:"Clear selection"}),h.jsx("button",{type:"button",className:"btn btn-outline-danger btn-sm",onClick:()=>s&&f(s.id),disabled:m||!s,children:"Delete asset"})]})]})})}function wC({assets:t,onDelete:e,disabled:n}){return t.length===0?h.jsx("div",{className:"alert alert-secondary mb-0",role:"note",children:"No uploaded branding assets yet."}):h.jsx("div",{className:"table-responsive",children:h.jsxs("table",{className:"table table-sm align-middle",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{scope:"col",children:"Name"}),h.jsx("th",{scope:"col",children:"Kind"}),h.jsx("th",{scope:"col",children:"Size"}),h.jsx("th",{scope:"col",children:"Uploaded"}),h.jsx("th",{scope:"col",className:"text-end",children:"Actions"})]})}),h.jsx("tbody",{children:t.map(s=>h.jsxs("tr",{children:[h.jsx("td",{children:s.name}),h.jsx("td",{children:xC[s.kind]}),h.jsx("td",{children:gv(s.size_bytes)}),h.jsx("td",{children:_C(s.created_at)}),h.jsx("td",{className:"text-end",children:h.jsx("button",{type:"button",className:"btn btn-outline-danger btn-sm",onClick:()=>e(s.id),disabled:n,children:"Delete"})})]},s.id))})]})})}function gv(t){if(!Number.isFinite(t)||t<=0)return"0 B";const e=["B","KB","MB","GB"],n=Math.min(e.length-1,Math.floor(Math.log(t)/Math.log(1024))),s=t/Math.pow(1024,n);return`${s.toFixed(s>=10?0:1)} ${e[n]}`}function _C(t){const e=new Date(t);return Number.isNaN(e.getTime())?t:e.toLocaleString()}const Ag=[{value:"LOCAL",label:"Local date & time",example:"Example: 9/30/2025, 5:23:01 PM"},{value:"ISO_8601",label:"ISO 8601 (UTC)",example:"Example: 2025-09-30 21:23:01Z"},{value:"RELATIVE",label:"Relative time",example:"Example: 5 minutes ago"}];function SC(){const[t,e]=b.useState(!0),[n,s]=b.useState(!1),[a,o]=b.useState(null),[c,u]=b.useState(!1),[f,m]=b.useState(0),[g,v]=b.useState(7),[x,w]=b.useState(!1),[S,k]=b.useState(50),[C,A]=b.useState(365),[P,U]=b.useState(Qi),[O,V]=b.useState(""),[q,M]=b.useState(25),z="/opt/phpgrc/shared/blobs",[J,E]=b.useState(!1),R=b.useRef(null),W=b.useRef(null),K=(T,j,B)=>Math.max(j,Math.min(B,Math.trunc(T))),te=b.useCallback(T=>{const j=T?.core??{},B=j.metrics??{},I=j.rbac??{},re=j.audit??{},ie=j.evidence??{},de=K(Number(B.cache_ttl_seconds??0),0,2592e3),Ne=K(Number(B.rbac_denies?.window_days??7),7,365),he=!!(I.require_auth??!1),Ue=K(Number(I.user_search?.default_per_page??50),1,500),Be=K(Number(re.retention_days??365),1,730),ft=eo(j.ui?.time_format),Ze=typeof ie?.blob_storage_path=="string"?ie.blob_storage_path.trim():"",nt=Ze===z?"":Ze,Ft=K(Number(ie?.max_mb??25),1,4096);m(de),v(Ne),w(he),k(Ue),A(Be),U(ft),V(nt),M(Ft),R.current={cacheTtl:de,rbacDays:Ne,rbacRequireAuth:he,rbacUserSearchPerPage:Ue,retentionDays:Be,timeFormat:ft,evidenceBlobPath:nt,evidenceMaxMb:Ft}},[z]),ne=b.useCallback(async()=>{e(!0);try{const T=await fetch("/api/admin/settings",{method:"GET",credentials:"same-origin",headers:jt()});if(T.status===403){u(!0),o("You do not have permission to view settings."),R.current=null;return}if(!T.ok)throw new Error(`Failed to load settings (HTTP ${T.status})`);const j=await T.json(),B=T.headers.get("ETag");B&&(W.current=B),u(!1),te(j?.config??null)}catch{o("Failed to load settings.")}finally{e(!1)}},[te]);b.useEffect(()=>{o(null),ne()},[ne]);const ce=()=>({cacheTtl:K(Number(f)||0,0,2592e3),rbacDays:K(Number(g)||7,7,365),rbacRequireAuth:x,rbacUserSearchPerPage:K(Number(S)||50,1,500),retentionDays:K(Number(C)||365,1,730),timeFormat:P,evidenceBlobPath:O.trim(),evidenceMaxMb:K(Number(q)||25,1,4096)}),ve=()=>{const T=ce(),j=R.current,B={apply:!0};if(!j)return B.rbac={require_auth:T.rbacRequireAuth,user_search:{default_per_page:T.rbacUserSearchPerPage}},B.audit={retention_days:T.retentionDays},B.metrics={cache_ttl_seconds:T.cacheTtl,rbac_denies:{window_days:T.rbacDays}},B.ui={time_format:T.timeFormat},B.evidence={blob_storage_path:T.evidenceBlobPath,max_mb:T.evidenceMaxMb},B;const I={};T.rbacRequireAuth!==j.rbacRequireAuth&&(I.require_auth=T.rbacRequireAuth),T.rbacUserSearchPerPage!==j.rbacUserSearchPerPage&&(I.user_search={default_per_page:T.rbacUserSearchPerPage}),Object.keys(I).length>0&&(B.rbac=I),T.retentionDays!==j.retentionDays&&(B.audit={retention_days:T.retentionDays});const re={};T.cacheTtl!==j.cacheTtl&&(re.cache_ttl_seconds=T.cacheTtl),T.rbacDays!==j.rbacDays&&(re.rbac_denies={window_days:T.rbacDays}),Object.keys(re).length>0&&(B.metrics=re),T.timeFormat!==j.timeFormat&&(B.ui={time_format:T.timeFormat});const ie={};return T.evidenceBlobPath!==j.evidenceBlobPath&&(ie.blob_storage_path=T.evidenceBlobPath),T.evidenceMaxMb!==j.evidenceMaxMb&&(ie.max_mb=T.evidenceMaxMb),Object.keys(ie).length>0&&(B.evidence=ie),B};async function ee(T){if(T.preventDefault(),c){o("You do not have permission to modify settings.");return}s(!0),o(null);try{const j=ve();if(!kC(j)){o("No changes to save."),s(!1);return}const I=W.current;if(!I){o("Settings version missing. Reloading..."),await ne();return}const re=await fetch("/api/admin/settings",{method:"POST",credentials:"same-origin",headers:jt({"Content-Type":"application/json","If-Match":I}),body:JSON.stringify(j)}),ie=await CC(re);if(re.status===409){const he=ie?.current_etag??re.headers.get("ETag");he&&(W.current=he),o("Settings changed in another session. Latest values have been reloaded."),await ne();return}if(!re.ok)throw new Error(`Save failed with status ${re.status}`);const de=re.headers.get("ETag")??ie?.etag??null;if(de&&(W.current=de),ie?.config)te(ie.config);else{const he=ce();R.current=he,m(he.cacheTtl),v(he.rbacDays),w(he.rbacRequireAuth),k(he.rbacUserSearchPerPage),A(he.retentionDays),U(he.timeFormat),V(he.evidenceBlobPath),M(he.evidenceMaxMb)}const Ne=typeof ie?.message=="string"?ie.message:ie?.note==="stub-only"?"Validated. Not persisted (stub).":"Saved.";o(Ne)}catch(j){o(j instanceof Error?j.message:"Save failed.")}finally{s(!1)}}async function ae(){if(!J&&window.confirm("Purge all evidence records? This cannot be undone.")){E(!0),o(null);try{const T=await ri("/api/admin/evidence/purge",{confirm:!0}),j=typeof T?.deleted=="number"?T.deleted:0;j>0?o(`Purged ${j} evidence item${j===1?"":"s"}.`):T?.note==="evidence-table-missing"?o("Evidence table not available."):o("No evidence to purge.")}catch{o("Purge failed.")}finally{E(!1)}}}return h.jsxs("main",{id:"main",className:"container py-3",children:[h.jsx("h1",{className:"mb-3",children:"Admin Settings"}),h.jsx(yC,{}),h.jsx(bC,{}),t?h.jsx("p",{children:"Loading"}):h.jsxs("form",{onSubmit:ee,className:"vstack gap-3","aria-label":"admin-settings",children:[h.jsxs("section",{className:"card",children:[h.jsx("div",{className:"card-header",children:h.jsx("strong",{children:"Authentication"})}),h.jsxs("div",{className:"card-body vstack gap-3",children:[h.jsxs("div",{className:"form-check",children:[h.jsx("input",{id:"rbacRequireAuth",type:"checkbox",className:"form-check-input",checked:x,onChange:T=>w(T.target.checked)}),h.jsx("label",{htmlFor:"rbacRequireAuth",className:"form-check-label",children:"Enforce Authentication"})]}),h.jsx("div",{className:"row g-2 align-items-end",children:h.jsxs("div",{className:"col-sm-4",children:[h.jsx("label",{htmlFor:"rbacUserSearchPerPage",className:"form-label",children:"User search default per-page"}),h.jsx("input",{id:"rbacUserSearchPerPage",type:"number",min:1,max:500,className:"form-control",value:S,onChange:T=>k(K(Number(T.target.value)||50,1,500))})]})})]})]}),h.jsxs("section",{className:"card",children:[h.jsx("div",{className:"card-header",children:h.jsx("strong",{children:"Audit"})}),h.jsxs("div",{className:"card-body",children:[h.jsx("label",{htmlFor:"retentionDays",className:"form-label",children:"Retention days"}),h.jsx("input",{id:"retentionDays",type:"number",min:1,max:730,className:"form-control",value:C,onChange:T=>A(Math.max(1,Math.min(730,Number(T.target.value)||1)))})]})]}),h.jsxs("section",{className:"card",children:[h.jsx("div",{className:"card-header",children:h.jsx("strong",{children:"Interface"})}),h.jsxs("div",{className:"card-body",children:[h.jsx("label",{htmlFor:"timeFormat",className:"form-label",children:"Timestamp display"}),h.jsx("select",{id:"timeFormat",className:"form-select",value:P,onChange:T=>U(eo(T.target.value)),children:Ag.map(T=>h.jsx("option",{value:T.value,children:T.label},T.value))}),h.jsx("div",{className:"form-text",children:Ag.find(T=>T.value===P)?.example})]})]}),h.jsxs("section",{className:"card",children:[h.jsx("div",{className:"card-header",children:h.jsx("strong",{children:"Evidence"})}),h.jsxs("div",{className:"card-body vstack gap-3",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"evidenceBlobPath",className:"form-label",children:"Blob storage path"}),h.jsx("input",{id:"evidenceBlobPath",type:"text",className:"form-control placeholder-hide-on-focus",value:O,onChange:T=>V(T.target.value),placeholder:z,autoComplete:"off",onFocus:T=>{T.currentTarget.dataset.placeholder=T.currentTarget.placeholder,T.currentTarget.placeholder=""},onBlur:T=>{const j=T.currentTarget.dataset.placeholder||z;T.currentTarget.placeholder=T.currentTarget.value.trim()===""?j:z}}),h.jsx("div",{className:"form-text",children:"Leave blank to keep storing evidence in the database."})]}),h.jsx("div",{className:"row g-2 align-items-end",children:h.jsxs("div",{className:"col-sm-4",children:[h.jsx("label",{htmlFor:"evidenceMaxMb",className:"form-label",children:"Maximum file size (MB)"}),h.jsx("input",{id:"evidenceMaxMb",type:"number",min:1,max:4096,className:"form-control",value:q,onChange:T=>{const j=Math.trunc(Number(T.target.value)||1);M(K(j,1,4096))}}),h.jsx("div",{className:"form-text",children:"Files larger than this limit will be rejected."})]})}),h.jsxs("div",{className:"d-flex flex-column flex-sm-row align-items-sm-center gap-2",children:[h.jsx("button",{type:"button",className:"btn btn-outline-danger",onClick:()=>void ae(),disabled:n||J,children:J?"Purging":"Purge evidence"}),h.jsx("span",{className:"text-muted small",children:"Irreversibly deletes all stored evidence records."})]})]})]}),h.jsxs("section",{className:"card",children:[h.jsx("div",{className:"card-header",children:h.jsx("strong",{children:"Metrics"})}),h.jsx("div",{className:"card-body vstack gap-3",children:h.jsxs("div",{className:"row g-2 align-items-end",children:[h.jsxs("div",{className:"col-sm-4",children:[h.jsx("label",{htmlFor:"cacheTtl",className:"form-label",children:"Cache TTL (seconds)"}),h.jsx("input",{id:"cacheTtl",type:"number",min:0,max:2592e3,className:"form-control",value:f,onChange:T=>m(Math.max(0,Math.min(2592e3,Number(T.target.value)||0)))})]}),h.jsxs("div",{className:"col-sm-4",children:[h.jsx("label",{htmlFor:"rbacDays",className:"form-label",children:"Authentication window (days)"}),h.jsx("input",{id:"rbacDays",type:"number",className:"form-control",value:g,onChange:T=>{const j=Math.trunc(Number(T.target.value));v(Number.isFinite(j)?j:0)}})]})]})})]}),h.jsxs("div",{className:"hstack gap-2",children:[h.jsx("button",{type:"submit",className:"btn btn-primary",disabled:n||J||c,children:n?"Saving":"Save"}),a&&h.jsx("span",{"aria-live":"polite",className:"text-muted",children:a})]})]})]})}function kC(t){return Object.entries(t).some(([e,n])=>e==="apply"||n==null?!1:typeof n!="object"?!0:Object.keys(n).length>0)}async function CC(t){try{return await t.json()}catch{return null}}function Ct(t){return t!==null&&typeof t=="object"}function Lg(t,e,n){return!Number.isFinite(t)||t<e?e:t>n?n:t}function yv(t){if(!Ct(t))return null;const e=Number(t.id??0),n=String(t.name??""),s=String(t.email??"");return!Number.isFinite(e)||e<=0?null:{id:e,name:n,email:s}}function lf(t){if(t instanceof Wt){const e=t.body,n=Ct(e)&&typeof e.code=="string"?e.code:"REQUEST_FAILED",s=Ct(e)&&typeof e.message=="string"?e.message:void 0;return{ok:!1,code:n,message:s}}return{ok:!1,code:"NETWORK_ERROR"}}async function cf(){try{const t=await qn("/api/rbac/roles"),e=Ct(t)?t:{},n=[];let s=!1;const a=c=>{Array.isArray(c)&&(s=!0,n.push(...c))};if(a(t),a(e.roles),a(e.data),!s)return{ok:!1,roles:[],note:"invalid_response"};const o=typeof e.note=="string"?e.note:void 0;return{ok:!0,roles:n,note:o}}catch{return{ok:!1,roles:[],note:"network_error"}}}async function jC(t){try{const e=await ri("/api/rbac/roles",{name:t}),n=Ct(e)?e:{},s=n.role,a=Ct(s)?s:void 0,o=a&&a.id!==void 0?String(a.id):void 0,c=a&&a.name!==void 0?String(a.name):void 0;if(n.ok===!0&&o&&c)return{kind:"created",status:201,roleId:o,roleName:c,raw:e};if((typeof n.note=="string"?n.note:void 0)==="stub-only"){const g=n.accepted;let v=t;if(Ct(g)){const x=g.name;typeof x=="string"&&(v=x)}return{kind:"stub",status:202,acceptedName:v,raw:e}}return{kind:"error",status:400,code:typeof n.code=="string"?n.code:void 0,raw:e}}catch(e){if(e instanceof Wt){const n=e.body,s=Ct(n)&&typeof n.code=="string"?n.code:void 0,a=Ct(n)&&typeof n.message=="string"?n.message:void 0;let o;if(Ct(n?.errors)){const c=n.errors;for(const u of Object.values(c))if(Array.isArray(u)){const f=u.find(m=>typeof m=="string"&&m.trim()!=="");if(f){o=f;break}}}return{kind:"error",status:e.status,code:s,message:o??a,raw:n}}return{kind:"error",status:0,code:"NETWORK_ERROR"}}}async function EC(t,e){try{const n=await Z0(`/api/rbac/roles/${encodeURIComponent(t)}`,{name:e}),s=Ct(n)?n:{};if(s.ok===!0&&Ct(s.role)){const u=s.role,f=typeof u.id=="string"?u.id:void 0,m=typeof u.name=="string"?u.name:void 0;if(f&&m)return{kind:"updated",status:200,roleId:f,roleName:m,raw:n}}if((typeof s.note=="string"?s.note:void 0)==="stub-only"){const u=Ct(s.accepted)?s.accepted:void 0;return{kind:"stub",status:202,acceptedName:u&&typeof u.name=="string"?u.name:void 0,raw:n}}const o=typeof s.code=="string"?s.code:void 0,c=typeof s.message=="string"?s.message:void 0;return{kind:"error",status:typeof(s.status??400)=="number"?s.status:400,code:o,message:c,raw:n}}catch(n){if(n instanceof Wt){const s=n.body,a=Ct(s)&&typeof s.code=="string"?s.code:void 0,o=Ct(s)&&typeof s.message=="string"?s.message:void 0;return{kind:"error",status:n.status,code:a,message:o,raw:s??n}}return{kind:"error",status:0,code:"NETWORK_ERROR"}}}async function NC(t){try{const e=await Jl(`/api/rbac/roles/${encodeURIComponent(t)}`),n=Ct(e)?e:{};if(n.ok===!0)return{kind:"deleted",status:200,raw:e};if((typeof n.note=="string"?n.note:void 0)==="stub-only")return{kind:"stub",status:202,raw:e};const a=typeof n.code=="string"?n.code:void 0,o=typeof n.message=="string"?n.message:void 0;return{kind:"error",status:typeof(n.status??400)=="number"?n.status:400,code:a,message:o,raw:e}}catch(e){if(e instanceof Wt){const n=e.body,s=Ct(n)&&typeof n.code=="string"?n.code:void 0,a=Ct(n)&&typeof n.message=="string"?n.message:void 0;return{kind:"error",status:e.status,code:s,message:a,raw:n??e}}return{kind:"error",status:0,code:"NETWORK_ERROR"}}}async function Rd(t){try{const e=await qn(`/api/rbac/users/${encodeURIComponent(String(t))}/roles`),n=Ct(e)?e:{};if(n.ok===!0)return e;const s=yv(n.user),a=Array.isArray(n.roles)?n.roles.filter(u=>typeof u=="string"):null;if(s&&a)return{ok:!0,user:s,roles:a};const o=typeof n.code=="string"?n.code:"REQUEST_FAILED",c=typeof n.message=="string"?n.message:void 0;return{ok:!1,code:o,message:c}}catch(e){return lf(e)}}async function RC(t,e){try{const n=await ri(`/api/rbac/users/${encodeURIComponent(String(t))}/roles/${encodeURIComponent(e)}`),s=Ct(n)?n:{};if(s.ok===!0)return n;const a=typeof s.code=="string"?s.code:"REQUEST_FAILED",o=typeof s.message=="string"?s.message:void 0;return{ok:!1,code:a,message:o}}catch(n){return lf(n)}}async function MC(t,e){try{const n=await Jl(`/api/rbac/users/${encodeURIComponent(String(t))}/roles/${encodeURIComponent(e)}`),s=Ct(n)?n:{};if(s.ok===!0)return n;const a=typeof s.code=="string"?s.code:"REQUEST_FAILED",o=typeof s.message=="string"?s.message:void 0;return{ok:!1,code:a,message:o}}catch(n){return lf(n)}}async function uf(t,e=1,n=50){try{const s=Lg(Number(e)||1,1,Number.MAX_SAFE_INTEGER),a=Lg(Number(n)||50,1,500),o=await qn("/api/rbac/users/search",{q:t,page:s,per_page:a}),c=Ct(o)?o:{},f=(Array.isArray(c.data)?c.data:[]).map(yv).filter(S=>!!S),m=Ct(c.meta)?c.meta:{},g={page:Number(m.page??s)||s,per_page:Number(m.per_page??a)||a,total:Number(m.total??f.length)||0,total_pages:Number(m.total_pages??1)||1};if(c.ok===!0||Array.isArray(c.data)&&Ct(c.meta))return{ok:!0,data:f,meta:g};const x=typeof c.code=="string"?c.code:"REQUEST_FAILED",w=typeof c.message=="string"?c.message:void 0;return{ok:!1,status:400,code:x,message:w,raw:o}}catch(s){if(s instanceof Wt){const a=s.body,o=Ct(a)&&typeof a.code=="string"?a.code:"REQUEST_FAILED",c=Ct(a)&&typeof a.message=="string"?a.message:void 0;return{ok:!1,status:s.status,code:o,message:c,raw:a}}return{ok:!1,status:0,code:"NETWORK_ERROR"}}}function TC(t){return t.normalize("NFKD").replace(/[\u0300-\u036f]/g,"")}function Rl(t){if(typeof t=="string"){const e=t.trim();return e===""?null:e}return typeof t=="number"&&Number.isFinite(t)?String(t):null}function df(t){const e=TC(t.trim());return e===""?"":e.replace(/[\s-]+/g,"_").replace(/[^a-zA-Z0-9_]+/g,"").replace(/_+/g,"_").replace(/^_+|_+$/g,"").toLowerCase()}function jr(t){const e=t.trim().replace(/[_-]+/g," ");return e===""?"":e.split(/\s+/).map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join(" ")}function ff(t){if(!Array.isArray(t))return[];const e=new Set,n=[];for(const s of t){let a=null,o=null;if(typeof s=="string"||typeof s=="number"){const m=Rl(s);if(!m)continue;a=m,o=m}else if(s&&typeof s=="object"){const m=Rl(s.id),g=Rl(s.name);a=m??g,o=g??m}if(a===null)continue;const c=df(a);if(c===""||e.has(c))continue;e.add(c);const u=o??a,f=jr(u)||jr(c)||u;n.push({id:c,name:f})}return n.sort((s,a)=>s.name.localeCompare(a.name,void 0,{sensitivity:"base"}))}function Gs(t){if(!Array.isArray(t))return[];const e=new Set,n=[];for(const s of t){const a=Rl(s);if(!a)continue;const o=df(a);o===""||e.has(o)||(e.add(o),n.push(o))}return n}function PC(){const[t,e]=b.useState(!0),[n,s]=b.useState([]),[a,o]=b.useState(null),[c,u]=b.useState(null),[f,m]=b.useState(""),[g,v]=b.useState(!1);async function x(C){e(!0),u(null);try{const A=await cf();if(C?.aborted)return;A.ok?(s(ff(A.roles??[])),o(A.note??null)):u("Failed to load roles.")}catch{C?.aborted||u("Failed to load roles.")}finally{C?.aborted||e(!1)}}b.useEffect(()=>{const C=new AbortController;return x(C.signal),()=>C.abort()},[]);const w=async C=>{C.preventDefault(),u(null);const A=f.trim();if(!(A.length<2)){v(!0);try{const P=await jC(A);if(P.kind==="created"){const U=df(P.roleName),O=jr(U||P.roleName)||P.roleName;u(`Created role ${O} (${P.roleId}).`),m(""),U&&s(V=>V.some(M=>M.id===U)?V:[...V,{id:U,name:O}].sort((M,z)=>M.name.localeCompare(z.name,void 0,{sensitivity:"base"}))),await x()}else if(P.kind==="stub"){const U=P.acceptedName??A,O=jr(U)??U;u(`Accepted: "${O}". Persistence not implemented.`),m("")}else P.kind==="error"&&(P.code==="FORBIDDEN"?u("Forbidden. Admin required."):P.code==="VALIDATION_FAILED"?u(P.message??"Validation error."):P.message?u(P.message):P.code==="NETWORK_ERROR"?u("Network error. Please retry."):u("Request failed."))}finally{v(!1)}}};async function S(C){const A=prompt("Rename role",C.name);if(A===null)return;const P=A.trim();if(P.length<2){u("Role name must be at least 2 characters.");return}v(!0),u(null);try{const U=await EC(C.id,P);if(U.kind==="updated"){const O=jr(U.roleName)??U.roleName;u(`Renamed to ${O}.`),await x()}else if(U.kind==="stub"){const O=U.acceptedName??P,V=jr(O)??O;u(`Accepted: "${V}". Persistence not implemented.`)}else u(U.message??U.code??"Rename failed.")}catch{u("Rename failed.")}finally{v(!1)}}async function k(C){const A=C.name;if(confirm(`Delete ${A}?`)){v(!0),u(null);try{const P=await NC(C.id);P.kind==="deleted"?(u(`${A} deleted.`),await x()):P.kind==="stub"?u("Accepted. Persistence not implemented."):u(P.message??P.code??"Delete failed.")}catch{u("Delete failed.")}finally{v(!1)}}}return t?h.jsxs("div",{className:"container py-5",role:"status","aria-live":"polite","aria-busy":"true",children:[h.jsx("div",{className:"spinner-border","aria-hidden":"true"}),h.jsx("span",{className:"visually-hidden",children:"Loading"})]}):h.jsxs("main",{id:"main",className:"container py-3",role:"main","aria-busy":g,children:[h.jsx("h1",{className:"mb-3",children:"Roles Management"}),h.jsxs("div",{"aria-live":"polite",role:"status",children:[a&&h.jsx("div",{className:"alert alert-secondary",role:"note",children:a}),c&&h.jsx("div",{className:"alert alert-info",role:"alert",children:c})]}),n.length===0?h.jsx("p",{className:"text-muted",children:"No roles defined."}):h.jsx("div",{className:"table-responsive",children:h.jsxs("table",{className:"table table-sm align-middle",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{scope:"col",children:"Role"}),h.jsx("th",{scope:"col",style:{width:"14rem"},children:"Actions"})]})}),h.jsx("tbody",{children:n.map(C=>h.jsxs("tr",{children:[h.jsx("td",{children:C.name}),h.jsxs("td",{className:"d-flex gap-2",children:[h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>void S(C),disabled:g,children:"Rename"}),h.jsx("button",{type:"button",className:"btn btn-outline-danger btn-sm",onClick:()=>void k(C),disabled:g,children:"Delete"})]})]},C.id))})]})}),h.jsxs("form",{className:"card p-3",onSubmit:w,noValidate:!0,"aria-busy":g,children:[h.jsxs("div",{className:"mb-2",children:[h.jsx("label",{htmlFor:"roleName",className:"form-label",children:"Create role"}),h.jsx("input",{id:"roleName",type:"text",name:"name",className:"form-control",value:f,minLength:2,maxLength:64,onChange:C=>m(C.target.value),placeholder:"e.g., Compliance Lead",required:!0,autoComplete:"off","aria-describedby":"roleHelp"}),h.jsx("div",{id:"roleHelp",className:"form-text",children:"264 characters. Letters, numbers, spaces, and dashes recommended."})]}),h.jsx("button",{type:"submit",className:"btn btn-primary",disabled:f.trim().length<2||g,children:g?"Submitting":"Submit"})]})]})}function DC(){const[t,e]=b.useState([]),[n,s]=b.useState(!1),[a,o]=b.useState(""),[c,u]=b.useState(!1),[f,m]=b.useState(null),[g,v]=b.useState([]),[x,w]=b.useState(""),[S,k]=b.useState(""),[C,A]=b.useState(1),[P,U]=b.useState(50),[O,V]=b.useState(!1),[q,M]=b.useState([]),[z,J]=b.useState(null),[E,R]=b.useState(null),W=b.useRef(null);b.useEffect(()=>{const T=new AbortController;return(async()=>{s(!0);try{const j=await cf();if(T.signal.aborted)return;j.ok?e(ff(j.roles??[])):(e([]),R("Failed to load roles."))}catch{T.signal.aborted||(e([]),R("Failed to load roles."))}finally{T.signal.aborted||s(!1)}})(),()=>T.abort()},[]);async function K(){R(null),m(null),v([]);const T=Number(a);if(!Number.isInteger(T)||T<=0){R("Enter a valid User ID.");return}u(!0);try{const j=await Rd(T);if(j.ok){const B=j;m(B.user);const I=Gs(B.roles??[]);v(I),w(""),R(null),queueMicrotask(()=>W.current?.focus())}else R(`Error: ${j.code}${j.message?" - "+j.message:""}`)}catch{R("Network error.")}finally{u(!1)}}const te=b.useMemo(()=>t.filter(T=>!g.includes(T.id)),[t,g]);b.useEffect(()=>{if(te.length===0){x!==""&&w("");return}te.some(T=>T.id===x)||w(te[0].id)},[te,x]);async function ne(){if(f&&x){R(null);try{const T=await RC(f.id,x);if(T.ok){const B=Gs(T.roles??[]);v(B);const I=jr(x);w(""),R(I?`${I} attached.`:"Role attached.")}else R(`Attach failed: ${T.code}${T.message?" - "+T.message:""}`)}catch{R("Attach failed.")}}}async function ce(T){if(f){R(null);try{const j=await MC(f.id,T);if(j.ok){const I=Gs(j.roles??[]);v(I);const re=jr(T);R(re?`${re} detached.`:"Role detached.")}else R(`Detach failed: ${j.code}${j.message?" - "+j.message:""}`)}catch{R("Detach failed.")}}}async function ve(T){V(!0),R(null);try{const B=await uf(S,typeof T=="number"?T:C,P);if(B.ok){const I=B;M(I.data),J(I.meta),A(I.meta.page)}else M([]),J(null),R(`Search failed: ${B.code}${B.message?" - "+B.message:""}`)}catch{M([]),J(null),R("Search failed.")}finally{V(!1)}}function ee(T){o(String(T.id)),M([]),J(null),ae(T.id)}async function ae(T){R(null),m(null),v([]),u(!0);try{const j=await Rd(T);if(j.ok){const B=j;m(B.user);const I=Gs(B.roles??[]);v(I),w(""),queueMicrotask(()=>W.current?.focus())}else R(`Error: ${j.code}${j.message?" - "+j.message:""}`)}catch{R("Network error.")}finally{u(!1)}}return h.jsxs("main",{className:"container py-3",children:[h.jsx("h1",{className:"mb-3",children:"User Roles"}),h.jsxs("section",{"aria-labelledby":"search",children:[h.jsx("h2",{id:"search",className:"h5",children:"Search users"}),h.jsxs("div",{className:"row g-2 align-items-end",children:[h.jsxs("div",{className:"col-12 col-md-5",children:[h.jsx("label",{htmlFor:"q",className:"form-label",children:"Query"}),h.jsx("input",{id:"q",type:"text",className:"form-control",value:S,onChange:T=>k(T.currentTarget.value),placeholder:"Search name, email, or role"})]}),h.jsxs("div",{className:"col-6 col-md-2",children:[h.jsx("label",{htmlFor:"per_page",className:"form-label",children:"Per page"}),h.jsx("input",{id:"per_page",type:"number",inputMode:"numeric",className:"form-control",value:P,min:1,max:500,onChange:T=>{const j=Number(T.currentTarget.value)||50;U(Math.max(1,Math.min(500,j)))}})]}),h.jsx("div",{className:"col-auto",children:h.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>{A(1),ve(1)},disabled:O,children:O?"Searching":"Search"})})]}),h.jsxs("div",{className:"mt-3",children:[q.length===0&&!O&&h.jsx("div",{className:"text-muted",children:"No matches"}),q.length>0&&h.jsx("div",{className:"table-responsive",children:h.jsxs("table",{className:"table table-sm align-middle",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{style:{width:"6rem"},children:"ID"}),h.jsx("th",{children:"Name"}),h.jsx("th",{children:"Email"}),h.jsx("th",{style:{width:"8rem"},children:"Action"})]})}),h.jsx("tbody",{children:q.map(T=>h.jsxs("tr",{children:[h.jsx("td",{children:T.id}),h.jsx("td",{children:T.name}),h.jsx("td",{children:T.email}),h.jsx("td",{children:h.jsx("button",{type:"button",className:"btn btn-outline-primary btn-sm",onClick:()=>ee(T),children:"Select"})})]},T.id))})]})}),z&&h.jsxs("nav",{"aria-label":"Pagination",className:"d-flex align-items-center gap-2",children:[h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>{z.page>1&&ve(z.page-1)},disabled:O||z.page<=1,children:"Prev"}),h.jsxs("span",{children:["Page ",z.page," of ",z.total_pages,"  ",z.total," total"]}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>{z.page<z.total_pages&&ve(z.page+1)},disabled:O||z.page>=z.total_pages,children:"Next"})]})]})]}),h.jsx("hr",{className:"my-4"}),h.jsxs("section",{"aria-labelledby":"lookup",children:[h.jsx("h2",{id:"lookup",className:"h5",children:"Lookup by ID"}),h.jsxs("div",{className:"row g-2 align-items-end",children:[h.jsxs("div",{className:"col-auto",children:[h.jsx("label",{htmlFor:"user_id",className:"form-label",children:"User ID"}),h.jsx("input",{id:"user_id",type:"number",inputMode:"numeric",className:"form-control",value:a,onChange:T=>o(T.currentTarget.value),"aria-describedby":"user_id_help"}),h.jsx("div",{id:"user_id_help",className:"form-text",children:"Enter a numeric user id."})]}),h.jsx("div",{className:"col-auto",children:h.jsx("button",{type:"button",className:"btn btn-primary",disabled:c,onClick:K,children:c?"Loading":"Load"})})]})]}),h.jsx("div",{"aria-live":"polite",role:"status",className:"mt-3",children:E&&h.jsx("div",{className:"alert alert-info py-2 mb-2",children:E})}),f&&h.jsxs("section",{className:"mt-4","aria-labelledby":"user_section",children:[h.jsx("h2",{id:"user_section",className:"h5",children:"User"}),h.jsx("div",{className:"card mb-3",children:h.jsxs("div",{className:"card-body",children:[h.jsxs("p",{className:"mb-1",children:[h.jsx("strong",{children:"ID:"})," ",f.id]}),h.jsxs("p",{className:"mb-1",children:[h.jsx("strong",{children:"Name:"})," ",f.name]}),h.jsxs("p",{className:"mb-3",children:[h.jsx("strong",{children:"Email:"})," ",f.email]}),h.jsxs("div",{className:"mb-3",children:[h.jsx("label",{htmlFor:"attach_role",className:"form-label",children:"Attach role"}),h.jsxs("div",{className:"d-flex gap-2",children:[h.jsx("select",{id:"attach_role",className:"form-select",value:x,onChange:T=>w(T.currentTarget.value),disabled:n||te.length===0,"aria-disabled":n||te.length===0,children:te.map(T=>h.jsx("option",{value:T.id,children:T.name},T.id))}),h.jsx("button",{ref:W,type:"button",className:"btn btn-success",onClick:ne,disabled:!x,children:"Add"})]}),n&&h.jsx("div",{className:"form-text",children:"Loading roles"})]}),h.jsxs("div",{className:"mb-4",children:[h.jsx("h3",{className:"h6",children:"Current roles"}),h.jsxs("ul",{className:"list-unstyled",role:"list",children:[g.length===0&&h.jsx("li",{className:"text-muted",children:"None"}),g.map(T=>{const j=jr(T)||T;return h.jsxs("li",{className:"d-flex align-items-center justify-content-between border rounded p-2 mb-2",children:[h.jsx("span",{children:j}),h.jsx("button",{type:"button",className:"btn btn-outline-danger btn-sm",onClick:()=>ce(T),"aria-label":`Remove ${j}`,children:"Remove"})]},T)})]})]})]})})]})]})}async function AC(t){function e(s){return Array.isArray(s)&&s.every(a=>typeof a=="string")}function n(s,a){if(s&&typeof s=="object"){const o=s[a];if(e(o))return o}return null}try{const s=await qn("/api/audit/categories",void 0,t);return((Array.isArray(s)?s:null)??n(s,"_categories")??n(s,"categories")??[]).filter(o=>typeof o=="string")}catch{return[]}}const LC={"auth.login":{label:"Login",category:"AUTH",variant:"success"},"auth.login.success":{label:"Login success",category:"AUTH",variant:"success"},"auth.login.failed":{label:"Login failed",category:"AUTH",variant:"warning"},"auth.login.redirected":{label:"Login redirected",category:"AUTH",variant:"neutral"},"auth.logout":{label:"Logout",category:"AUTH",variant:"neutral"},"auth.mfa.totp.enrolled":{label:"TOTP enrolled",category:"AUTH",variant:"success"},"auth.mfa.totp.verified":{label:"TOTP verified",category:"AUTH",variant:"success"},"auth.bruteforce.locked":{label:"Brute force locked",category:"AUTH",variant:"danger"},"rbac.deny.unauthenticated":{label:"Denied: unauthenticated",category:"RBAC",variant:"danger"},"rbac.deny.role_mismatch":{label:"Denied: missing required role",category:"RBAC",variant:"danger"},"rbac.deny.policy":{label:"Denied: policy",category:"RBAC",variant:"danger"},"rbac.deny.capability":{label:"Denied: capability",category:"RBAC",variant:"danger"},"rbac.deny.unknown_policy":{label:"Denied: unknown policy",category:"RBAC",variant:"danger"},"rbac.user_role.attached":{label:"Role attached",category:"RBAC",variant:"success"},"rbac.user_role.detached":{label:"Role detached",category:"RBAC",variant:"warning"},"rbac.user_role.replaced":{label:"Roles replaced",category:"RBAC",variant:"neutral"},"rbac.role.created":{label:"Role created",category:"RBAC",variant:"success"},"rbac.role.updated":{label:"Role updated",category:"RBAC",variant:"neutral"},"rbac.role.deleted":{label:"Role deleted",category:"RBAC",variant:"warning"},"rbac.user.created":{label:"User created",category:"RBAC",variant:"success"},"rbac.user.deleted":{label:"User deleted",category:"RBAC",variant:"warning"},"evidence.uploaded":{label:"Evidence uploaded",category:"EVIDENCE",variant:"success"},"evidence.downloaded":{label:"Evidence downloaded",category:"EVIDENCE",variant:"neutral"},"evidence.deleted":{label:"Evidence deleted",category:"EVIDENCE",variant:"warning"},"evidence.purged":{label:"Evidence purged",category:"EVIDENCE",variant:"warning"},"export.job.created":{label:"Export started",category:"EXPORTS",variant:"neutral"},"export.job.completed":{label:"Export completed",category:"EXPORTS",variant:"success"},"export.job.failed":{label:"Export failed",category:"EXPORTS",variant:"danger"},"settings.updated":{label:"Settings updated",category:"SETTINGS",variant:"neutral"},"setting.modified":{label:"Setting modified",category:"SETTINGS",variant:"neutral"},"audit.retention.purged":{label:"Audit purged",category:"AUDIT",variant:"warning"},"avatar.uploaded":{label:"Avatar uploaded",category:"AVATARS",variant:"success"},"setup.finished":{label:"Setup finished",category:"SETUP",variant:"success"}},OC={AUTH:"neutral",RBAC:"neutral",EVIDENCE:"neutral",EXPORTS:"neutral",SETTINGS:"neutral",AUDIT:"neutral",AVATARS:"neutral",SETUP:"neutral"};function FC(t,e){const n=LC[t];if(n)return n;if(t.startsWith("rbac.deny."))return{label:"Denied: RBAC",category:"RBAC",variant:"danger"};if(t.startsWith("rbac.user_role."))return{label:"User role changed",category:"RBAC",variant:"neutral"};if(t.startsWith("export."))return{label:"Export event",category:"EXPORTS",variant:"neutral"};if(t.startsWith("evidence."))return{label:"Evidence event",category:"EVIDENCE",variant:"neutral"};if(t.startsWith("auth."))return{label:"Auth event",category:"AUTH",variant:"neutral"};if(t.startsWith("settings."))return{label:"Settings event",category:"SETTINGS",variant:"neutral"};if(t.startsWith("setting."))return{label:"Setting event",category:"SETTINGS",variant:"neutral"};if(t.startsWith("audit."))return{label:"Audit event",category:"AUDIT",variant:"neutral"};if(t.startsWith("avatar."))return{label:"Avatar event",category:"AVATARS",variant:"neutral"};if(t.startsWith("setup."))return{label:"Setup event",category:"SETUP",variant:"neutral"};const s=(e||"OTHER").toUpperCase();return{label:IC(t),category:s,variant:OC[s]??"neutral"}}function IC(t){return t.replace(/\./g," ").replace(/_/g," ").replace(/\s+/g," ").trim().replace(/^\w/,e=>e.toUpperCase())}function vv({headers:t}){return h.jsx("tr",{children:t.map(({key:e,label:n,onToggle:s,isActive:a,filterContent:o,summaryContent:c,className:u})=>h.jsxs("th",{scope:"col",className:u,children:[s?h.jsx("button",{type:"button",className:`btn btn-link p-0 fw-semibold text-start ${a?"":"link-underline-opacity-0"}`,onClick:s,children:n}):h.jsx("span",{className:"fw-semibold",children:n}),c,o]},e))})}function xv(){const[t,e]=b.useState(null),n=b.useCallback(o=>{e(c=>c===o?null:o)},[]),s=b.useCallback(o=>t===o,[t]),a=b.useCallback(()=>{e(null)},[]);return{activeKey:t,toggle:n,isActive:s,reset:a}}const zC=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function Og(t){const e=t.getUTCFullYear(),n=String(t.getUTCMonth()+1).padStart(2,"0"),s=String(t.getUTCDate()).padStart(2,"0");return`${e}-${n}-${s}`}function Fg(t){if(!/^\d{4}-\d{2}-\d{2}$/.test(t))return null;const[e,n,s]=t.split("-"),a=Number(e),o=Number(n),c=Number(s);if(!Number.isFinite(a)||!Number.isFinite(o)||!Number.isFinite(c))return null;const u=new Date(Date.UTC(a,o-1,c));return u.getUTCFullYear()!==a||u.getUTCMonth()!==o-1||u.getUTCDate()!==c?null:u}function UC(t,e,n){return!t||!e?!1:n>t&&n<e}function bv({start:t,end:e,onChange:n,onComplete:s,onClear:a}){const o=Og(new Date),u=Fg(t||e||o)??new Date,[f,m]=b.useState(()=>u.getUTCFullYear()),[g,v]=b.useState(()=>u.getUTCMonth()),[x,w]=b.useState(t),[S,k]=b.useState(e),C=b.useMemo(()=>new Intl.DateTimeFormat(void 0,{month:"long",year:"numeric",timeZone:"UTC"}),[]),A=b.useMemo(()=>new Intl.DateTimeFormat(void 0,{weekday:"short",month:"short",day:"numeric",year:"numeric",timeZone:"UTC"}),[]);b.useEffect(()=>{w(t),k(e)},[t,e]);const P=b.useMemo(()=>C.format(new Date(Date.UTC(f,g,1))),[C,f,g]),U=b.useMemo(()=>{const J=new Date(Date.UTC(f,g,1)).getUTCDay(),E=new Date(Date.UTC(f,g+1,0)).getUTCDate(),R=[];for(let K=0;K<J;K+=1)R.push(null);for(let K=1;K<=E;K+=1){const te=Og(new Date(Date.UTC(f,g,K)));R.push({iso:te,day:K})}for(;R.length%7!==0;)R.push(null);const W=[];for(let K=0;K<R.length;K+=7)W.push(R.slice(K,K+7));return W},[f,g]),O=z=>{const J=new Date(Date.UTC(f,g+z,1));m(J.getUTCFullYear()),v(J.getUTCMonth())},V=(z,J)=>{const E=Fg(z);return E?A.format(E):`Day ${J}`},q=z=>{if(!x||x&&S){w(z),k(""),n(z,"");return}if(x&&!S){if(z<x){w(z),k(""),n(z,"");return}k(z),n(x,z),s(x,z)}},M=()=>{w(""),k(""),n("",""),a()};return h.jsxs("div",{className:"border rounded p-3 d-inline-block",children:[h.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2 gap-2",children:[h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>O(-1),children:""}),h.jsx("div",{className:"fw-semibold",children:P}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>O(1),children:""})]}),h.jsxs("table",{className:"table table-sm mb-2",style:{width:"100%",minWidth:"16rem"},children:[h.jsx("thead",{children:h.jsx("tr",{children:zC.map(z=>h.jsx("th",{className:"text-center small",children:z},z))})}),h.jsx("tbody",{children:U.map((z,J)=>h.jsx("tr",{children:z.map((E,R)=>{if(!E)return h.jsx("td",{},R);const W=x===E.iso,K=S===E.iso,te=UC(x,S,E.iso),ne=E.iso===o,ce={width:"2.4rem",height:"2.4rem",borderRadius:"999px",border:"none",backgroundColor:"transparent",color:"#212529"};return te&&(ce.backgroundColor="#e0edff"),W||K?(ce.backgroundColor="#0d6efd",ce.color="#ffffff",ce.fontWeight=600):ne&&(ce.border="1px solid #0d6efd"),h.jsx("td",{className:"text-center",children:h.jsx("button",{type:"button",className:"btn btn-sm p-0",style:ce,"aria-pressed":W||K,onClick:()=>q(E.iso),"aria-label":V(E.iso,E.day),children:E.day})},E.iso)})},J))})]}),h.jsxs("div",{className:"d-flex justify-content-between align-items-center gap-2",children:[h.jsxs("div",{className:"small text-muted",children:[x&&!S&&"Select an end date",x&&S&&`${x}  ${S}`,!x&&!S&&"Select start date"]}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:M,children:"Clear"})]})]})}const Ig={SYSTEM:"System",RBAC:"Access Control",AUTH:"Authentication",SETTINGS:"Settings",EXPORTS:"Exports",EVIDENCE:"Evidence",AVATARS:"Avatars",AUDIT:"Audit Logs",SETUP:"Setup",METRICS:"Metrics",OTHER:"Other"};function Md(t){const e=t.toUpperCase();if(Ig[e])return Ig[e];const n=e.toLowerCase().split(/[^a-z0-9]+/i).filter(Boolean);return n.length===0?e:n.map(s=>s.charAt(0).toUpperCase()+s.slice(1)).join(" ")}function BC(t){const e=new Set,n=[];for(const s of t){const a=String(s??"").trim().toUpperCase();!a||e.has(a)||(e.add(a),n.push({value:a,label:Md(a)}))}return n.sort((s,a)=>s.label.localeCompare(a.label))}function $C(t){const e=new URLSearchParams;return Object.entries(t).forEach(([n,s])=>{if(s==null)return;const a=typeof s=="boolean"?s?"true":"false":String(s);a.length>0&&e.set(n,a)}),e.toString()}function HC(t){return(t instanceof DOMException||typeof t=="object"&&t!==null)&&t.name==="AbortError"}function WC(t){if(t instanceof Error)return t.message;const e=t?.message;return typeof e=="string"?e:"Request failed"}function VC(t){if(!t||typeof t!="object")return{};const e=t,n=e.errors??e.error??e._errors;if(!n||typeof n!="object")return{};const s={};return Object.entries(n).forEach(([a,o])=>{Array.isArray(o)?s[a]=o.filter(c=>typeof c=="string"):typeof o=="string"&&(s[a]=[o])}),s}function KC(t){const e={display:"inline-block",fontSize:"0.85rem",padding:"0.15rem 0.5rem",borderRadius:"999px",border:"1px solid transparent",lineHeight:1.2,whiteSpace:"nowrap"};switch(t){case"success":return{...e,color:"#0f5132",backgroundColor:"#d1e7dd",borderColor:"#badbcc"};case"warning":return{...e,color:"#664d03",backgroundColor:"#fff3cd",borderColor:"#ffecb5"};case"danger":return{...e,color:"#842029",backgroundColor:"#f8d7da",borderColor:"#f5c2c7"};default:return{...e,color:"#0c5460",backgroundColor:"#e2f0f3",borderColor:"#bee5eb"}}}function YC(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}function XC(t){return typeof t.actor_label=="string"&&t.actor_label.trim()!==""?t.actor_label.trim():t.user_id!==null&&t.user_id!==void 0?String(t.user_id):t.actor_id!==null&&t.actor_id!==void 0?String(t.actor_id):"System"}function QC(t,e,n){const s=n||"System",a=YC(t.meta)?t.meta:{},o=typeof t.note=="string"&&t.note.trim()!==""?t.note.trim():"";if(o)return o;const c=typeof a.message=="string"&&a.message.trim()!==""?a.message.trim():"";if(c)return c;const u=v=>{if(v===null)return"null";if(v===void 0)return"n/a";if(typeof v=="string")return v;if(typeof v=="number"||typeof v=="boolean")return String(v);try{return JSON.stringify(v)}catch{return String(v)}},f=t.action??"";if(f==="setting.modified"){const w=[a.setting_label,a.setting_key,a.key,t.entity_id].find(C=>typeof C=="string"&&C.trim()!=="")??"Setting",S=u(a.old_value??a.old),k=u(a.new_value??a.new);return`${w} update by ${s}. Old: ${S} - New: ${k}`}if(f==="settings.update"){const v=Array.isArray(a.changes)?a.changes.length:0;return v>0?`Settings updated by ${s} (${v} ${v===1?"change":"changes"})`:`Settings updated by ${s}`}if(f==="evidence.upload"||f==="evidence.uploaded")return`${typeof a.filename=="string"&&a.filename?a.filename:typeof t.entity_id=="string"&&t.entity_id?t.entity_id:"Evidence"} uploaded to evidence by ${s}`;if(f==="evidence.downloaded")return`${typeof a.filename=="string"&&a.filename?a.filename:typeof t.entity_id=="string"&&t.entity_id?t.entity_id:"Evidence"} downloaded by ${s}`;if(f==="evidence.deleted")return`${typeof a.filename=="string"&&a.filename?a.filename:typeof t.entity_id=="string"&&t.entity_id?t.entity_id:"Evidence"} removed from evidence by ${s}`;if(f==="evidence.read"||f==="evidence.head")return`${typeof a.filename=="string"&&a.filename?a.filename:typeof t.entity_id=="string"&&t.entity_id?t.entity_id:"Evidence"} viewed by ${s}`;if(f==="auth.login")return`${s} logged in`;if(f.startsWith("auth."))return`${e.label} by ${s}`;if(f.startsWith("rbac.user_role.")){const v=typeof a.role=="string"?a.role:"";return v?`${e.label}: ${v} by ${s}`:`${e.label} by ${s}`}const m=typeof t.entity_type=="string"&&t.entity_type?t.entity_type:"",g=typeof t.entity_id=="string"&&t.entity_id?t.entity_id:"";if(m||g){const v=[m,g].filter(Boolean).join(" "),x=` by ${s}`;return v?`${e.label} on ${v}${x}`:`${e.label}${x}`}return`${e.label} by ${s}`}function GC(){const t=Yr(),[e,n]=b.useState(""),[s,a]=b.useState(""),[o,c]=b.useState(""),[u,f]=b.useState(""),[m,g]=b.useState(10),v=b.useRef(m),{activeKey:x,toggle:w,reset:S}=xv(),[k,C]=b.useState([]),[A,P]=b.useState(Qi),[U,O]=b.useState(""),[V,q]=b.useState(!1),[M,z]=b.useState([]),[J,E]=b.useState(null),[R,W]=b.useState(null),[K,te]=b.useState([]),[ne,ce]=b.useState("idle"),[ve,ee]=b.useState(""),[ae,T]=b.useState({}),j=b.useRef(null),B=o?`${o}T00:00:00Z`:void 0,I=u?`${u}T23:59:59Z`:void 0,re=b.useMemo(()=>$C({category:e||void 0,action:s||void 0,occurred_from:B,occurred_to:I,limit:m,actor_id:R?R.id:void 0}),[e,s,B,I,m,R]),ie=b.useMemo(()=>!o||!u?!0:o<=u,[o,u]);async function de(Q=!1,Me){try{ce("loading"),ee(""),T({}),j.current?.abort(),j.current=new AbortController;const ot={category:e||void 0,action:s||void 0,occurred_from:B,occurred_to:I,limit:v.current,actor_id:R?R.id:void 0,...Me},St=Q?{...ot,cursor:null}:ot,Pt=await qn("/api/audit",St,j.current.signal);let se=[],be=null;if(Array.isArray(Pt))se=Pt;else if(Pt&&typeof Pt=="object"){const ye=Pt;Array.isArray(ye.items)?se=ye.items:Array.isArray(ye.data)&&(se=ye.data),typeof ye.time_format=="string"&&(be=eo(ye.time_format))}P(ye=>be??ye),te(se),ce("ok")}catch(ot){if(HC(ot))return;if(ot&&typeof ot=="object"&&ot.status===422){const St=ot.body,Pt=VC(St);T(Pt),ce("error"),ee("Validation error");return}ce("error"),ee(WC(ot))}}b.useEffect(()=>{(async()=>{const Q=new AbortController;try{const Me=await AC(Q.signal);C(BC(Me))}finally{}return await de(),()=>Q.abort()})()},[]),b.useEffect(()=>{const Q=new URLSearchParams(t.search),Me=Q.get("category")??"",ot=Q.get("action")??"",St=Q.get("occurred_from")??"",Pt=Q.get("occurred_to")??"",se=St?St.slice(0,10):"",be=Pt?Pt.slice(0,10):"";(Me!==e||ot!==s||se!==o||be!==u)&&(n(Me),a(ot),c(se),f(be),de(!0,{category:Me||void 0,action:ot||void 0,occurred_from:St||void 0,occurred_to:Pt||void 0}))},[t.search]);const Ne=b.useMemo(()=>`/api/audit/export.csv?${re}`,[re]);async function he(Q){q(!0);try{const ot=await uf(U,typeof Q=="number"?Q:1,10);if(ot.ok){const St=ot;z(St.data),E({page:St.meta.page,total_pages:St.meta.total_pages})}else z([]),E(null)}finally{q(!1)}}function Ue(Q){W(Q),z([]),E(null),O(""),S()}function Be(){W(null),z([]),E(null),O("")}const ft=()=>{if(!ie){Ft();return}R?de(!0,{actor_id:R.id,limit:v.current}):he()},Ze=k.length>0,nt=()=>{T(Q=>{if(!Q.occurred_from&&!Q.occurred_to)return Q;const Me={...Q};return delete Me.occurred_from,delete Me.occurred_to,Me})},Ft=()=>{T(Q=>({...Q,occurred_from:["From must be on or before To"],occurred_to:["To must be on or after From"]}))},bn=Q=>{if(!ie){Ft();return}de(!0,{category:Q||void 0})},tn=Q=>Math.min(100,Math.max(1,Q)),dn=Q=>{const Me=tn(Q);if(v.current=Me,g(Me),!ie){Ft();return}de(!0,{limit:Me})};b.useEffect(()=>{v.current=m},[m]);const Vt=Q=>{!(x!==Q)&&Q==="user"&&(z([]),E(null),O("")),w(Q)},xt=()=>{n(""),a(""),c(""),f(""),v.current=10,g(10),W(null),z([]),E(null),O(""),S(),T({}),ee(""),de(!0,{category:void 0,action:void 0,occurred_from:void 0,occurred_to:void 0,actor_id:void 0,limit:10})},Kt=(Q,Me)=>{c(Q),f(Me),Q&&Me&&Q>Me?Ft():nt()},at=(Q,Me)=>{if(Q&&Me&&Q>Me){Ft();return}nt(),de(!0,{occurred_from:Q?`${Q}T00:00:00Z`:void 0,occurred_to:Me?`${Me}T23:59:59Z`:void 0})},pe=()=>{c(""),f(""),nt(),de(!0,{occurred_from:void 0,occurred_to:void 0})},De=o||u?h.jsxs("div",{className:"small text-muted mt-1",children:[o||"Any","  ",u||"Any"]}):null,He=x==="timestamp"?h.jsxs("div",{className:"mt-2 d-flex flex-column gap-2",children:[h.jsx(bv,{start:o,end:u,onChange:Kt,onComplete:at,onClear:pe}),h.jsxs("div",{className:"visually-hidden",children:[h.jsx("label",{htmlFor:"audit-date-from",className:"form-label",children:"From"}),h.jsx("input",{id:"audit-date-from",type:"date",className:"form-control form-control-sm",value:o,onChange:Q=>{const Me=Q.target.value;Kt(Me,u),at(Me,u)},onKeyDown:Q=>{Q.key==="Escape"&&(Q.preventDefault(),S())},"aria-invalid":!ie||!!ae.occurred_from?.length}),h.jsx("label",{htmlFor:"audit-date-to",className:"form-label",children:"To"}),h.jsx("input",{id:"audit-date-to",type:"date",className:"form-control form-control-sm",value:u,onChange:Q=>{const Me=Q.target.value;Kt(o,Me),at(o,Me)},onKeyDown:Q=>{Q.key==="Escape"&&(Q.preventDefault(),S())},"aria-invalid":!ie||!!ae.occurred_to?.length})]}),ie?null:h.jsx("p",{role:"alert",className:"text-danger small mb-0 mt-2",children:"From must be  To"}),ae.occurred_from?.length?h.jsx("ul",{role:"alert",className:"text-danger small mb-0 ps-3 mt-2",children:ae.occurred_from.map((Q,Me)=>h.jsx("li",{children:Q},Me))}):null,ae.occurred_to?.length?h.jsx("ul",{role:"alert",className:"text-danger small mb-0 ps-3 mt-2",children:ae.occurred_to.map((Q,Me)=>h.jsx("li",{children:Q},Me))}):null]}):null,wt=R?h.jsxs("div",{className:"small text-muted mt-1",children:[R.name||R.email||`id ${R.id}`," (id ",R.id,")"]}):null,_t=x==="user"?h.jsx("div",{className:"mt-2",children:R?h.jsxs("div",{className:"d-flex flex-column gap-2",children:[h.jsxs("div",{className:"small",children:[h.jsx("span",{className:"fw-semibold",children:R.name||R.email||`id ${R.id}`}),h.jsxs("span",{className:"text-muted ms-2",children:["id ",R.id]})]}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:Be,children:"Clear actor"})]}):h.jsxs(h.Fragment,{children:[h.jsx("label",{htmlFor:"audit-actor",className:"form-label visually-hidden",children:"Actor"}),h.jsx("input",{id:"audit-actor",className:"form-control form-control-sm",value:U,onChange:Q=>O(Q.target.value),onKeyDown:Q=>{Q.key==="Enter"?(Q.preventDefault(),ft()):Q.key==="Escape"&&(Q.preventDefault(),S())},placeholder:"Search name or email"}),h.jsxs("div",{className:"d-flex flex-wrap gap-2 mt-2",children:[h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>void he(),"aria-busy":V,disabled:V||U.trim()==="",children:V?"Searching":"Find actor"}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>{z([]),E(null),O("")},disabled:V&&M.length===0,children:"Clear results"})]}),M.length>0&&h.jsxs("div",{className:"border rounded p-2 mt-2",style:{maxHeight:"220px",overflowY:"auto"},children:[h.jsx("ul",{className:"list-unstyled mb-0",children:M.map(Q=>h.jsxs("li",{className:"d-flex justify-content-between gap-2 mb-2",children:[h.jsxs("div",{children:[h.jsx("div",{className:"small fw-semibold",children:Q.name?.trim()||Q.email||`id ${Q.id}`}),Q.email&&h.jsx("div",{className:"small text-muted",children:Q.email})]}),h.jsx("button",{type:"button",className:"btn btn-outline-primary btn-sm",onClick:()=>Ue(Q),children:"Select"})]},Q.id))}),J&&h.jsxs("div",{className:"d-flex align-items-center justify-content-between gap-2 mt-2",children:[h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>J.page>1&&void he(J.page-1),disabled:V||J.page<=1,children:"Prev"}),h.jsxs("span",{className:"small text-muted",children:["Page ",J.page," of ",J.total_pages]}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>J.page<J.total_pages&&void he(J.page+1),disabled:V||J.page>=J.total_pages,children:"Next"})]})]})]})}):null,nn=e?Md(e):"",ut=e?h.jsx("div",{className:"small text-muted mt-1",children:nn}):null,dt=x==="category"?h.jsxs("div",{className:"mt-2",children:[h.jsx("label",{htmlFor:"audit-category",className:"form-label visually-hidden",children:"Category"}),Ze?h.jsxs("select",{id:"audit-category",className:"form-select form-select-sm",value:e,onChange:Q=>{const Me=Q.target.value;n(Me),bn(Me)},"aria-invalid":!!ae.category?.length,children:[h.jsx("option",{value:"",children:"(any)"}),k.map(Q=>h.jsx("option",{value:Q.value,children:Q.label},Q.value))]}):h.jsx("input",{id:"audit-category",className:"form-control form-control-sm",value:e,onChange:Q=>n(Q.target.value),onBlur:Q=>bn(Q.target.value),onKeyDown:Q=>{Q.key==="Enter"?(Q.preventDefault(),bn(Q.currentTarget.value)):Q.key==="Escape"&&(Q.preventDefault(),S())},placeholder:"e.g. RBAC","aria-invalid":!!ae.category?.length}),ae.category?.length?h.jsx("ul",{role:"alert",className:"text-danger small mb-0 ps-3 mt-2",children:ae.category.map((Q,Me)=>h.jsx("li",{children:Q},Me))}):null]}):null,Yt=s?h.jsx("div",{className:"small text-muted mt-1",children:s}):null,Tt=x==="action"?h.jsxs("div",{className:"mt-2",children:[h.jsx("label",{htmlFor:"audit-action",className:"form-label visually-hidden",children:"Action"}),h.jsx("input",{id:"audit-action",className:"form-control form-control-sm",value:s,onChange:Q=>a(Q.target.value),onKeyDown:Q=>{Q.key==="Enter"?(Q.preventDefault(),ie?de(!0):Ft()):Q.key==="Escape"&&(Q.preventDefault(),S())},placeholder:"e.g. Role attached","aria-invalid":!!ae.action?.length}),h.jsx("div",{className:"form-text",children:'Matches action labels, e.g. "Role attached".'}),ae.action?.length?h.jsx("ul",{role:"alert",className:"text-danger small mb-0 ps-3 mt-2",children:ae.action.map((Q,Me)=>h.jsx("li",{children:Q},Me))}):null]}):null,Bn=[{key:"timestamp",label:"Timestamp",onToggle:()=>Vt("timestamp"),isActive:x==="timestamp",summaryContent:De,filterContent:He},{key:"user",label:"User",onToggle:()=>Vt("user"),isActive:x==="user",summaryContent:wt,filterContent:_t},{key:"ip",label:"IP"},{key:"category",label:"Category",onToggle:()=>Vt("category"),isActive:x==="category",summaryContent:ut,filterContent:dt},{key:"action",label:"Action",onToggle:()=>Vt("action"),isActive:x==="action",summaryContent:Yt,filterContent:Tt},{key:"message",label:"Message"}];return h.jsxs("main",{className:"container py-3","aria-busy":ne==="loading",children:[h.jsx("h1",{children:"Audit Logs"}),ne==="loading"&&h.jsx("p",{children:"Loading."}),ne==="error"&&h.jsxs("p",{role:"alert",children:["Error: ",ve]}),h.jsxs("section",{className:"d-flex flex-wrap align-items-center gap-3 mb-3",children:[h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:xt,disabled:ne==="loading",children:"Reset filters"}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>{if(!ie){Ft();return}de(!0,{limit:v.current})},disabled:ne==="loading",children:ne==="loading"?"Refreshing":"Refresh"}),h.jsxs("div",{className:"d-flex flex-column",children:[h.jsxs("div",{className:"d-flex align-items-center gap-2",children:[h.jsx("label",{htmlFor:"audit-limit",className:"form-label mb-0",children:"Limit"}),h.jsx("input",{id:"audit-limit",type:"number",min:1,max:100,step:1,className:"form-control form-control-sm",style:{width:"5rem"},value:m,onChange:Q=>{const Me=Q.target.value;if(Me===""){v.current=10,g(10);return}const ot=Number(Me);if(Number.isNaN(ot)||ot<1){v.current=1,g(1);return}dn(ot)},onKeyDown:Q=>{Q.key==="Enter"?(Q.preventDefault(),dn(v.current||10)):Q.key==="Escape"&&(Q.preventDefault(),v.current=m)},"aria-invalid":!!ae.limit?.length})]}),ae.limit?.length?h.jsx("ul",{role:"alert",className:"text-danger small mb-0 ps-3 mt-1",children:ae.limit.map((Q,Me)=>h.jsx("li",{children:Q},Me))}):null]})]}),h.jsx("div",{className:"table-responsive",children:h.jsxs("table",{"aria-label":"Audit events",className:"table",children:[h.jsx("thead",{children:h.jsx(vv,{headers:Bn})}),h.jsx("tbody",{children:K.length===0&&ne==="ok"?h.jsx("tr",{children:h.jsx("td",{colSpan:6,children:"No results"})}):K.map((Q,Me)=>{const ot=Q.id||Q.ulid||String(Me),St=typeof Q.occurred_at=="string"&&Q.occurred_at||typeof Q.created_at=="string"&&Q.created_at||typeof Q.ts=="string"&&Q.ts||"",Pt=of(St,A),se=XC(Q),be=String(Q.category??""),ye=FC(String(Q.action??""),be),Ye=Md(ye.category||be),yt=QC(Q,ye,se);return h.jsxs("tr",{children:[h.jsx("td",{title:St,children:Pt}),h.jsx("td",{children:se}),h.jsx("td",{children:String(Q.ip??"")}),h.jsx("td",{children:Ye}),h.jsx("td",{children:h.jsx("span",{style:KC(ye.variant),"aria-label":`${ye.label} (${Q.action??""})`,title:String(Q.action??""),children:ye.label})}),h.jsx("td",{children:yt})]},ot)})})]})}),h.jsx("div",{style:{marginTop:"0.75rem"},children:h.jsx("a",{href:Ne,className:"btn btn-outline-secondary btn-sm","aria-disabled":ne==="loading",onClick:Q=>{ne==="loading"&&Q.preventDefault()},children:"Download CSV"})})]})}function Ya(t){return t!==null&&typeof t=="object"}function qC(t){if(!t)return null;const e=/filename\*=(?:UTF-8'')?([^;]+)/i.exec(t);if(e?.[1])try{return decodeURIComponent(e[1].replace(/(^"|"$)/g,""))}catch{return e[1].replace(/(^"|"$)/g,"")}const n=/filename="([^"]+)"/i.exec(t);if(n?.[1])return n[1];const s=/filename=([^;]+)/i.exec(t);return s?.[1]?s[1].trim().replace(/(^"|"$)/g,""):null}function Td(t,e){const n=encodeURIComponent(t),s=py(e?{sha256:e}:void 0);return`${Cs}/api/evidence/${n}${s}`}async function JC(t,e){const n=Td(t,e),s=await fetch(n,{method:"GET",credentials:"same-origin",headers:jt({Accept:"application/octet-stream"})}),a=s.headers.get("content-type")??"";if(!s.ok){let f=null;const m=a.toLowerCase();try{m.includes("application/json")||m.includes("+json")?f=await s.json():f=await s.text()}catch{f=null}throw new Wt(s.status,f)}const o=await s.blob(),c=qC(s.headers.get("content-disposition"))??t;return{blob:o,filename:c,mime:a!==""?a:"application/octet-stream"}}async function ZC(t){if(typeof window>"u"||typeof document>"u")return;const e=t.filename?.trim()!==""?t.filename.trim():t.id,{blob:n,filename:s}=await JC(t.id,t.sha256);if(typeof URL.createObjectURL=="function"){const a=URL.createObjectURL(n),o=document.createElement("a");o.href=a,o.download=s?.trim()!==""?s:e,o.rel="noopener noreferrer",o.style.display="none",document.body.appendChild(o),o.click(),document.body.removeChild(o),window.setTimeout(()=>{typeof URL.revokeObjectURL=="function"&&URL.revokeObjectURL(a)},1e3)}else typeof window.open=="function"?window.open(Td(t.id,t.sha256),"_blank","noopener"):window.location.assign(Td(t.id,t.sha256))}async function ej(t={}){try{const e=await qn("/api/evidence",t),n=Ya(e)?e:{};if(n.ok===!0&&Array.isArray(n.data)){const o=n.data.map(f=>Ya(f)?f:null).filter(f=>!!f).map(f=>({id:String(f.id??""),owner_id:Number(f.owner_id??0),filename:String(f.filename??""),mime:String(f.mime??""),mime_label:typeof f.mime_label=="string"&&f.mime_label.trim()!==""?f.mime_label:String(f.mime??""),size:Number(f.size??0),sha256:String(f.sha256??""),version:Number(f.version??0),created_at:String(f.created_at??"")})).filter(f=>f.id&&Number.isFinite(f.owner_id)),c=typeof n.next_cursor=="string"?n.next_cursor:(n.next_cursor===null,null),u=typeof n.time_format=="string"?eo(n.time_format):void 0;return{ok:!0,data:o,next_cursor:c,filters:Ya(n.filters)?n.filters:void 0,time_format:u}}const s=typeof n.code=="string"?n.code:"REQUEST_FAILED",a=typeof n.message=="string"?n.message:void 0;return{ok:!1,status:400,code:s,message:a,raw:e}}catch{return{ok:!1,status:0,code:"NETWORK_ERROR"}}}async function tj(t,e){const n=new FormData;n.append("file",t);const s=await gy("/api/evidence",n,e);if(!Ya(s)||s.ok!==!0)throw new Error("Invalid response from upload endpoint");const a=typeof s.id=="string"?s.id:"";if(!a)throw new Error("Missing id in upload response");const o=s.version,c=s.size??s.size_bytes,u=typeof s.sha256=="string"?s.sha256:"",f=typeof s.mime=="string"?s.mime:"",m=typeof s.name=="string"?s.name:"",g=Number(o??0),v=Number(c??0);return{ok:!0,id:a,version:Number.isNaN(g)?0:g,sha256:u,size:Number.isNaN(v)?0:v,mime:f,name:m}}async function nj(t,e){const n=await Jl(`/api/evidence/${encodeURIComponent(t)}`,e);if(!Ya(n)||n.ok!==!0)throw new Error("Invalid response from delete endpoint");const s=typeof n.id=="string"&&n.id?n.id:t,a=n.deleted;return{ok:!0,id:s,deleted:a===void 0?!0:!!a}}function rj(t){return eC(t)}function sj(t,e=Qi){return of(t,e)}const ni=new Map,_l=new Map;function hf(t){return Number.isInteger(t)&&t>0}async function ij(t){try{const e=await Rd(t);return e.ok?(ni.set(t,e.user),e.user):(ni.set(t,null),null)}catch{}return null}async function aj(t){if(!hf(t))return null;if(ni.has(t))return ni.get(t)??null;if(_l.has(t))return _l.get(t);const e=ij(t).finally(()=>{_l.delete(t)});return _l.set(t,e),e}function zg(t){for(const e of t)hf(e.id)&&ni.set(e.id,e)}function Ug(t){return ni.get(t)}async function oj(t){const e=new Set;for(const s of t){const a=Number(s);hf(a)&&e.add(a)}await Promise.all(Array.from(e).map(s=>aj(s)));const n=new Map;for(const s of e)n.set(s,ni.get(s)??null);return n}function lj(t){const e=new Set;for(const n of t){const s=Number(n.owner_id);Number.isFinite(s)&&s>0&&e.add(s)}return Array.from(e).sort((n,s)=>n-s)}function cj(t,e){let n=!1;const s=new Map(t);for(const[a,o]of e.entries())s.get(a)!==o&&(s.set(a,o),n=!0);return n?s:t}function uj(t,e){if(!e)return;const n=[];return e.name?.trim()&&n.push(e.name.trim()),e.email?.trim()&&n.push(`<${e.email.trim()}>`),n.push(`id ${t}`),n.join(" ")}function dj(t,e){if(!e)return String(t);const n=e.name?.trim();if(n)return n;const s=e.email?.trim();return s||String(t)}function fj({headers:t,items:e,fetchState:n,timeFormat:s,onDownload:a,downloadingId:o,onDelete:c,deletingId:u}){const f=b.useMemo(()=>lj(e),[e]),m=b.useMemo(()=>f.join(","),[f]),[g,v]=b.useState(()=>{const x=new Map;for(const w of f){const S=Ug(w);S!==void 0&&x.set(w,S)}return x});return b.useEffect(()=>{v(x=>{let w=!1;const S=new Map(x);for(const k of f)if(!S.has(k)){const C=Ug(k);C!==void 0&&(S.set(k,C),w=!0)}return w?S:x})},[f]),b.useEffect(()=>{if(f.length===0){v(new Map);return}let x=!1;return oj(f).then(w=>{x||v(S=>cj(S,w))}),()=>{x=!0}},[m,f]),e.length===0&&n==="ok"?h.jsx("div",{className:"alert alert-light border",role:"status",children:"No evidence to display."}):h.jsx("div",{className:"table-responsive",children:h.jsxs("table",{className:"table","aria-label":"Evidence results",children:[h.jsx("thead",{children:h.jsx(vv,{headers:t})}),h.jsx("tbody",{children:e.map(x=>{const w=g.get(x.owner_id),S=sj(x.created_at,s),k=rj(x.size),C=x.mime_label?.trim()?x.mime_label:x.mime,A=x.sha256?`${x.sha256.slice(0,12)}`:"";return h.jsxs("tr",{children:[h.jsx("td",{title:x.created_at,children:S}),h.jsx("td",{className:"text-break",style:{maxWidth:"12rem"},title:uj(x.owner_id,w),children:w===void 0?h.jsx("span",{className:"text-muted",children:"Loading..."}):dj(x.owner_id,w)}),h.jsx("td",{className:"text-break",style:{maxWidth:"18rem"},children:x.filename}),h.jsx("td",{title:Number.isFinite(x.size)?`${x.size.toLocaleString()} bytes`:void 0,children:k}),h.jsx("td",{className:"text-break",style:{maxWidth:"14rem"},title:x.mime,children:C}),h.jsx("td",{style:{fontFamily:"monospace"},children:A}),h.jsx("td",{children:x.version}),h.jsx("td",{children:h.jsx("button",{type:"button",className:"btn btn-outline-primary btn-sm",onClick:()=>a(x),disabled:o===x.id,"aria-label":`Download ${x.filename||x.id}`,children:o===x.id?"Downloading":"Download"})}),h.jsx("td",{children:h.jsx("button",{type:"button",className:"btn btn-outline-danger btn-sm",onClick:()=>c(x),disabled:u===x.id,"aria-label":`Delete ${x.filename||x.id}`,children:u===x.id?"Deleting":"Delete"})})]},x.id)})})]})})}function Bg(){return{display:"inline-block",fontSize:"0.85rem",padding:"0.15rem 0.5rem",borderRadius:"999px",border:"1px solid #bee5eb",lineHeight:1.2,whiteSpace:"nowrap",color:"#0c5460",backgroundColor:"#e2f0f3"}}function $g(){const[t,e]=b.useState(""),[n,s]=b.useState(null),[a,o]=b.useState(""),[c,u]=b.useState(""),[f,m]=b.useState(""),[g,v]=b.useState(""),[x,w]=b.useState(null),[S,k]=b.useState(""),[C,A]=b.useState("desc"),[P,U]=b.useState(20),{activeKey:O,toggle:V,reset:q}=xv(),[M,z]=b.useState(""),[J,E]=b.useState(""),[R,W]=b.useState(""),[K,te]=b.useState(""),[ne,ce]=b.useState(""),[ve,ee]=b.useState("20"),[ae,T]=b.useState(null),[j,B]=b.useState([]),[I,re]=b.useState(null),[ie,de]=b.useState(1),[Ne,he]=b.useState(!1),Ue=10,[Be,ft]=b.useState("idle"),[Ze,nt]=b.useState(""),[Ft,bn]=b.useState(Qi),[tn,dn]=b.useState([]),[Vt,xt]=b.useState(null),[Kt,at]=b.useState([]),[pe,De]=b.useState(null),[He,wt]=b.useState(null),[_t,nn]=b.useState(!1),[ut,dt]=b.useState(null),[Yt,Tt]=b.useState(null),[Bn,Q]=b.useState(null),[Me,ot]=b.useState(null),[St,Pt]=b.useState(null),se=Yr(),be=b.useRef(null),ye=b.useRef(null),Ye=b.useRef(null),yt=b.useRef(null),fn=b.useRef(null);b.useEffect(()=>{O==="owner"?ye.current?.focus():O==="filename"?(Ye.current?.focus(),Ye.current?.select()):O==="mime"?(yt.current?.focus(),yt.current?.select()):O==="sha"&&(fn.current?.focus(),fn.current?.select())},[O]),b.useEffect(()=>{W(f)},[f]),b.useEffect(()=>{te(g)},[g]),b.useEffect(()=>{z(a)},[a]),b.useEffect(()=>{E(c)},[c]),b.useEffect(()=>{ee(String(P))},[P]),b.useEffect(()=>{ce(S)},[S]);const fr=a?`${a}T00:00:00Z`:void 0,js=c?`${c}T23:59:59Z`:void 0,Xr=b.useMemo(()=>{const Z=S.trim().toLowerCase().replace(/[^a-f0-9]/g,"");let _e,Xe;Z.length>=64?_e=Z.slice(0,64):Z!==""&&(Xe=Z);const We=x==="raw"&&g||void 0,Ie=x==="label"&&g||void 0;return{owner_id:n?n.id:void 0,filename:f||void 0,mime:We,mime_label:Ie,created_from:fr,created_to:js,order:C,limit:P,cursor:Vt,sha256:_e||void 0,sha256_prefix:Xe||void 0}},[n,f,g,x,fr,js,C,P,Vt,S]),Er=b.useMemo(()=>!a||!c?!0:a<=c,[a,c]);async function Pn(Z,_e){const Xe=t.trim();if(!Xe){B([]),re(null),de(1);return}he(!0);try{const Ie=await uf(Xe,typeof Z=="number"?Z:ie,Ue);if(Ie.ok){const Qe=Ie;B(Qe.data),re(Qe.meta),de(Qe.meta.page),zg(Qe.data),_e?.autoApply&&Qe.data.length===1&&Es(Qe.data[0])}else B([]),re(null)}finally{he(!1)}}function Es(Z){zg([Z]),s(Z),B([]),re(null),e(""),de(1),xt(null),at([]),q(),D(!0,{owner_id:Z.id})}function hr(Z=!0){s(null),B([]),re(null),e(""),de(1),Z&&(xt(null),at([]),q(),D(!0,{owner_id:void 0}))}async function D(Z=!1,_e){if(!Er){T("From must be on or before To"),nt("From must be on or before To"),ft("error");return}T(null),ft("loading"),nt(""),wt(null);try{const Xe=Z?{...Xr,..._e,cursor:null}:{...Xr,..._e},We=await ej(Xe);if(We.ok){const Ie=We;bn(Qe=>Ie.time_format?eo(Ie.time_format):Qe),dn(Ie.data),Z&&at([]),xt(Ie.next_cursor),ft("ok")}else dn([]),ft("error"),nt(`${We.code}${We.message?" - "+We.message:""}`)}catch{dn([]),ft("error"),nt("Request failed")}}async function $(Z){wt(null),De(Z.id);try{await ZC(Z)}catch(_e){let Xe="Download failed. Please try again.";if(_e instanceof Wt){const We=_e.body??null,Ie=We?.message,Qe=We?.code,Dt=typeof Ie=="string"?Ie:null,yn=typeof Qe=="string"?Qe:null;Dt?Xe=`Download failed: ${Dt}`:yn?Xe=`Download failed: ${yn}`:Xe=`Download failed (HTTP ${_e.status}).`}wt(Xe)}finally{De(null)}}function G(Z){if(Z&&typeof Z=="object"){const _e=Z.message;if(typeof _e=="string"&&_e.trim()!=="")return _e.trim()}return typeof Z=="string"&&Z.trim()!==""?Z.trim():null}function oe(Z){if(!Z||typeof Z!="object")return null;for(const _e of Object.values(Z))if(Array.isArray(_e)){const Xe=_e.find(We=>typeof We=="string"&&We.trim()!=="");if(typeof Xe=="string")return Xe.trim()}else if(typeof _e=="string"&&_e.trim()!=="")return _e.trim();return null}function ge(Z){if(!Z)return null;const _e=oe(Z.errors??null);if(_e)return`Upload validation failed: ${_e}`;const Xe=Z.message;return typeof Xe=="string"&&Xe.trim()!==""?Xe.trim():null}async function Te(Z){if(_t)return;const _e=Z.currentTarget,Xe=_e.files;if(!Xe||Xe.length===0)return;const We=Array.from(Xe);nn(!0),dt(null),Tt(null);const Ie=[];try{for(const Qe of We){const Dt=await tj(Qe),yn=Dt.name?.trim()!==""?Dt.name.trim():Dt.id;Ie.push(yn)}Ie.length===1?Tt(`${Ie[0]} uploaded successfully.`):Ie.length>1&&Tt(`${Ie.length} files uploaded successfully.`),_e.value="",await D(!0)}catch(Qe){_e.value="",Ie.length===1?Tt(`${Ie[0]} uploaded successfully.`):Ie.length>1&&Tt(`${Ie.length} files uploaded successfully.`);let Dt="Upload failed. Please try again.";if(Qe instanceof Wt){const yn=Qe.body??null,Gr=yn&&typeof yn=="object"?yn:null;if(Qe.status===422)Dt=ge(Gr)??"Upload validation failed. Please check the selected file.";else if(Qe.status===413)Dt=G(yn)??"Upload greater than the configured limit.";else{const Nr=G(yn);if(Nr)Dt=`Upload failed: ${Nr}`;else if(Gr){const ii=Gr.code;typeof ii=="string"&&ii.trim()!==""?Dt=`Upload failed: ${ii.trim()}`:typeof Qe.message=="string"&&Qe.message.trim()!==""&&(Dt=Qe.message)}else typeof Qe.message=="string"&&Qe.message.trim()!==""?Dt=Qe.message:Dt=`Upload failed (HTTP ${Qe.status}).`}}else Qe instanceof Error&&Qe.message&&(Dt=Qe.message);dt(Dt),await D(!0)}finally{nn(!1)}}async function Ae(Z){if(Bn)return;const _e=Z.filename?.trim()!==""?Z.filename.trim():Z.id;if(window.confirm(`Delete ${_e}? This cannot be undone.`)){ot(null),Pt(null),Q(Z.id);try{await nj(Z.id),Pt(`${_e} deleted.`),await D(!0)}catch(We){let Ie="Delete failed. Please try again.";if(We instanceof Wt){const Qe=We.body??null,Dt=Qe?.message,yn=Qe?.code,Gr=typeof Dt=="string"?Dt:null,Nr=typeof yn=="string"?yn:null;Gr?Ie=`Delete failed: ${Gr}`:Nr?Ie=`Delete failed: ${Nr}`:Ie=`Delete failed (HTTP ${We.status}).`}else We instanceof Error&&We.message&&(Ie=We.message);ot(Ie)}finally{Q(null)}}}b.useEffect(()=>{D(!0)},[]),b.useEffect(()=>{const Z=new URLSearchParams(se.search),_e=Z.get("mime_label")??"",Xe=Z.get("mime")??"";let We=null,Ie="";if(_e.trim()!==""?(We="label",Ie=_e):Xe.trim()!==""&&(We="raw",Ie=Xe),We===x&&Ie===g)return;v(Ie),w(We),xt(null),at([]),D(!0,We==="label"?{mime_label:Ie||void 0,mime:void 0}:We==="raw"?{mime:Ie||void 0,mime_label:void 0}:{mime:void 0,mime_label:void 0})},[se.search]);function ke(){Vt&&(at(Z=>[...Z,Vt]),D(!1))}function je(){if(Kt.length===0)return;const Z=Kt[Kt.length-1];at(_e=>_e.slice(0,-1)),xt(Z),D(!1)}const Se=n!==null||f.trim()!==""||x!==null&&g.trim()!==""||S.trim()!==""||a.trim()!==""||c.trim()!==""||C!=="desc"||P!==20,xe=b.useCallback(Z=>{O!==Z?Z==="created"?(z(a),E(c),T(null)):Z==="filename"?W(f):Z==="mime"?te(g):Z==="sha"&&ce(S):Z==="owner"&&(B([]),re(null)),V(Z)},[O,a,c,f,g,S,V]);function Fe(Z){const _e=Z.trim();m(_e),W(_e),xt(null),at([]),D(!0,{filename:_e||void 0}),q()}function Ke(Z){const _e=Z.trim();v(_e),te(_e),w(_e===""?null:"label"),xt(null),at([]),D(!0,{mime_label:_e||void 0,mime:void 0}),q()}function It(Z){const _e=Z.trim().toLowerCase().replace(/[^a-f0-9]/g,"");k(_e),ce(_e),xt(null),at([]),D(!0,{sha256:_e.length>=64?_e.slice(0,64):void 0,sha256_prefix:_e!==""&&_e.length<64?_e:void 0}),q()}function lt(Z,_e,Xe=!0){const We=Z.trim(),Ie=_e.trim();if(We&&Ie&&We>Ie){T("From must be on or before To");return}T(null),o(We),u(Ie),z(We),E(Ie),xt(null),at([]),D(!0,{created_from:We?`${We}T00:00:00Z`:void 0,created_to:Ie?`${Ie}T23:59:59Z`:void 0}),Xe&&q()}function Je(){const Z=C==="asc"?"desc":"asc";A(Z),xt(null),at([]),D(!0,{order:Z})}function vt(){const Z=ve.trim();if(Z===""){ee(String(P));return}const _e=Number(Z);if(Number.isNaN(_e)||!Number.isFinite(_e)){ee(String(P));return}const Xe=Math.max(1,Math.min(100,Math.trunc(_e)));if(Xe===P){ee(String(Xe));return}U(Xe),ee(String(Xe)),xt(null),at([]),D(!0,{limit:Xe})}function Zn(){q(),T(null),hr(!1),m(""),W(""),v(""),te(""),w(null),k(""),ce(""),o(""),u(""),z(""),E(""),A("desc"),U(20),ee("20"),xt(null),at([]),D(!0,{owner_id:void 0,filename:void 0,mime:void 0,mime_label:void 0,sha256:void 0,sha256_prefix:void 0,created_from:void 0,created_to:void 0,order:"desc",limit:20})}const mr=n?[n.name?.trim()||null,n.email?.trim()?`<${n.email.trim()}>`:null,`id ${n.id}`].filter(Z=>!!Z).join(" "):"",Dn=n?h.jsx("div",{className:"mt-1",children:h.jsx("span",{style:Bg(),children:mr})}):null,et=O==="owner"?h.jsxs("div",{className:"mt-2",children:[n&&h.jsxs("div",{className:"d-flex align-items-center gap-2 mb-2",children:[h.jsx("span",{style:Bg(),children:mr}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>hr(),children:"Clear"})]}),h.jsx("label",{htmlFor:"filter-owner",className:"visually-hidden",children:"Filter by owner"}),h.jsx("input",{ref:ye,id:"filter-owner",className:"form-control form-control-sm",value:t,onChange:Z=>e(Z.currentTarget.value),onKeyDown:Z=>{Z.key==="Enter"?(Z.preventDefault(),de(1),Pn(1,{autoApply:!0})):Z.key==="Escape"&&(Z.preventDefault(),q())},placeholder:"Name or email",autoComplete:"off"}),h.jsx("div",{className:"form-text",children:"Supports * wildcards."}),h.jsxs("div",{className:"d-flex gap-2 mt-2",children:[h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>{de(1),Pn(1,{autoApply:!0})},disabled:Ne||t.trim()==="",children:Ne?"Searching":"Search"}),!n&&h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>{e(""),B([]),re(null),de(1)},children:"Reset"})]}),!Ne&&t.trim()!==""&&j.length===0&&h.jsx("div",{className:"small text-muted mt-2",children:"No matches."}),j.length>0&&h.jsx("ul",{className:"list-unstyled mt-3 mb-0",children:j.map(Z=>h.jsxs("li",{className:"d-flex align-items-center justify-content-between gap-2 mb-2",children:[h.jsxs("div",{children:[h.jsx("div",{className:"small fw-semibold",children:Z.name?.trim()||Z.email||`id ${Z.id}`}),h.jsx("div",{className:"small text-muted",children:Z.email?.trim()?`${Z.email}  id ${Z.id}`:`id ${Z.id}`})]}),h.jsx("button",{type:"button",className:"btn btn-outline-primary btn-sm",onClick:()=>Es(Z),children:"Select"})]},Z.id))}),I&&j.length>0&&h.jsxs("div",{className:"d-flex align-items-center gap-2 mt-2",children:[h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>{I.page>1&&Pn(I.page-1)},disabled:Ne||I.page<=1,children:"Prev"}),h.jsxs("span",{className:"small text-muted",children:["Page ",I.page," of ",I.total_pages,"  ",I.total," total"]}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>{I.page<I.total_pages&&Pn(I.page+1)},disabled:Ne||I.page>=I.total_pages,children:"Next"})]})]}):null,Ns=f?h.jsx("div",{className:"small text-muted mt-1",children:f}):null,er=O==="filename"?h.jsxs("div",{className:"mt-2",children:[h.jsx("label",{htmlFor:"filter-filename",className:"visually-hidden",children:"Filter by filename"}),h.jsx("input",{ref:Ye,id:"filter-filename",className:"form-control form-control-sm",value:R,onChange:Z=>W(Z.currentTarget.value),onKeyDown:Z=>{Z.key==="Enter"?(Z.preventDefault(),Fe(Z.currentTarget.value)):Z.key==="Escape"&&(Z.preventDefault(),q())},placeholder:"e.g. report*.pdf",autoComplete:"off"}),h.jsx("div",{className:"form-text",children:"Supports * wildcards."}),h.jsxs("div",{className:"d-flex gap-2 mt-2",children:[h.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:()=>Fe(R),children:"Apply"}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>{W(""),Fe("")},children:"Clear"})]})]}):null,$n=g?h.jsx("div",{className:"small text-muted mt-1",children:g}):null,tr=O==="mime"?h.jsxs("div",{className:"mt-2",children:[h.jsx("label",{htmlFor:"filter-mime",className:"visually-hidden",children:"Filter by MIME"}),h.jsx("input",{ref:yt,id:"filter-mime",className:"form-control form-control-sm",value:K,onChange:Z=>te(Z.currentTarget.value),onKeyDown:Z=>{Z.key==="Enter"?(Z.preventDefault(),Ke(Z.currentTarget.value)):Z.key==="Escape"&&(Z.preventDefault(),q())},placeholder:"e.g. image/*",autoComplete:"off"}),h.jsx("div",{className:"form-text",children:"Supports family wildcards like image/*."}),h.jsxs("div",{className:"d-flex gap-2 mt-2",children:[h.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:()=>Ke(K),children:"Apply"}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>{te(""),Ke("")},children:"Clear"})]})]}):null,nr=S.trim().toLowerCase().replace(/[^a-f0-9]/g,""),qe=nr?h.jsx("div",{className:"small text-muted mt-1",children:nr.length>12?`${nr.slice(0,12)}`:nr}):null,ht=O==="sha"?h.jsxs("div",{className:"mt-2",children:[h.jsx("label",{htmlFor:"filter-sha",className:"visually-hidden",children:"Filter by SHA-256"}),h.jsx("input",{ref:fn,id:"filter-sha",className:"form-control form-control-sm",value:ne,onChange:Z=>ce(Z.currentTarget.value),onKeyDown:Z=>{Z.key==="Enter"?(Z.preventDefault(),It(Z.currentTarget.value)):Z.key==="Escape"&&(Z.preventDefault(),q())},placeholder:"e.g. 7f9c2b",autoComplete:"off"}),h.jsx("div",{className:"form-text",children:"Partial hashes match by prefix."}),h.jsxs("div",{className:"d-flex gap-2 mt-2",children:[h.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:()=>It(ne),children:"Apply"}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>{ce(""),It("")},children:"Clear"})]})]}):null,qt=a||c?h.jsxs("div",{className:"small text-muted mt-1",children:[a||"Any",c?`  ${c}`:a?"  ":""]}):null,tt=[{key:"created",label:`Created ${C==="asc"?"":""}`,onToggle:()=>xe("created"),isActive:O==="created",summaryContent:qt,filterContent:O==="created"?h.jsxs("div",{className:"mt-2 d-flex flex-column gap-3",children:[h.jsx(bv,{start:M,end:J,onChange:(Z,_e)=>{z(Z),E(_e),T(null)},onComplete:(Z,_e)=>{T(null),lt(Z,_e)},onClear:()=>{T(null),z(""),E(""),lt("","",!1)}}),ae&&h.jsx("div",{className:"text-danger small",children:ae}),h.jsx("div",{className:"d-flex flex-wrap align-items-center gap-2",children:h.jsxs("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:Je,children:["Sort ",C==="asc"?"":""]})})]}):null},{key:"owner",label:"Owner",onToggle:()=>xe("owner"),isActive:O==="owner",summaryContent:Dn,filterContent:et},{key:"filename",label:"Filename",onToggle:()=>xe("filename"),isActive:O==="filename",summaryContent:Ns,filterContent:er},{key:"size",label:"Size"},{key:"mime",label:"MIME",onToggle:()=>xe("mime"),isActive:O==="mime",summaryContent:$n,filterContent:tr},{key:"sha256",label:"SHA-256",onToggle:()=>xe("sha"),isActive:O==="sha",summaryContent:qe,filterContent:ht,className:"text-nowrap"},{key:"version",label:"Version"},{key:"download",label:"Download",className:"text-nowrap"},{key:"delete",label:"Delete",className:"text-nowrap"}];return h.jsxs("main",{className:"container py-3",children:[h.jsx("h1",{className:"mb-3",children:"Evidence"}),h.jsxs("section",{className:"mb-4",children:[h.jsx("h2",{className:"h5",children:"Upload Evidence"}),h.jsxs("div",{className:"d-flex flex-column flex-sm-row align-items-sm-center gap-2","aria-label":"Upload evidence",children:[h.jsx("input",{ref:be,type:"file",id:"evidence-file",style:{display:"none"},multiple:!0,disabled:_t,onChange:Te}),h.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>be.current?.click(),disabled:_t,"aria-label":"Select evidence files to upload",children:_t?"Uploading":"Upload Evidence"})]}),ut&&h.jsx("div",{className:"alert alert-danger mt-2",role:"alert",children:ut}),Yt&&h.jsx("div",{className:"alert alert-success mt-2",role:"status",children:Yt})]}),h.jsxs("section",{className:"d-flex flex-wrap align-items-center gap-3 mb-3",children:[h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:Zn,disabled:!Se||Be==="loading",children:"Clear filters"}),h.jsxs("div",{className:"d-flex align-items-center gap-2",children:[h.jsx("label",{htmlFor:"evidence-limit",className:"form-label mb-0",children:"Limit"}),h.jsx("input",{id:"evidence-limit",type:"number",inputMode:"numeric",min:1,max:100,className:"form-control form-control-sm",style:{width:"5rem"},value:ve,onChange:Z=>ee(Z.currentTarget.value),onBlur:vt,onKeyDown:Z=>{Z.key==="Enter"?(Z.preventDefault(),vt()):Z.key==="Escape"&&(Z.preventDefault(),ee(String(P)))}})]})]}),h.jsx("hr",{className:"my-4"}),Be==="loading"&&h.jsx("p",{children:"Loading"}),Be==="error"&&h.jsxs("p",{role:"alert",className:"text-danger",children:["Error: ",Ze]}),He&&h.jsx("div",{className:"alert alert-danger mt-3",role:"alert",children:He}),Me&&h.jsx("div",{className:"alert alert-danger mt-3",role:"alert",children:Me}),St&&h.jsx("div",{className:"alert alert-success mt-3",role:"status",children:St}),h.jsx(fj,{headers:tt,items:tn,fetchState:Be,timeFormat:Ft,onDownload:$,downloadingId:pe,onDelete:Ae,deletingId:Bn}),h.jsxs("nav",{"aria-label":"Evidence pagination",className:"d-flex align-items-center gap-2",children:[h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:je,disabled:Be!=="ok"||Kt.length===0,children:"Prev"}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:ke,disabled:Be!=="ok"||!Vt,children:"Next"})]})]})}const Hg={name:"",email:"",password:"",roles:[]};function hj(t){if(!t||typeof t!="object")return!1;const e=t,n=e.meta;return e.ok===!0&&Array.isArray(e.data)&&!!n&&typeof n.page=="number"&&typeof n.total_pages=="number"}function mj(t,e){if(t.length!==e.length)return!1;const n=[...t].sort(),s=[...e].sort();for(let a=0;a<n.length;a++)if(n[a]!==s[a])return!1;return!0}const Wg=/^[^\s@]+@[^\s@]+\.[^\s@]+$/i;function Pd(t){if(!t||typeof t!="object")return{};const e=t.errors;if(!e||typeof e!="object")return{};const n={};return Object.entries(e).forEach(([s,a])=>{if(Array.isArray(a)){const o=a.find(c=>typeof c=="string"&&c.trim()!=="");typeof o=="string"&&(n[s]=o)}else typeof a=="string"&&a.trim()!==""&&(n[s]=a)}),n}function Sl(t,e){if(t instanceof Wt){const n=t.body;if(n&&typeof n=="object"){const s=n.message;if(typeof s=="string"&&s.trim()!=="")return s;const a=Pd(n),o=Object.values(a).find(c=>typeof c=="string"&&c.trim()!=="");if(typeof o=="string")return o}return typeof t.message=="string"&&t.message.trim()!==""?t.message:e}return t instanceof Error&&typeof t.message=="string"&&t.message.trim()!==""?t.message:e}function pj(){const[t,e]=b.useState(""),[n,s]=b.useState(""),[a,o]=b.useState(1),[c]=b.useState(25),[u,f]=b.useState([]),[m,g]=b.useState({page:1,per_page:25,total:0,total_pages:0}),[v,x]=b.useState(!1),[w,S]=b.useState(null),[k,C]=b.useState([]),[A,P]=b.useState(!1),[U,O]=b.useState(null),[V,q]=b.useState([]),[M,z]=b.useState(!1),[J,E]=b.useState(null),[R,W]=b.useState({}),[K,te]=b.useState(null),[ne,ce]=b.useState(Hg),[ve,ee]=b.useState(!1),[ae,T]=b.useState(null),[j,B]=b.useState({}),[I,re]=b.useState(null),[ie,de]=b.useState(!1),Ne=m.page>1,he=m.page<m.total_pages,Ue=Math.max(4,Math.min(8,k.length||4));b.useEffect(()=>{let pe=!0;return P(!0),O(null),cf().then(De=>{pe&&(De.ok?C(ff(De.roles??[])):(C([]),O("Failed to load roles.")))}).catch(()=>{pe&&(C([]),O("Failed to load roles."))}).finally(()=>{pe&&P(!1)}),()=>{pe=!1}},[]),b.useEffect(()=>{const pe=new Set(k.map(De=>De.id));q(De=>De.filter(He=>pe.has(He))),ce(De=>{if(!K)return De;const He=De.roles.filter(wt=>pe.has(wt));return He.length===De.roles.length?De:{...De,roles:He}})},[k,K]),b.useEffect(()=>{if(!K){ce({...Hg}),T(null),B({});return}ce({name:K.name,email:K.email,password:"",roles:Gs(K.roles)}),T(null),B({})},[K]);const Be=b.useMemo(()=>K?Gs(K.roles):[],[K]),ft=b.useMemo(()=>{if(!K)return[];const pe=Be.map(De=>jr(De));return pe.length>0?pe:K.roles},[K,Be]),Ze=b.useMemo(()=>{if(!K)return!1;const pe=ne.password.trim()!=="",De=!mj(ne.roles,Be);return K.name!==ne.name||K.email!==ne.email||pe||De},[ne,K,Be]),nt=b.useCallback(async()=>{x(!0);try{const pe={q:n.trim()===""?void 0:n,page:a,per_page:c},De=await qn("/api/users",pe);hj(De)?(f(De.data),g(De.meta)):(f([]),g({page:1,per_page:c,total:0,total_pages:0}),S({kind:"error",text:"Users API shape invalid or not implemented."}))}catch(pe){f([]);const De=Sl(pe,"Failed to load users.");S({kind:"error",text:De})}finally{x(!1)}},[n,a,c]);b.useEffect(()=>{nt()},[nt]);const Ft=b.useCallback(pe=>{pe.preventDefault();const De=t.trim();if(De===n){a!==1?o(1):nt();return}s(De),a!==1&&o(1)},[n,nt,a,t]);async function bn(pe){if(pe.preventDefault(),M)return;const De=pe.currentTarget,He=new FormData(De),wt=String(He.get("name")??"").trim(),_t=String(He.get("email")??"").trim(),ut=String(He.get("password")??"").trim(),dt={};if(wt.length<2&&(dt.name="Name is required."),_t===""?dt.email="Email is required.":Wg.test(_t)||(dt.email="Enter a valid email address."),ut===""?dt.password="Password is required.":ut.length<8&&(dt.password="Password must be at least 8 characters."),Object.keys(dt).length>0){W(dt),E("Please fix the highlighted fields.");return}const Yt={name:wt,email:_t,password:ut,roles:V};W({}),z(!0),E(null),S(null);try{await ri("/api/users",Yt),De.reset(),q([]),W({}),S({kind:"success",text:"User created."}),a!==1?o(1):await nt()}catch(Tt){const Bn=Sl(Tt,"Create failed.");if(E(Bn),S({kind:"error",text:Bn}),Tt instanceof Wt&&Tt.body){const Q=Pd(Tt.body);Object.keys(Q).length>0&&W(Q)}}finally{z(!1)}}function tn(pe){te(pe),re(null)}function dn(){K&&(ce({name:K.name,email:K.email,password:"",roles:Gs(K.roles)}),T(null),B({}))}async function Vt(pe){if(pe.preventDefault(),!K||ve)return;const De=ne.name.trim(),He=ne.email.trim(),wt=ne.password.trim(),_t={};if(De.length<2&&(_t.name="Name is required."),He===""?_t.email="Email is required.":Wg.test(He)||(_t.email="Enter a valid email address."),wt!==""&&wt.length<8&&(_t.password="Password must be at least 8 characters."),Object.keys(_t).length>0){B(_t),T("Please fix the highlighted fields.");return}const nn={name:De,email:He,roles:ne.roles};wt!==""&&(nn.password=wt),ee(!0),T(null),B({}),S(null);try{const ut=await J0(`/api/users/${K.id}`,nn);te(ut.user),S({kind:"success",text:"User updated."}),await nt()}catch(ut){const dt=Sl(ut,"Update failed.");if(T(dt),S({kind:"error",text:dt}),ut instanceof Wt&&ut.body){const Yt=Pd(ut.body);Object.keys(Yt).length>0&&B(Yt)}}finally{ee(!1)}}function xt(pe){re(pe)}async function Kt(){if(!(!I||ie)){de(!0),S(null);try{await Jl(`/api/users/${I.id}`),K&&K.id===I.id&&te(null),re(null),S({kind:"success",text:"User deleted."}),await nt()}catch(pe){const De=Sl(pe,"Delete failed.");S({kind:"error",text:De}),re(null)}finally{de(!1)}}}const at=()=>{ie||re(null)};return h.jsxs("main",{className:"container py-4",children:[h.jsx("header",{className:"d-flex align-items-center justify-content-between mb-3",children:h.jsx("h1",{className:"h3 mb-0",children:"Users"})}),h.jsx("section",{"aria-live":"polite",className:"mb-3",children:w&&h.jsx("div",{className:`alert ${w.kind==="success"?"alert-success":"alert-danger"}`,role:"alert",children:w.text})}),h.jsxs("section",{"aria-labelledby":"users-search",className:"mb-4",children:[h.jsx("h2",{id:"users-search",className:"h5",children:"Search"}),h.jsxs("form",{className:"row g-2 align-items-end",onSubmit:Ft,children:[h.jsxs("div",{className:"col-12 col-md-6",children:[h.jsx("label",{htmlFor:"users_q",className:"form-label",children:"Query"}),h.jsx("input",{id:"users_q",name:"q",value:t,onChange:pe=>e(pe.currentTarget.value),placeholder:"Search name, email, or role",className:"form-control",autoComplete:"off"})]}),h.jsx("div",{className:"col-auto",children:h.jsx("button",{type:"submit",className:"btn btn-primary",disabled:v,children:v?"Searching...":"Search"})})]})]}),h.jsx("div",{className:"table-responsive",children:h.jsxs("table",{className:"table table-sm align-middle",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{scope:"col",style:{width:"6rem"},children:"ID"}),h.jsx("th",{scope:"col",children:"Name"}),h.jsx("th",{scope:"col",children:"Email"}),h.jsx("th",{scope:"col",children:"Roles"}),h.jsx("th",{scope:"col",style:{width:"9rem"},className:"text-end",children:"Actions"})]})}),h.jsxs("tbody",{children:[u.map(pe=>h.jsxs("tr",{className:K?.id===pe.id?"table-active":void 0,children:[h.jsx("td",{children:pe.id}),h.jsx("td",{children:pe.name}),h.jsx("td",{children:pe.email}),h.jsx("td",{children:pe.roles.length>0?pe.roles.join(", "):h.jsx("span",{className:"text-muted",children:"None"})}),h.jsx("td",{className:"text-end",children:h.jsxs("div",{className:"btn-group btn-group-sm",role:"group","aria-label":`Actions for ${pe.email}`,children:[h.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:()=>tn(pe),disabled:ve&&K?.id===pe.id,children:"Edit"}),h.jsx("button",{type:"button",className:"btn btn-outline-danger",onClick:()=>xt(pe),disabled:ie&&I?.id===pe.id,children:"Delete"})]})})]},pe.id)),u.length===0&&!v&&h.jsx("tr",{children:h.jsx("td",{colSpan:5,className:"text-center text-muted py-4",children:"No users"})})]})]})}),h.jsxs("nav",{"aria-label":"Pagination",className:"d-flex align-items-center gap-3 mt-2",children:[h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>o(pe=>Math.max(1,pe-1)),disabled:!Ne||v,children:"Prev"}),h.jsxs("span",{className:"text-muted",children:["Page ",m.page," of ",Math.max(1,m.total_pages)]}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>o(pe=>pe+1),disabled:!he||v,children:"Next"})]}),I&&h.jsxs("div",{className:"alert alert-warning d-flex align-items-center justify-content-between mt-4",role:"alert",children:[h.jsxs("div",{children:[h.jsxs("strong",{children:["Delete ",I.email,"?"]}),h.jsx("div",{className:"small",children:"This action cannot be undone."})]}),h.jsxs("div",{className:"d-flex gap-2",children:[h.jsx("button",{type:"button",className:"btn btn-danger",onClick:Kt,disabled:ie,children:ie?"Deleting...":"Delete"}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:at,disabled:ie,children:"Cancel"})]})]}),h.jsxs("section",{className:"row g-4 mt-4",children:[h.jsx("div",{className:"col-12 col-lg-6",children:h.jsxs("div",{className:"card h-100",children:[h.jsx("div",{className:"card-header",children:"Edit user"}),h.jsx("div",{className:"card-body",children:K?h.jsxs("form",{onSubmit:Vt,className:"row g-3",noValidate:!0,children:[h.jsxs("div",{className:"col-12",children:[h.jsx("div",{className:"fw-semibold",children:"User ID"}),h.jsx("div",{children:K.id})]}),h.jsxs("div",{className:"col-12",children:[h.jsx("div",{className:"fw-semibold",children:"Current roles"}),h.jsx("div",{children:ft.length>0?ft.join(", "):h.jsx("span",{className:"text-muted",children:"None"})})]}),h.jsxs("div",{className:"col-12",children:[h.jsxs("label",{htmlFor:"edit_name",className:"form-label",children:["Name ",h.jsx("span",{className:"text-danger","aria-hidden":"true",children:"*"})]}),h.jsx("input",{id:"edit_name",name:"name",className:`form-control${j.name?" is-invalid":""}`,value:ne.name,onChange:pe=>{const De=pe.currentTarget.value;ce(He=>({...He,name:De}))},required:!0,"aria-invalid":!!j.name,"aria-describedby":j.name?"edit_name_error":void 0}),j.name?h.jsx("div",{id:"edit_name_error",className:"invalid-feedback d-block",children:j.name}):null]}),h.jsxs("div",{className:"col-12",children:[h.jsxs("label",{htmlFor:"edit_email",className:"form-label",children:["Email ",h.jsx("span",{className:"text-danger","aria-hidden":"true",children:"*"})]}),h.jsx("input",{id:"edit_email",name:"email",className:`form-control${j.email?" is-invalid":""}`,type:"email",value:ne.email,onChange:pe=>{const De=pe.currentTarget.value;ce(He=>({...He,email:De}))},required:!0,"aria-invalid":!!j.email,"aria-describedby":j.email?"edit_email_error":void 0}),j.email?h.jsx("div",{id:"edit_email_error",className:"invalid-feedback d-block",children:j.email}):null]}),h.jsxs("div",{className:"col-12",children:[h.jsx("label",{htmlFor:"edit_password",className:"form-label",children:"Reset password"}),h.jsx("input",{id:"edit_password",name:"password",className:`form-control${j.password?" is-invalid":""}`,type:"password",placeholder:"Leave blank to keep current password",value:ne.password,onChange:pe=>{const De=pe.currentTarget.value;ce(He=>({...He,password:De}))},"aria-invalid":!!j.password,"aria-describedby":j.password?"edit_password_error":void 0}),j.password?h.jsx("div",{id:"edit_password_error",className:"invalid-feedback d-block",children:j.password}):null]}),h.jsxs("div",{className:"col-12",children:[h.jsx("label",{htmlFor:"edit_roles",className:"form-label",children:"Roles"}),h.jsx("select",{id:"edit_roles",name:"roles",multiple:!0,className:"form-select",size:Ue,value:ne.roles,onChange:pe=>{const De=Array.from(pe.currentTarget.selectedOptions).map(He=>He.value);ce(He=>({...He,roles:De}))},"aria-describedby":"edit_roles_help",children:k.map(pe=>h.jsx("option",{value:pe.id,children:pe.name},pe.id))}),h.jsx("div",{id:"edit_roles_help",className:"form-text",children:A?"Loading roles...":U??(k.length===0?"No roles available.":"Use Ctrl/Cmd-click to toggle selections.")})]}),ae&&h.jsx("div",{className:"col-12",children:h.jsx("div",{className:"alert alert-danger py-2 mb-0",role:"alert",children:ae})}),h.jsxs("div",{className:"col-12 d-flex gap-2",children:[h.jsx("button",{type:"submit",className:"btn btn-primary",disabled:!Ze||ve,children:ve?"Saving...":"Save"}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:dn,disabled:ve||!Ze,children:"Reset"})]})]}):h.jsx("p",{className:"text-muted mb-0",children:"No user selected."})})]})}),h.jsx("div",{className:"col-12 col-lg-6",children:h.jsxs("div",{className:"card h-100",children:[h.jsx("div",{className:"card-header",children:"Create user"}),h.jsxs("div",{className:"card-body",children:[J&&h.jsx("div",{className:"alert alert-danger py-2",role:"alert",children:J}),h.jsxs("form",{onSubmit:bn,className:"row g-3",noValidate:!0,children:[h.jsxs("div",{className:"col-12",children:[h.jsxs("label",{htmlFor:"create_name",className:"form-label",children:["Name ",h.jsx("span",{className:"text-danger","aria-hidden":"true",children:"*"})]}),h.jsx("input",{id:"create_name",name:"name",className:`form-control${R.name?" is-invalid":""}`,required:!0,autoComplete:"off","aria-invalid":!!R.name,"aria-describedby":R.name?"create_name_error":void 0}),R.name?h.jsx("div",{id:"create_name_error",className:"invalid-feedback d-block",children:R.name}):null]}),h.jsxs("div",{className:"col-12",children:[h.jsxs("label",{htmlFor:"create_email",className:"form-label",children:["Email ",h.jsx("span",{className:"text-danger","aria-hidden":"true",children:"*"})]}),h.jsx("input",{id:"create_email",name:"email",type:"email",className:`form-control${R.email?" is-invalid":""}`,required:!0,autoComplete:"off","aria-invalid":!!R.email,"aria-describedby":R.email?"create_email_error":void 0}),R.email?h.jsx("div",{id:"create_email_error",className:"invalid-feedback d-block",children:R.email}):null]}),h.jsxs("div",{className:"col-12",children:[h.jsxs("label",{htmlFor:"create_password",className:"form-label",children:["Password ",h.jsx("span",{className:"text-danger","aria-hidden":"true",children:"*"})]}),h.jsx("input",{id:"create_password",name:"password",type:"password",className:`form-control${R.password?" is-invalid":""}`,required:!0,autoComplete:"new-password","aria-invalid":!!R.password,"aria-describedby":R.password?"create_password_error":void 0}),R.password?h.jsx("div",{id:"create_password_error",className:"invalid-feedback d-block",children:R.password}):null]}),h.jsxs("div",{className:"col-12",children:[h.jsx("label",{htmlFor:"create_roles",className:"form-label",children:"Roles"}),h.jsx("select",{id:"create_roles",name:"roles",multiple:!0,className:"form-select",size:Ue,value:V,onChange:pe=>{const De=Array.from(pe.currentTarget.selectedOptions).map(He=>He.value);q(De)},"aria-describedby":"create_roles_help",children:k.map(pe=>h.jsx("option",{value:pe.id,children:pe.name},pe.id))}),h.jsx("div",{id:"create_roles_help",className:"form-text",children:A?"Loading roles...":U??(k.length===0?"No roles available.":"Use Ctrl/Cmd-click to toggle selections.")})]}),h.jsx("div",{className:"col-12",children:h.jsx("button",{type:"submit",className:"btn btn-success",disabled:M,children:M?"Creating...":"Create"})})]})]})]})})]})]})}function gj(t){return t.ok===!0&&typeof t.jobId=="string"}function yj(t){return t.ok===!0&&typeof t.status=="string"}function vj(){const[t,e]=b.useState("csv"),[n,s]=b.useState([]),[a,o]=b.useState(null);async function c(f){f.preventDefault(),o(null);try{const m=await ri("/api/exports",{type:t});if(gj(m)){const g=m.type??t;s(v=>[...v,{jobId:m.jobId,type:g,status:"pending",progress:0}]),o("Job created (stub).")}else m.code==="EXPORT_TYPE_INVALID"?o("Invalid export type."):o("Request completed.")}catch{o("Network error.")}}async function u(f){o(null);try{const m=await qn(`/api/exports/${encodeURIComponent(f)}/status`);yj(m)?s(g=>g.map(v=>v.jobId===f?{...v,status:m.status,progress:Number.isFinite(m.progress)?m.progress:v.progress}:v)):o("Failed to refresh job.")}catch{o("Network error.")}}return h.jsxs("div",{className:"container py-3",children:[h.jsx("h1",{children:"Exports"}),a&&h.jsx("div",{className:"alert alert-info",children:a}),h.jsxs("form",{onSubmit:c,className:"row gy-2 gx-2 align-items-end mb-3",children:[h.jsxs("div",{className:"col-auto",children:[h.jsx("label",{className:"form-label",children:"Type"}),h.jsxs("select",{className:"form-select",value:t,onChange:f=>e(f.currentTarget.value),children:[h.jsx("option",{value:"csv",children:"csv"}),h.jsx("option",{value:"json",children:"json"}),h.jsx("option",{value:"pdf",children:"pdf"})]})]}),h.jsx("div",{className:"col-auto",children:h.jsx("button",{className:"btn btn-primary",type:"submit",children:"Create (stub)"})})]}),n.length===0?h.jsx("p",{children:"No jobs yet."}):h.jsx("div",{className:"table-responsive",children:h.jsxs("table",{className:"table table-sm table-striped",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{children:"Job ID"}),h.jsx("th",{children:"Type"}),h.jsx("th",{children:"Status"}),h.jsx("th",{children:"Progress"}),h.jsx("th",{children:"Actions"})]})}),h.jsx("tbody",{children:n.map(f=>h.jsxs("tr",{children:[h.jsx("td",{children:f.jobId}),h.jsx("td",{children:f.type}),h.jsx("td",{children:f.status}),h.jsxs("td",{children:[f.progress,"%"]}),h.jsx("td",{children:h.jsx("button",{className:"btn btn-sm btn-outline-secondary",onClick:()=>u(f.jobId),children:"Refresh"})})]},f.jobId))})]})}),h.jsx("p",{className:"text-muted mt-3",children:"Phase 4 stub. Jobs do not run. Downloads are not ready."})]})}function xj(t){return t.code==="AVATARS_NOT_ENABLED"}function bj(t){return t.code==="AVATAR_TOO_LARGE"}function wj(t){return t.note==="stub-only"&&!!t.file}function _j(){const[t,e]=b.useState(null),[n,s]=b.useState(null),[a,o]=b.useState(null),[c,u]=b.useState(null),f=b.useRef(null);b.useEffect(()=>{if(f.current&&(URL.revokeObjectURL(f.current),f.current=null),t){const g=URL.createObjectURL(t);f.current=g,u(g)}else u(null);return()=>{f.current&&URL.revokeObjectURL(f.current)}},[t]);async function m(g){if(g.preventDefault(),s(null),o(null),!t){s("Choose an image first.");return}const v=new FormData;v.append("file",t);try{const x=await gy("/api/avatar",v);if(xj(x)){s("Avatars feature disabled (stub).");return}if(bj(x)){s(`Image too large. Max ${x.limit.max_width}x${x.limit.max_height}px.`);return}if(wj(x)){o(x.file),s("Validated. Not stored (stub).");return}s("Request completed.")}catch{s("Network error.")}}return h.jsxs("div",{className:"container py-3",children:[h.jsx("h1",{children:"Profile Avatar"}),n&&h.jsx("div",{className:"alert alert-info",children:n}),h.jsxs("form",{onSubmit:m,children:[h.jsxs("div",{className:"mb-3",children:[h.jsx("label",{className:"form-label",children:"Select image (WEBP/JPEG/PNG)"}),h.jsx("input",{className:"form-control",type:"file",accept:"image/webp,image/jpeg,image/png",onChange:g=>e(g.currentTarget.files?.[0]??null)})]}),h.jsx("button",{className:"btn btn-primary",type:"submit",children:"Validate (stub)"})]}),c&&h.jsx("div",{className:"row mt-3",children:h.jsx("div",{className:"col-auto",children:h.jsx("img",{src:c,alt:"preview",className:"img-thumbnail"})})}),a&&h.jsxs("div",{className:"mt-3",children:[h.jsx("h2",{children:"Image Metadata"}),h.jsxs("ul",{children:[h.jsxs("li",{children:["Name: ",a.original_name]}),h.jsxs("li",{children:["MIME: ",a.mime]}),h.jsxs("li",{children:["Size: ",a.size_bytes," bytes"]}),h.jsxs("li",{children:["Dimensions: ",a.width,"",a.height]}),h.jsxs("li",{children:["Format: ",a.format]})]}),h.jsx("p",{className:"text-muted",children:"Phase 4 stub. No processing or storage yet."})]})]})}const Sj=t=>{const e={...un.overrides,...t.overrides};return{theme:t.theme,mode:t.mode,overrides:e,sidebar:{collapsed:t.sidebar.collapsed,width:t.sidebar.width,order:[...t.sidebar.order]}}},kj=["color.primary","color.surface","color.text"],Cj=["none","default","light","heavy","custom"],jj=["narrow","default","wide"],Ej=["small","medium","large"],Nj=["none","limited","full"],Vg=50,Kg=480,Yg=t=>({theme:t.theme,mode:t.mode,overrides:{...t.overrides},sidebar:{collapsed:t.sidebar.collapsed,width:t.sidebar.width,order:[...t.sidebar.order]}}),Rj=(t,e)=>{const n={};return(!e||t.theme!==e.theme)&&(n.theme=t.theme),(!e||t.mode!==e.mode)&&(n.mode=t.mode),(!e||!Mj(t.overrides,e.overrides))&&(n.overrides=t.overrides),(!e||e.sidebar.collapsed!==t.sidebar.collapsed||e.sidebar.width!==t.sidebar.width||!Tj(e.sidebar.order,t.sidebar.order))&&(n.sidebar={...t.sidebar}),n},Mj=(t,e)=>{const n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(const a of n)if(t[a]!==e[a])return!1;return!0},Tj=(t,e)=>t.length!==e.length?!1:t.every((n,s)=>n===e[s]);async function kl(t){try{return await t.json()}catch{return null}}function Pj(){const[t,e]=b.useState(qs),[n,s]=b.useState($e),[a,o]=b.useState(Yg(un)),[c,u]=b.useState(!0),[f,m]=b.useState(!1),[g,v]=b.useState(null),[x,w]=b.useState(!1),S=b.useRef(null),k=b.useRef(null),C=b.useMemo(()=>n.theme.default,[n]),A=b.useMemo(()=>[...t.themes,...t.packs],[t]),U=b.useMemo(()=>{const I=a.theme??C;return A.find(re=>re.slug===I)},[a.theme,A,C])?.supports?.mode??["light","dark"],O=n.theme.allow_user_override,V=n.theme.force_global,q=b.useCallback(I=>{const re=Yg(I);k.current=re,o(re),Ol(I)},[]),M=b.useCallback(I=>{Ol(Sj(I))},[]),z=b.useCallback(async I=>{u(!0),I?.preserveMessage||v(null);try{const[re,ie,de]=await Promise.all([fetch("/api/settings/ui/themes",{method:"GET",credentials:"same-origin",headers:jt()}),fetch("/api/settings/ui",{method:"GET",credentials:"same-origin",headers:jt()}),fetch("/api/me/prefs/ui",{method:"GET",credentials:"same-origin",headers:jt()})]);if(re.ok){const he=await kl(re);he&&Array.isArray(he.themes)&&(e(he),Sy(he))}if(ie.ok){const he=await kl(ie);he?.config?.ui&&(s(he.config.ui),Un(he.config.ui))}if(de.status===403){w(!0),v("You do not have permission to manage UI preferences."),S.current=null,q(un);return}if(!de.ok){v("Failed to load preferences. Using defaults."),S.current=null,q(un);return}S.current=de.headers.get("ETag");const Ne=await kl(de);Ne?.prefs?q(Ne.prefs):q(un),w(!1)}catch{v("Failed to load preferences. Using defaults."),S.current=null,q(un),s($e),Un($e)}finally{u(!1)}},[q]);b.useEffect(()=>{z()},[z]);const J=I=>{o(re=>{const ie={...re,theme:I};return M(ie),ie})},E=I=>{o(re=>{const ie={...re,mode:I};return M(ie),ie})},R=(I,re)=>{o(ie=>{const de={...ie,overrides:{...ie.overrides,[I]:re}};return M(de),de})},W=(I,re)=>{o(ie=>{const de={...ie,overrides:{...ie.overrides,[I]:re}};return M(de),de})},K=I=>{o(re=>({...re,sidebar:{...re.sidebar,collapsed:I}}))},te=I=>{const re=Math.max(Vg,Math.min(Kg,I));o(ie=>({...ie,sidebar:{...ie.sidebar,width:re}}))},ne=()=>{if(k.current){const I=k.current,re={theme:I.theme,mode:I.mode,overrides:{...I.overrides},sidebar:{collapsed:I.sidebar.collapsed,width:I.sidebar.width,order:[...I.sidebar.order]}};o(re),M(re),v("Reverted to last saved preferences.")}},ce=()=>{const I=n.theme.overrides,re={theme:O&&!V?null:n.theme.default,mode:null,overrides:{...I},sidebar:{collapsed:un.sidebar.collapsed,width:un.sidebar.width,order:[...un.sidebar.order]}};o(re),M(re),v("Preferences reset to global defaults.")},ve=b.useCallback(async(I,re)=>{if(x)return re?.silent||v("Read-only mode: preferences cannot be changed."),!1;const ie=k.current,de=Rj(I,ie);if(Object.keys(de).length===0)return re?.silent||v("No changes to save."),!0;const Ne=S.current;if(!Ne)return await z({preserveMessage:re?.silent}),re?.silent||v("Preferences version refreshed. Please retry."),!1;m(!0),re?.silent||v(null);try{const he={...de};(V||!O)&&(he.theme=null),O||(he.overrides={});const Ue=await fetch("/api/me/prefs/ui",{method:"PUT",credentials:"same-origin",headers:jt({"Content-Type":"application/json","If-Match":Ne}),body:JSON.stringify(he)}),Be=await kl(Ue);if(Ue.status===409){const Ze=Be?.current_etag??Ue.headers.get("ETag");return Ze&&(S.current=Ze),re?.silent||v("Preferences changed elsewhere. Reloaded latest values."),await z({preserveMessage:re?.silent??!0}),!1}if(!Ue.ok)throw new Error(`Save failed (HTTP ${Ue.status}).`);const ft=Ue.headers.get("ETag")??Be?.etag??null;if(ft&&(S.current=ft),Be?.prefs?q(Be.prefs):(k.current=I,o(I),M(I)),!re?.silent){const Ze=typeof Be?.message=="string"?Be.message:"Preferences saved.";v(Ze)}return!0}catch(he){return re?.silent||v(he instanceof Error?he.message:"Save failed."),!1}finally{m(!1)}},[x,O,V,z,q,M]),ee=async()=>{await ve(a)},ae=!O||V||x||f||c,T=x||f||c||U.length===1,j=a.theme??C,B=f||c||x;return h.jsxs("main",{id:"profile-theme",className:"container py-3","aria-label":"theme-preferences",children:[h.jsx("h1",{className:"mb-3",children:"Theme Preferences"}),h.jsxs("section",{className:"card",children:[h.jsxs("div",{className:"card-header d-flex justify-content-between align-items-center",children:[h.jsx("strong",{children:"Personal Theme"}),h.jsxs("div",{className:"d-flex gap-2",children:[h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>void z(),disabled:c||f,children:"Reload"}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:ne,disabled:B,children:"Reset to saved"}),h.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:ce,disabled:B,children:"Reset to global"}),h.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:()=>void ee(),disabled:B,children:f?"Saving":"Save"})]})]}),h.jsx("div",{className:"card-body vstack gap-4",children:c?h.jsx("p",{children:"Loading preferences"}):h.jsxs(h.Fragment,{children:[g&&h.jsx("div",{className:"alert alert-info mb-0",role:"status",children:g}),h.jsxs("fieldset",{className:"vstack gap-3",disabled:B,children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"prefTheme",className:"form-label fw-semibold",children:"Theme selection"}),h.jsx("select",{id:"prefTheme",className:"form-select",value:j,onChange:I=>J(I.target.value),disabled:ae,children:A.map(I=>h.jsxs("option",{value:I.slug,children:[I.name," (",I.source==="bootswatch"?"Bootswatch":"Pack",")"]},I.slug))}),!O&&h.jsx("div",{className:"form-text",children:"Theme overrides are disabled by your administrator."}),V&&h.jsx("div",{className:"form-text",children:"Global theme is enforced. Light/dark mode preference still applies when supported."})]}),h.jsxs("fieldset",{children:[h.jsx("legend",{className:"form-label fw-semibold",children:"Mode"}),h.jsxs("div",{className:"d-flex gap-3",children:[["light","dark"].map(I=>h.jsxs("label",{className:"form-check",children:[h.jsx("input",{className:"form-check-input",type:"radio",name:"themeMode",value:I,checked:a.mode===I,disabled:T||!U.includes(I),onChange:()=>E(I)}),h.jsx("span",{className:"form-check-label text-capitalize",children:I})]},I)),h.jsxs("label",{className:"form-check",children:[h.jsx("input",{className:"form-check-input",type:"radio",name:"themeMode",value:"system",checked:a.mode===null,disabled:T,onChange:()=>E(null)}),h.jsx("span",{className:"form-check-label",children:"Follow system"})]})]})]}),h.jsxs("div",{children:[h.jsx("h2",{className:"h5 mb-3",children:"Design tokens"}),h.jsx("div",{className:"row g-3",children:kj.map(I=>h.jsxs("div",{className:"col-sm-4",children:[h.jsxs("label",{htmlFor:`pref-${I}`,className:"form-label text-capitalize",children:[I.replace("color.","")," color"]}),h.jsx("input",{id:`pref-${I}`,type:"color",className:"form-control form-control-color",value:a.overrides[I]??"#000000",onChange:re=>R(I,re.target.value)})]},I))}),h.jsxs("div",{className:"row g-3 mt-1",children:[h.jsxs("div",{className:"col-sm-3",children:[h.jsx("label",{htmlFor:"prefShadow",className:"form-label",children:"Shadow preset"}),h.jsx("select",{id:"prefShadow",className:"form-select",value:a.overrides.shadow??"default",onChange:I=>W("shadow",I.target.value),children:Cj.map(I=>h.jsx("option",{value:I,children:I},I))})]}),h.jsxs("div",{className:"col-sm-3",children:[h.jsx("label",{htmlFor:"prefSpacing",className:"form-label",children:"Spacing scale"}),h.jsx("select",{id:"prefSpacing",className:"form-select",value:a.overrides.spacing??"default",onChange:I=>W("spacing",I.target.value),children:jj.map(I=>h.jsx("option",{value:I,children:I},I))})]}),h.jsxs("div",{className:"col-sm-3",children:[h.jsx("label",{htmlFor:"prefTypeScale",className:"form-label",children:"Type scale"}),h.jsx("select",{id:"prefTypeScale",className:"form-select",value:a.overrides.typeScale??"medium",onChange:I=>W("typeScale",I.target.value),children:Ej.map(I=>h.jsx("option",{value:I,children:I},I))})]}),h.jsxs("div",{className:"col-sm-3",children:[h.jsx("label",{htmlFor:"prefMotion",className:"form-label",children:"Motion"}),h.jsx("select",{id:"prefMotion",className:"form-select",value:a.overrides.motion??"full",onChange:I=>W("motion",I.target.value),children:Nj.map(I=>h.jsx("option",{value:I,children:I},I))})]})]})]}),h.jsxs("div",{children:[h.jsx("h2",{className:"h5 mb-3",children:"Sidebar"}),h.jsxs("div",{className:"form-check mb-2",children:[h.jsx("input",{id:"prefSidebarCollapsed",type:"checkbox",className:"form-check-input",checked:a.sidebar.collapsed,onChange:I=>K(I.target.checked)}),h.jsx("label",{htmlFor:"prefSidebarCollapsed",className:"form-check-label",children:"Collapse sidebar by default"})]}),h.jsx("label",{htmlFor:"prefSidebarWidth",className:"form-label",children:"Sidebar width (px)"}),h.jsx("input",{id:"prefSidebarWidth",type:"range",className:"form-range",min:Vg,max:Kg,value:a.sidebar.width,onChange:I=>te(Number(I.target.value))}),h.jsxs("div",{className:"form-text",children:["Current width: ",a.sidebar.width,"px (min 50px, max ~50% viewport)."]}),h.jsx("div",{className:"alert alert-secondary mt-3",role:"note",children:"Sidebar module ordering coming soon."})]})]})]})})]})]})}function Dj(){const[t,e]=b.useState(""),[n,s]=b.useState(""),[a,o]=b.useState(null),[c,u]=b.useState(null),[f,m]=b.useState(!1);b.useEffect(()=>{tw()&&u("Session expiredplease sign in again.")},[]);async function g(v){v.preventDefault(),o(null),m(!0);try{await nw({email:t,password:n});const x=ew()||"/dashboard";window.location.assign(x)}catch{o("Invalid credentials or server error.")}finally{m(!1)}}return h.jsxs("div",{className:"mx-auto mt-24 max-w-md rounded-2xl border p-6 shadow",children:[h.jsx("h1",{className:"mb-4 text-xl font-semibold",children:"Sign in"}),c&&h.jsx("div",{className:"mb-3 rounded-md bg-yellow-50 p-2 text-sm text-yellow-800",children:c}),h.jsxs("form",{onSubmit:g,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"mb-1 block text-sm font-medium",children:"Email"}),h.jsx("input",{type:"email",className:"w-full rounded-md border px-3 py-2",value:t,onChange:v=>e(v.currentTarget.value),required:!0,autoComplete:"username"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"mb-1 block text-sm font-medium",children:"Password"}),h.jsx("input",{type:"password",className:"w-full rounded-md border px-3 py-2",value:n,onChange:v=>s(v.currentTarget.value),required:!0,autoComplete:"current-password"})]}),a&&h.jsx("div",{className:"rounded-md bg-red-50 p-2 text-sm text-red-700",children:a}),h.jsx("button",{type:"submit",className:"w-full rounded-md bg-black px-4 py-2 text-white disabled:opacity-50",disabled:f,children:f?"Signing in...":"Sign in"})]})]})}const Aj=P0(yd(h.jsxs(Lt,{path:"/",element:h.jsx(Yw,{}),children:[h.jsx(Lt,{index:!0,element:h.jsx(lp,{to:"/dashboard",replace:!0})}),h.jsx(Lt,{path:"auth",children:h.jsx(Lt,{path:"login",element:h.jsx(Dj,{})})}),h.jsx(Lt,{path:"dashboard",element:h.jsx(sC,{})}),h.jsx(Lt,{path:"risks",element:h.jsx(iC,{})}),h.jsx(Lt,{path:"compliance",element:h.jsx(aC,{})}),h.jsx(Lt,{path:"audits",element:h.jsx(cC,{})}),h.jsx(Lt,{path:"policies",element:h.jsx(uC,{})}),h.jsx(Lt,{path:"evidence",element:h.jsx($g,{})}),h.jsx(Lt,{path:"exports",element:h.jsx(vj,{})}),h.jsxs(Lt,{path:"admin",children:[h.jsx(Lt,{index:!0,element:h.jsx(dC,{})}),h.jsx(Lt,{path:"settings",element:h.jsx(SC,{})}),h.jsx(Lt,{path:"roles",element:h.jsx(PC,{})}),h.jsx(Lt,{path:"users",element:h.jsx(pj,{})}),h.jsx(Lt,{path:"user-roles",element:h.jsx(DC,{})}),h.jsx(Lt,{path:"audit",element:h.jsx(GC,{})}),h.jsx(Lt,{path:"evidence",element:h.jsx($g,{})})]}),h.jsxs(Lt,{path:"profile",children:[h.jsx(Lt,{path:"avatar",element:h.jsx(_j,{})}),h.jsx(Lt,{path:"theme",element:h.jsx(Pj,{})})]}),h.jsx(Lt,{path:"*",element:h.jsx(lp,{to:"/dashboard",replace:!0})})]})));cb.createRoot(document.getElementById("root")).render(h.jsx(Yl.StrictMode,{children:h.jsx(U0,{router:Aj,future:{v7_startTransition:!0}})}));
