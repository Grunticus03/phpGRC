function Yp(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in t)){const a=Object.getOwnPropertyDescriptor(i,o);a&&Object.defineProperty(t,o,a.get?a:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();function Yu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var fu={exports:{}},mo={},hu={exports:{}},Ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xh;function Uv(){if(Xh)return Ve;Xh=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function x(N){return N===null||typeof N!="object"?null:(N=v&&N[v]||N["@@iterator"],typeof N=="function"?N:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,k={};function C(N,z,se){this.props=N,this.context=z,this.refs=k,this.updater=se||_}C.prototype.isReactComponent={},C.prototype.setState=function(N,z){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,z,"setState")},C.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function T(){}T.prototype=C.prototype;function M(N,z,se){this.props=N,this.context=z,this.refs=k,this.updater=se||_}var B=M.prototype=new T;B.constructor=M,w(B,C.prototype),B.isPureReactComponent=!0;var A=Array.isArray,Y=Object.prototype.hasOwnProperty,ee={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function O(N,z,se){var pe,ye={},ue=null,Te=null;if(z!=null)for(pe in z.ref!==void 0&&(Te=z.ref),z.key!==void 0&&(ue=""+z.key),z)Y.call(z,pe)&&!R.hasOwnProperty(pe)&&(ye[pe]=z[pe]);var De=arguments.length-2;if(De===1)ye.children=se;else if(1<De){for(var ze=Array(De),nt=0;nt<De;nt++)ze[nt]=arguments[nt+2];ye.children=ze}if(N&&N.defaultProps)for(pe in De=N.defaultProps,De)ye[pe]===void 0&&(ye[pe]=De[pe]);return{$$typeof:t,type:N,key:ue,ref:Te,props:ye,_owner:ee.current}}function K(N,z){return{$$typeof:t,type:N.type,key:z,ref:N.ref,props:N.props,_owner:N._owner}}function X(N){return typeof N=="object"&&N!==null&&N.$$typeof===t}function U(N){var z={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(se){return z[se]})}var G=/\/+/g;function oe(N,z){return typeof N=="object"&&N!==null&&N.key!=null?U(""+N.key):z.toString(36)}function de(N,z,se,pe,ye){var ue=typeof N;(ue==="undefined"||ue==="boolean")&&(N=null);var Te=!1;if(N===null)Te=!0;else switch(ue){case"string":case"number":Te=!0;break;case"object":switch(N.$$typeof){case t:case e:Te=!0}}if(Te)return Te=N,ye=ye(Te),N=pe===""?"."+oe(Te,0):pe,A(ye)?(se="",N!=null&&(se=N.replace(G,"$&/")+"/"),de(ye,z,se,"",function(nt){return nt})):ye!=null&&(X(ye)&&(ye=K(ye,se+(!ye.key||Te&&Te.key===ye.key?"":(""+ye.key).replace(G,"$&/")+"/")+N)),z.push(ye)),1;if(Te=0,pe=pe===""?".":pe+":",A(N))for(var De=0;De<N.length;De++){ue=N[De];var ze=pe+oe(ue,De);Te+=de(ue,z,se,ze,ye)}else if(ze=x(N),typeof ze=="function")for(N=ze.call(N),De=0;!(ue=N.next()).done;)ue=ue.value,ze=pe+oe(ue,De++),Te+=de(ue,z,se,ze,ye);else if(ue==="object")throw z=String(N),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.");return Te}function fe(N,z,se){if(N==null)return N;var pe=[],ye=0;return de(N,pe,"","",function(ue){return z.call(se,ue,ye++)}),pe}function me(N){if(N._status===-1){var z=N._result;z=z(),z.then(function(se){(N._status===0||N._status===-1)&&(N._status=1,N._result=se)},function(se){(N._status===0||N._status===-1)&&(N._status=2,N._result=se)}),N._status===-1&&(N._status=0,N._result=z)}if(N._status===1)return N._result.default;throw N._result}var J={current:null},H={transition:null},Z={ReactCurrentDispatcher:J,ReactCurrentBatchConfig:H,ReactCurrentOwner:ee};function F(){throw Error("act(...) is not supported in production builds of React.")}return Ve.Children={map:fe,forEach:function(N,z,se){fe(N,function(){z.apply(this,arguments)},se)},count:function(N){var z=0;return fe(N,function(){z++}),z},toArray:function(N){return fe(N,function(z){return z})||[]},only:function(N){if(!X(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Ve.Component=C,Ve.Fragment=n,Ve.Profiler=o,Ve.PureComponent=M,Ve.StrictMode=i,Ve.Suspense=f,Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,Ve.act=F,Ve.cloneElement=function(N,z,se){if(N==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+N+".");var pe=w({},N.props),ye=N.key,ue=N.ref,Te=N._owner;if(z!=null){if(z.ref!==void 0&&(ue=z.ref,Te=ee.current),z.key!==void 0&&(ye=""+z.key),N.type&&N.type.defaultProps)var De=N.type.defaultProps;for(ze in z)Y.call(z,ze)&&!R.hasOwnProperty(ze)&&(pe[ze]=z[ze]===void 0&&De!==void 0?De[ze]:z[ze])}var ze=arguments.length-2;if(ze===1)pe.children=se;else if(1<ze){De=Array(ze);for(var nt=0;nt<ze;nt++)De[nt]=arguments[nt+2];pe.children=De}return{$$typeof:t,type:N.type,key:ye,ref:ue,props:pe,_owner:Te}},Ve.createContext=function(N){return N={$$typeof:c,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},N.Provider={$$typeof:a,_context:N},N.Consumer=N},Ve.createElement=O,Ve.createFactory=function(N){var z=O.bind(null,N);return z.type=N,z},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(N){return{$$typeof:u,render:N}},Ve.isValidElement=X,Ve.lazy=function(N){return{$$typeof:g,_payload:{_status:-1,_result:N},_init:me}},Ve.memo=function(N,z){return{$$typeof:h,type:N,compare:z===void 0?null:z}},Ve.startTransition=function(N){var z=H.transition;H.transition={};try{N()}finally{H.transition=z}},Ve.unstable_act=F,Ve.useCallback=function(N,z){return J.current.useCallback(N,z)},Ve.useContext=function(N){return J.current.useContext(N)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(N){return J.current.useDeferredValue(N)},Ve.useEffect=function(N,z){return J.current.useEffect(N,z)},Ve.useId=function(){return J.current.useId()},Ve.useImperativeHandle=function(N,z,se){return J.current.useImperativeHandle(N,z,se)},Ve.useInsertionEffect=function(N,z){return J.current.useInsertionEffect(N,z)},Ve.useLayoutEffect=function(N,z){return J.current.useLayoutEffect(N,z)},Ve.useMemo=function(N,z){return J.current.useMemo(N,z)},Ve.useReducer=function(N,z,se){return J.current.useReducer(N,z,se)},Ve.useRef=function(N){return J.current.useRef(N)},Ve.useState=function(N){return J.current.useState(N)},Ve.useSyncExternalStore=function(N,z,se){return J.current.useSyncExternalStore(N,z,se)},Ve.useTransition=function(){return J.current.useTransition()},Ve.version="18.3.1",Ve}var Qh;function Xu(){return Qh||(Qh=1,hu.exports=Uv()),hu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qh;function Bv(){if(qh)return mo;qh=1;var t=Xu(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(u,f,h){var g,v={},x=null,_=null;h!==void 0&&(x=""+h),f.key!==void 0&&(x=""+f.key),f.ref!==void 0&&(_=f.ref);for(g in f)i.call(f,g)&&!a.hasOwnProperty(g)&&(v[g]=f[g]);if(u&&u.defaultProps)for(g in f=u.defaultProps,f)v[g]===void 0&&(v[g]=f[g]);return{$$typeof:e,type:u,key:x,ref:_,props:v,_owner:o.current}}return mo.Fragment=n,mo.jsx=c,mo.jsxs=c,mo}var Gh;function $v(){return Gh||(Gh=1,fu.exports=Bv()),fu.exports}var y=$v(),S=Xu();const kl=Yu(S),Hv=Yp({__proto__:null,default:kl},[S]);var Ua={},mu={exports:{}},gn={},pu={exports:{}},gu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zh;function Vv(){return Zh||(Zh=1,(function(t){function e(H,Z){var F=H.length;H.push(Z);e:for(;0<F;){var N=F-1>>>1,z=H[N];if(0<o(z,Z))H[N]=Z,H[F]=z,F=N;else break e}}function n(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var Z=H[0],F=H.pop();if(F!==Z){H[0]=F;e:for(var N=0,z=H.length,se=z>>>1;N<se;){var pe=2*(N+1)-1,ye=H[pe],ue=pe+1,Te=H[ue];if(0>o(ye,F))ue<z&&0>o(Te,ye)?(H[N]=Te,H[ue]=F,N=ue):(H[N]=ye,H[pe]=F,N=pe);else if(ue<z&&0>o(Te,F))H[N]=Te,H[ue]=F,N=ue;else break e}}return Z}function o(H,Z){var F=H.sortIndex-Z.sortIndex;return F!==0?F:H.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var c=Date,u=c.now();t.unstable_now=function(){return c.now()-u}}var f=[],h=[],g=1,v=null,x=3,_=!1,w=!1,k=!1,C=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(H){for(var Z=n(h);Z!==null;){if(Z.callback===null)i(h);else if(Z.startTime<=H)i(h),Z.sortIndex=Z.expirationTime,e(f,Z);else break;Z=n(h)}}function A(H){if(k=!1,B(H),!w)if(n(f)!==null)w=!0,me(Y);else{var Z=n(h);Z!==null&&J(A,Z.startTime-H)}}function Y(H,Z){w=!1,k&&(k=!1,T(O),O=-1),_=!0;var F=x;try{for(B(Z),v=n(f);v!==null&&(!(v.expirationTime>Z)||H&&!U());){var N=v.callback;if(typeof N=="function"){v.callback=null,x=v.priorityLevel;var z=N(v.expirationTime<=Z);Z=t.unstable_now(),typeof z=="function"?v.callback=z:v===n(f)&&i(f),B(Z)}else i(f);v=n(f)}if(v!==null)var se=!0;else{var pe=n(h);pe!==null&&J(A,pe.startTime-Z),se=!1}return se}finally{v=null,x=F,_=!1}}var ee=!1,R=null,O=-1,K=5,X=-1;function U(){return!(t.unstable_now()-X<K)}function G(){if(R!==null){var H=t.unstable_now();X=H;var Z=!0;try{Z=R(!0,H)}finally{Z?oe():(ee=!1,R=null)}}else ee=!1}var oe;if(typeof M=="function")oe=function(){M(G)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,fe=de.port2;de.port1.onmessage=G,oe=function(){fe.postMessage(null)}}else oe=function(){C(G,0)};function me(H){R=H,ee||(ee=!0,oe())}function J(H,Z){O=C(function(){H(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){w||_||(w=!0,me(Y))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(H){switch(x){case 1:case 2:case 3:var Z=3;break;default:Z=x}var F=x;x=Z;try{return H()}finally{x=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,Z){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var F=x;x=H;try{return Z()}finally{x=F}},t.unstable_scheduleCallback=function(H,Z,F){var N=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?N+F:N):F=N,H){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=F+z,H={id:g++,callback:Z,priorityLevel:H,startTime:F,expirationTime:z,sortIndex:-1},F>N?(H.sortIndex=F,e(h,H),n(f)===null&&H===n(h)&&(k?(T(O),O=-1):k=!0,J(A,F-N))):(H.sortIndex=z,e(f,H),w||_||(w=!0,me(Y))),H},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(H){var Z=x;return function(){var F=x;x=Z;try{return H.apply(this,arguments)}finally{x=F}}}})(gu)),gu}var Jh;function Wv(){return Jh||(Jh=1,pu.exports=Vv()),pu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var em;function Kv(){if(em)return gn;em=1;var t=Xu(),e=Wv();function n(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function a(r,s){c(r,s),c(r+"Capture",s)}function c(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},v={};function x(r){return f.call(v,r)?!0:f.call(g,r)?!1:h.test(r)?v[r]=!0:(g[r]=!0,!1)}function _(r,s,l,d){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function w(r,s,l,d){if(s===null||typeof s>"u"||_(r,s,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function k(r,s,l,d,m,p,b){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=d,this.attributeNamespace=m,this.mustUseProperty=l,this.propertyName=r,this.type=s,this.sanitizeURL=p,this.removeEmptyString=b}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){C[r]=new k(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];C[s]=new k(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){C[r]=new k(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){C[r]=new k(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){C[r]=new k(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){C[r]=new k(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){C[r]=new k(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){C[r]=new k(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){C[r]=new k(r,5,!1,r.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function M(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(T,M);C[s]=new k(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(T,M);C[s]=new k(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(T,M);C[s]=new k(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){C[r]=new k(r,1,!1,r.toLowerCase(),null,!1,!1)}),C.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){C[r]=new k(r,1,!1,r.toLowerCase(),null,!0,!0)});function B(r,s,l,d){var m=C.hasOwnProperty(s)?C[s]:null;(m!==null?m.type!==0:d||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(w(s,l,m,d)&&(l=null),d||m===null?x(s)&&(l===null?r.removeAttribute(s):r.setAttribute(s,""+l)):m.mustUseProperty?r[m.propertyName]=l===null?m.type===3?!1:"":l:(s=m.attributeName,d=m.attributeNamespace,l===null?r.removeAttribute(s):(m=m.type,l=m===3||m===4&&l===!0?"":""+l,d?r.setAttributeNS(d,s,l):r.setAttribute(s,l))))}var A=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Y=Symbol.for("react.element"),ee=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),X=Symbol.for("react.provider"),U=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),fe=Symbol.for("react.memo"),me=Symbol.for("react.lazy"),J=Symbol.for("react.offscreen"),H=Symbol.iterator;function Z(r){return r===null||typeof r!="object"?null:(r=H&&r[H]||r["@@iterator"],typeof r=="function"?r:null)}var F=Object.assign,N;function z(r){if(N===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);N=s&&s[1]||""}return`
`+N+r}var se=!1;function pe(r,s){if(!r||se)return"";se=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(V){var d=V}Reflect.construct(r,[],s)}else{try{s.call()}catch(V){d=V}r.call(s.prototype)}else{try{throw Error()}catch(V){d=V}r()}}catch(V){if(V&&d&&typeof V.stack=="string"){for(var m=V.stack.split(`
`),p=d.stack.split(`
`),b=m.length-1,E=p.length-1;1<=b&&0<=E&&m[b]!==p[E];)E--;for(;1<=b&&0<=E;b--,E--)if(m[b]!==p[E]){if(b!==1||E!==1)do if(b--,E--,0>E||m[b]!==p[E]){var P=`
`+m[b].replace(" at new "," at ");return r.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",r.displayName)),P}while(1<=b&&0<=E);break}}}finally{se=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?z(r):""}function ye(r){switch(r.tag){case 5:return z(r.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return r=pe(r.type,!1),r;case 11:return r=pe(r.type.render,!1),r;case 1:return r=pe(r.type,!0),r;default:return""}}function ue(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case R:return"Fragment";case ee:return"Portal";case K:return"Profiler";case O:return"StrictMode";case oe:return"Suspense";case de:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case U:return(r.displayName||"Context")+".Consumer";case X:return(r._context.displayName||"Context")+".Provider";case G:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case fe:return s=r.displayName||null,s!==null?s:ue(r.type)||"Memo";case me:s=r._payload,r=r._init;try{return ue(r(s))}catch{}}return null}function Te(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ue(s);case 8:return s===O?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function De(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function ze(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function nt(r){var s=ze(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),d=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,p=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return m.call(this)},set:function(b){d=""+b,p.call(this,b)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(b){d=""+b},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Xt(r){r._valueTracker||(r._valueTracker=nt(r))}function gt(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),d="";return r&&(d=ze(r)?r.checked?"true":"false":r.value),r=d,r!==l?(s.setValue(r),!0):!1}function kt(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Mt(r,s){var l=s.checked;return F({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function Pn(r,s){var l=s.defaultValue==null?"":s.defaultValue,d=s.checked!=null?s.checked:s.defaultChecked;l=De(s.value!=null?s.value:l),r._wrapperState={initialChecked:d,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Qt(r,s){s=s.checked,s!=null&&B(r,"checked",s,!1)}function on(r,s){Qt(r,s);var l=De(s.value),d=s.type;if(l!=null)d==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(d==="submit"||d==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?we(r,s.type,l):s.hasOwnProperty("defaultValue")&&we(r,s.type,De(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function le(r,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var d=s.type;if(!(d!=="submit"&&d!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,l||s===r.value||(r.value=s),r.defaultValue=s}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function we(r,s,l){(s!=="number"||kt(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var $e=Array.isArray;function Ze(r,s,l,d){if(r=r.options,s){s={};for(var m=0;m<l.length;m++)s["$"+l[m]]=!0;for(l=0;l<r.length;l++)m=s.hasOwnProperty("$"+r[l].value),r[l].selected!==m&&(r[l].selected=m),m&&d&&(r[l].defaultSelected=!0)}else{for(l=""+De(l),s=null,m=0;m<r.length;m++){if(r[m].value===l){r[m].selected=!0,d&&(r[m].defaultSelected=!0);return}s!==null||r[m].disabled||(s=r[m])}s!==null&&(s.selected=!0)}}function an(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(n(91));return F({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Tn(r,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(n(92));if($e(l)){if(1<l.length)throw Error(n(93));l=l[0]}s=l}s==null&&(s=""),l=s}r._wrapperState={initialValue:De(l)}}function en(r,s){var l=De(s.value),d=De(s.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),s.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),d!=null&&(r.defaultValue=""+d)}function ln(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function Dn(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ln(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?Dn(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var It,Wt=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,d,m){MSApp.execUnsafeLocalFunction(function(){return r(s,l,d,m)})}:r})(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(It=It||document.createElement("div"),It.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=It.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function q(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var Se={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tt=["Webkit","ms","Moz","O"];Object.keys(Se).forEach(function(r){tt.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Se[s]=Se[r]})});function rt(r,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||Se.hasOwnProperty(r)&&Se[r]?(""+s).trim():s+"px"}function Ct(r,s){r=r.style;for(var l in s)if(s.hasOwnProperty(l)){var d=l.indexOf("--")===0,m=rt(l,s[l],d);l==="float"&&(l="cssFloat"),d?r.setProperty(l,m):r[l]=m}}var zt=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ut(r,s){if(s){if(zt[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(n(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(n(61))}if(s.style!=null&&typeof s.style!="object")throw Error(n(62))}}function yt(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vn=null;function wn(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var gr=null,cn=null,un=null;function Ir(r){if(r=Zs(r)){if(typeof gr!="function")throw Error(n(280));var s=r.stateNode;s&&(s=ta(s),gr(r.stateNode,r.type,s))}}function zr(r){cn?un?un.push(r):un=[r]:cn=r}function bi(){if(cn){var r=cn,s=un;if(un=cn=null,Ir(r),s)for(r=0;r<s.length;r++)Ir(s[r])}}function Ur(r,s){return r(s)}function yr(){}var Sn=!1;function _i(r,s,l){if(Sn)return r(s,l);Sn=!0;try{return Ur(r,s,l)}finally{Sn=!1,(cn!==null||un!==null)&&(yr(),bi())}}function ir(r,s){var l=r.stateNode;if(l===null)return null;var d=ta(l);if(d===null)return null;l=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(n(231,s,typeof l));return l}var j=!1;if(u)try{var L={};Object.defineProperty(L,"passive",{get:function(){j=!0}}),window.addEventListener("test",L,L),window.removeEventListener("test",L,L)}catch{j=!1}function W(r,s,l,d,m,p,b,E,P){var V=Array.prototype.slice.call(arguments,3);try{s.apply(l,V)}catch(re){this.onError(re)}}var te=!1,ce=null,Ne=!1,Me=null,be={onError:function(r){te=!0,ce=r}};function ke(r,s,l,d,m,p,b,E,P){te=!1,ce=null,W.apply(be,arguments)}function xe(r,s,l,d,m,p,b,E,P){if(ke.apply(this,arguments),te){if(te){var V=ce;te=!1,ce=null}else throw Error(n(198));Ne||(Ne=!0,Me=V)}}function he(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function Le(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Ue(r){if(he(r)!==r)throw Error(n(188))}function _t(r){var s=r.alternate;if(!s){if(s=he(r),s===null)throw Error(n(188));return s!==r?null:r}for(var l=r,d=s;;){var m=l.return;if(m===null)break;var p=m.alternate;if(p===null){if(d=m.return,d!==null){l=d;continue}break}if(m.child===p.child){for(p=m.child;p;){if(p===l)return Ue(m),r;if(p===d)return Ue(m),s;p=p.sibling}throw Error(n(188))}if(l.return!==d.return)l=m,d=p;else{for(var b=!1,E=m.child;E;){if(E===l){b=!0,l=m,d=p;break}if(E===d){b=!0,d=m,l=p;break}E=E.sibling}if(!b){for(E=p.child;E;){if(E===l){b=!0,l=p,d=m;break}if(E===d){b=!0,d=p,l=m;break}E=E.sibling}if(!b)throw Error(n(189))}}if(l.alternate!==d)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?r:s}function Je(r){return r=_t(r),r!==null?Ke(r):null}function Ke(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=Ke(r);if(s!==null)return s;r=r.sibling}return null}var lt=e.unstable_scheduleCallback,Wn=e.unstable_cancelCallback,sr=e.unstable_shouldYield,kn=e.unstable_requestPaint,Ye=e.unstable_now,wi=e.unstable_getCurrentPriorityLevel,Kn=e.unstable_ImmediatePriority,An=e.unstable_UserBlockingPriority,Yn=e.unstable_NormalPriority,Xn=e.unstable_LowPriority,We=e.unstable_IdlePriority,it=null,Dt=null;function Br(r){if(Dt&&typeof Dt.onCommitFiberRoot=="function")try{Dt.onCommitFiberRoot(it,r,void 0,(r.current.flags&128)===128)}catch{}}var Xe=Math.clz32?Math.clz32:Be,Q=Math.log,ve=Math.LN2;function Be(r){return r>>>=0,r===0?32:31-(Q(r)/ve|0)|0}var Fe=64,Ae=4194304;function He(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function vt(r,s){var l=r.pendingLanes;if(l===0)return 0;var d=0,m=r.suspendedLanes,p=r.pingedLanes,b=l&268435455;if(b!==0){var E=b&~m;E!==0?d=He(E):(p&=b,p!==0&&(d=He(p)))}else b=l&~m,b!==0?d=He(b):p!==0&&(d=He(p));if(d===0)return 0;if(s!==0&&s!==d&&(s&m)===0&&(m=d&-d,p=s&-s,m>=p||m===16&&(p&4194240)!==0))return s;if((d&4)!==0&&(d|=l&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=d;0<s;)l=31-Xe(s),m=1<<l,d|=r[l],s&=~m;return d}function tn(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $r(r,s){for(var l=r.suspendedLanes,d=r.pingedLanes,m=r.expirationTimes,p=r.pendingLanes;0<p;){var b=31-Xe(p),E=1<<b,P=m[b];P===-1?((E&l)===0||(E&d)!==0)&&(m[b]=tn(E,s)):P<=s&&(r.expiredLanes|=E),p&=~E}}function vr(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Qi(){var r=Fe;return Fe<<=1,(Fe&4194240)===0&&(Fe=64),r}function Ll(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function As(r,s,l){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-Xe(s),r[s]=l}function ay(r,s){var l=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var d=r.eventTimes;for(r=r.expirationTimes;0<l;){var m=31-Xe(l),p=1<<m;s[m]=0,d[m]=-1,r[m]=-1,l&=~p}}function Al(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var d=31-Xe(l),m=1<<d;m&s|r[d]&s&&(r[d]|=s),l&=~m}}var st=0;function Cd(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Ed,Ol,Nd,jd,Md,Fl=!1,Uo=[],Hr=null,Vr=null,Wr=null,Os=new Map,Fs=new Map,Kr=[],ly="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rd(r,s){switch(r){case"focusin":case"focusout":Hr=null;break;case"dragenter":case"dragleave":Vr=null;break;case"mouseover":case"mouseout":Wr=null;break;case"pointerover":case"pointerout":Os.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fs.delete(s.pointerId)}}function Is(r,s,l,d,m,p){return r===null||r.nativeEvent!==p?(r={blockedOn:s,domEventName:l,eventSystemFlags:d,nativeEvent:p,targetContainers:[m]},s!==null&&(s=Zs(s),s!==null&&Ol(s)),r):(r.eventSystemFlags|=d,s=r.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),r)}function cy(r,s,l,d,m){switch(s){case"focusin":return Hr=Is(Hr,r,s,l,d,m),!0;case"dragenter":return Vr=Is(Vr,r,s,l,d,m),!0;case"mouseover":return Wr=Is(Wr,r,s,l,d,m),!0;case"pointerover":var p=m.pointerId;return Os.set(p,Is(Os.get(p)||null,r,s,l,d,m)),!0;case"gotpointercapture":return p=m.pointerId,Fs.set(p,Is(Fs.get(p)||null,r,s,l,d,m)),!0}return!1}function Pd(r){var s=Si(r.target);if(s!==null){var l=he(s);if(l!==null){if(s=l.tag,s===13){if(s=Le(l),s!==null){r.blockedOn=s,Md(r.priority,function(){Nd(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Bo(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=zl(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var d=new l.constructor(l.type,l);Vn=d,l.target.dispatchEvent(d),Vn=null}else return s=Zs(l),s!==null&&Ol(s),r.blockedOn=l,!1;s.shift()}return!0}function Td(r,s,l){Bo(r)&&l.delete(s)}function uy(){Fl=!1,Hr!==null&&Bo(Hr)&&(Hr=null),Vr!==null&&Bo(Vr)&&(Vr=null),Wr!==null&&Bo(Wr)&&(Wr=null),Os.forEach(Td),Fs.forEach(Td)}function zs(r,s){r.blockedOn===s&&(r.blockedOn=null,Fl||(Fl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,uy)))}function Us(r){function s(m){return zs(m,r)}if(0<Uo.length){zs(Uo[0],r);for(var l=1;l<Uo.length;l++){var d=Uo[l];d.blockedOn===r&&(d.blockedOn=null)}}for(Hr!==null&&zs(Hr,r),Vr!==null&&zs(Vr,r),Wr!==null&&zs(Wr,r),Os.forEach(s),Fs.forEach(s),l=0;l<Kr.length;l++)d=Kr[l],d.blockedOn===r&&(d.blockedOn=null);for(;0<Kr.length&&(l=Kr[0],l.blockedOn===null);)Pd(l),l.blockedOn===null&&Kr.shift()}var qi=A.ReactCurrentBatchConfig,$o=!0;function dy(r,s,l,d){var m=st,p=qi.transition;qi.transition=null;try{st=1,Il(r,s,l,d)}finally{st=m,qi.transition=p}}function fy(r,s,l,d){var m=st,p=qi.transition;qi.transition=null;try{st=4,Il(r,s,l,d)}finally{st=m,qi.transition=p}}function Il(r,s,l,d){if($o){var m=zl(r,s,l,d);if(m===null)nc(r,s,d,Ho,l),Rd(r,d);else if(cy(m,r,s,l,d))d.stopPropagation();else if(Rd(r,d),s&4&&-1<ly.indexOf(r)){for(;m!==null;){var p=Zs(m);if(p!==null&&Ed(p),p=zl(r,s,l,d),p===null&&nc(r,s,d,Ho,l),p===m)break;m=p}m!==null&&d.stopPropagation()}else nc(r,s,d,null,l)}}var Ho=null;function zl(r,s,l,d){if(Ho=null,r=wn(d),r=Si(r),r!==null)if(s=he(r),s===null)r=null;else if(l=s.tag,l===13){if(r=Le(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Ho=r,null}function Dd(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wi()){case Kn:return 1;case An:return 4;case Yn:case Xn:return 16;case We:return 536870912;default:return 16}default:return 16}}var Yr=null,Ul=null,Vo=null;function Ld(){if(Vo)return Vo;var r,s=Ul,l=s.length,d,m="value"in Yr?Yr.value:Yr.textContent,p=m.length;for(r=0;r<l&&s[r]===m[r];r++);var b=l-r;for(d=1;d<=b&&s[l-d]===m[p-d];d++);return Vo=m.slice(r,1<d?1-d:void 0)}function Wo(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Ko(){return!0}function Ad(){return!1}function Cn(r){function s(l,d,m,p,b){this._reactName=l,this._targetInst=m,this.type=d,this.nativeEvent=p,this.target=b,this.currentTarget=null;for(var E in r)r.hasOwnProperty(E)&&(l=r[E],this[E]=l?l(p):p[E]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Ko:Ad,this.isPropagationStopped=Ad,this}return F(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ko)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ko)},persist:function(){},isPersistent:Ko}),s}var Gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bl=Cn(Gi),Bs=F({},Gi,{view:0,detail:0}),hy=Cn(Bs),$l,Hl,$s,Yo=F({},Bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wl,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==$s&&($s&&r.type==="mousemove"?($l=r.screenX-$s.screenX,Hl=r.screenY-$s.screenY):Hl=$l=0,$s=r),$l)},movementY:function(r){return"movementY"in r?r.movementY:Hl}}),Od=Cn(Yo),my=F({},Yo,{dataTransfer:0}),py=Cn(my),gy=F({},Bs,{relatedTarget:0}),Vl=Cn(gy),yy=F({},Gi,{animationName:0,elapsedTime:0,pseudoElement:0}),vy=Cn(yy),xy=F({},Gi,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),by=Cn(xy),_y=F({},Gi,{data:0}),Fd=Cn(_y),wy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ky={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cy(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=ky[r])?!!s[r]:!1}function Wl(){return Cy}var Ey=F({},Bs,{key:function(r){if(r.key){var s=wy[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Wo(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Sy[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wl,charCode:function(r){return r.type==="keypress"?Wo(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Wo(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Ny=Cn(Ey),jy=F({},Yo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Id=Cn(jy),My=F({},Bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wl}),Ry=Cn(My),Py=F({},Gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ty=Cn(Py),Dy=F({},Yo,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Ly=Cn(Dy),Ay=[9,13,27,32],Kl=u&&"CompositionEvent"in window,Hs=null;u&&"documentMode"in document&&(Hs=document.documentMode);var Oy=u&&"TextEvent"in window&&!Hs,zd=u&&(!Kl||Hs&&8<Hs&&11>=Hs),Ud=" ",Bd=!1;function $d(r,s){switch(r){case"keyup":return Ay.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hd(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Zi=!1;function Fy(r,s){switch(r){case"compositionend":return Hd(s);case"keypress":return s.which!==32?null:(Bd=!0,Ud);case"textInput":return r=s.data,r===Ud&&Bd?null:r;default:return null}}function Iy(r,s){if(Zi)return r==="compositionend"||!Kl&&$d(r,s)?(r=Ld(),Vo=Ul=Yr=null,Zi=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return zd&&s.locale!=="ko"?null:s.data;default:return null}}var zy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vd(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!zy[r.type]:s==="textarea"}function Wd(r,s,l,d){zr(d),s=Zo(s,"onChange"),0<s.length&&(l=new Bl("onChange","change",null,l,d),r.push({event:l,listeners:s}))}var Vs=null,Ws=null;function Uy(r){uf(r,0)}function Xo(r){var s=rs(r);if(gt(s))return r}function By(r,s){if(r==="change")return s}var Kd=!1;if(u){var Yl;if(u){var Xl="oninput"in document;if(!Xl){var Yd=document.createElement("div");Yd.setAttribute("oninput","return;"),Xl=typeof Yd.oninput=="function"}Yl=Xl}else Yl=!1;Kd=Yl&&(!document.documentMode||9<document.documentMode)}function Xd(){Vs&&(Vs.detachEvent("onpropertychange",Qd),Ws=Vs=null)}function Qd(r){if(r.propertyName==="value"&&Xo(Ws)){var s=[];Wd(s,Ws,r,wn(r)),_i(Uy,s)}}function $y(r,s,l){r==="focusin"?(Xd(),Vs=s,Ws=l,Vs.attachEvent("onpropertychange",Qd)):r==="focusout"&&Xd()}function Hy(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Xo(Ws)}function Vy(r,s){if(r==="click")return Xo(s)}function Wy(r,s){if(r==="input"||r==="change")return Xo(s)}function Ky(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Qn=typeof Object.is=="function"?Object.is:Ky;function Ks(r,s){if(Qn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),d=Object.keys(s);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var m=l[d];if(!f.call(s,m)||!Qn(r[m],s[m]))return!1}return!0}function qd(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Gd(r,s){var l=qd(r);r=0;for(var d;l;){if(l.nodeType===3){if(d=r+l.textContent.length,r<=s&&d>=s)return{node:l,offset:s-r};r=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=qd(l)}}function Zd(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Zd(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Jd(){for(var r=window,s=kt();s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=kt(r.document)}return s}function Ql(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function Yy(r){var s=Jd(),l=r.focusedElem,d=r.selectionRange;if(s!==l&&l&&l.ownerDocument&&Zd(l.ownerDocument.documentElement,l)){if(d!==null&&Ql(l)){if(s=d.start,r=d.end,r===void 0&&(r=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(r,l.value.length);else if(r=(s=l.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var m=l.textContent.length,p=Math.min(d.start,m);d=d.end===void 0?p:Math.min(d.end,m),!r.extend&&p>d&&(m=d,d=p,p=m),m=Gd(l,p);var b=Gd(l,d);m&&b&&(r.rangeCount!==1||r.anchorNode!==m.node||r.anchorOffset!==m.offset||r.focusNode!==b.node||r.focusOffset!==b.offset)&&(s=s.createRange(),s.setStart(m.node,m.offset),r.removeAllRanges(),p>d?(r.addRange(s),r.extend(b.node,b.offset)):(s.setEnd(b.node,b.offset),r.addRange(s)))}}for(s=[],r=l;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)r=s[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var Xy=u&&"documentMode"in document&&11>=document.documentMode,Ji=null,ql=null,Ys=null,Gl=!1;function ef(r,s,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Gl||Ji==null||Ji!==kt(d)||(d=Ji,"selectionStart"in d&&Ql(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Ys&&Ks(Ys,d)||(Ys=d,d=Zo(ql,"onSelect"),0<d.length&&(s=new Bl("onSelect","select",null,s,l),r.push({event:s,listeners:d}),s.target=Ji)))}function Qo(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var es={animationend:Qo("Animation","AnimationEnd"),animationiteration:Qo("Animation","AnimationIteration"),animationstart:Qo("Animation","AnimationStart"),transitionend:Qo("Transition","TransitionEnd")},Zl={},tf={};u&&(tf=document.createElement("div").style,"AnimationEvent"in window||(delete es.animationend.animation,delete es.animationiteration.animation,delete es.animationstart.animation),"TransitionEvent"in window||delete es.transitionend.transition);function qo(r){if(Zl[r])return Zl[r];if(!es[r])return r;var s=es[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in tf)return Zl[r]=s[l];return r}var nf=qo("animationend"),rf=qo("animationiteration"),sf=qo("animationstart"),of=qo("transitionend"),af=new Map,lf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xr(r,s){af.set(r,s),a(s,[r])}for(var Jl=0;Jl<lf.length;Jl++){var ec=lf[Jl],Qy=ec.toLowerCase(),qy=ec[0].toUpperCase()+ec.slice(1);Xr(Qy,"on"+qy)}Xr(nf,"onAnimationEnd"),Xr(rf,"onAnimationIteration"),Xr(sf,"onAnimationStart"),Xr("dblclick","onDoubleClick"),Xr("focusin","onFocus"),Xr("focusout","onBlur"),Xr(of,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gy=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xs));function cf(r,s,l){var d=r.type||"unknown-event";r.currentTarget=l,xe(d,s,void 0,r),r.currentTarget=null}function uf(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var d=r[l],m=d.event;d=d.listeners;e:{var p=void 0;if(s)for(var b=d.length-1;0<=b;b--){var E=d[b],P=E.instance,V=E.currentTarget;if(E=E.listener,P!==p&&m.isPropagationStopped())break e;cf(m,E,V),p=P}else for(b=0;b<d.length;b++){if(E=d[b],P=E.instance,V=E.currentTarget,E=E.listener,P!==p&&m.isPropagationStopped())break e;cf(m,E,V),p=P}}}if(Ne)throw r=Me,Ne=!1,Me=null,r}function ft(r,s){var l=s[lc];l===void 0&&(l=s[lc]=new Set);var d=r+"__bubble";l.has(d)||(df(s,r,2,!1),l.add(d))}function tc(r,s,l){var d=0;s&&(d|=4),df(l,r,d,s)}var Go="_reactListening"+Math.random().toString(36).slice(2);function Qs(r){if(!r[Go]){r[Go]=!0,i.forEach(function(l){l!=="selectionchange"&&(Gy.has(l)||tc(l,!1,r),tc(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Go]||(s[Go]=!0,tc("selectionchange",!1,s))}}function df(r,s,l,d){switch(Dd(s)){case 1:var m=dy;break;case 4:m=fy;break;default:m=Il}l=m.bind(null,s,l,r),m=void 0,!j||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),d?m!==void 0?r.addEventListener(s,l,{capture:!0,passive:m}):r.addEventListener(s,l,!0):m!==void 0?r.addEventListener(s,l,{passive:m}):r.addEventListener(s,l,!1)}function nc(r,s,l,d,m){var p=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var b=d.tag;if(b===3||b===4){var E=d.stateNode.containerInfo;if(E===m||E.nodeType===8&&E.parentNode===m)break;if(b===4)for(b=d.return;b!==null;){var P=b.tag;if((P===3||P===4)&&(P=b.stateNode.containerInfo,P===m||P.nodeType===8&&P.parentNode===m))return;b=b.return}for(;E!==null;){if(b=Si(E),b===null)return;if(P=b.tag,P===5||P===6){d=p=b;continue e}E=E.parentNode}}d=d.return}_i(function(){var V=p,re=wn(l),ie=[];e:{var ne=af.get(r);if(ne!==void 0){var ge=Bl,Ce=r;switch(r){case"keypress":if(Wo(l)===0)break e;case"keydown":case"keyup":ge=Ny;break;case"focusin":Ce="focus",ge=Vl;break;case"focusout":Ce="blur",ge=Vl;break;case"beforeblur":case"afterblur":ge=Vl;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=Od;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=py;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=Ry;break;case nf:case rf:case sf:ge=vy;break;case of:ge=Ty;break;case"scroll":ge=hy;break;case"wheel":ge=Ly;break;case"copy":case"cut":case"paste":ge=by;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=Id}var Ee=(s&4)!==0,Nt=!Ee&&r==="scroll",I=Ee?ne!==null?ne+"Capture":null:ne;Ee=[];for(var D=V,$;D!==null;){$=D;var ae=$.stateNode;if($.tag===5&&ae!==null&&($=ae,I!==null&&(ae=ir(D,I),ae!=null&&Ee.push(qs(D,ae,$)))),Nt)break;D=D.return}0<Ee.length&&(ne=new ge(ne,Ce,null,l,re),ie.push({event:ne,listeners:Ee}))}}if((s&7)===0){e:{if(ne=r==="mouseover"||r==="pointerover",ge=r==="mouseout"||r==="pointerout",ne&&l!==Vn&&(Ce=l.relatedTarget||l.fromElement)&&(Si(Ce)||Ce[xr]))break e;if((ge||ne)&&(ne=re.window===re?re:(ne=re.ownerDocument)?ne.defaultView||ne.parentWindow:window,ge?(Ce=l.relatedTarget||l.toElement,ge=V,Ce=Ce?Si(Ce):null,Ce!==null&&(Nt=he(Ce),Ce!==Nt||Ce.tag!==5&&Ce.tag!==6)&&(Ce=null)):(ge=null,Ce=V),ge!==Ce)){if(Ee=Od,ae="onMouseLeave",I="onMouseEnter",D="mouse",(r==="pointerout"||r==="pointerover")&&(Ee=Id,ae="onPointerLeave",I="onPointerEnter",D="pointer"),Nt=ge==null?ne:rs(ge),$=Ce==null?ne:rs(Ce),ne=new Ee(ae,D+"leave",ge,l,re),ne.target=Nt,ne.relatedTarget=$,ae=null,Si(re)===V&&(Ee=new Ee(I,D+"enter",Ce,l,re),Ee.target=$,Ee.relatedTarget=Nt,ae=Ee),Nt=ae,ge&&Ce)t:{for(Ee=ge,I=Ce,D=0,$=Ee;$;$=ts($))D++;for($=0,ae=I;ae;ae=ts(ae))$++;for(;0<D-$;)Ee=ts(Ee),D--;for(;0<$-D;)I=ts(I),$--;for(;D--;){if(Ee===I||I!==null&&Ee===I.alternate)break t;Ee=ts(Ee),I=ts(I)}Ee=null}else Ee=null;ge!==null&&ff(ie,ne,ge,Ee,!1),Ce!==null&&Nt!==null&&ff(ie,Nt,Ce,Ee,!0)}}e:{if(ne=V?rs(V):window,ge=ne.nodeName&&ne.nodeName.toLowerCase(),ge==="select"||ge==="input"&&ne.type==="file")var je=By;else if(Vd(ne))if(Kd)je=Wy;else{je=Hy;var Re=$y}else(ge=ne.nodeName)&&ge.toLowerCase()==="input"&&(ne.type==="checkbox"||ne.type==="radio")&&(je=Vy);if(je&&(je=je(r,V))){Wd(ie,je,l,re);break e}Re&&Re(r,ne,V),r==="focusout"&&(Re=ne._wrapperState)&&Re.controlled&&ne.type==="number"&&we(ne,"number",ne.value)}switch(Re=V?rs(V):window,r){case"focusin":(Vd(Re)||Re.contentEditable==="true")&&(Ji=Re,ql=V,Ys=null);break;case"focusout":Ys=ql=Ji=null;break;case"mousedown":Gl=!0;break;case"contextmenu":case"mouseup":case"dragend":Gl=!1,ef(ie,l,re);break;case"selectionchange":if(Xy)break;case"keydown":case"keyup":ef(ie,l,re)}var Pe;if(Kl)e:{switch(r){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else Zi?$d(r,l)&&(Oe="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Oe="onCompositionStart");Oe&&(zd&&l.locale!=="ko"&&(Zi||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Zi&&(Pe=Ld()):(Yr=re,Ul="value"in Yr?Yr.value:Yr.textContent,Zi=!0)),Re=Zo(V,Oe),0<Re.length&&(Oe=new Fd(Oe,r,null,l,re),ie.push({event:Oe,listeners:Re}),Pe?Oe.data=Pe:(Pe=Hd(l),Pe!==null&&(Oe.data=Pe)))),(Pe=Oy?Fy(r,l):Iy(r,l))&&(V=Zo(V,"onBeforeInput"),0<V.length&&(re=new Fd("onBeforeInput","beforeinput",null,l,re),ie.push({event:re,listeners:V}),re.data=Pe))}uf(ie,s)})}function qs(r,s,l){return{instance:r,listener:s,currentTarget:l}}function Zo(r,s){for(var l=s+"Capture",d=[];r!==null;){var m=r,p=m.stateNode;m.tag===5&&p!==null&&(m=p,p=ir(r,l),p!=null&&d.unshift(qs(r,p,m)),p=ir(r,s),p!=null&&d.push(qs(r,p,m))),r=r.return}return d}function ts(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function ff(r,s,l,d,m){for(var p=s._reactName,b=[];l!==null&&l!==d;){var E=l,P=E.alternate,V=E.stateNode;if(P!==null&&P===d)break;E.tag===5&&V!==null&&(E=V,m?(P=ir(l,p),P!=null&&b.unshift(qs(l,P,E))):m||(P=ir(l,p),P!=null&&b.push(qs(l,P,E)))),l=l.return}b.length!==0&&r.push({event:s,listeners:b})}var Zy=/\r\n?/g,Jy=/\u0000|\uFFFD/g;function hf(r){return(typeof r=="string"?r:""+r).replace(Zy,`
`).replace(Jy,"")}function Jo(r,s,l){if(s=hf(s),hf(r)!==s&&l)throw Error(n(425))}function ea(){}var rc=null,ic=null;function sc(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var oc=typeof setTimeout=="function"?setTimeout:void 0,ev=typeof clearTimeout=="function"?clearTimeout:void 0,mf=typeof Promise=="function"?Promise:void 0,tv=typeof queueMicrotask=="function"?queueMicrotask:typeof mf<"u"?function(r){return mf.resolve(null).then(r).catch(nv)}:oc;function nv(r){setTimeout(function(){throw r})}function ac(r,s){var l=s,d=0;do{var m=l.nextSibling;if(r.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(d===0){r.removeChild(m),Us(s);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=m}while(l);Us(s)}function Qr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function pf(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}var ns=Math.random().toString(36).slice(2),or="__reactFiber$"+ns,Gs="__reactProps$"+ns,xr="__reactContainer$"+ns,lc="__reactEvents$"+ns,rv="__reactListeners$"+ns,iv="__reactHandles$"+ns;function Si(r){var s=r[or];if(s)return s;for(var l=r.parentNode;l;){if(s=l[xr]||l[or]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=pf(r);r!==null;){if(l=r[or])return l;r=pf(r)}return s}r=l,l=r.parentNode}return null}function Zs(r){return r=r[or]||r[xr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function rs(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function ta(r){return r[Gs]||null}var cc=[],is=-1;function qr(r){return{current:r}}function ht(r){0>is||(r.current=cc[is],cc[is]=null,is--)}function ut(r,s){is++,cc[is]=r.current,r.current=s}var Gr={},qt=qr(Gr),dn=qr(!1),ki=Gr;function ss(r,s){var l=r.type.contextTypes;if(!l)return Gr;var d=r.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===s)return d.__reactInternalMemoizedMaskedChildContext;var m={},p;for(p in l)m[p]=s[p];return d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=m),m}function fn(r){return r=r.childContextTypes,r!=null}function na(){ht(dn),ht(qt)}function gf(r,s,l){if(qt.current!==Gr)throw Error(n(168));ut(qt,s),ut(dn,l)}function yf(r,s,l){var d=r.stateNode;if(s=s.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var m in d)if(!(m in s))throw Error(n(108,Te(r)||"Unknown",m));return F({},l,d)}function ra(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Gr,ki=qt.current,ut(qt,r),ut(dn,dn.current),!0}function vf(r,s,l){var d=r.stateNode;if(!d)throw Error(n(169));l?(r=yf(r,s,ki),d.__reactInternalMemoizedMergedChildContext=r,ht(dn),ht(qt),ut(qt,r)):ht(dn),ut(dn,l)}var br=null,ia=!1,uc=!1;function xf(r){br===null?br=[r]:br.push(r)}function sv(r){ia=!0,xf(r)}function Zr(){if(!uc&&br!==null){uc=!0;var r=0,s=st;try{var l=br;for(st=1;r<l.length;r++){var d=l[r];do d=d(!0);while(d!==null)}br=null,ia=!1}catch(m){throw br!==null&&(br=br.slice(r+1)),lt(Kn,Zr),m}finally{st=s,uc=!1}}return null}var os=[],as=0,sa=null,oa=0,On=[],Fn=0,Ci=null,_r=1,wr="";function Ei(r,s){os[as++]=oa,os[as++]=sa,sa=r,oa=s}function bf(r,s,l){On[Fn++]=_r,On[Fn++]=wr,On[Fn++]=Ci,Ci=r;var d=_r;r=wr;var m=32-Xe(d)-1;d&=~(1<<m),l+=1;var p=32-Xe(s)+m;if(30<p){var b=m-m%5;p=(d&(1<<b)-1).toString(32),d>>=b,m-=b,_r=1<<32-Xe(s)+m|l<<m|d,wr=p+r}else _r=1<<p|l<<m|d,wr=r}function dc(r){r.return!==null&&(Ei(r,1),bf(r,1,0))}function fc(r){for(;r===sa;)sa=os[--as],os[as]=null,oa=os[--as],os[as]=null;for(;r===Ci;)Ci=On[--Fn],On[Fn]=null,wr=On[--Fn],On[Fn]=null,_r=On[--Fn],On[Fn]=null}var En=null,Nn=null,xt=!1,qn=null;function _f(r,s){var l=Bn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=r,s=r.deletions,s===null?(r.deletions=[l],r.flags|=16):s.push(l)}function wf(r,s){switch(r.tag){case 5:var l=r.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,En=r,Nn=Qr(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,En=r,Nn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=Ci!==null?{id:_r,overflow:wr}:null,r.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=Bn(18,null,null,0),l.stateNode=s,l.return=r,r.child=l,En=r,Nn=null,!0):!1;default:return!1}}function hc(r){return(r.mode&1)!==0&&(r.flags&128)===0}function mc(r){if(xt){var s=Nn;if(s){var l=s;if(!wf(r,s)){if(hc(r))throw Error(n(418));s=Qr(l.nextSibling);var d=En;s&&wf(r,s)?_f(d,l):(r.flags=r.flags&-4097|2,xt=!1,En=r)}}else{if(hc(r))throw Error(n(418));r.flags=r.flags&-4097|2,xt=!1,En=r}}}function Sf(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;En=r}function aa(r){if(r!==En)return!1;if(!xt)return Sf(r),xt=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!sc(r.type,r.memoizedProps)),s&&(s=Nn)){if(hc(r))throw kf(),Error(n(418));for(;s;)_f(r,s),s=Qr(s.nextSibling)}if(Sf(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(s===0){Nn=Qr(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}r=r.nextSibling}Nn=null}}else Nn=En?Qr(r.stateNode.nextSibling):null;return!0}function kf(){for(var r=Nn;r;)r=Qr(r.nextSibling)}function ls(){Nn=En=null,xt=!1}function pc(r){qn===null?qn=[r]:qn.push(r)}var ov=A.ReactCurrentBatchConfig;function Js(r,s,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(n(309));var d=l.stateNode}if(!d)throw Error(n(147,r));var m=d,p=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===p?s.ref:(s=function(b){var E=m.refs;b===null?delete E[p]:E[p]=b},s._stringRef=p,s)}if(typeof r!="string")throw Error(n(284));if(!l._owner)throw Error(n(290,r))}return r}function la(r,s){throw r=Object.prototype.toString.call(s),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Cf(r){var s=r._init;return s(r._payload)}function Ef(r){function s(I,D){if(r){var $=I.deletions;$===null?(I.deletions=[D],I.flags|=16):$.push(D)}}function l(I,D){if(!r)return null;for(;D!==null;)s(I,D),D=D.sibling;return null}function d(I,D){for(I=new Map;D!==null;)D.key!==null?I.set(D.key,D):I.set(D.index,D),D=D.sibling;return I}function m(I,D){return I=oi(I,D),I.index=0,I.sibling=null,I}function p(I,D,$){return I.index=$,r?($=I.alternate,$!==null?($=$.index,$<D?(I.flags|=2,D):$):(I.flags|=2,D)):(I.flags|=1048576,D)}function b(I){return r&&I.alternate===null&&(I.flags|=2),I}function E(I,D,$,ae){return D===null||D.tag!==6?(D=ou($,I.mode,ae),D.return=I,D):(D=m(D,$),D.return=I,D)}function P(I,D,$,ae){var je=$.type;return je===R?re(I,D,$.props.children,ae,$.key):D!==null&&(D.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===me&&Cf(je)===D.type)?(ae=m(D,$.props),ae.ref=Js(I,D,$),ae.return=I,ae):(ae=Ta($.type,$.key,$.props,null,I.mode,ae),ae.ref=Js(I,D,$),ae.return=I,ae)}function V(I,D,$,ae){return D===null||D.tag!==4||D.stateNode.containerInfo!==$.containerInfo||D.stateNode.implementation!==$.implementation?(D=au($,I.mode,ae),D.return=I,D):(D=m(D,$.children||[]),D.return=I,D)}function re(I,D,$,ae,je){return D===null||D.tag!==7?(D=Li($,I.mode,ae,je),D.return=I,D):(D=m(D,$),D.return=I,D)}function ie(I,D,$){if(typeof D=="string"&&D!==""||typeof D=="number")return D=ou(""+D,I.mode,$),D.return=I,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Y:return $=Ta(D.type,D.key,D.props,null,I.mode,$),$.ref=Js(I,null,D),$.return=I,$;case ee:return D=au(D,I.mode,$),D.return=I,D;case me:var ae=D._init;return ie(I,ae(D._payload),$)}if($e(D)||Z(D))return D=Li(D,I.mode,$,null),D.return=I,D;la(I,D)}return null}function ne(I,D,$,ae){var je=D!==null?D.key:null;if(typeof $=="string"&&$!==""||typeof $=="number")return je!==null?null:E(I,D,""+$,ae);if(typeof $=="object"&&$!==null){switch($.$$typeof){case Y:return $.key===je?P(I,D,$,ae):null;case ee:return $.key===je?V(I,D,$,ae):null;case me:return je=$._init,ne(I,D,je($._payload),ae)}if($e($)||Z($))return je!==null?null:re(I,D,$,ae,null);la(I,$)}return null}function ge(I,D,$,ae,je){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return I=I.get($)||null,E(D,I,""+ae,je);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case Y:return I=I.get(ae.key===null?$:ae.key)||null,P(D,I,ae,je);case ee:return I=I.get(ae.key===null?$:ae.key)||null,V(D,I,ae,je);case me:var Re=ae._init;return ge(I,D,$,Re(ae._payload),je)}if($e(ae)||Z(ae))return I=I.get($)||null,re(D,I,ae,je,null);la(D,ae)}return null}function Ce(I,D,$,ae){for(var je=null,Re=null,Pe=D,Oe=D=0,Ht=null;Pe!==null&&Oe<$.length;Oe++){Pe.index>Oe?(Ht=Pe,Pe=null):Ht=Pe.sibling;var et=ne(I,Pe,$[Oe],ae);if(et===null){Pe===null&&(Pe=Ht);break}r&&Pe&&et.alternate===null&&s(I,Pe),D=p(et,D,Oe),Re===null?je=et:Re.sibling=et,Re=et,Pe=Ht}if(Oe===$.length)return l(I,Pe),xt&&Ei(I,Oe),je;if(Pe===null){for(;Oe<$.length;Oe++)Pe=ie(I,$[Oe],ae),Pe!==null&&(D=p(Pe,D,Oe),Re===null?je=Pe:Re.sibling=Pe,Re=Pe);return xt&&Ei(I,Oe),je}for(Pe=d(I,Pe);Oe<$.length;Oe++)Ht=ge(Pe,I,Oe,$[Oe],ae),Ht!==null&&(r&&Ht.alternate!==null&&Pe.delete(Ht.key===null?Oe:Ht.key),D=p(Ht,D,Oe),Re===null?je=Ht:Re.sibling=Ht,Re=Ht);return r&&Pe.forEach(function(ai){return s(I,ai)}),xt&&Ei(I,Oe),je}function Ee(I,D,$,ae){var je=Z($);if(typeof je!="function")throw Error(n(150));if($=je.call($),$==null)throw Error(n(151));for(var Re=je=null,Pe=D,Oe=D=0,Ht=null,et=$.next();Pe!==null&&!et.done;Oe++,et=$.next()){Pe.index>Oe?(Ht=Pe,Pe=null):Ht=Pe.sibling;var ai=ne(I,Pe,et.value,ae);if(ai===null){Pe===null&&(Pe=Ht);break}r&&Pe&&ai.alternate===null&&s(I,Pe),D=p(ai,D,Oe),Re===null?je=ai:Re.sibling=ai,Re=ai,Pe=Ht}if(et.done)return l(I,Pe),xt&&Ei(I,Oe),je;if(Pe===null){for(;!et.done;Oe++,et=$.next())et=ie(I,et.value,ae),et!==null&&(D=p(et,D,Oe),Re===null?je=et:Re.sibling=et,Re=et);return xt&&Ei(I,Oe),je}for(Pe=d(I,Pe);!et.done;Oe++,et=$.next())et=ge(Pe,I,Oe,et.value,ae),et!==null&&(r&&et.alternate!==null&&Pe.delete(et.key===null?Oe:et.key),D=p(et,D,Oe),Re===null?je=et:Re.sibling=et,Re=et);return r&&Pe.forEach(function(zv){return s(I,zv)}),xt&&Ei(I,Oe),je}function Nt(I,D,$,ae){if(typeof $=="object"&&$!==null&&$.type===R&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case Y:e:{for(var je=$.key,Re=D;Re!==null;){if(Re.key===je){if(je=$.type,je===R){if(Re.tag===7){l(I,Re.sibling),D=m(Re,$.props.children),D.return=I,I=D;break e}}else if(Re.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===me&&Cf(je)===Re.type){l(I,Re.sibling),D=m(Re,$.props),D.ref=Js(I,Re,$),D.return=I,I=D;break e}l(I,Re);break}else s(I,Re);Re=Re.sibling}$.type===R?(D=Li($.props.children,I.mode,ae,$.key),D.return=I,I=D):(ae=Ta($.type,$.key,$.props,null,I.mode,ae),ae.ref=Js(I,D,$),ae.return=I,I=ae)}return b(I);case ee:e:{for(Re=$.key;D!==null;){if(D.key===Re)if(D.tag===4&&D.stateNode.containerInfo===$.containerInfo&&D.stateNode.implementation===$.implementation){l(I,D.sibling),D=m(D,$.children||[]),D.return=I,I=D;break e}else{l(I,D);break}else s(I,D);D=D.sibling}D=au($,I.mode,ae),D.return=I,I=D}return b(I);case me:return Re=$._init,Nt(I,D,Re($._payload),ae)}if($e($))return Ce(I,D,$,ae);if(Z($))return Ee(I,D,$,ae);la(I,$)}return typeof $=="string"&&$!==""||typeof $=="number"?($=""+$,D!==null&&D.tag===6?(l(I,D.sibling),D=m(D,$),D.return=I,I=D):(l(I,D),D=ou($,I.mode,ae),D.return=I,I=D),b(I)):l(I,D)}return Nt}var cs=Ef(!0),Nf=Ef(!1),ca=qr(null),ua=null,us=null,gc=null;function yc(){gc=us=ua=null}function vc(r){var s=ca.current;ht(ca),r._currentValue=s}function xc(r,s,l){for(;r!==null;){var d=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),r===l)break;r=r.return}}function ds(r,s){ua=r,gc=us=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(hn=!0),r.firstContext=null)}function In(r){var s=r._currentValue;if(gc!==r)if(r={context:r,memoizedValue:s,next:null},us===null){if(ua===null)throw Error(n(308));us=r,ua.dependencies={lanes:0,firstContext:r}}else us=us.next=r;return s}var Ni=null;function bc(r){Ni===null?Ni=[r]:Ni.push(r)}function jf(r,s,l,d){var m=s.interleaved;return m===null?(l.next=l,bc(s)):(l.next=m.next,m.next=l),s.interleaved=l,Sr(r,d)}function Sr(r,s){r.lanes|=s;var l=r.alternate;for(l!==null&&(l.lanes|=s),l=r,r=r.return;r!==null;)r.childLanes|=s,l=r.alternate,l!==null&&(l.childLanes|=s),l=r,r=r.return;return l.tag===3?l.stateNode:null}var Jr=!1;function _c(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mf(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function kr(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function ei(r,s,l){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(Qe&2)!==0){var m=d.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),d.pending=s,Sr(r,l)}return m=d.interleaved,m===null?(s.next=s,bc(d)):(s.next=m.next,m.next=s),d.interleaved=s,Sr(r,l)}function da(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var d=s.lanes;d&=r.pendingLanes,l|=d,s.lanes=l,Al(r,l)}}function Rf(r,s){var l=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var m=null,p=null;if(l=l.firstBaseUpdate,l!==null){do{var b={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};p===null?m=p=b:p=p.next=b,l=l.next}while(l!==null);p===null?m=p=s:p=p.next=s}else m=p=s;l={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:p,shared:d.shared,effects:d.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}function fa(r,s,l,d){var m=r.updateQueue;Jr=!1;var p=m.firstBaseUpdate,b=m.lastBaseUpdate,E=m.shared.pending;if(E!==null){m.shared.pending=null;var P=E,V=P.next;P.next=null,b===null?p=V:b.next=V,b=P;var re=r.alternate;re!==null&&(re=re.updateQueue,E=re.lastBaseUpdate,E!==b&&(E===null?re.firstBaseUpdate=V:E.next=V,re.lastBaseUpdate=P))}if(p!==null){var ie=m.baseState;b=0,re=V=P=null,E=p;do{var ne=E.lane,ge=E.eventTime;if((d&ne)===ne){re!==null&&(re=re.next={eventTime:ge,lane:0,tag:E.tag,payload:E.payload,callback:E.callback,next:null});e:{var Ce=r,Ee=E;switch(ne=s,ge=l,Ee.tag){case 1:if(Ce=Ee.payload,typeof Ce=="function"){ie=Ce.call(ge,ie,ne);break e}ie=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=Ee.payload,ne=typeof Ce=="function"?Ce.call(ge,ie,ne):Ce,ne==null)break e;ie=F({},ie,ne);break e;case 2:Jr=!0}}E.callback!==null&&E.lane!==0&&(r.flags|=64,ne=m.effects,ne===null?m.effects=[E]:ne.push(E))}else ge={eventTime:ge,lane:ne,tag:E.tag,payload:E.payload,callback:E.callback,next:null},re===null?(V=re=ge,P=ie):re=re.next=ge,b|=ne;if(E=E.next,E===null){if(E=m.shared.pending,E===null)break;ne=E,E=ne.next,ne.next=null,m.lastBaseUpdate=ne,m.shared.pending=null}}while(!0);if(re===null&&(P=ie),m.baseState=P,m.firstBaseUpdate=V,m.lastBaseUpdate=re,s=m.shared.interleaved,s!==null){m=s;do b|=m.lane,m=m.next;while(m!==s)}else p===null&&(m.shared.lanes=0);Ri|=b,r.lanes=b,r.memoizedState=ie}}function Pf(r,s,l){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var d=r[s],m=d.callback;if(m!==null){if(d.callback=null,d=l,typeof m!="function")throw Error(n(191,m));m.call(d)}}}var eo={},ar=qr(eo),to=qr(eo),no=qr(eo);function ji(r){if(r===eo)throw Error(n(174));return r}function wc(r,s){switch(ut(no,s),ut(to,r),ut(ar,eo),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Ln(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=Ln(s,r)}ht(ar),ut(ar,s)}function fs(){ht(ar),ht(to),ht(no)}function Tf(r){ji(no.current);var s=ji(ar.current),l=Ln(s,r.type);s!==l&&(ut(to,r),ut(ar,l))}function Sc(r){to.current===r&&(ht(ar),ht(to))}var wt=qr(0);function ha(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var kc=[];function Cc(){for(var r=0;r<kc.length;r++)kc[r]._workInProgressVersionPrimary=null;kc.length=0}var ma=A.ReactCurrentDispatcher,Ec=A.ReactCurrentBatchConfig,Mi=0,St=null,Lt=null,Bt=null,pa=!1,ro=!1,io=0,av=0;function Gt(){throw Error(n(321))}function Nc(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!Qn(r[l],s[l]))return!1;return!0}function jc(r,s,l,d,m,p){if(Mi=p,St=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,ma.current=r===null||r.memoizedState===null?dv:fv,r=l(d,m),ro){p=0;do{if(ro=!1,io=0,25<=p)throw Error(n(301));p+=1,Bt=Lt=null,s.updateQueue=null,ma.current=hv,r=l(d,m)}while(ro)}if(ma.current=va,s=Lt!==null&&Lt.next!==null,Mi=0,Bt=Lt=St=null,pa=!1,s)throw Error(n(300));return r}function Mc(){var r=io!==0;return io=0,r}function lr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?St.memoizedState=Bt=r:Bt=Bt.next=r,Bt}function zn(){if(Lt===null){var r=St.alternate;r=r!==null?r.memoizedState:null}else r=Lt.next;var s=Bt===null?St.memoizedState:Bt.next;if(s!==null)Bt=s,Lt=r;else{if(r===null)throw Error(n(310));Lt=r,r={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},Bt===null?St.memoizedState=Bt=r:Bt=Bt.next=r}return Bt}function so(r,s){return typeof s=="function"?s(r):s}function Rc(r){var s=zn(),l=s.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var d=Lt,m=d.baseQueue,p=l.pending;if(p!==null){if(m!==null){var b=m.next;m.next=p.next,p.next=b}d.baseQueue=m=p,l.pending=null}if(m!==null){p=m.next,d=d.baseState;var E=b=null,P=null,V=p;do{var re=V.lane;if((Mi&re)===re)P!==null&&(P=P.next={lane:0,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),d=V.hasEagerState?V.eagerState:r(d,V.action);else{var ie={lane:re,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null};P===null?(E=P=ie,b=d):P=P.next=ie,St.lanes|=re,Ri|=re}V=V.next}while(V!==null&&V!==p);P===null?b=d:P.next=E,Qn(d,s.memoizedState)||(hn=!0),s.memoizedState=d,s.baseState=b,s.baseQueue=P,l.lastRenderedState=d}if(r=l.interleaved,r!==null){m=r;do p=m.lane,St.lanes|=p,Ri|=p,m=m.next;while(m!==r)}else m===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function Pc(r){var s=zn(),l=s.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var d=l.dispatch,m=l.pending,p=s.memoizedState;if(m!==null){l.pending=null;var b=m=m.next;do p=r(p,b.action),b=b.next;while(b!==m);Qn(p,s.memoizedState)||(hn=!0),s.memoizedState=p,s.baseQueue===null&&(s.baseState=p),l.lastRenderedState=p}return[p,d]}function Df(){}function Lf(r,s){var l=St,d=zn(),m=s(),p=!Qn(d.memoizedState,m);if(p&&(d.memoizedState=m,hn=!0),d=d.queue,Tc(Ff.bind(null,l,d,r),[r]),d.getSnapshot!==s||p||Bt!==null&&Bt.memoizedState.tag&1){if(l.flags|=2048,oo(9,Of.bind(null,l,d,m,s),void 0,null),$t===null)throw Error(n(349));(Mi&30)!==0||Af(l,s,m)}return m}function Af(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=St.updateQueue,s===null?(s={lastEffect:null,stores:null},St.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function Of(r,s,l,d){s.value=l,s.getSnapshot=d,If(s)&&zf(r)}function Ff(r,s,l){return l(function(){If(s)&&zf(r)})}function If(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!Qn(r,l)}catch{return!0}}function zf(r){var s=Sr(r,1);s!==null&&er(s,r,1,-1)}function Uf(r){var s=lr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:so,lastRenderedState:r},s.queue=r,r=r.dispatch=uv.bind(null,St,r),[s.memoizedState,r]}function oo(r,s,l,d){return r={tag:r,create:s,destroy:l,deps:d,next:null},s=St.updateQueue,s===null?(s={lastEffect:null,stores:null},St.updateQueue=s,s.lastEffect=r.next=r):(l=s.lastEffect,l===null?s.lastEffect=r.next=r:(d=l.next,l.next=r,r.next=d,s.lastEffect=r)),r}function Bf(){return zn().memoizedState}function ga(r,s,l,d){var m=lr();St.flags|=r,m.memoizedState=oo(1|s,l,void 0,d===void 0?null:d)}function ya(r,s,l,d){var m=zn();d=d===void 0?null:d;var p=void 0;if(Lt!==null){var b=Lt.memoizedState;if(p=b.destroy,d!==null&&Nc(d,b.deps)){m.memoizedState=oo(s,l,p,d);return}}St.flags|=r,m.memoizedState=oo(1|s,l,p,d)}function $f(r,s){return ga(8390656,8,r,s)}function Tc(r,s){return ya(2048,8,r,s)}function Hf(r,s){return ya(4,2,r,s)}function Vf(r,s){return ya(4,4,r,s)}function Wf(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Kf(r,s,l){return l=l!=null?l.concat([r]):null,ya(4,4,Wf.bind(null,s,r),l)}function Dc(){}function Yf(r,s){var l=zn();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&Nc(s,d[1])?d[0]:(l.memoizedState=[r,s],r)}function Xf(r,s){var l=zn();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&Nc(s,d[1])?d[0]:(r=r(),l.memoizedState=[r,s],r)}function Qf(r,s,l){return(Mi&21)===0?(r.baseState&&(r.baseState=!1,hn=!0),r.memoizedState=l):(Qn(l,s)||(l=Qi(),St.lanes|=l,Ri|=l,r.baseState=!0),s)}function lv(r,s){var l=st;st=l!==0&&4>l?l:4,r(!0);var d=Ec.transition;Ec.transition={};try{r(!1),s()}finally{st=l,Ec.transition=d}}function qf(){return zn().memoizedState}function cv(r,s,l){var d=ii(r);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},Gf(r))Zf(s,l);else if(l=jf(r,s,l,d),l!==null){var m=rn();er(l,r,d,m),Jf(l,s,d)}}function uv(r,s,l){var d=ii(r),m={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(Gf(r))Zf(s,m);else{var p=r.alternate;if(r.lanes===0&&(p===null||p.lanes===0)&&(p=s.lastRenderedReducer,p!==null))try{var b=s.lastRenderedState,E=p(b,l);if(m.hasEagerState=!0,m.eagerState=E,Qn(E,b)){var P=s.interleaved;P===null?(m.next=m,bc(s)):(m.next=P.next,P.next=m),s.interleaved=m;return}}catch{}finally{}l=jf(r,s,m,d),l!==null&&(m=rn(),er(l,r,d,m),Jf(l,s,d))}}function Gf(r){var s=r.alternate;return r===St||s!==null&&s===St}function Zf(r,s){ro=pa=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function Jf(r,s,l){if((l&4194240)!==0){var d=s.lanes;d&=r.pendingLanes,l|=d,s.lanes=l,Al(r,l)}}var va={readContext:In,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useInsertionEffect:Gt,useLayoutEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useMutableSource:Gt,useSyncExternalStore:Gt,useId:Gt,unstable_isNewReconciler:!1},dv={readContext:In,useCallback:function(r,s){return lr().memoizedState=[r,s===void 0?null:s],r},useContext:In,useEffect:$f,useImperativeHandle:function(r,s,l){return l=l!=null?l.concat([r]):null,ga(4194308,4,Wf.bind(null,s,r),l)},useLayoutEffect:function(r,s){return ga(4194308,4,r,s)},useInsertionEffect:function(r,s){return ga(4,2,r,s)},useMemo:function(r,s){var l=lr();return s=s===void 0?null:s,r=r(),l.memoizedState=[r,s],r},useReducer:function(r,s,l){var d=lr();return s=l!==void 0?l(s):s,d.memoizedState=d.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},d.queue=r,r=r.dispatch=cv.bind(null,St,r),[d.memoizedState,r]},useRef:function(r){var s=lr();return r={current:r},s.memoizedState=r},useState:Uf,useDebugValue:Dc,useDeferredValue:function(r){return lr().memoizedState=r},useTransition:function(){var r=Uf(!1),s=r[0];return r=lv.bind(null,r[1]),lr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,l){var d=St,m=lr();if(xt){if(l===void 0)throw Error(n(407));l=l()}else{if(l=s(),$t===null)throw Error(n(349));(Mi&30)!==0||Af(d,s,l)}m.memoizedState=l;var p={value:l,getSnapshot:s};return m.queue=p,$f(Ff.bind(null,d,p,r),[r]),d.flags|=2048,oo(9,Of.bind(null,d,p,l,s),void 0,null),l},useId:function(){var r=lr(),s=$t.identifierPrefix;if(xt){var l=wr,d=_r;l=(d&~(1<<32-Xe(d)-1)).toString(32)+l,s=":"+s+"R"+l,l=io++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=av++,s=":"+s+"r"+l.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},fv={readContext:In,useCallback:Yf,useContext:In,useEffect:Tc,useImperativeHandle:Kf,useInsertionEffect:Hf,useLayoutEffect:Vf,useMemo:Xf,useReducer:Rc,useRef:Bf,useState:function(){return Rc(so)},useDebugValue:Dc,useDeferredValue:function(r){var s=zn();return Qf(s,Lt.memoizedState,r)},useTransition:function(){var r=Rc(so)[0],s=zn().memoizedState;return[r,s]},useMutableSource:Df,useSyncExternalStore:Lf,useId:qf,unstable_isNewReconciler:!1},hv={readContext:In,useCallback:Yf,useContext:In,useEffect:Tc,useImperativeHandle:Kf,useInsertionEffect:Hf,useLayoutEffect:Vf,useMemo:Xf,useReducer:Pc,useRef:Bf,useState:function(){return Pc(so)},useDebugValue:Dc,useDeferredValue:function(r){var s=zn();return Lt===null?s.memoizedState=r:Qf(s,Lt.memoizedState,r)},useTransition:function(){var r=Pc(so)[0],s=zn().memoizedState;return[r,s]},useMutableSource:Df,useSyncExternalStore:Lf,useId:qf,unstable_isNewReconciler:!1};function Gn(r,s){if(r&&r.defaultProps){s=F({},s),r=r.defaultProps;for(var l in r)s[l]===void 0&&(s[l]=r[l]);return s}return s}function Lc(r,s,l,d){s=r.memoizedState,l=l(d,s),l=l==null?s:F({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var xa={isMounted:function(r){return(r=r._reactInternals)?he(r)===r:!1},enqueueSetState:function(r,s,l){r=r._reactInternals;var d=rn(),m=ii(r),p=kr(d,m);p.payload=s,l!=null&&(p.callback=l),s=ei(r,p,m),s!==null&&(er(s,r,m,d),da(s,r,m))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var d=rn(),m=ii(r),p=kr(d,m);p.tag=1,p.payload=s,l!=null&&(p.callback=l),s=ei(r,p,m),s!==null&&(er(s,r,m,d),da(s,r,m))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=rn(),d=ii(r),m=kr(l,d);m.tag=2,s!=null&&(m.callback=s),s=ei(r,m,d),s!==null&&(er(s,r,d,l),da(s,r,d))}};function eh(r,s,l,d,m,p,b){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,p,b):s.prototype&&s.prototype.isPureReactComponent?!Ks(l,d)||!Ks(m,p):!0}function th(r,s,l){var d=!1,m=Gr,p=s.contextType;return typeof p=="object"&&p!==null?p=In(p):(m=fn(s)?ki:qt.current,d=s.contextTypes,p=(d=d!=null)?ss(r,m):Gr),s=new s(l,p),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=xa,r.stateNode=s,s._reactInternals=r,d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=m,r.__reactInternalMemoizedMaskedChildContext=p),s}function nh(r,s,l,d){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,d),s.state!==r&&xa.enqueueReplaceState(s,s.state,null)}function Ac(r,s,l,d){var m=r.stateNode;m.props=l,m.state=r.memoizedState,m.refs={},_c(r);var p=s.contextType;typeof p=="object"&&p!==null?m.context=In(p):(p=fn(s)?ki:qt.current,m.context=ss(r,p)),m.state=r.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(Lc(r,s,p,l),m.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(s=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),s!==m.state&&xa.enqueueReplaceState(m,m.state,null),fa(r,l,m,d),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308)}function hs(r,s){try{var l="",d=s;do l+=ye(d),d=d.return;while(d);var m=l}catch(p){m=`
Error generating stack: `+p.message+`
`+p.stack}return{value:r,source:s,stack:m,digest:null}}function Oc(r,s,l){return{value:r,source:null,stack:l??null,digest:s??null}}function Fc(r,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var mv=typeof WeakMap=="function"?WeakMap:Map;function rh(r,s,l){l=kr(-1,l),l.tag=3,l.payload={element:null};var d=s.value;return l.callback=function(){Ea||(Ea=!0,Zc=d),Fc(r,s)},l}function ih(r,s,l){l=kr(-1,l),l.tag=3;var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var m=s.value;l.payload=function(){return d(m)},l.callback=function(){Fc(r,s)}}var p=r.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(l.callback=function(){Fc(r,s),typeof d!="function"&&(ni===null?ni=new Set([this]):ni.add(this));var b=s.stack;this.componentDidCatch(s.value,{componentStack:b!==null?b:""})}),l}function sh(r,s,l){var d=r.pingCache;if(d===null){d=r.pingCache=new mv;var m=new Set;d.set(s,m)}else m=d.get(s),m===void 0&&(m=new Set,d.set(s,m));m.has(l)||(m.add(l),r=jv.bind(null,r,s,l),s.then(r,r))}function oh(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function ah(r,s,l,d,m){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=kr(-1,1),s.tag=2,ei(l,s,1))),l.lanes|=1),r):(r.flags|=65536,r.lanes=m,r)}var pv=A.ReactCurrentOwner,hn=!1;function nn(r,s,l,d){s.child=r===null?Nf(s,null,l,d):cs(s,r.child,l,d)}function lh(r,s,l,d,m){l=l.render;var p=s.ref;return ds(s,m),d=jc(r,s,l,d,p,m),l=Mc(),r!==null&&!hn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~m,Cr(r,s,m)):(xt&&l&&dc(s),s.flags|=1,nn(r,s,d,m),s.child)}function ch(r,s,l,d,m){if(r===null){var p=l.type;return typeof p=="function"&&!su(p)&&p.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=p,uh(r,s,p,d,m)):(r=Ta(l.type,null,d,s,s.mode,m),r.ref=s.ref,r.return=s,s.child=r)}if(p=r.child,(r.lanes&m)===0){var b=p.memoizedProps;if(l=l.compare,l=l!==null?l:Ks,l(b,d)&&r.ref===s.ref)return Cr(r,s,m)}return s.flags|=1,r=oi(p,d),r.ref=s.ref,r.return=s,s.child=r}function uh(r,s,l,d,m){if(r!==null){var p=r.memoizedProps;if(Ks(p,d)&&r.ref===s.ref)if(hn=!1,s.pendingProps=d=p,(r.lanes&m)!==0)(r.flags&131072)!==0&&(hn=!0);else return s.lanes=r.lanes,Cr(r,s,m)}return Ic(r,s,l,d,m)}function dh(r,s,l){var d=s.pendingProps,m=d.children,p=r!==null?r.memoizedState:null;if(d.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},ut(ps,jn),jn|=l;else{if((l&1073741824)===0)return r=p!==null?p.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,ut(ps,jn),jn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=p!==null?p.baseLanes:l,ut(ps,jn),jn|=d}else p!==null?(d=p.baseLanes|l,s.memoizedState=null):d=l,ut(ps,jn),jn|=d;return nn(r,s,m,l),s.child}function fh(r,s){var l=s.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function Ic(r,s,l,d,m){var p=fn(l)?ki:qt.current;return p=ss(s,p),ds(s,m),l=jc(r,s,l,d,p,m),d=Mc(),r!==null&&!hn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~m,Cr(r,s,m)):(xt&&d&&dc(s),s.flags|=1,nn(r,s,l,m),s.child)}function hh(r,s,l,d,m){if(fn(l)){var p=!0;ra(s)}else p=!1;if(ds(s,m),s.stateNode===null)_a(r,s),th(s,l,d),Ac(s,l,d,m),d=!0;else if(r===null){var b=s.stateNode,E=s.memoizedProps;b.props=E;var P=b.context,V=l.contextType;typeof V=="object"&&V!==null?V=In(V):(V=fn(l)?ki:qt.current,V=ss(s,V));var re=l.getDerivedStateFromProps,ie=typeof re=="function"||typeof b.getSnapshotBeforeUpdate=="function";ie||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(E!==d||P!==V)&&nh(s,b,d,V),Jr=!1;var ne=s.memoizedState;b.state=ne,fa(s,d,b,m),P=s.memoizedState,E!==d||ne!==P||dn.current||Jr?(typeof re=="function"&&(Lc(s,l,re,d),P=s.memoizedState),(E=Jr||eh(s,l,E,d,ne,P,V))?(ie||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(s.flags|=4194308)):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=P),b.props=d,b.state=P,b.context=V,d=E):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{b=s.stateNode,Mf(r,s),E=s.memoizedProps,V=s.type===s.elementType?E:Gn(s.type,E),b.props=V,ie=s.pendingProps,ne=b.context,P=l.contextType,typeof P=="object"&&P!==null?P=In(P):(P=fn(l)?ki:qt.current,P=ss(s,P));var ge=l.getDerivedStateFromProps;(re=typeof ge=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(E!==ie||ne!==P)&&nh(s,b,d,P),Jr=!1,ne=s.memoizedState,b.state=ne,fa(s,d,b,m);var Ce=s.memoizedState;E!==ie||ne!==Ce||dn.current||Jr?(typeof ge=="function"&&(Lc(s,l,ge,d),Ce=s.memoizedState),(V=Jr||eh(s,l,V,d,ne,Ce,P)||!1)?(re||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(d,Ce,P),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(d,Ce,P)),typeof b.componentDidUpdate=="function"&&(s.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof b.componentDidUpdate!="function"||E===r.memoizedProps&&ne===r.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&ne===r.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=Ce),b.props=d,b.state=Ce,b.context=P,d=V):(typeof b.componentDidUpdate!="function"||E===r.memoizedProps&&ne===r.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&ne===r.memoizedState||(s.flags|=1024),d=!1)}return zc(r,s,l,d,p,m)}function zc(r,s,l,d,m,p){fh(r,s);var b=(s.flags&128)!==0;if(!d&&!b)return m&&vf(s,l,!1),Cr(r,s,p);d=s.stateNode,pv.current=s;var E=b&&typeof l.getDerivedStateFromError!="function"?null:d.render();return s.flags|=1,r!==null&&b?(s.child=cs(s,r.child,null,p),s.child=cs(s,null,E,p)):nn(r,s,E,p),s.memoizedState=d.state,m&&vf(s,l,!0),s.child}function mh(r){var s=r.stateNode;s.pendingContext?gf(r,s.pendingContext,s.pendingContext!==s.context):s.context&&gf(r,s.context,!1),wc(r,s.containerInfo)}function ph(r,s,l,d,m){return ls(),pc(m),s.flags|=256,nn(r,s,l,d),s.child}var Uc={dehydrated:null,treeContext:null,retryLane:0};function Bc(r){return{baseLanes:r,cachePool:null,transitions:null}}function gh(r,s,l){var d=s.pendingProps,m=wt.current,p=!1,b=(s.flags&128)!==0,E;if((E=b)||(E=r!==null&&r.memoizedState===null?!1:(m&2)!==0),E?(p=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(m|=1),ut(wt,m&1),r===null)return mc(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(b=d.children,r=d.fallback,p?(d=s.mode,p=s.child,b={mode:"hidden",children:b},(d&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=b):p=Da(b,d,0,null),r=Li(r,d,l,null),p.return=s,r.return=s,p.sibling=r,s.child=p,s.child.memoizedState=Bc(l),s.memoizedState=Uc,r):$c(s,b));if(m=r.memoizedState,m!==null&&(E=m.dehydrated,E!==null))return gv(r,s,b,d,E,m,l);if(p){p=d.fallback,b=s.mode,m=r.child,E=m.sibling;var P={mode:"hidden",children:d.children};return(b&1)===0&&s.child!==m?(d=s.child,d.childLanes=0,d.pendingProps=P,s.deletions=null):(d=oi(m,P),d.subtreeFlags=m.subtreeFlags&14680064),E!==null?p=oi(E,p):(p=Li(p,b,l,null),p.flags|=2),p.return=s,d.return=s,d.sibling=p,s.child=d,d=p,p=s.child,b=r.child.memoizedState,b=b===null?Bc(l):{baseLanes:b.baseLanes|l,cachePool:null,transitions:b.transitions},p.memoizedState=b,p.childLanes=r.childLanes&~l,s.memoizedState=Uc,d}return p=r.child,r=p.sibling,d=oi(p,{mode:"visible",children:d.children}),(s.mode&1)===0&&(d.lanes=l),d.return=s,d.sibling=null,r!==null&&(l=s.deletions,l===null?(s.deletions=[r],s.flags|=16):l.push(r)),s.child=d,s.memoizedState=null,d}function $c(r,s){return s=Da({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function ba(r,s,l,d){return d!==null&&pc(d),cs(s,r.child,null,l),r=$c(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function gv(r,s,l,d,m,p,b){if(l)return s.flags&256?(s.flags&=-257,d=Oc(Error(n(422))),ba(r,s,b,d)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(p=d.fallback,m=s.mode,d=Da({mode:"visible",children:d.children},m,0,null),p=Li(p,m,b,null),p.flags|=2,d.return=s,p.return=s,d.sibling=p,s.child=d,(s.mode&1)!==0&&cs(s,r.child,null,b),s.child.memoizedState=Bc(b),s.memoizedState=Uc,p);if((s.mode&1)===0)return ba(r,s,b,null);if(m.data==="$!"){if(d=m.nextSibling&&m.nextSibling.dataset,d)var E=d.dgst;return d=E,p=Error(n(419)),d=Oc(p,d,void 0),ba(r,s,b,d)}if(E=(b&r.childLanes)!==0,hn||E){if(d=$t,d!==null){switch(b&-b){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(d.suspendedLanes|b))!==0?0:m,m!==0&&m!==p.retryLane&&(p.retryLane=m,Sr(r,m),er(d,r,m,-1))}return iu(),d=Oc(Error(n(421))),ba(r,s,b,d)}return m.data==="$?"?(s.flags|=128,s.child=r.child,s=Mv.bind(null,r),m._reactRetry=s,null):(r=p.treeContext,Nn=Qr(m.nextSibling),En=s,xt=!0,qn=null,r!==null&&(On[Fn++]=_r,On[Fn++]=wr,On[Fn++]=Ci,_r=r.id,wr=r.overflow,Ci=s),s=$c(s,d.children),s.flags|=4096,s)}function yh(r,s,l){r.lanes|=s;var d=r.alternate;d!==null&&(d.lanes|=s),xc(r.return,s,l)}function Hc(r,s,l,d,m){var p=r.memoizedState;p===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:m}:(p.isBackwards=s,p.rendering=null,p.renderingStartTime=0,p.last=d,p.tail=l,p.tailMode=m)}function vh(r,s,l){var d=s.pendingProps,m=d.revealOrder,p=d.tail;if(nn(r,s,d.children,l),d=wt.current,(d&2)!==0)d=d&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&yh(r,l,s);else if(r.tag===19)yh(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}if(ut(wt,d),(s.mode&1)===0)s.memoizedState=null;else switch(m){case"forwards":for(l=s.child,m=null;l!==null;)r=l.alternate,r!==null&&ha(r)===null&&(m=l),l=l.sibling;l=m,l===null?(m=s.child,s.child=null):(m=l.sibling,l.sibling=null),Hc(s,!1,m,l,p);break;case"backwards":for(l=null,m=s.child,s.child=null;m!==null;){if(r=m.alternate,r!==null&&ha(r)===null){s.child=m;break}r=m.sibling,m.sibling=l,l=m,m=r}Hc(s,!0,l,null,p);break;case"together":Hc(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function _a(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Cr(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),Ri|=s.lanes,(l&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(n(153));if(s.child!==null){for(r=s.child,l=oi(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=oi(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function yv(r,s,l){switch(s.tag){case 3:mh(s),ls();break;case 5:Tf(s);break;case 1:fn(s.type)&&ra(s);break;case 4:wc(s,s.stateNode.containerInfo);break;case 10:var d=s.type._context,m=s.memoizedProps.value;ut(ca,d._currentValue),d._currentValue=m;break;case 13:if(d=s.memoizedState,d!==null)return d.dehydrated!==null?(ut(wt,wt.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?gh(r,s,l):(ut(wt,wt.current&1),r=Cr(r,s,l),r!==null?r.sibling:null);ut(wt,wt.current&1);break;case 19:if(d=(l&s.childLanes)!==0,(r.flags&128)!==0){if(d)return vh(r,s,l);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ut(wt,wt.current),d)break;return null;case 22:case 23:return s.lanes=0,dh(r,s,l)}return Cr(r,s,l)}var xh,Vc,bh,_h;xh=function(r,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Vc=function(){},bh=function(r,s,l,d){var m=r.memoizedProps;if(m!==d){r=s.stateNode,ji(ar.current);var p=null;switch(l){case"input":m=Mt(r,m),d=Mt(r,d),p=[];break;case"select":m=F({},m,{value:void 0}),d=F({},d,{value:void 0}),p=[];break;case"textarea":m=an(r,m),d=an(r,d),p=[];break;default:typeof m.onClick!="function"&&typeof d.onClick=="function"&&(r.onclick=ea)}Ut(l,d);var b;l=null;for(V in m)if(!d.hasOwnProperty(V)&&m.hasOwnProperty(V)&&m[V]!=null)if(V==="style"){var E=m[V];for(b in E)E.hasOwnProperty(b)&&(l||(l={}),l[b]="")}else V!=="dangerouslySetInnerHTML"&&V!=="children"&&V!=="suppressContentEditableWarning"&&V!=="suppressHydrationWarning"&&V!=="autoFocus"&&(o.hasOwnProperty(V)?p||(p=[]):(p=p||[]).push(V,null));for(V in d){var P=d[V];if(E=m?.[V],d.hasOwnProperty(V)&&P!==E&&(P!=null||E!=null))if(V==="style")if(E){for(b in E)!E.hasOwnProperty(b)||P&&P.hasOwnProperty(b)||(l||(l={}),l[b]="");for(b in P)P.hasOwnProperty(b)&&E[b]!==P[b]&&(l||(l={}),l[b]=P[b])}else l||(p||(p=[]),p.push(V,l)),l=P;else V==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,E=E?E.__html:void 0,P!=null&&E!==P&&(p=p||[]).push(V,P)):V==="children"?typeof P!="string"&&typeof P!="number"||(p=p||[]).push(V,""+P):V!=="suppressContentEditableWarning"&&V!=="suppressHydrationWarning"&&(o.hasOwnProperty(V)?(P!=null&&V==="onScroll"&&ft("scroll",r),p||E===P||(p=[])):(p=p||[]).push(V,P))}l&&(p=p||[]).push("style",l);var V=p;(s.updateQueue=V)&&(s.flags|=4)}},_h=function(r,s,l,d){l!==d&&(s.flags|=4)};function ao(r,s){if(!xt)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function Zt(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,d=0;if(s)for(var m=r.child;m!==null;)l|=m.lanes|m.childLanes,d|=m.subtreeFlags&14680064,d|=m.flags&14680064,m.return=r,m=m.sibling;else for(m=r.child;m!==null;)l|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=r,m=m.sibling;return r.subtreeFlags|=d,r.childLanes=l,s}function vv(r,s,l){var d=s.pendingProps;switch(fc(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(s),null;case 1:return fn(s.type)&&na(),Zt(s),null;case 3:return d=s.stateNode,fs(),ht(dn),ht(qt),Cc(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(aa(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,qn!==null&&(tu(qn),qn=null))),Vc(r,s),Zt(s),null;case 5:Sc(s);var m=ji(no.current);if(l=s.type,r!==null&&s.stateNode!=null)bh(r,s,l,d,m),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!d){if(s.stateNode===null)throw Error(n(166));return Zt(s),null}if(r=ji(ar.current),aa(s)){d=s.stateNode,l=s.type;var p=s.memoizedProps;switch(d[or]=s,d[Gs]=p,r=(s.mode&1)!==0,l){case"dialog":ft("cancel",d),ft("close",d);break;case"iframe":case"object":case"embed":ft("load",d);break;case"video":case"audio":for(m=0;m<Xs.length;m++)ft(Xs[m],d);break;case"source":ft("error",d);break;case"img":case"image":case"link":ft("error",d),ft("load",d);break;case"details":ft("toggle",d);break;case"input":Pn(d,p),ft("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!p.multiple},ft("invalid",d);break;case"textarea":Tn(d,p),ft("invalid",d)}Ut(l,p),m=null;for(var b in p)if(p.hasOwnProperty(b)){var E=p[b];b==="children"?typeof E=="string"?d.textContent!==E&&(p.suppressHydrationWarning!==!0&&Jo(d.textContent,E,r),m=["children",E]):typeof E=="number"&&d.textContent!==""+E&&(p.suppressHydrationWarning!==!0&&Jo(d.textContent,E,r),m=["children",""+E]):o.hasOwnProperty(b)&&E!=null&&b==="onScroll"&&ft("scroll",d)}switch(l){case"input":Xt(d),le(d,p,!0);break;case"textarea":Xt(d),ln(d);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(d.onclick=ea)}d=m,s.updateQueue=d,d!==null&&(s.flags|=4)}else{b=m.nodeType===9?m:m.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Dn(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=b.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof d.is=="string"?r=b.createElement(l,{is:d.is}):(r=b.createElement(l),l==="select"&&(b=r,d.multiple?b.multiple=!0:d.size&&(b.size=d.size))):r=b.createElementNS(r,l),r[or]=s,r[Gs]=d,xh(r,s,!1,!1),s.stateNode=r;e:{switch(b=yt(l,d),l){case"dialog":ft("cancel",r),ft("close",r),m=d;break;case"iframe":case"object":case"embed":ft("load",r),m=d;break;case"video":case"audio":for(m=0;m<Xs.length;m++)ft(Xs[m],r);m=d;break;case"source":ft("error",r),m=d;break;case"img":case"image":case"link":ft("error",r),ft("load",r),m=d;break;case"details":ft("toggle",r),m=d;break;case"input":Pn(r,d),m=Mt(r,d),ft("invalid",r);break;case"option":m=d;break;case"select":r._wrapperState={wasMultiple:!!d.multiple},m=F({},d,{value:void 0}),ft("invalid",r);break;case"textarea":Tn(r,d),m=an(r,d),ft("invalid",r);break;default:m=d}Ut(l,m),E=m;for(p in E)if(E.hasOwnProperty(p)){var P=E[p];p==="style"?Ct(r,P):p==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,P!=null&&Wt(r,P)):p==="children"?typeof P=="string"?(l!=="textarea"||P!=="")&&q(r,P):typeof P=="number"&&q(r,""+P):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(o.hasOwnProperty(p)?P!=null&&p==="onScroll"&&ft("scroll",r):P!=null&&B(r,p,P,b))}switch(l){case"input":Xt(r),le(r,d,!1);break;case"textarea":Xt(r),ln(r);break;case"option":d.value!=null&&r.setAttribute("value",""+De(d.value));break;case"select":r.multiple=!!d.multiple,p=d.value,p!=null?Ze(r,!!d.multiple,p,!1):d.defaultValue!=null&&Ze(r,!!d.multiple,d.defaultValue,!0);break;default:typeof m.onClick=="function"&&(r.onclick=ea)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Zt(s),null;case 6:if(r&&s.stateNode!=null)_h(r,s,r.memoizedProps,d);else{if(typeof d!="string"&&s.stateNode===null)throw Error(n(166));if(l=ji(no.current),ji(ar.current),aa(s)){if(d=s.stateNode,l=s.memoizedProps,d[or]=s,(p=d.nodeValue!==l)&&(r=En,r!==null))switch(r.tag){case 3:Jo(d.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Jo(d.nodeValue,l,(r.mode&1)!==0)}p&&(s.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[or]=s,s.stateNode=d}return Zt(s),null;case 13:if(ht(wt),d=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(xt&&Nn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)kf(),ls(),s.flags|=98560,p=!1;else if(p=aa(s),d!==null&&d.dehydrated!==null){if(r===null){if(!p)throw Error(n(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[or]=s}else ls(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Zt(s),p=!1}else qn!==null&&(tu(qn),qn=null),p=!0;if(!p)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(d=d!==null,d!==(r!==null&&r.memoizedState!==null)&&d&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(wt.current&1)!==0?At===0&&(At=3):iu())),s.updateQueue!==null&&(s.flags|=4),Zt(s),null);case 4:return fs(),Vc(r,s),r===null&&Qs(s.stateNode.containerInfo),Zt(s),null;case 10:return vc(s.type._context),Zt(s),null;case 17:return fn(s.type)&&na(),Zt(s),null;case 19:if(ht(wt),p=s.memoizedState,p===null)return Zt(s),null;if(d=(s.flags&128)!==0,b=p.rendering,b===null)if(d)ao(p,!1);else{if(At!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(b=ha(r),b!==null){for(s.flags|=128,ao(p,!1),d=b.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),s.subtreeFlags=0,d=l,l=s.child;l!==null;)p=l,r=d,p.flags&=14680066,b=p.alternate,b===null?(p.childLanes=0,p.lanes=r,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=b.childLanes,p.lanes=b.lanes,p.child=b.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=b.memoizedProps,p.memoizedState=b.memoizedState,p.updateQueue=b.updateQueue,p.type=b.type,r=b.dependencies,p.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return ut(wt,wt.current&1|2),s.child}r=r.sibling}p.tail!==null&&Ye()>gs&&(s.flags|=128,d=!0,ao(p,!1),s.lanes=4194304)}else{if(!d)if(r=ha(b),r!==null){if(s.flags|=128,d=!0,l=r.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),ao(p,!0),p.tail===null&&p.tailMode==="hidden"&&!b.alternate&&!xt)return Zt(s),null}else 2*Ye()-p.renderingStartTime>gs&&l!==1073741824&&(s.flags|=128,d=!0,ao(p,!1),s.lanes=4194304);p.isBackwards?(b.sibling=s.child,s.child=b):(l=p.last,l!==null?l.sibling=b:s.child=b,p.last=b)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=Ye(),s.sibling=null,l=wt.current,ut(wt,d?l&1|2:l&1),s):(Zt(s),null);case 22:case 23:return ru(),d=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==d&&(s.flags|=8192),d&&(s.mode&1)!==0?(jn&1073741824)!==0&&(Zt(s),s.subtreeFlags&6&&(s.flags|=8192)):Zt(s),null;case 24:return null;case 25:return null}throw Error(n(156,s.tag))}function xv(r,s){switch(fc(s),s.tag){case 1:return fn(s.type)&&na(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return fs(),ht(dn),ht(qt),Cc(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return Sc(s),null;case 13:if(ht(wt),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(n(340));ls()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return ht(wt),null;case 4:return fs(),null;case 10:return vc(s.type._context),null;case 22:case 23:return ru(),null;case 24:return null;default:return null}}var wa=!1,Jt=!1,bv=typeof WeakSet=="function"?WeakSet:Set,_e=null;function ms(r,s){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){Et(r,s,d)}else l.current=null}function Wc(r,s,l){try{l()}catch(d){Et(r,s,d)}}var wh=!1;function _v(r,s){if(rc=$o,r=Jd(),Ql(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var m=d.anchorOffset,p=d.focusNode;d=d.focusOffset;try{l.nodeType,p.nodeType}catch{l=null;break e}var b=0,E=-1,P=-1,V=0,re=0,ie=r,ne=null;t:for(;;){for(var ge;ie!==l||m!==0&&ie.nodeType!==3||(E=b+m),ie!==p||d!==0&&ie.nodeType!==3||(P=b+d),ie.nodeType===3&&(b+=ie.nodeValue.length),(ge=ie.firstChild)!==null;)ne=ie,ie=ge;for(;;){if(ie===r)break t;if(ne===l&&++V===m&&(E=b),ne===p&&++re===d&&(P=b),(ge=ie.nextSibling)!==null)break;ie=ne,ne=ie.parentNode}ie=ge}l=E===-1||P===-1?null:{start:E,end:P}}else l=null}l=l||{start:0,end:0}}else l=null;for(ic={focusedElem:r,selectionRange:l},$o=!1,_e=s;_e!==null;)if(s=_e,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,_e=r;else for(;_e!==null;){s=_e;try{var Ce=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Ce!==null){var Ee=Ce.memoizedProps,Nt=Ce.memoizedState,I=s.stateNode,D=I.getSnapshotBeforeUpdate(s.elementType===s.type?Ee:Gn(s.type,Ee),Nt);I.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var $=s.stateNode.containerInfo;$.nodeType===1?$.textContent="":$.nodeType===9&&$.documentElement&&$.removeChild($.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ae){Et(s,s.return,ae)}if(r=s.sibling,r!==null){r.return=s.return,_e=r;break}_e=s.return}return Ce=wh,wh=!1,Ce}function lo(r,s,l){var d=s.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&r)===r){var p=m.destroy;m.destroy=void 0,p!==void 0&&Wc(s,l,p)}m=m.next}while(m!==d)}}function Sa(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&r)===r){var d=l.create;l.destroy=d()}l=l.next}while(l!==s)}}function Kc(r){var s=r.ref;if(s!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof s=="function"?s(r):s.current=r}}function Sh(r){var s=r.alternate;s!==null&&(r.alternate=null,Sh(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[or],delete s[Gs],delete s[lc],delete s[rv],delete s[iv])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function kh(r){return r.tag===5||r.tag===3||r.tag===4}function Ch(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||kh(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Yc(r,s,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(r,s):l.insertBefore(r,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(r,l)):(s=l,s.appendChild(r)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=ea));else if(d!==4&&(r=r.child,r!==null))for(Yc(r,s,l),r=r.sibling;r!==null;)Yc(r,s,l),r=r.sibling}function Xc(r,s,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(d!==4&&(r=r.child,r!==null))for(Xc(r,s,l),r=r.sibling;r!==null;)Xc(r,s,l),r=r.sibling}var Kt=null,Zn=!1;function ti(r,s,l){for(l=l.child;l!==null;)Eh(r,s,l),l=l.sibling}function Eh(r,s,l){if(Dt&&typeof Dt.onCommitFiberUnmount=="function")try{Dt.onCommitFiberUnmount(it,l)}catch{}switch(l.tag){case 5:Jt||ms(l,s);case 6:var d=Kt,m=Zn;Kt=null,ti(r,s,l),Kt=d,Zn=m,Kt!==null&&(Zn?(r=Kt,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):Kt.removeChild(l.stateNode));break;case 18:Kt!==null&&(Zn?(r=Kt,l=l.stateNode,r.nodeType===8?ac(r.parentNode,l):r.nodeType===1&&ac(r,l),Us(r)):ac(Kt,l.stateNode));break;case 4:d=Kt,m=Zn,Kt=l.stateNode.containerInfo,Zn=!0,ti(r,s,l),Kt=d,Zn=m;break;case 0:case 11:case 14:case 15:if(!Jt&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){m=d=d.next;do{var p=m,b=p.destroy;p=p.tag,b!==void 0&&((p&2)!==0||(p&4)!==0)&&Wc(l,s,b),m=m.next}while(m!==d)}ti(r,s,l);break;case 1:if(!Jt&&(ms(l,s),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(E){Et(l,s,E)}ti(r,s,l);break;case 21:ti(r,s,l);break;case 22:l.mode&1?(Jt=(d=Jt)||l.memoizedState!==null,ti(r,s,l),Jt=d):ti(r,s,l);break;default:ti(r,s,l)}}function Nh(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new bv),s.forEach(function(d){var m=Rv.bind(null,r,d);l.has(d)||(l.add(d),d.then(m,m))})}}function Jn(r,s){var l=s.deletions;if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];try{var p=r,b=s,E=b;e:for(;E!==null;){switch(E.tag){case 5:Kt=E.stateNode,Zn=!1;break e;case 3:Kt=E.stateNode.containerInfo,Zn=!0;break e;case 4:Kt=E.stateNode.containerInfo,Zn=!0;break e}E=E.return}if(Kt===null)throw Error(n(160));Eh(p,b,m),Kt=null,Zn=!1;var P=m.alternate;P!==null&&(P.return=null),m.return=null}catch(V){Et(m,s,V)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)jh(s,r),s=s.sibling}function jh(r,s){var l=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Jn(s,r),cr(r),d&4){try{lo(3,r,r.return),Sa(3,r)}catch(Ee){Et(r,r.return,Ee)}try{lo(5,r,r.return)}catch(Ee){Et(r,r.return,Ee)}}break;case 1:Jn(s,r),cr(r),d&512&&l!==null&&ms(l,l.return);break;case 5:if(Jn(s,r),cr(r),d&512&&l!==null&&ms(l,l.return),r.flags&32){var m=r.stateNode;try{q(m,"")}catch(Ee){Et(r,r.return,Ee)}}if(d&4&&(m=r.stateNode,m!=null)){var p=r.memoizedProps,b=l!==null?l.memoizedProps:p,E=r.type,P=r.updateQueue;if(r.updateQueue=null,P!==null)try{E==="input"&&p.type==="radio"&&p.name!=null&&Qt(m,p),yt(E,b);var V=yt(E,p);for(b=0;b<P.length;b+=2){var re=P[b],ie=P[b+1];re==="style"?Ct(m,ie):re==="dangerouslySetInnerHTML"?Wt(m,ie):re==="children"?q(m,ie):B(m,re,ie,V)}switch(E){case"input":on(m,p);break;case"textarea":en(m,p);break;case"select":var ne=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!p.multiple;var ge=p.value;ge!=null?Ze(m,!!p.multiple,ge,!1):ne!==!!p.multiple&&(p.defaultValue!=null?Ze(m,!!p.multiple,p.defaultValue,!0):Ze(m,!!p.multiple,p.multiple?[]:"",!1))}m[Gs]=p}catch(Ee){Et(r,r.return,Ee)}}break;case 6:if(Jn(s,r),cr(r),d&4){if(r.stateNode===null)throw Error(n(162));m=r.stateNode,p=r.memoizedProps;try{m.nodeValue=p}catch(Ee){Et(r,r.return,Ee)}}break;case 3:if(Jn(s,r),cr(r),d&4&&l!==null&&l.memoizedState.isDehydrated)try{Us(s.containerInfo)}catch(Ee){Et(r,r.return,Ee)}break;case 4:Jn(s,r),cr(r);break;case 13:Jn(s,r),cr(r),m=r.child,m.flags&8192&&(p=m.memoizedState!==null,m.stateNode.isHidden=p,!p||m.alternate!==null&&m.alternate.memoizedState!==null||(Gc=Ye())),d&4&&Nh(r);break;case 22:if(re=l!==null&&l.memoizedState!==null,r.mode&1?(Jt=(V=Jt)||re,Jn(s,r),Jt=V):Jn(s,r),cr(r),d&8192){if(V=r.memoizedState!==null,(r.stateNode.isHidden=V)&&!re&&(r.mode&1)!==0)for(_e=r,re=r.child;re!==null;){for(ie=_e=re;_e!==null;){switch(ne=_e,ge=ne.child,ne.tag){case 0:case 11:case 14:case 15:lo(4,ne,ne.return);break;case 1:ms(ne,ne.return);var Ce=ne.stateNode;if(typeof Ce.componentWillUnmount=="function"){d=ne,l=ne.return;try{s=d,Ce.props=s.memoizedProps,Ce.state=s.memoizedState,Ce.componentWillUnmount()}catch(Ee){Et(d,l,Ee)}}break;case 5:ms(ne,ne.return);break;case 22:if(ne.memoizedState!==null){Ph(ie);continue}}ge!==null?(ge.return=ne,_e=ge):Ph(ie)}re=re.sibling}e:for(re=null,ie=r;;){if(ie.tag===5){if(re===null){re=ie;try{m=ie.stateNode,V?(p=m.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(E=ie.stateNode,P=ie.memoizedProps.style,b=P!=null&&P.hasOwnProperty("display")?P.display:null,E.style.display=rt("display",b))}catch(Ee){Et(r,r.return,Ee)}}}else if(ie.tag===6){if(re===null)try{ie.stateNode.nodeValue=V?"":ie.memoizedProps}catch(Ee){Et(r,r.return,Ee)}}else if((ie.tag!==22&&ie.tag!==23||ie.memoizedState===null||ie===r)&&ie.child!==null){ie.child.return=ie,ie=ie.child;continue}if(ie===r)break e;for(;ie.sibling===null;){if(ie.return===null||ie.return===r)break e;re===ie&&(re=null),ie=ie.return}re===ie&&(re=null),ie.sibling.return=ie.return,ie=ie.sibling}}break;case 19:Jn(s,r),cr(r),d&4&&Nh(r);break;case 21:break;default:Jn(s,r),cr(r)}}function cr(r){var s=r.flags;if(s&2){try{e:{for(var l=r.return;l!==null;){if(kh(l)){var d=l;break e}l=l.return}throw Error(n(160))}switch(d.tag){case 5:var m=d.stateNode;d.flags&32&&(q(m,""),d.flags&=-33);var p=Ch(r);Xc(r,p,m);break;case 3:case 4:var b=d.stateNode.containerInfo,E=Ch(r);Yc(r,E,b);break;default:throw Error(n(161))}}catch(P){Et(r,r.return,P)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function wv(r,s,l){_e=r,Mh(r)}function Mh(r,s,l){for(var d=(r.mode&1)!==0;_e!==null;){var m=_e,p=m.child;if(m.tag===22&&d){var b=m.memoizedState!==null||wa;if(!b){var E=m.alternate,P=E!==null&&E.memoizedState!==null||Jt;E=wa;var V=Jt;if(wa=b,(Jt=P)&&!V)for(_e=m;_e!==null;)b=_e,P=b.child,b.tag===22&&b.memoizedState!==null?Th(m):P!==null?(P.return=b,_e=P):Th(m);for(;p!==null;)_e=p,Mh(p),p=p.sibling;_e=m,wa=E,Jt=V}Rh(r)}else(m.subtreeFlags&8772)!==0&&p!==null?(p.return=m,_e=p):Rh(r)}}function Rh(r){for(;_e!==null;){var s=_e;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Jt||Sa(5,s);break;case 1:var d=s.stateNode;if(s.flags&4&&!Jt)if(l===null)d.componentDidMount();else{var m=s.elementType===s.type?l.memoizedProps:Gn(s.type,l.memoizedProps);d.componentDidUpdate(m,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var p=s.updateQueue;p!==null&&Pf(s,p,d);break;case 3:var b=s.updateQueue;if(b!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}Pf(s,b,l)}break;case 5:var E=s.stateNode;if(l===null&&s.flags&4){l=E;var P=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":P.autoFocus&&l.focus();break;case"img":P.src&&(l.src=P.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var V=s.alternate;if(V!==null){var re=V.memoizedState;if(re!==null){var ie=re.dehydrated;ie!==null&&Us(ie)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Jt||s.flags&512&&Kc(s)}catch(ne){Et(s,s.return,ne)}}if(s===r){_e=null;break}if(l=s.sibling,l!==null){l.return=s.return,_e=l;break}_e=s.return}}function Ph(r){for(;_e!==null;){var s=_e;if(s===r){_e=null;break}var l=s.sibling;if(l!==null){l.return=s.return,_e=l;break}_e=s.return}}function Th(r){for(;_e!==null;){var s=_e;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{Sa(4,s)}catch(P){Et(s,l,P)}break;case 1:var d=s.stateNode;if(typeof d.componentDidMount=="function"){var m=s.return;try{d.componentDidMount()}catch(P){Et(s,m,P)}}var p=s.return;try{Kc(s)}catch(P){Et(s,p,P)}break;case 5:var b=s.return;try{Kc(s)}catch(P){Et(s,b,P)}}}catch(P){Et(s,s.return,P)}if(s===r){_e=null;break}var E=s.sibling;if(E!==null){E.return=s.return,_e=E;break}_e=s.return}}var Sv=Math.ceil,ka=A.ReactCurrentDispatcher,Qc=A.ReactCurrentOwner,Un=A.ReactCurrentBatchConfig,Qe=0,$t=null,Rt=null,Yt=0,jn=0,ps=qr(0),At=0,co=null,Ri=0,Ca=0,qc=0,uo=null,mn=null,Gc=0,gs=1/0,Er=null,Ea=!1,Zc=null,ni=null,Na=!1,ri=null,ja=0,fo=0,Jc=null,Ma=-1,Ra=0;function rn(){return(Qe&6)!==0?Ye():Ma!==-1?Ma:Ma=Ye()}function ii(r){return(r.mode&1)===0?1:(Qe&2)!==0&&Yt!==0?Yt&-Yt:ov.transition!==null?(Ra===0&&(Ra=Qi()),Ra):(r=st,r!==0||(r=window.event,r=r===void 0?16:Dd(r.type)),r)}function er(r,s,l,d){if(50<fo)throw fo=0,Jc=null,Error(n(185));As(r,l,d),((Qe&2)===0||r!==$t)&&(r===$t&&((Qe&2)===0&&(Ca|=l),At===4&&si(r,Yt)),pn(r,d),l===1&&Qe===0&&(s.mode&1)===0&&(gs=Ye()+500,ia&&Zr()))}function pn(r,s){var l=r.callbackNode;$r(r,s);var d=vt(r,r===$t?Yt:0);if(d===0)l!==null&&Wn(l),r.callbackNode=null,r.callbackPriority=0;else if(s=d&-d,r.callbackPriority!==s){if(l!=null&&Wn(l),s===1)r.tag===0?sv(Lh.bind(null,r)):xf(Lh.bind(null,r)),tv(function(){(Qe&6)===0&&Zr()}),l=null;else{switch(Cd(d)){case 1:l=Kn;break;case 4:l=An;break;case 16:l=Yn;break;case 536870912:l=We;break;default:l=Yn}l=$h(l,Dh.bind(null,r))}r.callbackPriority=s,r.callbackNode=l}}function Dh(r,s){if(Ma=-1,Ra=0,(Qe&6)!==0)throw Error(n(327));var l=r.callbackNode;if(ys()&&r.callbackNode!==l)return null;var d=vt(r,r===$t?Yt:0);if(d===0)return null;if((d&30)!==0||(d&r.expiredLanes)!==0||s)s=Pa(r,d);else{s=d;var m=Qe;Qe|=2;var p=Oh();($t!==r||Yt!==s)&&(Er=null,gs=Ye()+500,Ti(r,s));do try{Ev();break}catch(E){Ah(r,E)}while(!0);yc(),ka.current=p,Qe=m,Rt!==null?s=0:($t=null,Yt=0,s=At)}if(s!==0){if(s===2&&(m=vr(r),m!==0&&(d=m,s=eu(r,m))),s===1)throw l=co,Ti(r,0),si(r,d),pn(r,Ye()),l;if(s===6)si(r,d);else{if(m=r.current.alternate,(d&30)===0&&!kv(m)&&(s=Pa(r,d),s===2&&(p=vr(r),p!==0&&(d=p,s=eu(r,p))),s===1))throw l=co,Ti(r,0),si(r,d),pn(r,Ye()),l;switch(r.finishedWork=m,r.finishedLanes=d,s){case 0:case 1:throw Error(n(345));case 2:Di(r,mn,Er);break;case 3:if(si(r,d),(d&130023424)===d&&(s=Gc+500-Ye(),10<s)){if(vt(r,0)!==0)break;if(m=r.suspendedLanes,(m&d)!==d){rn(),r.pingedLanes|=r.suspendedLanes&m;break}r.timeoutHandle=oc(Di.bind(null,r,mn,Er),s);break}Di(r,mn,Er);break;case 4:if(si(r,d),(d&4194240)===d)break;for(s=r.eventTimes,m=-1;0<d;){var b=31-Xe(d);p=1<<b,b=s[b],b>m&&(m=b),d&=~p}if(d=m,d=Ye()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*Sv(d/1960))-d,10<d){r.timeoutHandle=oc(Di.bind(null,r,mn,Er),d);break}Di(r,mn,Er);break;case 5:Di(r,mn,Er);break;default:throw Error(n(329))}}}return pn(r,Ye()),r.callbackNode===l?Dh.bind(null,r):null}function eu(r,s){var l=uo;return r.current.memoizedState.isDehydrated&&(Ti(r,s).flags|=256),r=Pa(r,s),r!==2&&(s=mn,mn=l,s!==null&&tu(s)),r}function tu(r){mn===null?mn=r:mn.push.apply(mn,r)}function kv(r){for(var s=r;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var m=l[d],p=m.getSnapshot;m=m.value;try{if(!Qn(p(),m))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function si(r,s){for(s&=~qc,s&=~Ca,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var l=31-Xe(s),d=1<<l;r[l]=-1,s&=~d}}function Lh(r){if((Qe&6)!==0)throw Error(n(327));ys();var s=vt(r,0);if((s&1)===0)return pn(r,Ye()),null;var l=Pa(r,s);if(r.tag!==0&&l===2){var d=vr(r);d!==0&&(s=d,l=eu(r,d))}if(l===1)throw l=co,Ti(r,0),si(r,s),pn(r,Ye()),l;if(l===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,Di(r,mn,Er),pn(r,Ye()),null}function nu(r,s){var l=Qe;Qe|=1;try{return r(s)}finally{Qe=l,Qe===0&&(gs=Ye()+500,ia&&Zr())}}function Pi(r){ri!==null&&ri.tag===0&&(Qe&6)===0&&ys();var s=Qe;Qe|=1;var l=Un.transition,d=st;try{if(Un.transition=null,st=1,r)return r()}finally{st=d,Un.transition=l,Qe=s,(Qe&6)===0&&Zr()}}function ru(){jn=ps.current,ht(ps)}function Ti(r,s){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,ev(l)),Rt!==null)for(l=Rt.return;l!==null;){var d=l;switch(fc(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&na();break;case 3:fs(),ht(dn),ht(qt),Cc();break;case 5:Sc(d);break;case 4:fs();break;case 13:ht(wt);break;case 19:ht(wt);break;case 10:vc(d.type._context);break;case 22:case 23:ru()}l=l.return}if($t=r,Rt=r=oi(r.current,null),Yt=jn=s,At=0,co=null,qc=Ca=Ri=0,mn=uo=null,Ni!==null){for(s=0;s<Ni.length;s++)if(l=Ni[s],d=l.interleaved,d!==null){l.interleaved=null;var m=d.next,p=l.pending;if(p!==null){var b=p.next;p.next=m,d.next=b}l.pending=d}Ni=null}return r}function Ah(r,s){do{var l=Rt;try{if(yc(),ma.current=va,pa){for(var d=St.memoizedState;d!==null;){var m=d.queue;m!==null&&(m.pending=null),d=d.next}pa=!1}if(Mi=0,Bt=Lt=St=null,ro=!1,io=0,Qc.current=null,l===null||l.return===null){At=1,co=s,Rt=null;break}e:{var p=r,b=l.return,E=l,P=s;if(s=Yt,E.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){var V=P,re=E,ie=re.tag;if((re.mode&1)===0&&(ie===0||ie===11||ie===15)){var ne=re.alternate;ne?(re.updateQueue=ne.updateQueue,re.memoizedState=ne.memoizedState,re.lanes=ne.lanes):(re.updateQueue=null,re.memoizedState=null)}var ge=oh(b);if(ge!==null){ge.flags&=-257,ah(ge,b,E,p,s),ge.mode&1&&sh(p,V,s),s=ge,P=V;var Ce=s.updateQueue;if(Ce===null){var Ee=new Set;Ee.add(P),s.updateQueue=Ee}else Ce.add(P);break e}else{if((s&1)===0){sh(p,V,s),iu();break e}P=Error(n(426))}}else if(xt&&E.mode&1){var Nt=oh(b);if(Nt!==null){(Nt.flags&65536)===0&&(Nt.flags|=256),ah(Nt,b,E,p,s),pc(hs(P,E));break e}}p=P=hs(P,E),At!==4&&(At=2),uo===null?uo=[p]:uo.push(p),p=b;do{switch(p.tag){case 3:p.flags|=65536,s&=-s,p.lanes|=s;var I=rh(p,P,s);Rf(p,I);break e;case 1:E=P;var D=p.type,$=p.stateNode;if((p.flags&128)===0&&(typeof D.getDerivedStateFromError=="function"||$!==null&&typeof $.componentDidCatch=="function"&&(ni===null||!ni.has($)))){p.flags|=65536,s&=-s,p.lanes|=s;var ae=ih(p,E,s);Rf(p,ae);break e}}p=p.return}while(p!==null)}Ih(l)}catch(je){s=je,Rt===l&&l!==null&&(Rt=l=l.return);continue}break}while(!0)}function Oh(){var r=ka.current;return ka.current=va,r===null?va:r}function iu(){(At===0||At===3||At===2)&&(At=4),$t===null||(Ri&268435455)===0&&(Ca&268435455)===0||si($t,Yt)}function Pa(r,s){var l=Qe;Qe|=2;var d=Oh();($t!==r||Yt!==s)&&(Er=null,Ti(r,s));do try{Cv();break}catch(m){Ah(r,m)}while(!0);if(yc(),Qe=l,ka.current=d,Rt!==null)throw Error(n(261));return $t=null,Yt=0,At}function Cv(){for(;Rt!==null;)Fh(Rt)}function Ev(){for(;Rt!==null&&!sr();)Fh(Rt)}function Fh(r){var s=Bh(r.alternate,r,jn);r.memoizedProps=r.pendingProps,s===null?Ih(r):Rt=s,Qc.current=null}function Ih(r){var s=r;do{var l=s.alternate;if(r=s.return,(s.flags&32768)===0){if(l=vv(l,s,jn),l!==null){Rt=l;return}}else{if(l=xv(l,s),l!==null){l.flags&=32767,Rt=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{At=6,Rt=null;return}}if(s=s.sibling,s!==null){Rt=s;return}Rt=s=r}while(s!==null);At===0&&(At=5)}function Di(r,s,l){var d=st,m=Un.transition;try{Un.transition=null,st=1,Nv(r,s,l,d)}finally{Un.transition=m,st=d}return null}function Nv(r,s,l,d){do ys();while(ri!==null);if((Qe&6)!==0)throw Error(n(327));l=r.finishedWork;var m=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var p=l.lanes|l.childLanes;if(ay(r,p),r===$t&&(Rt=$t=null,Yt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Na||(Na=!0,$h(Yn,function(){return ys(),null})),p=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||p){p=Un.transition,Un.transition=null;var b=st;st=1;var E=Qe;Qe|=4,Qc.current=null,_v(r,l),jh(l,r),Yy(ic),$o=!!rc,ic=rc=null,r.current=l,wv(l),kn(),Qe=E,st=b,Un.transition=p}else r.current=l;if(Na&&(Na=!1,ri=r,ja=m),p=r.pendingLanes,p===0&&(ni=null),Br(l.stateNode),pn(r,Ye()),s!==null)for(d=r.onRecoverableError,l=0;l<s.length;l++)m=s[l],d(m.value,{componentStack:m.stack,digest:m.digest});if(Ea)throw Ea=!1,r=Zc,Zc=null,r;return(ja&1)!==0&&r.tag!==0&&ys(),p=r.pendingLanes,(p&1)!==0?r===Jc?fo++:(fo=0,Jc=r):fo=0,Zr(),null}function ys(){if(ri!==null){var r=Cd(ja),s=Un.transition,l=st;try{if(Un.transition=null,st=16>r?16:r,ri===null)var d=!1;else{if(r=ri,ri=null,ja=0,(Qe&6)!==0)throw Error(n(331));var m=Qe;for(Qe|=4,_e=r.current;_e!==null;){var p=_e,b=p.child;if((_e.flags&16)!==0){var E=p.deletions;if(E!==null){for(var P=0;P<E.length;P++){var V=E[P];for(_e=V;_e!==null;){var re=_e;switch(re.tag){case 0:case 11:case 15:lo(8,re,p)}var ie=re.child;if(ie!==null)ie.return=re,_e=ie;else for(;_e!==null;){re=_e;var ne=re.sibling,ge=re.return;if(Sh(re),re===V){_e=null;break}if(ne!==null){ne.return=ge,_e=ne;break}_e=ge}}}var Ce=p.alternate;if(Ce!==null){var Ee=Ce.child;if(Ee!==null){Ce.child=null;do{var Nt=Ee.sibling;Ee.sibling=null,Ee=Nt}while(Ee!==null)}}_e=p}}if((p.subtreeFlags&2064)!==0&&b!==null)b.return=p,_e=b;else e:for(;_e!==null;){if(p=_e,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:lo(9,p,p.return)}var I=p.sibling;if(I!==null){I.return=p.return,_e=I;break e}_e=p.return}}var D=r.current;for(_e=D;_e!==null;){b=_e;var $=b.child;if((b.subtreeFlags&2064)!==0&&$!==null)$.return=b,_e=$;else e:for(b=D;_e!==null;){if(E=_e,(E.flags&2048)!==0)try{switch(E.tag){case 0:case 11:case 15:Sa(9,E)}}catch(je){Et(E,E.return,je)}if(E===b){_e=null;break e}var ae=E.sibling;if(ae!==null){ae.return=E.return,_e=ae;break e}_e=E.return}}if(Qe=m,Zr(),Dt&&typeof Dt.onPostCommitFiberRoot=="function")try{Dt.onPostCommitFiberRoot(it,r)}catch{}d=!0}return d}finally{st=l,Un.transition=s}}return!1}function zh(r,s,l){s=hs(l,s),s=rh(r,s,1),r=ei(r,s,1),s=rn(),r!==null&&(As(r,1,s),pn(r,s))}function Et(r,s,l){if(r.tag===3)zh(r,r,l);else for(;s!==null;){if(s.tag===3){zh(s,r,l);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(ni===null||!ni.has(d))){r=hs(l,r),r=ih(s,r,1),s=ei(s,r,1),r=rn(),s!==null&&(As(s,1,r),pn(s,r));break}}s=s.return}}function jv(r,s,l){var d=r.pingCache;d!==null&&d.delete(s),s=rn(),r.pingedLanes|=r.suspendedLanes&l,$t===r&&(Yt&l)===l&&(At===4||At===3&&(Yt&130023424)===Yt&&500>Ye()-Gc?Ti(r,0):qc|=l),pn(r,s)}function Uh(r,s){s===0&&((r.mode&1)===0?s=1:(s=Ae,Ae<<=1,(Ae&130023424)===0&&(Ae=4194304)));var l=rn();r=Sr(r,s),r!==null&&(As(r,s,l),pn(r,l))}function Mv(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),Uh(r,l)}function Rv(r,s){var l=0;switch(r.tag){case 13:var d=r.stateNode,m=r.memoizedState;m!==null&&(l=m.retryLane);break;case 19:d=r.stateNode;break;default:throw Error(n(314))}d!==null&&d.delete(s),Uh(r,l)}var Bh;Bh=function(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps||dn.current)hn=!0;else{if((r.lanes&l)===0&&(s.flags&128)===0)return hn=!1,yv(r,s,l);hn=(r.flags&131072)!==0}else hn=!1,xt&&(s.flags&1048576)!==0&&bf(s,oa,s.index);switch(s.lanes=0,s.tag){case 2:var d=s.type;_a(r,s),r=s.pendingProps;var m=ss(s,qt.current);ds(s,l),m=jc(null,s,d,r,m,l);var p=Mc();return s.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,fn(d)?(p=!0,ra(s)):p=!1,s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,_c(s),m.updater=xa,s.stateNode=m,m._reactInternals=s,Ac(s,d,r,l),s=zc(null,s,d,!0,p,l)):(s.tag=0,xt&&p&&dc(s),nn(null,s,m,l),s=s.child),s;case 16:d=s.elementType;e:{switch(_a(r,s),r=s.pendingProps,m=d._init,d=m(d._payload),s.type=d,m=s.tag=Tv(d),r=Gn(d,r),m){case 0:s=Ic(null,s,d,r,l);break e;case 1:s=hh(null,s,d,r,l);break e;case 11:s=lh(null,s,d,r,l);break e;case 14:s=ch(null,s,d,Gn(d.type,r),l);break e}throw Error(n(306,d,""))}return s;case 0:return d=s.type,m=s.pendingProps,m=s.elementType===d?m:Gn(d,m),Ic(r,s,d,m,l);case 1:return d=s.type,m=s.pendingProps,m=s.elementType===d?m:Gn(d,m),hh(r,s,d,m,l);case 3:e:{if(mh(s),r===null)throw Error(n(387));d=s.pendingProps,p=s.memoizedState,m=p.element,Mf(r,s),fa(s,d,null,l);var b=s.memoizedState;if(d=b.element,p.isDehydrated)if(p={element:d,isDehydrated:!1,cache:b.cache,pendingSuspenseBoundaries:b.pendingSuspenseBoundaries,transitions:b.transitions},s.updateQueue.baseState=p,s.memoizedState=p,s.flags&256){m=hs(Error(n(423)),s),s=ph(r,s,d,l,m);break e}else if(d!==m){m=hs(Error(n(424)),s),s=ph(r,s,d,l,m);break e}else for(Nn=Qr(s.stateNode.containerInfo.firstChild),En=s,xt=!0,qn=null,l=Nf(s,null,d,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(ls(),d===m){s=Cr(r,s,l);break e}nn(r,s,d,l)}s=s.child}return s;case 5:return Tf(s),r===null&&mc(s),d=s.type,m=s.pendingProps,p=r!==null?r.memoizedProps:null,b=m.children,sc(d,m)?b=null:p!==null&&sc(d,p)&&(s.flags|=32),fh(r,s),nn(r,s,b,l),s.child;case 6:return r===null&&mc(s),null;case 13:return gh(r,s,l);case 4:return wc(s,s.stateNode.containerInfo),d=s.pendingProps,r===null?s.child=cs(s,null,d,l):nn(r,s,d,l),s.child;case 11:return d=s.type,m=s.pendingProps,m=s.elementType===d?m:Gn(d,m),lh(r,s,d,m,l);case 7:return nn(r,s,s.pendingProps,l),s.child;case 8:return nn(r,s,s.pendingProps.children,l),s.child;case 12:return nn(r,s,s.pendingProps.children,l),s.child;case 10:e:{if(d=s.type._context,m=s.pendingProps,p=s.memoizedProps,b=m.value,ut(ca,d._currentValue),d._currentValue=b,p!==null)if(Qn(p.value,b)){if(p.children===m.children&&!dn.current){s=Cr(r,s,l);break e}}else for(p=s.child,p!==null&&(p.return=s);p!==null;){var E=p.dependencies;if(E!==null){b=p.child;for(var P=E.firstContext;P!==null;){if(P.context===d){if(p.tag===1){P=kr(-1,l&-l),P.tag=2;var V=p.updateQueue;if(V!==null){V=V.shared;var re=V.pending;re===null?P.next=P:(P.next=re.next,re.next=P),V.pending=P}}p.lanes|=l,P=p.alternate,P!==null&&(P.lanes|=l),xc(p.return,l,s),E.lanes|=l;break}P=P.next}}else if(p.tag===10)b=p.type===s.type?null:p.child;else if(p.tag===18){if(b=p.return,b===null)throw Error(n(341));b.lanes|=l,E=b.alternate,E!==null&&(E.lanes|=l),xc(b,l,s),b=p.sibling}else b=p.child;if(b!==null)b.return=p;else for(b=p;b!==null;){if(b===s){b=null;break}if(p=b.sibling,p!==null){p.return=b.return,b=p;break}b=b.return}p=b}nn(r,s,m.children,l),s=s.child}return s;case 9:return m=s.type,d=s.pendingProps.children,ds(s,l),m=In(m),d=d(m),s.flags|=1,nn(r,s,d,l),s.child;case 14:return d=s.type,m=Gn(d,s.pendingProps),m=Gn(d.type,m),ch(r,s,d,m,l);case 15:return uh(r,s,s.type,s.pendingProps,l);case 17:return d=s.type,m=s.pendingProps,m=s.elementType===d?m:Gn(d,m),_a(r,s),s.tag=1,fn(d)?(r=!0,ra(s)):r=!1,ds(s,l),th(s,d,m),Ac(s,d,m,l),zc(null,s,d,!0,r,l);case 19:return vh(r,s,l);case 22:return dh(r,s,l)}throw Error(n(156,s.tag))};function $h(r,s){return lt(r,s)}function Pv(r,s,l,d){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(r,s,l,d){return new Pv(r,s,l,d)}function su(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Tv(r){if(typeof r=="function")return su(r)?1:0;if(r!=null){if(r=r.$$typeof,r===G)return 11;if(r===fe)return 14}return 2}function oi(r,s){var l=r.alternate;return l===null?(l=Bn(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function Ta(r,s,l,d,m,p){var b=2;if(d=r,typeof r=="function")su(r)&&(b=1);else if(typeof r=="string")b=5;else e:switch(r){case R:return Li(l.children,m,p,s);case O:b=8,m|=8;break;case K:return r=Bn(12,l,s,m|2),r.elementType=K,r.lanes=p,r;case oe:return r=Bn(13,l,s,m),r.elementType=oe,r.lanes=p,r;case de:return r=Bn(19,l,s,m),r.elementType=de,r.lanes=p,r;case J:return Da(l,m,p,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case X:b=10;break e;case U:b=9;break e;case G:b=11;break e;case fe:b=14;break e;case me:b=16,d=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return s=Bn(b,l,s,m),s.elementType=r,s.type=d,s.lanes=p,s}function Li(r,s,l,d){return r=Bn(7,r,d,s),r.lanes=l,r}function Da(r,s,l,d){return r=Bn(22,r,d,s),r.elementType=J,r.lanes=l,r.stateNode={isHidden:!1},r}function ou(r,s,l){return r=Bn(6,r,null,s),r.lanes=l,r}function au(r,s,l){return s=Bn(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function Dv(r,s,l,d,m){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ll(0),this.expirationTimes=Ll(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ll(0),this.identifierPrefix=d,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function lu(r,s,l,d,m,p,b,E,P){return r=new Dv(r,s,l,E,P),s===1?(s=1,p===!0&&(s|=8)):s=0,p=Bn(3,null,null,s),r.current=p,p.stateNode=r,p.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},_c(p),r}function Lv(r,s,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ee,key:d==null?null:""+d,children:r,containerInfo:s,implementation:l}}function Hh(r){if(!r)return Gr;r=r._reactInternals;e:{if(he(r)!==r||r.tag!==1)throw Error(n(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(fn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(n(171))}if(r.tag===1){var l=r.type;if(fn(l))return yf(r,l,s)}return s}function Vh(r,s,l,d,m,p,b,E,P){return r=lu(l,d,!0,r,m,p,b,E,P),r.context=Hh(null),l=r.current,d=rn(),m=ii(l),p=kr(d,m),p.callback=s??null,ei(l,p,m),r.current.lanes=m,As(r,m,d),pn(r,d),r}function La(r,s,l,d){var m=s.current,p=rn(),b=ii(m);return l=Hh(l),s.context===null?s.context=l:s.pendingContext=l,s=kr(p,b),s.payload={element:r},d=d===void 0?null:d,d!==null&&(s.callback=d),r=ei(m,s,b),r!==null&&(er(r,m,b,p),da(r,m,b)),b}function Aa(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Wh(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function cu(r,s){Wh(r,s),(r=r.alternate)&&Wh(r,s)}function Av(){return null}var Kh=typeof reportError=="function"?reportError:function(r){console.error(r)};function uu(r){this._internalRoot=r}Oa.prototype.render=uu.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(n(409));La(r,s,null,null)},Oa.prototype.unmount=uu.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Pi(function(){La(null,r,null,null)}),s[xr]=null}};function Oa(r){this._internalRoot=r}Oa.prototype.unstable_scheduleHydration=function(r){if(r){var s=jd();r={blockedOn:null,target:r,priority:s};for(var l=0;l<Kr.length&&s!==0&&s<Kr[l].priority;l++);Kr.splice(l,0,r),l===0&&Pd(r)}};function du(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Fa(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Yh(){}function Ov(r,s,l,d,m){if(m){if(typeof d=="function"){var p=d;d=function(){var V=Aa(b);p.call(V)}}var b=Vh(s,d,r,0,null,!1,!1,"",Yh);return r._reactRootContainer=b,r[xr]=b.current,Qs(r.nodeType===8?r.parentNode:r),Pi(),b}for(;m=r.lastChild;)r.removeChild(m);if(typeof d=="function"){var E=d;d=function(){var V=Aa(P);E.call(V)}}var P=lu(r,0,!1,null,null,!1,!1,"",Yh);return r._reactRootContainer=P,r[xr]=P.current,Qs(r.nodeType===8?r.parentNode:r),Pi(function(){La(s,P,l,d)}),P}function Ia(r,s,l,d,m){var p=l._reactRootContainer;if(p){var b=p;if(typeof m=="function"){var E=m;m=function(){var P=Aa(b);E.call(P)}}La(s,b,r,m)}else b=Ov(l,s,r,m,d);return Aa(b)}Ed=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var l=He(s.pendingLanes);l!==0&&(Al(s,l|1),pn(s,Ye()),(Qe&6)===0&&(gs=Ye()+500,Zr()))}break;case 13:Pi(function(){var d=Sr(r,1);if(d!==null){var m=rn();er(d,r,1,m)}}),cu(r,1)}},Ol=function(r){if(r.tag===13){var s=Sr(r,134217728);if(s!==null){var l=rn();er(s,r,134217728,l)}cu(r,134217728)}},Nd=function(r){if(r.tag===13){var s=ii(r),l=Sr(r,s);if(l!==null){var d=rn();er(l,r,s,d)}cu(r,s)}},jd=function(){return st},Md=function(r,s){var l=st;try{return st=r,s()}finally{st=l}},gr=function(r,s,l){switch(s){case"input":if(on(r,l),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var d=l[s];if(d!==r&&d.form===r.form){var m=ta(d);if(!m)throw Error(n(90));gt(d),on(d,m)}}}break;case"textarea":en(r,l);break;case"select":s=l.value,s!=null&&Ze(r,!!l.multiple,s,!1)}},Ur=nu,yr=Pi;var Fv={usingClientEntryPoint:!1,Events:[Zs,rs,ta,zr,bi,nu]},ho={findFiberByHostInstance:Si,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Iv={bundleType:ho.bundleType,version:ho.version,rendererPackageName:ho.rendererPackageName,rendererConfig:ho.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Je(r),r===null?null:r.stateNode},findFiberByHostInstance:ho.findFiberByHostInstance||Av,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var za=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!za.isDisabled&&za.supportsFiber)try{it=za.inject(Iv),Dt=za}catch{}}return gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fv,gn.createPortal=function(r,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!du(s))throw Error(n(200));return Lv(r,s,null,l)},gn.createRoot=function(r,s){if(!du(r))throw Error(n(299));var l=!1,d="",m=Kh;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(m=s.onRecoverableError)),s=lu(r,1,!1,null,null,l,!1,d,m),r[xr]=s.current,Qs(r.nodeType===8?r.parentNode:r),new uu(s)},gn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=Je(s),r=r===null?null:r.stateNode,r},gn.flushSync=function(r){return Pi(r)},gn.hydrate=function(r,s,l){if(!Fa(s))throw Error(n(200));return Ia(null,r,s,!0,l)},gn.hydrateRoot=function(r,s,l){if(!du(r))throw Error(n(405));var d=l!=null&&l.hydratedSources||null,m=!1,p="",b=Kh;if(l!=null&&(l.unstable_strictMode===!0&&(m=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onRecoverableError!==void 0&&(b=l.onRecoverableError)),s=Vh(s,null,r,1,l??null,m,!1,p,b),r[xr]=s.current,Qs(r),d)for(r=0;r<d.length;r++)l=d[r],m=l._getVersion,m=m(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,m]:s.mutableSourceEagerHydrationData.push(l,m);return new Oa(s)},gn.render=function(r,s,l){if(!Fa(s))throw Error(n(200));return Ia(null,r,s,!1,l)},gn.unmountComponentAtNode=function(r){if(!Fa(r))throw Error(n(40));return r._reactRootContainer?(Pi(function(){Ia(null,null,r,!1,function(){r._reactRootContainer=null,r[xr]=null})}),!0):!1},gn.unstable_batchedUpdates=nu,gn.unstable_renderSubtreeIntoContainer=function(r,s,l,d){if(!Fa(l))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return Ia(r,s,l,!1,d)},gn.version="18.3.1-next-f1338f8080-20240426",gn}var tm;function Xp(){if(tm)return mu.exports;tm=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),mu.exports=Kv(),mu.exports}var nm;function Yv(){if(nm)return Ua;nm=1;var t=Xp();return Ua.createRoot=t.createRoot,Ua.hydrateRoot=t.hydrateRoot,Ua}var Xv=Yv();const Qv=Yu(Xv);var Qp=Xp();const qv=Yu(Qp),Gv=Yp({__proto__:null,default:qv},[Qp]);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bt(){return bt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},bt.apply(this,arguments)}var Pt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Pt||(Pt={}));const rm="popstate";function Zv(t){t===void 0&&(t={});function e(i,o){let{pathname:a,search:c,hash:u}=i.location;return Po("",{pathname:a,search:c,hash:u},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){return typeof o=="string"?o:Wi(o)}return e0(e,n,null,t)}function Ie(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ks(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Jv(){return Math.random().toString(36).substr(2,8)}function im(t,e){return{usr:t.state,key:t.key,idx:e}}function Po(t,e,n,i){return n===void 0&&(n=null),bt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?yi(e):e,{state:n,key:e&&e.key||i||Jv()})}function Wi(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function yi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function e0(t,e,n,i){i===void 0&&(i={});let{window:o=document.defaultView,v5Compat:a=!1}=i,c=o.history,u=Pt.Pop,f=null,h=g();h==null&&(h=0,c.replaceState(bt({},c.state,{idx:h}),""));function g(){return(c.state||{idx:null}).idx}function v(){u=Pt.Pop;let C=g(),T=C==null?null:C-h;h=C,f&&f({action:u,location:k.location,delta:T})}function x(C,T){u=Pt.Push;let M=Po(k.location,C,T);h=g()+1;let B=im(M,h),A=k.createHref(M);try{c.pushState(B,"",A)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;o.location.assign(A)}a&&f&&f({action:u,location:k.location,delta:1})}function _(C,T){u=Pt.Replace;let M=Po(k.location,C,T);h=g();let B=im(M,h),A=k.createHref(M);c.replaceState(B,"",A),a&&f&&f({action:u,location:k.location,delta:0})}function w(C){let T=o.location.origin!=="null"?o.location.origin:o.location.href,M=typeof C=="string"?C:Wi(C);return M=M.replace(/ $/,"%20"),Ie(T,"No window.location.(origin|href) available to create URL for href: "+M),new URL(M,T)}let k={get action(){return u},get location(){return t(o,c)},listen(C){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(rm,v),f=C,()=>{o.removeEventListener(rm,v),f=null}},createHref(C){return e(o,C)},createURL:w,encodeLocation(C){let T=w(C);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:x,replace:_,go(C){return c.go(C)}};return k}var ot;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ot||(ot={}));const t0=new Set(["lazy","caseSensitive","path","id","index","children"]);function n0(t){return t.index===!0}function ll(t,e,n,i){return n===void 0&&(n=[]),i===void 0&&(i={}),t.map((o,a)=>{let c=[...n,String(a)],u=typeof o.id=="string"?o.id:c.join("-");if(Ie(o.index!==!0||!o.children,"Cannot specify children on an index route"),Ie(!i[u],'Found a route id collision on id "'+u+`".  Route id's must be globally unique within Data Router usages`),n0(o)){let f=bt({},o,e(o),{id:u});return i[u]=f,f}else{let f=bt({},o,e(o),{id:u,children:void 0});return i[u]=f,o.children&&(f.children=ll(o.children,e,c,i)),f}})}function zi(t,e,n){return n===void 0&&(n="/"),rl(t,e,n,!1)}function rl(t,e,n,i){let o=typeof e=="string"?yi(e):e,a=Lr(o.pathname||"/",n);if(a==null)return null;let c=qp(t);i0(c);let u=null;for(let f=0;u==null&&f<c.length;++f){let h=p0(a);u=h0(c[f],h,i)}return u}function r0(t,e){let{route:n,pathname:i,params:o}=t;return{id:n.id,pathname:i,params:o,data:e[n.id],handle:n.handle}}function qp(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let o=(a,c,u)=>{let f={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};f.relativePath.startsWith("/")&&(Ie(f.relativePath.startsWith(i),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(i.length));let h=Dr([i,f.relativePath]),g=n.concat(f);a.children&&a.children.length>0&&(Ie(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),qp(a.children,e,g,h)),!(a.path==null&&!a.index)&&e.push({path:h,score:d0(h,a.index),routesMeta:g})};return t.forEach((a,c)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))o(a,c);else for(let f of Gp(a.path))o(a,c,f)}),e}function Gp(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,o=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return o?[a,""]:[a];let c=Gp(i.join("/")),u=[];return u.push(...c.map(f=>f===""?a:[a,f].join("/"))),o&&u.push(...c),u.map(f=>t.startsWith("/")&&f===""?"/":f)}function i0(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:f0(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const s0=/^:[\w-]+$/,o0=3,a0=2,l0=1,c0=10,u0=-2,sm=t=>t==="*";function d0(t,e){let n=t.split("/"),i=n.length;return n.some(sm)&&(i+=u0),e&&(i+=a0),n.filter(o=>!sm(o)).reduce((o,a)=>o+(s0.test(a)?o0:a===""?l0:c0),i)}function f0(t,e){return t.length===e.length&&t.slice(0,-1).every((i,o)=>i===e[o])?t[t.length-1]-e[e.length-1]:0}function h0(t,e,n){n===void 0&&(n=!1);let{routesMeta:i}=t,o={},a="/",c=[];for(let u=0;u<i.length;++u){let f=i[u],h=u===i.length-1,g=a==="/"?e:e.slice(a.length)||"/",v=cl({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},g),x=f.route;if(!v&&h&&n&&!i[i.length-1].route.index&&(v=cl({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!v)return null;Object.assign(o,v.params),c.push({params:o,pathname:Dr([a,v.pathname]),pathnameBase:v0(Dr([a,v.pathnameBase])),route:x}),v.pathnameBase!=="/"&&(a=Dr([a,v.pathnameBase]))}return c}function cl(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=m0(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let a=o[0],c=a.replace(/(.)\/+$/,"$1"),u=o.slice(1);return{params:i.reduce((h,g,v)=>{let{paramName:x,isOptional:_}=g;if(x==="*"){let k=u[v]||"";c=a.slice(0,a.length-k.length).replace(/(.)\/+$/,"$1")}const w=u[v];return _&&!w?h[x]=void 0:h[x]=(w||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:c,pattern:t}}function m0(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),ks(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,f)=>(i.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function p0(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ks(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Lr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function g0(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:o=""}=typeof t=="string"?yi(t):t;return{pathname:n?n.startsWith("/")?n:y0(n,e):e,search:x0(i),hash:b0(o)}}function y0(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function yu(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Zp(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Cl(t,e){let n=Zp(t);return e?n.map((i,o)=>o===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function El(t,e,n,i){i===void 0&&(i=!1);let o;typeof t=="string"?o=yi(t):(o=bt({},t),Ie(!o.pathname||!o.pathname.includes("?"),yu("?","pathname","search",o)),Ie(!o.pathname||!o.pathname.includes("#"),yu("#","pathname","hash",o)),Ie(!o.search||!o.search.includes("#"),yu("#","search","hash",o)));let a=t===""||o.pathname==="",c=a?"/":o.pathname,u;if(c==null)u=n;else{let v=e.length-1;if(!i&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),v-=1;o.pathname=x.join("/")}u=v>=0?e[v]:"/"}let f=g0(o,u),h=c&&c!=="/"&&c.endsWith("/"),g=(a||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(h||g)&&(f.pathname+="/"),f}const Dr=t=>t.join("/").replace(/\/\/+/g,"/"),v0=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),x0=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,b0=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class ul{constructor(e,n,i,o){o===void 0&&(o=!1),this.status=e,this.statusText=n||"",this.internal=o,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}}function To(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Jp=["post","put","patch","delete"],_0=new Set(Jp),w0=["get",...Jp],S0=new Set(w0),k0=new Set([301,302,303,307,308]),C0=new Set([307,308]),vu={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},E0={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},po={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Qu=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,N0=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),eg="remix-router-transitions";function j0(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",i=!n;Ie(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let o;if(t.mapRouteProperties)o=t.mapRouteProperties;else if(t.detectErrorBoundary){let j=t.detectErrorBoundary;o=L=>({hasErrorBoundary:j(L)})}else o=N0;let a={},c=ll(t.routes,o,void 0,a),u,f=t.basename||"/",h=t.dataStrategy||T0,g=t.patchRoutesOnNavigation,v=bt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),x=null,_=new Set,w=null,k=null,C=null,T=t.hydrationData!=null,M=zi(c,t.history.location,f),B=!1,A=null;if(M==null&&!g){let j=vn(404,{pathname:t.history.location.pathname}),{matches:L,route:W}=gm(c);M=L,A={[W.id]:j}}M&&!t.hydrationData&&yr(M,c,t.history.location.pathname).active&&(M=null);let Y;if(M)if(M.some(j=>j.route.lazy))Y=!1;else if(!M.some(j=>j.route.loader))Y=!0;else if(v.v7_partialHydration){let j=t.hydrationData?t.hydrationData.loaderData:null,L=t.hydrationData?t.hydrationData.errors:null;if(L){let W=M.findIndex(te=>L[te.route.id]!==void 0);Y=M.slice(0,W+1).every(te=>!Du(te.route,j,L))}else Y=M.every(W=>!Du(W.route,j,L))}else Y=t.hydrationData!=null;else if(Y=!1,M=[],v.v7_partialHydration){let j=yr(null,c,t.history.location.pathname);j.active&&j.matches&&(B=!0,M=j.matches)}let ee,R={historyAction:t.history.action,location:t.history.location,matches:M,initialized:Y,navigation:vu,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||A,fetchers:new Map,blockers:new Map},O=Pt.Pop,K=!1,X,U=!1,G=new Map,oe=null,de=!1,fe=!1,me=[],J=new Set,H=new Map,Z=0,F=-1,N=new Map,z=new Set,se=new Map,pe=new Map,ye=new Set,ue=new Map,Te=new Map,De;function ze(){if(x=t.history.listen(j=>{let{action:L,location:W,delta:te}=j;if(De){De(),De=void 0;return}ks(Te.size===0||te!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ce=gr({currentLocation:R.location,nextLocation:W,historyAction:L});if(ce&&te!=null){let Ne=new Promise(Me=>{De=Me});t.history.go(te*-1),wn(ce,{state:"blocked",location:W,proceed(){wn(ce,{state:"proceeding",proceed:void 0,reset:void 0,location:W}),Ne.then(()=>t.history.go(te))},reset(){let Me=new Map(R.blockers);Me.set(ce,po),gt({blockers:Me})}});return}return Qt(L,W)}),n){K0(e,G);let j=()=>Y0(e,G);e.addEventListener("pagehide",j),oe=()=>e.removeEventListener("pagehide",j)}return R.initialized||Qt(Pt.Pop,R.location,{initialHydration:!0}),ee}function nt(){x&&x(),oe&&oe(),_.clear(),X&&X.abort(),R.fetchers.forEach((j,L)=>Se(L)),R.blockers.forEach((j,L)=>Vn(L))}function Xt(j){return _.add(j),()=>_.delete(j)}function gt(j,L){L===void 0&&(L={}),R=bt({},R,j);let W=[],te=[];v.v7_fetcherPersist&&R.fetchers.forEach((ce,Ne)=>{ce.state==="idle"&&(ye.has(Ne)?te.push(Ne):W.push(Ne))}),ye.forEach(ce=>{!R.fetchers.has(ce)&&!H.has(ce)&&te.push(ce)}),[..._].forEach(ce=>ce(R,{deletedFetchers:te,viewTransitionOpts:L.viewTransitionOpts,flushSync:L.flushSync===!0})),v.v7_fetcherPersist?(W.forEach(ce=>R.fetchers.delete(ce)),te.forEach(ce=>Se(ce))):te.forEach(ce=>ye.delete(ce))}function kt(j,L,W){var te,ce;let{flushSync:Ne}=W===void 0?{}:W,Me=R.actionData!=null&&R.navigation.formMethod!=null&&tr(R.navigation.formMethod)&&R.navigation.state==="loading"&&((te=j.state)==null?void 0:te._isRedirect)!==!0,be;L.actionData?Object.keys(L.actionData).length>0?be=L.actionData:be=null:Me?be=R.actionData:be=null;let ke=L.loaderData?mm(R.loaderData,L.loaderData,L.matches||[],L.errors):R.loaderData,xe=R.blockers;xe.size>0&&(xe=new Map(xe),xe.forEach((Ue,_t)=>xe.set(_t,po)));let he=K===!0||R.navigation.formMethod!=null&&tr(R.navigation.formMethod)&&((ce=j.state)==null?void 0:ce._isRedirect)!==!0;u&&(c=u,u=void 0),de||O===Pt.Pop||(O===Pt.Push?t.history.push(j,j.state):O===Pt.Replace&&t.history.replace(j,j.state));let Le;if(O===Pt.Pop){let Ue=G.get(R.location.pathname);Ue&&Ue.has(j.pathname)?Le={currentLocation:R.location,nextLocation:j}:G.has(j.pathname)&&(Le={currentLocation:j,nextLocation:R.location})}else if(U){let Ue=G.get(R.location.pathname);Ue?Ue.add(j.pathname):(Ue=new Set([j.pathname]),G.set(R.location.pathname,Ue)),Le={currentLocation:R.location,nextLocation:j}}gt(bt({},L,{actionData:be,loaderData:ke,historyAction:O,location:j,initialized:!0,navigation:vu,revalidation:"idle",restoreScrollPosition:Ur(j,L.matches||R.matches),preventScrollReset:he,blockers:xe}),{viewTransitionOpts:Le,flushSync:Ne===!0}),O=Pt.Pop,K=!1,U=!1,de=!1,fe=!1,me=[]}async function Mt(j,L){if(typeof j=="number"){t.history.go(j);return}let W=Tu(R.location,R.matches,f,v.v7_prependBasename,j,v.v7_relativeSplatPath,L?.fromRouteId,L?.relative),{path:te,submission:ce,error:Ne}=om(v.v7_normalizeFormMethod,!1,W,L),Me=R.location,be=Po(R.location,te,L&&L.state);be=bt({},be,t.history.encodeLocation(be));let ke=L&&L.replace!=null?L.replace:void 0,xe=Pt.Push;ke===!0?xe=Pt.Replace:ke===!1||ce!=null&&tr(ce.formMethod)&&ce.formAction===R.location.pathname+R.location.search&&(xe=Pt.Replace);let he=L&&"preventScrollReset"in L?L.preventScrollReset===!0:void 0,Le=(L&&L.flushSync)===!0,Ue=gr({currentLocation:Me,nextLocation:be,historyAction:xe});if(Ue){wn(Ue,{state:"blocked",location:be,proceed(){wn(Ue,{state:"proceeding",proceed:void 0,reset:void 0,location:be}),Mt(j,L)},reset(){let _t=new Map(R.blockers);_t.set(Ue,po),gt({blockers:_t})}});return}return await Qt(xe,be,{submission:ce,pendingError:Ne,preventScrollReset:he,replace:L&&L.replace,enableViewTransition:L&&L.viewTransition,flushSync:Le})}function Pn(){if(Ln(),gt({revalidation:"loading"}),R.navigation.state!=="submitting"){if(R.navigation.state==="idle"){Qt(R.historyAction,R.location,{startUninterruptedRevalidation:!0});return}Qt(O||R.historyAction,R.navigation.location,{overrideNavigation:R.navigation,enableViewTransition:U===!0})}}async function Qt(j,L,W){X&&X.abort(),X=null,O=j,de=(W&&W.startUninterruptedRevalidation)===!0,bi(R.location,R.matches),K=(W&&W.preventScrollReset)===!0,U=(W&&W.enableViewTransition)===!0;let te=u||c,ce=W&&W.overrideNavigation,Ne=W!=null&&W.initialHydration&&R.matches&&R.matches.length>0&&!B?R.matches:zi(te,L,f),Me=(W&&W.flushSync)===!0;if(Ne&&R.initialized&&!fe&&I0(R.location,L)&&!(W&&W.submission&&tr(W.submission.formMethod))){kt(L,{matches:Ne},{flushSync:Me});return}let be=yr(Ne,te,L.pathname);if(be.active&&be.matches&&(Ne=be.matches),!Ne){let{error:Je,notFoundMatches:Ke,route:lt}=cn(L.pathname);kt(L,{matches:Ke,loaderData:{},errors:{[lt.id]:Je}},{flushSync:Me});return}X=new AbortController;let ke=vs(t.history,L,X.signal,W&&W.submission),xe;if(W&&W.pendingError)xe=[Ui(Ne).route.id,{type:ot.error,error:W.pendingError}];else if(W&&W.submission&&tr(W.submission.formMethod)){let Je=await on(ke,L,W.submission,Ne,be.active,{replace:W.replace,flushSync:Me});if(Je.shortCircuited)return;if(Je.pendingActionResult){let[Ke,lt]=Je.pendingActionResult;if(Rn(lt)&&To(lt.error)&&lt.error.status===404){X=null,kt(L,{matches:Je.matches,loaderData:{},errors:{[Ke]:lt.error}});return}}Ne=Je.matches||Ne,xe=Je.pendingActionResult,ce=xu(L,W.submission),Me=!1,be.active=!1,ke=vs(t.history,ke.url,ke.signal)}let{shortCircuited:he,matches:Le,loaderData:Ue,errors:_t}=await le(ke,L,Ne,be.active,ce,W&&W.submission,W&&W.fetcherSubmission,W&&W.replace,W&&W.initialHydration===!0,Me,xe);he||(X=null,kt(L,bt({matches:Le||Ne},pm(xe),{loaderData:Ue,errors:_t})))}async function on(j,L,W,te,ce,Ne){Ne===void 0&&(Ne={}),Ln();let Me=V0(L,W);if(gt({navigation:Me},{flushSync:Ne.flushSync===!0}),ce){let xe=await Sn(te,L.pathname,j.signal);if(xe.type==="aborted")return{shortCircuited:!0};if(xe.type==="error"){let he=Ui(xe.partialMatches).route.id;return{matches:xe.partialMatches,pendingActionResult:[he,{type:ot.error,error:xe.error}]}}else if(xe.matches)te=xe.matches;else{let{notFoundMatches:he,error:Le,route:Ue}=cn(L.pathname);return{matches:he,pendingActionResult:[Ue.id,{type:ot.error,error:Le}]}}}let be,ke=So(te,L);if(!ke.route.action&&!ke.route.lazy)be={type:ot.error,error:vn(405,{method:j.method,pathname:L.pathname,routeId:ke.route.id})};else if(be=(await ln("action",R,j,[ke],te,null))[ke.route.id],j.signal.aborted)return{shortCircuited:!0};if(Bi(be)){let xe;return Ne&&Ne.replace!=null?xe=Ne.replace:xe=dm(be.response.headers.get("Location"),new URL(j.url),f)===R.location.pathname+R.location.search,await en(j,be,!0,{submission:W,replace:xe}),{shortCircuited:!0}}if(ui(be))throw vn(400,{type:"defer-action"});if(Rn(be)){let xe=Ui(te,ke.route.id);return(Ne&&Ne.replace)!==!0&&(O=Pt.Push),{matches:te,pendingActionResult:[xe.route.id,be]}}return{matches:te,pendingActionResult:[ke.route.id,be]}}async function le(j,L,W,te,ce,Ne,Me,be,ke,xe,he){let Le=ce||xu(L,Ne),Ue=Ne||Me||vm(Le),_t=!de&&(!v.v7_partialHydration||!ke);if(te){if(_t){let it=we(he);gt(bt({navigation:Le},it!==void 0?{actionData:it}:{}),{flushSync:xe})}let We=await Sn(W,L.pathname,j.signal);if(We.type==="aborted")return{shortCircuited:!0};if(We.type==="error"){let it=Ui(We.partialMatches).route.id;return{matches:We.partialMatches,loaderData:{},errors:{[it]:We.error}}}else if(We.matches)W=We.matches;else{let{error:it,notFoundMatches:Dt,route:Br}=cn(L.pathname);return{matches:Dt,loaderData:{},errors:{[Br.id]:it}}}}let Je=u||c,[Ke,lt]=lm(t.history,R,W,Ue,L,v.v7_partialHydration&&ke===!0,v.v7_skipActionErrorRevalidation,fe,me,J,ye,se,z,Je,f,he);if(un(We=>!(W&&W.some(it=>it.route.id===We))||Ke&&Ke.some(it=>it.route.id===We)),F=++Z,Ke.length===0&&lt.length===0){let We=zt();return kt(L,bt({matches:W,loaderData:{},errors:he&&Rn(he[1])?{[he[0]]:he[1].error}:null},pm(he),We?{fetchers:new Map(R.fetchers)}:{}),{flushSync:xe}),{shortCircuited:!0}}if(_t){let We={};if(!te){We.navigation=Le;let it=we(he);it!==void 0&&(We.actionData=it)}lt.length>0&&(We.fetchers=$e(lt)),gt(We,{flushSync:xe})}lt.forEach(We=>{rt(We.key),We.controller&&H.set(We.key,We.controller)});let Wn=()=>lt.forEach(We=>rt(We.key));X&&X.signal.addEventListener("abort",Wn);let{loaderResults:sr,fetcherResults:kn}=await Dn(R,W,Ke,lt,j);if(j.signal.aborted)return{shortCircuited:!0};X&&X.signal.removeEventListener("abort",Wn),lt.forEach(We=>H.delete(We.key));let Ye=Ba(sr);if(Ye)return await en(j,Ye.result,!0,{replace:be}),{shortCircuited:!0};if(Ye=Ba(kn),Ye)return z.add(Ye.key),await en(j,Ye.result,!0,{replace:be}),{shortCircuited:!0};let{loaderData:wi,errors:Kn}=hm(R,W,sr,he,lt,kn,ue);ue.forEach((We,it)=>{We.subscribe(Dt=>{(Dt||We.done)&&ue.delete(it)})}),v.v7_partialHydration&&ke&&R.errors&&(Kn=bt({},R.errors,Kn));let An=zt(),Yn=Ut(F),Xn=An||Yn||lt.length>0;return bt({matches:W,loaderData:wi,errors:Kn},Xn?{fetchers:new Map(R.fetchers)}:{})}function we(j){if(j&&!Rn(j[1]))return{[j[0]]:j[1].data};if(R.actionData)return Object.keys(R.actionData).length===0?null:R.actionData}function $e(j){return j.forEach(L=>{let W=R.fetchers.get(L.key),te=go(void 0,W?W.data:void 0);R.fetchers.set(L.key,te)}),new Map(R.fetchers)}function Ze(j,L,W,te){if(i)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");rt(j);let ce=(te&&te.flushSync)===!0,Ne=u||c,Me=Tu(R.location,R.matches,f,v.v7_prependBasename,W,v.v7_relativeSplatPath,L,te?.relative),be=zi(Ne,Me,f),ke=yr(be,Ne,Me);if(ke.active&&ke.matches&&(be=ke.matches),!be){Wt(j,L,vn(404,{pathname:Me}),{flushSync:ce});return}let{path:xe,submission:he,error:Le}=om(v.v7_normalizeFormMethod,!0,Me,te);if(Le){Wt(j,L,Le,{flushSync:ce});return}let Ue=So(be,xe),_t=(te&&te.preventScrollReset)===!0;if(he&&tr(he.formMethod)){an(j,L,xe,Ue,be,ke.active,ce,_t,he);return}se.set(j,{routeId:L,path:xe}),Tn(j,L,xe,Ue,be,ke.active,ce,_t,he)}async function an(j,L,W,te,ce,Ne,Me,be,ke){Ln(),se.delete(j);function xe(Xe){if(!Xe.route.action&&!Xe.route.lazy){let Q=vn(405,{method:ke.formMethod,pathname:W,routeId:L});return Wt(j,L,Q,{flushSync:Me}),!0}return!1}if(!Ne&&xe(te))return;let he=R.fetchers.get(j);It(j,W0(ke,he),{flushSync:Me});let Le=new AbortController,Ue=vs(t.history,W,Le.signal,ke);if(Ne){let Xe=await Sn(ce,new URL(Ue.url).pathname,Ue.signal,j);if(Xe.type==="aborted")return;if(Xe.type==="error"){Wt(j,L,Xe.error,{flushSync:Me});return}else if(Xe.matches){if(ce=Xe.matches,te=So(ce,W),xe(te))return}else{Wt(j,L,vn(404,{pathname:W}),{flushSync:Me});return}}H.set(j,Le);let _t=Z,Ke=(await ln("action",R,Ue,[te],ce,j))[te.route.id];if(Ue.signal.aborted){H.get(j)===Le&&H.delete(j);return}if(v.v7_fetcherPersist&&ye.has(j)){if(Bi(Ke)||Rn(Ke)){It(j,li(void 0));return}}else{if(Bi(Ke))if(H.delete(j),F>_t){It(j,li(void 0));return}else return z.add(j),It(j,go(ke)),en(Ue,Ke,!1,{fetcherSubmission:ke,preventScrollReset:be});if(Rn(Ke)){Wt(j,L,Ke.error);return}}if(ui(Ke))throw vn(400,{type:"defer-action"});let lt=R.navigation.location||R.location,Wn=vs(t.history,lt,Le.signal),sr=u||c,kn=R.navigation.state!=="idle"?zi(sr,R.navigation.location,f):R.matches;Ie(kn,"Didn't find any matches after fetcher action");let Ye=++Z;N.set(j,Ye);let wi=go(ke,Ke.data);R.fetchers.set(j,wi);let[Kn,An]=lm(t.history,R,kn,ke,lt,!1,v.v7_skipActionErrorRevalidation,fe,me,J,ye,se,z,sr,f,[te.route.id,Ke]);An.filter(Xe=>Xe.key!==j).forEach(Xe=>{let Q=Xe.key,ve=R.fetchers.get(Q),Be=go(void 0,ve?ve.data:void 0);R.fetchers.set(Q,Be),rt(Q),Xe.controller&&H.set(Q,Xe.controller)}),gt({fetchers:new Map(R.fetchers)});let Yn=()=>An.forEach(Xe=>rt(Xe.key));Le.signal.addEventListener("abort",Yn);let{loaderResults:Xn,fetcherResults:We}=await Dn(R,kn,Kn,An,Wn);if(Le.signal.aborted)return;Le.signal.removeEventListener("abort",Yn),N.delete(j),H.delete(j),An.forEach(Xe=>H.delete(Xe.key));let it=Ba(Xn);if(it)return en(Wn,it.result,!1,{preventScrollReset:be});if(it=Ba(We),it)return z.add(it.key),en(Wn,it.result,!1,{preventScrollReset:be});let{loaderData:Dt,errors:Br}=hm(R,kn,Xn,void 0,An,We,ue);if(R.fetchers.has(j)){let Xe=li(Ke.data);R.fetchers.set(j,Xe)}Ut(Ye),R.navigation.state==="loading"&&Ye>F?(Ie(O,"Expected pending action"),X&&X.abort(),kt(R.navigation.location,{matches:kn,loaderData:Dt,errors:Br,fetchers:new Map(R.fetchers)})):(gt({errors:Br,loaderData:mm(R.loaderData,Dt,kn,Br),fetchers:new Map(R.fetchers)}),fe=!1)}async function Tn(j,L,W,te,ce,Ne,Me,be,ke){let xe=R.fetchers.get(j);It(j,go(ke,xe?xe.data:void 0),{flushSync:Me});let he=new AbortController,Le=vs(t.history,W,he.signal);if(Ne){let Ke=await Sn(ce,new URL(Le.url).pathname,Le.signal,j);if(Ke.type==="aborted")return;if(Ke.type==="error"){Wt(j,L,Ke.error,{flushSync:Me});return}else if(Ke.matches)ce=Ke.matches,te=So(ce,W);else{Wt(j,L,vn(404,{pathname:W}),{flushSync:Me});return}}H.set(j,he);let Ue=Z,Je=(await ln("loader",R,Le,[te],ce,j))[te.route.id];if(ui(Je)&&(Je=await qu(Je,Le.signal,!0)||Je),H.get(j)===he&&H.delete(j),!Le.signal.aborted){if(ye.has(j)){It(j,li(void 0));return}if(Bi(Je))if(F>Ue){It(j,li(void 0));return}else{z.add(j),await en(Le,Je,!1,{preventScrollReset:be});return}if(Rn(Je)){Wt(j,L,Je.error);return}Ie(!ui(Je),"Unhandled fetcher deferred data"),It(j,li(Je.data))}}async function en(j,L,W,te){let{submission:ce,fetcherSubmission:Ne,preventScrollReset:Me,replace:be}=te===void 0?{}:te;L.response.headers.has("X-Remix-Revalidate")&&(fe=!0);let ke=L.response.headers.get("Location");Ie(ke,"Expected a Location header on the redirect Response"),ke=dm(ke,new URL(j.url),f);let xe=Po(R.location,ke,{_isRedirect:!0});if(n){let Ke=!1;if(L.response.headers.has("X-Remix-Reload-Document"))Ke=!0;else if(Qu.test(ke)){const lt=t.history.createURL(ke);Ke=lt.origin!==e.location.origin||Lr(lt.pathname,f)==null}if(Ke){be?e.location.replace(ke):e.location.assign(ke);return}}X=null;let he=be===!0||L.response.headers.has("X-Remix-Replace")?Pt.Replace:Pt.Push,{formMethod:Le,formAction:Ue,formEncType:_t}=R.navigation;!ce&&!Ne&&Le&&Ue&&_t&&(ce=vm(R.navigation));let Je=ce||Ne;if(C0.has(L.response.status)&&Je&&tr(Je.formMethod))await Qt(he,xe,{submission:bt({},Je,{formAction:ke}),preventScrollReset:Me||K,enableViewTransition:W?U:void 0});else{let Ke=xu(xe,ce);await Qt(he,xe,{overrideNavigation:Ke,fetcherSubmission:Ne,preventScrollReset:Me||K,enableViewTransition:W?U:void 0})}}async function ln(j,L,W,te,ce,Ne){let Me,be={};try{Me=await D0(h,j,L,W,te,ce,Ne,a,o)}catch(ke){return te.forEach(xe=>{be[xe.route.id]={type:ot.error,error:ke}}),be}for(let[ke,xe]of Object.entries(Me))if(z0(xe)){let he=xe.result;be[ke]={type:ot.redirect,response:O0(he,W,ke,ce,f,v.v7_relativeSplatPath)}}else be[ke]=await A0(xe);return be}async function Dn(j,L,W,te,ce){let Ne=j.matches,Me=ln("loader",j,ce,W,L,null),be=Promise.all(te.map(async he=>{if(he.matches&&he.match&&he.controller){let Ue=(await ln("loader",j,vs(t.history,he.path,he.controller.signal),[he.match],he.matches,he.key))[he.match.route.id];return{[he.key]:Ue}}else return Promise.resolve({[he.key]:{type:ot.error,error:vn(404,{pathname:he.path})}})})),ke=await Me,xe=(await be).reduce((he,Le)=>Object.assign(he,Le),{});return await Promise.all([$0(L,ke,ce.signal,Ne,j.loaderData),H0(L,xe,te)]),{loaderResults:ke,fetcherResults:xe}}function Ln(){fe=!0,me.push(...un()),se.forEach((j,L)=>{H.has(L)&&J.add(L),rt(L)})}function It(j,L,W){W===void 0&&(W={}),R.fetchers.set(j,L),gt({fetchers:new Map(R.fetchers)},{flushSync:(W&&W.flushSync)===!0})}function Wt(j,L,W,te){te===void 0&&(te={});let ce=Ui(R.matches,L);Se(j),gt({errors:{[ce.route.id]:W},fetchers:new Map(R.fetchers)},{flushSync:(te&&te.flushSync)===!0})}function q(j){return pe.set(j,(pe.get(j)||0)+1),ye.has(j)&&ye.delete(j),R.fetchers.get(j)||E0}function Se(j){let L=R.fetchers.get(j);H.has(j)&&!(L&&L.state==="loading"&&N.has(j))&&rt(j),se.delete(j),N.delete(j),z.delete(j),v.v7_fetcherPersist&&ye.delete(j),J.delete(j),R.fetchers.delete(j)}function tt(j){let L=(pe.get(j)||0)-1;L<=0?(pe.delete(j),ye.add(j),v.v7_fetcherPersist||Se(j)):pe.set(j,L),gt({fetchers:new Map(R.fetchers)})}function rt(j){let L=H.get(j);L&&(L.abort(),H.delete(j))}function Ct(j){for(let L of j){let W=q(L),te=li(W.data);R.fetchers.set(L,te)}}function zt(){let j=[],L=!1;for(let W of z){let te=R.fetchers.get(W);Ie(te,"Expected fetcher: "+W),te.state==="loading"&&(z.delete(W),j.push(W),L=!0)}return Ct(j),L}function Ut(j){let L=[];for(let[W,te]of N)if(te<j){let ce=R.fetchers.get(W);Ie(ce,"Expected fetcher: "+W),ce.state==="loading"&&(rt(W),N.delete(W),L.push(W))}return Ct(L),L.length>0}function yt(j,L){let W=R.blockers.get(j)||po;return Te.get(j)!==L&&Te.set(j,L),W}function Vn(j){R.blockers.delete(j),Te.delete(j)}function wn(j,L){let W=R.blockers.get(j)||po;Ie(W.state==="unblocked"&&L.state==="blocked"||W.state==="blocked"&&L.state==="blocked"||W.state==="blocked"&&L.state==="proceeding"||W.state==="blocked"&&L.state==="unblocked"||W.state==="proceeding"&&L.state==="unblocked","Invalid blocker state transition: "+W.state+" -> "+L.state);let te=new Map(R.blockers);te.set(j,L),gt({blockers:te})}function gr(j){let{currentLocation:L,nextLocation:W,historyAction:te}=j;if(Te.size===0)return;Te.size>1&&ks(!1,"A router only supports one blocker at a time");let ce=Array.from(Te.entries()),[Ne,Me]=ce[ce.length-1],be=R.blockers.get(Ne);if(!(be&&be.state==="proceeding")&&Me({currentLocation:L,nextLocation:W,historyAction:te}))return Ne}function cn(j){let L=vn(404,{pathname:j}),W=u||c,{matches:te,route:ce}=gm(W);return un(),{notFoundMatches:te,route:ce,error:L}}function un(j){let L=[];return ue.forEach((W,te)=>{(!j||j(te))&&(W.cancel(),L.push(te),ue.delete(te))}),L}function Ir(j,L,W){if(w=j,C=L,k=W||null,!T&&R.navigation===vu){T=!0;let te=Ur(R.location,R.matches);te!=null&&gt({restoreScrollPosition:te})}return()=>{w=null,C=null,k=null}}function zr(j,L){return k&&k(j,L.map(te=>r0(te,R.loaderData)))||j.key}function bi(j,L){if(w&&C){let W=zr(j,L);w[W]=C()}}function Ur(j,L){if(w){let W=zr(j,L),te=w[W];if(typeof te=="number")return te}return null}function yr(j,L,W){if(g)if(j){if(Object.keys(j[0].params).length>0)return{active:!0,matches:rl(L,W,f,!0)}}else return{active:!0,matches:rl(L,W,f,!0)||[]};return{active:!1,matches:null}}async function Sn(j,L,W,te){if(!g)return{type:"success",matches:j};let ce=j;for(;;){let Ne=u==null,Me=u||c,be=a;try{await g({signal:W,path:L,matches:ce,fetcherKey:te,patch:(he,Le)=>{W.aborted||um(he,Le,Me,be,o)}})}catch(he){return{type:"error",error:he,partialMatches:ce}}finally{Ne&&!W.aborted&&(c=[...c])}if(W.aborted)return{type:"aborted"};let ke=zi(Me,L,f);if(ke)return{type:"success",matches:ke};let xe=rl(Me,L,f,!0);if(!xe||ce.length===xe.length&&ce.every((he,Le)=>he.route.id===xe[Le].route.id))return{type:"success",matches:null};ce=xe}}function _i(j){a={},u=ll(j,o,void 0,a)}function ir(j,L){let W=u==null;um(j,L,u||c,a,o),W&&(c=[...c],gt({}))}return ee={get basename(){return f},get future(){return v},get state(){return R},get routes(){return c},get window(){return e},initialize:ze,subscribe:Xt,enableScrollRestoration:Ir,navigate:Mt,fetch:Ze,revalidate:Pn,createHref:j=>t.history.createHref(j),encodeLocation:j=>t.history.encodeLocation(j),getFetcher:q,deleteFetcher:tt,dispose:nt,getBlocker:yt,deleteBlocker:Vn,patchRoutes:ir,_internalFetchControllers:H,_internalActiveDeferreds:ue,_internalSetRoutes:_i},ee}function M0(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Tu(t,e,n,i,o,a,c,u){let f,h;if(c){f=[];for(let v of e)if(f.push(v),v.route.id===c){h=v;break}}else f=e,h=e[e.length-1];let g=El(o||".",Cl(f,a),Lr(t.pathname,n)||t.pathname,u==="path");if(o==null&&(g.search=t.search,g.hash=t.hash),(o==null||o===""||o===".")&&h){let v=Gu(g.search);if(h.route.index&&!v)g.search=g.search?g.search.replace(/^\?/,"?index&"):"?index";else if(!h.route.index&&v){let x=new URLSearchParams(g.search),_=x.getAll("index");x.delete("index"),_.filter(k=>k).forEach(k=>x.append("index",k));let w=x.toString();g.search=w?"?"+w:""}}return i&&n!=="/"&&(g.pathname=g.pathname==="/"?n:Dr([n,g.pathname])),Wi(g)}function om(t,e,n,i){if(!i||!M0(i))return{path:n};if(i.formMethod&&!B0(i.formMethod))return{path:n,error:vn(405,{method:i.formMethod})};let o=()=>({path:n,error:vn(400,{type:"invalid-body"})}),a=i.formMethod||"get",c=t?a.toUpperCase():a.toLowerCase(),u=rg(n);if(i.body!==void 0){if(i.formEncType==="text/plain"){if(!tr(c))return o();let x=typeof i.body=="string"?i.body:i.body instanceof FormData||i.body instanceof URLSearchParams?Array.from(i.body.entries()).reduce((_,w)=>{let[k,C]=w;return""+_+k+"="+C+`
`},""):String(i.body);return{path:n,submission:{formMethod:c,formAction:u,formEncType:i.formEncType,formData:void 0,json:void 0,text:x}}}else if(i.formEncType==="application/json"){if(!tr(c))return o();try{let x=typeof i.body=="string"?JSON.parse(i.body):i.body;return{path:n,submission:{formMethod:c,formAction:u,formEncType:i.formEncType,formData:void 0,json:x,text:void 0}}}catch{return o()}}}Ie(typeof FormData=="function","FormData is not available in this environment");let f,h;if(i.formData)f=Lu(i.formData),h=i.formData;else if(i.body instanceof FormData)f=Lu(i.body),h=i.body;else if(i.body instanceof URLSearchParams)f=i.body,h=fm(f);else if(i.body==null)f=new URLSearchParams,h=new FormData;else try{f=new URLSearchParams(i.body),h=fm(f)}catch{return o()}let g={formMethod:c,formAction:u,formEncType:i&&i.formEncType||"application/x-www-form-urlencoded",formData:h,json:void 0,text:void 0};if(tr(g.formMethod))return{path:n,submission:g};let v=yi(n);return e&&v.search&&Gu(v.search)&&f.append("index",""),v.search="?"+f,{path:Wi(v),submission:g}}function am(t,e,n){n===void 0&&(n=!1);let i=t.findIndex(o=>o.route.id===e);return i>=0?t.slice(0,n?i+1:i):t}function lm(t,e,n,i,o,a,c,u,f,h,g,v,x,_,w,k){let C=k?Rn(k[1])?k[1].error:k[1].data:void 0,T=t.createURL(e.location),M=t.createURL(o),B=n;a&&e.errors?B=am(n,Object.keys(e.errors)[0],!0):k&&Rn(k[1])&&(B=am(n,k[0]));let A=k?k[1].statusCode:void 0,Y=c&&A&&A>=400,ee=B.filter((O,K)=>{let{route:X}=O;if(X.lazy)return!0;if(X.loader==null)return!1;if(a)return Du(X,e.loaderData,e.errors);if(R0(e.loaderData,e.matches[K],O)||f.some(oe=>oe===O.route.id))return!0;let U=e.matches[K],G=O;return cm(O,bt({currentUrl:T,currentParams:U.params,nextUrl:M,nextParams:G.params},i,{actionResult:C,actionStatus:A,defaultShouldRevalidate:Y?!1:u||T.pathname+T.search===M.pathname+M.search||T.search!==M.search||tg(U,G)}))}),R=[];return v.forEach((O,K)=>{if(a||!n.some(de=>de.route.id===O.routeId)||g.has(K))return;let X=zi(_,O.path,w);if(!X){R.push({key:K,routeId:O.routeId,path:O.path,matches:null,match:null,controller:null});return}let U=e.fetchers.get(K),G=So(X,O.path),oe=!1;x.has(K)?oe=!1:h.has(K)?(h.delete(K),oe=!0):U&&U.state!=="idle"&&U.data===void 0?oe=u:oe=cm(G,bt({currentUrl:T,currentParams:e.matches[e.matches.length-1].params,nextUrl:M,nextParams:n[n.length-1].params},i,{actionResult:C,actionStatus:A,defaultShouldRevalidate:Y?!1:u})),oe&&R.push({key:K,routeId:O.routeId,path:O.path,matches:X,match:G,controller:new AbortController})}),[ee,R]}function Du(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let i=e!=null&&e[t.id]!==void 0,o=n!=null&&n[t.id]!==void 0;return!i&&o?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!i&&!o}function R0(t,e,n){let i=!e||n.route.id!==e.route.id,o=t[n.route.id]===void 0;return i||o}function tg(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function cm(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function um(t,e,n,i,o){var a;let c;if(t){let h=i[t];Ie(h,"No route found to patch children into: routeId = "+t),h.children||(h.children=[]),c=h.children}else c=n;let u=e.filter(h=>!c.some(g=>ng(h,g))),f=ll(u,o,[t||"_","patch",String(((a=c)==null?void 0:a.length)||"0")],i);c.push(...f)}function ng(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,i)=>{var o;return(o=e.children)==null?void 0:o.some(a=>ng(n,a))}):!1}async function P0(t,e,n){if(!t.lazy)return;let i=await t.lazy();if(!t.lazy)return;let o=n[t.id];Ie(o,"No route found in manifest");let a={};for(let c in i){let f=o[c]!==void 0&&c!=="hasErrorBoundary";ks(!f,'Route "'+o.id+'" has a static property "'+c+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+c+'" will be ignored.')),!f&&!t0.has(c)&&(a[c]=i[c])}Object.assign(o,a),Object.assign(o,bt({},e(o),{lazy:void 0}))}async function T0(t){let{matches:e}=t,n=e.filter(o=>o.shouldLoad);return(await Promise.all(n.map(o=>o.resolve()))).reduce((o,a,c)=>Object.assign(o,{[n[c].route.id]:a}),{})}async function D0(t,e,n,i,o,a,c,u,f,h){let g=a.map(_=>_.route.lazy?P0(_.route,f,u):void 0),v=a.map((_,w)=>{let k=g[w],C=o.some(M=>M.route.id===_.route.id);return bt({},_,{shouldLoad:C,resolve:async M=>(M&&i.method==="GET"&&(_.route.lazy||_.route.loader)&&(C=!0),C?L0(e,i,_,k,M,h):Promise.resolve({type:ot.data,result:void 0}))})}),x=await t({matches:v,request:i,params:a[0].params,fetcherKey:c,context:h});try{await Promise.all(g)}catch{}return x}async function L0(t,e,n,i,o,a){let c,u,f=h=>{let g,v=new Promise((w,k)=>g=k);u=()=>g(),e.signal.addEventListener("abort",u);let x=w=>typeof h!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):h({request:e,params:n.params,context:a},...w!==void 0?[w]:[]),_=(async()=>{try{return{type:"data",result:await(o?o(k=>x(k)):x())}}catch(w){return{type:"error",result:w}}})();return Promise.race([_,v])};try{let h=n.route[t];if(i)if(h){let g,[v]=await Promise.all([f(h).catch(x=>{g=x}),i]);if(g!==void 0)throw g;c=v}else if(await i,h=n.route[t],h)c=await f(h);else if(t==="action"){let g=new URL(e.url),v=g.pathname+g.search;throw vn(405,{method:e.method,pathname:v,routeId:n.route.id})}else return{type:ot.data,result:void 0};else if(h)c=await f(h);else{let g=new URL(e.url),v=g.pathname+g.search;throw vn(404,{pathname:v})}Ie(c.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(h){return{type:ot.error,result:h}}finally{u&&e.signal.removeEventListener("abort",u)}return c}async function A0(t){let{result:e,type:n}=t;if(ig(e)){let v;try{let x=e.headers.get("Content-Type");x&&/\bapplication\/json\b/.test(x)?e.body==null?v=null:v=await e.json():v=await e.text()}catch(x){return{type:ot.error,error:x}}return n===ot.error?{type:ot.error,error:new ul(e.status,e.statusText,v),statusCode:e.status,headers:e.headers}:{type:ot.data,data:v,statusCode:e.status,headers:e.headers}}if(n===ot.error){if(ym(e)){var i,o;if(e.data instanceof Error){var a,c;return{type:ot.error,error:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(c=e.init)!=null&&c.headers?new Headers(e.init.headers):void 0}}return{type:ot.error,error:new ul(((i=e.init)==null?void 0:i.status)||500,void 0,e.data),statusCode:To(e)?e.status:void 0,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}}return{type:ot.error,error:e,statusCode:To(e)?e.status:void 0}}if(U0(e)){var u,f;return{type:ot.deferred,deferredData:e,statusCode:(u=e.init)==null?void 0:u.status,headers:((f=e.init)==null?void 0:f.headers)&&new Headers(e.init.headers)}}if(ym(e)){var h,g;return{type:ot.data,data:e.data,statusCode:(h=e.init)==null?void 0:h.status,headers:(g=e.init)!=null&&g.headers?new Headers(e.init.headers):void 0}}return{type:ot.data,data:e}}function O0(t,e,n,i,o,a){let c=t.headers.get("Location");if(Ie(c,"Redirects returned/thrown from loaders/actions must have a Location header"),!Qu.test(c)){let u=i.slice(0,i.findIndex(f=>f.route.id===n)+1);c=Tu(new URL(e.url),u,o,!0,c,a),t.headers.set("Location",c)}return t}function dm(t,e,n){if(Qu.test(t)){let i=t,o=i.startsWith("//")?new URL(e.protocol+i):new URL(i),a=Lr(o.pathname,n)!=null;if(o.origin===e.origin&&a)return o.pathname+o.search+o.hash}return t}function vs(t,e,n,i){let o=t.createURL(rg(e)).toString(),a={signal:n};if(i&&tr(i.formMethod)){let{formMethod:c,formEncType:u}=i;a.method=c.toUpperCase(),u==="application/json"?(a.headers=new Headers({"Content-Type":u}),a.body=JSON.stringify(i.json)):u==="text/plain"?a.body=i.text:u==="application/x-www-form-urlencoded"&&i.formData?a.body=Lu(i.formData):a.body=i.formData}return new Request(o,a)}function Lu(t){let e=new URLSearchParams;for(let[n,i]of t.entries())e.append(n,typeof i=="string"?i:i.name);return e}function fm(t){let e=new FormData;for(let[n,i]of t.entries())e.append(n,i);return e}function F0(t,e,n,i,o){let a={},c=null,u,f=!1,h={},g=n&&Rn(n[1])?n[1].error:void 0;return t.forEach(v=>{if(!(v.route.id in e))return;let x=v.route.id,_=e[x];if(Ie(!Bi(_),"Cannot handle redirect results in processLoaderData"),Rn(_)){let w=_.error;g!==void 0&&(w=g,g=void 0),c=c||{};{let k=Ui(t,x);c[k.route.id]==null&&(c[k.route.id]=w)}a[x]=void 0,f||(f=!0,u=To(_.error)?_.error.status:500),_.headers&&(h[x]=_.headers)}else ui(_)?(i.set(x,_.deferredData),a[x]=_.deferredData.data,_.statusCode!=null&&_.statusCode!==200&&!f&&(u=_.statusCode),_.headers&&(h[x]=_.headers)):(a[x]=_.data,_.statusCode&&_.statusCode!==200&&!f&&(u=_.statusCode),_.headers&&(h[x]=_.headers))}),g!==void 0&&n&&(c={[n[0]]:g},a[n[0]]=void 0),{loaderData:a,errors:c,statusCode:u||200,loaderHeaders:h}}function hm(t,e,n,i,o,a,c){let{loaderData:u,errors:f}=F0(e,n,i,c);return o.forEach(h=>{let{key:g,match:v,controller:x}=h,_=a[g];if(Ie(_,"Did not find corresponding fetcher result"),!(x&&x.signal.aborted))if(Rn(_)){let w=Ui(t.matches,v?.route.id);f&&f[w.route.id]||(f=bt({},f,{[w.route.id]:_.error})),t.fetchers.delete(g)}else if(Bi(_))Ie(!1,"Unhandled fetcher revalidation redirect");else if(ui(_))Ie(!1,"Unhandled fetcher deferred data");else{let w=li(_.data);t.fetchers.set(g,w)}}),{loaderData:u,errors:f}}function mm(t,e,n,i){let o=bt({},e);for(let a of n){let c=a.route.id;if(e.hasOwnProperty(c)?e[c]!==void 0&&(o[c]=e[c]):t[c]!==void 0&&a.route.loader&&(o[c]=t[c]),i&&i.hasOwnProperty(c))break}return o}function pm(t){return t?Rn(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Ui(t,e){return(e?t.slice(0,t.findIndex(i=>i.route.id===e)+1):[...t]).reverse().find(i=>i.route.hasErrorBoundary===!0)||t[0]}function gm(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function vn(t,e){let{pathname:n,routeId:i,method:o,type:a,message:c}=e===void 0?{}:e,u="Unknown Server Error",f="Unknown @remix-run/router error";return t===400?(u="Bad Request",o&&n&&i?f="You made a "+o+' request to "'+n+'" but '+('did not provide a `loader` for route "'+i+'", ')+"so there is no way to handle the request.":a==="defer-action"?f="defer() is not supported in actions":a==="invalid-body"&&(f="Unable to encode submission body")):t===403?(u="Forbidden",f='Route "'+i+'" does not match URL "'+n+'"'):t===404?(u="Not Found",f='No route matches URL "'+n+'"'):t===405&&(u="Method Not Allowed",o&&n&&i?f="You made a "+o.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+i+'", ')+"so there is no way to handle the request.":o&&(f='Invalid request method "'+o.toUpperCase()+'"')),new ul(t||500,u,new Error(f),!0)}function Ba(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[i,o]=e[n];if(Bi(o))return{key:i,result:o}}}function rg(t){let e=typeof t=="string"?yi(t):t;return Wi(bt({},e,{hash:""}))}function I0(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function z0(t){return ig(t.result)&&k0.has(t.result.status)}function ui(t){return t.type===ot.deferred}function Rn(t){return t.type===ot.error}function Bi(t){return(t&&t.type)===ot.redirect}function ym(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function U0(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function ig(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function B0(t){return S0.has(t.toLowerCase())}function tr(t){return _0.has(t.toLowerCase())}async function $0(t,e,n,i,o){let a=Object.entries(e);for(let c=0;c<a.length;c++){let[u,f]=a[c],h=t.find(x=>x?.route.id===u);if(!h)continue;let g=i.find(x=>x.route.id===h.route.id),v=g!=null&&!tg(g,h)&&(o&&o[h.route.id])!==void 0;ui(f)&&v&&await qu(f,n,!1).then(x=>{x&&(e[u]=x)})}}async function H0(t,e,n){for(let i=0;i<n.length;i++){let{key:o,routeId:a,controller:c}=n[i],u=e[o];t.find(h=>h?.route.id===a)&&ui(u)&&(Ie(c,"Expected an AbortController for revalidating fetcher deferred result"),await qu(u,c.signal,!0).then(h=>{h&&(e[o]=h)}))}}async function qu(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:ot.data,data:t.deferredData.unwrappedData}}catch(o){return{type:ot.error,error:o}}return{type:ot.data,data:t.deferredData.data}}}function Gu(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function So(t,e){let n=typeof e=="string"?yi(e).search:e.search;if(t[t.length-1].route.index&&Gu(n||""))return t[t.length-1];let i=Zp(t);return i[i.length-1]}function vm(t){let{formMethod:e,formAction:n,formEncType:i,text:o,formData:a,json:c}=t;if(!(!e||!n||!i)){if(o!=null)return{formMethod:e,formAction:n,formEncType:i,formData:void 0,json:void 0,text:o};if(a!=null)return{formMethod:e,formAction:n,formEncType:i,formData:a,json:void 0,text:void 0};if(c!==void 0)return{formMethod:e,formAction:n,formEncType:i,formData:void 0,json:c,text:void 0}}}function xu(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function V0(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function go(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function W0(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function li(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function K0(t,e){try{let n=t.sessionStorage.getItem(eg);if(n){let i=JSON.parse(n);for(let[o,a]of Object.entries(i||{}))a&&Array.isArray(a)&&e.set(o,new Set(a||[]))}}catch{}}function Y0(t,e){if(e.size>0){let n={};for(let[i,o]of e)n[i]=[...o];try{t.sessionStorage.setItem(eg,JSON.stringify(n))}catch(i){ks(!1,"Failed to save applied view transitions in sessionStorage ("+i+").")}}}/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dl(){return dl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},dl.apply(this,arguments)}const Io=S.createContext(null),Zu=S.createContext(null),Ar=S.createContext(null),Ju=S.createContext(null),Or=S.createContext({outlet:null,matches:[],isDataRoute:!1}),sg=S.createContext(null);function X0(t,e){let{relative:n}=e===void 0?{}:e;Ns()||Ie(!1);let{basename:i,navigator:o}=S.useContext(Ar),{hash:a,pathname:c,search:u}=jl(t,{relative:n}),f=c;return i!=="/"&&(f=c==="/"?i:Dr([i,c])),o.createHref({pathname:f,search:u,hash:a})}function Ns(){return S.useContext(Ju)!=null}function Fr(){return Ns()||Ie(!1),S.useContext(Ju).location}function og(t){S.useContext(Ar).static||S.useLayoutEffect(t)}function Nl(){let{isDataRoute:t}=S.useContext(Or);return t?lx():Q0()}function Q0(){Ns()||Ie(!1);let t=S.useContext(Io),{basename:e,future:n,navigator:i}=S.useContext(Ar),{matches:o}=S.useContext(Or),{pathname:a}=Fr(),c=JSON.stringify(Cl(o,n.v7_relativeSplatPath)),u=S.useRef(!1);return og(()=>{u.current=!0}),S.useCallback(function(h,g){if(g===void 0&&(g={}),!u.current)return;if(typeof h=="number"){i.go(h);return}let v=El(h,JSON.parse(c),a,g.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Dr([e,v.pathname])),(g.replace?i.replace:i.push)(v,g.state,g)},[e,i,c,a,t])}const q0=S.createContext(null);function G0(t){let e=S.useContext(Or).outlet;return e&&S.createElement(q0.Provider,{value:t},e)}function jl(t,e){let{relative:n}=e===void 0?{}:e,{future:i}=S.useContext(Ar),{matches:o}=S.useContext(Or),{pathname:a}=Fr(),c=JSON.stringify(Cl(o,i.v7_relativeSplatPath));return S.useMemo(()=>El(t,JSON.parse(c),a,n==="path"),[t,c,a,n])}function Z0(t,e,n,i){Ns()||Ie(!1);let{navigator:o}=S.useContext(Ar),{matches:a}=S.useContext(Or),c=a[a.length-1],u=c?c.params:{};c&&c.pathname;let f=c?c.pathnameBase:"/";c&&c.route;let h=Fr(),g;g=h;let v=g.pathname||"/",x=v;if(f!=="/"){let k=f.replace(/^\//,"").split("/");x="/"+v.replace(/^\//,"").split("/").slice(k.length).join("/")}let _=zi(t,{pathname:x});return rx(_&&_.map(k=>Object.assign({},k,{params:Object.assign({},u,k.params),pathname:Dr([f,o.encodeLocation?o.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?f:Dr([f,o.encodeLocation?o.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),a,n,i)}function J0(){let t=ax(),e=To(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:o},n):null,null)}const ex=S.createElement(J0,null);class tx extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?S.createElement(Or.Provider,{value:this.props.routeContext},S.createElement(sg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function nx(t){let{routeContext:e,match:n,children:i}=t,o=S.useContext(Io);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(Or.Provider,{value:e},i)}function rx(t,e,n,i){var o;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=i)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let c=t,u=(o=n)==null?void 0:o.errors;if(u!=null){let g=c.findIndex(v=>v.route.id&&u?.[v.route.id]!==void 0);g>=0||Ie(!1),c=c.slice(0,Math.min(c.length,g+1))}let f=!1,h=-1;if(n&&i&&i.v7_partialHydration)for(let g=0;g<c.length;g++){let v=c[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(h=g),v.route.id){let{loaderData:x,errors:_}=n,w=v.route.loader&&x[v.route.id]===void 0&&(!_||_[v.route.id]===void 0);if(v.route.lazy||w){f=!0,h>=0?c=c.slice(0,h+1):c=[c[0]];break}}}return c.reduceRight((g,v,x)=>{let _,w=!1,k=null,C=null;n&&(_=u&&v.route.id?u[v.route.id]:void 0,k=v.route.errorElement||ex,f&&(h<0&&x===0?(cx("route-fallback"),w=!0,C=null):h===x&&(w=!0,C=v.route.hydrateFallbackElement||null)));let T=e.concat(c.slice(0,x+1)),M=()=>{let B;return _?B=k:w?B=C:v.route.Component?B=S.createElement(v.route.Component,null):v.route.element?B=v.route.element:B=g,S.createElement(nx,{match:v,routeContext:{outlet:g,matches:T,isDataRoute:n!=null},children:B})};return n&&(v.route.ErrorBoundary||v.route.errorElement||x===0)?S.createElement(tx,{location:n.location,revalidation:n.revalidation,component:k,error:_,children:M(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):M()},null)}var ag=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(ag||{}),lg=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(lg||{});function ix(t){let e=S.useContext(Io);return e||Ie(!1),e}function sx(t){let e=S.useContext(Zu);return e||Ie(!1),e}function ox(t){let e=S.useContext(Or);return e||Ie(!1),e}function cg(t){let e=ox(),n=e.matches[e.matches.length-1];return n.route.id||Ie(!1),n.route.id}function ax(){var t;let e=S.useContext(sg),n=sx(),i=cg();return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}function lx(){let{router:t}=ix(ag.UseNavigateStable),e=cg(lg.UseNavigateStable),n=S.useRef(!1);return og(()=>{n.current=!0}),S.useCallback(function(o,a){a===void 0&&(a={}),n.current&&(typeof o=="number"?t.navigate(o):t.navigate(o,dl({fromRouteId:e},a)))},[t,e])}const xm={};function cx(t,e,n){xm[t]||(xm[t]=!0)}function ux(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function bm(t){let{to:e,replace:n,state:i,relative:o}=t;Ns()||Ie(!1);let{future:a,static:c}=S.useContext(Ar),{matches:u}=S.useContext(Or),{pathname:f}=Fr(),h=Nl(),g=El(e,Cl(u,a.v7_relativeSplatPath),f,o==="path"),v=JSON.stringify(g);return S.useEffect(()=>h(JSON.parse(v),{replace:n,state:i,relative:o}),[h,v,o,n,i]),null}function dx(t){return G0(t.context)}function sn(t){Ie(!1)}function fx(t){let{basename:e="/",children:n=null,location:i,navigationType:o=Pt.Pop,navigator:a,static:c=!1,future:u}=t;Ns()&&Ie(!1);let f=e.replace(/^\/*/,"/"),h=S.useMemo(()=>({basename:f,navigator:a,static:c,future:dl({v7_relativeSplatPath:!1},u)}),[f,u,a,c]);typeof i=="string"&&(i=yi(i));let{pathname:g="/",search:v="",hash:x="",state:_=null,key:w="default"}=i,k=S.useMemo(()=>{let C=Lr(g,f);return C==null?null:{location:{pathname:C,search:v,hash:x,state:_,key:w},navigationType:o}},[f,g,v,x,_,w,o]);return k==null?null:S.createElement(Ar.Provider,{value:h},S.createElement(Ju.Provider,{children:n,value:k}))}new Promise(()=>{});function Au(t,e){e===void 0&&(e=[]);let n=[];return S.Children.forEach(t,(i,o)=>{if(!S.isValidElement(i))return;let a=[...e,o];if(i.type===S.Fragment){n.push.apply(n,Au(i.props.children,a));return}i.type!==sn&&Ie(!1),!i.props.index||!i.props.children||Ie(!1);let c={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Au(i.props.children,a)),n.push(c)}),n}function hx(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:S.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:S.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:S.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cs(){return Cs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Cs.apply(this,arguments)}function ug(t,e){if(t==null)return{};var n={},i=Object.keys(t),o,a;for(a=0;a<i.length;a++)o=i[a],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}function mx(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function px(t,e){return t.button===0&&(!e||e==="_self")&&!mx(t)}const gx=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],yx=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],vx="6";try{window.__reactRouterVersion=vx}catch{}function xx(t,e){return j0({basename:void 0,future:Cs({},void 0,{v7_prependBasename:!0}),history:Zv({window:void 0}),hydrationData:bx(),routes:t,mapRouteProperties:hx,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function bx(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Cs({},e,{errors:_x(e.errors)})),e}function _x(t){if(!t)return null;let e=Object.entries(t),n={};for(let[i,o]of e)if(o&&o.__type==="RouteErrorResponse")n[i]=new ul(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let a=window[o.__subType];if(typeof a=="function")try{let c=new a(o.message);c.stack="",n[i]=c}catch{}}if(n[i]==null){let a=new Error(o.message);a.stack="",n[i]=a}}else n[i]=o;return n}const dg=S.createContext({isTransitioning:!1}),wx=S.createContext(new Map),Sx="startTransition",_m=Hv[Sx],kx="flushSync",wm=Gv[kx];function Cx(t){_m?_m(t):t()}function yo(t){wm?wm(t):t()}class Ex{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",n(i))}})}}function Nx(t){let{fallbackElement:e,router:n,future:i}=t,[o,a]=S.useState(n.state),[c,u]=S.useState(),[f,h]=S.useState({isTransitioning:!1}),[g,v]=S.useState(),[x,_]=S.useState(),[w,k]=S.useState(),C=S.useRef(new Map),{v7_startTransition:T}=i||{},M=S.useCallback(O=>{T?Cx(O):O()},[T]),B=S.useCallback((O,K)=>{let{deletedFetchers:X,flushSync:U,viewTransitionOpts:G}=K;O.fetchers.forEach((de,fe)=>{de.data!==void 0&&C.current.set(fe,de.data)}),X.forEach(de=>C.current.delete(de));let oe=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!G||oe){U?yo(()=>a(O)):M(()=>a(O));return}if(U){yo(()=>{x&&(g&&g.resolve(),x.skipTransition()),h({isTransitioning:!0,flushSync:!0,currentLocation:G.currentLocation,nextLocation:G.nextLocation})});let de=n.window.document.startViewTransition(()=>{yo(()=>a(O))});de.finished.finally(()=>{yo(()=>{v(void 0),_(void 0),u(void 0),h({isTransitioning:!1})})}),yo(()=>_(de));return}x?(g&&g.resolve(),x.skipTransition(),k({state:O,currentLocation:G.currentLocation,nextLocation:G.nextLocation})):(u(O),h({isTransitioning:!0,flushSync:!1,currentLocation:G.currentLocation,nextLocation:G.nextLocation}))},[n.window,x,g,C,M]);S.useLayoutEffect(()=>n.subscribe(B),[n,B]),S.useEffect(()=>{f.isTransitioning&&!f.flushSync&&v(new Ex)},[f]),S.useEffect(()=>{if(g&&c&&n.window){let O=c,K=g.promise,X=n.window.document.startViewTransition(async()=>{M(()=>a(O)),await K});X.finished.finally(()=>{v(void 0),_(void 0),u(void 0),h({isTransitioning:!1})}),_(X)}},[M,c,g,n.window]),S.useEffect(()=>{g&&c&&o.location.key===c.location.key&&g.resolve()},[g,x,o.location,c]),S.useEffect(()=>{!f.isTransitioning&&w&&(u(w.state),h({isTransitioning:!0,flushSync:!1,currentLocation:w.currentLocation,nextLocation:w.nextLocation}),k(void 0))},[f.isTransitioning,w]),S.useEffect(()=>{},[]);let A=S.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:O=>n.navigate(O),push:(O,K,X)=>n.navigate(O,{state:K,preventScrollReset:X?.preventScrollReset}),replace:(O,K,X)=>n.navigate(O,{replace:!0,state:K,preventScrollReset:X?.preventScrollReset})}),[n]),Y=n.basename||"/",ee=S.useMemo(()=>({router:n,navigator:A,static:!1,basename:Y}),[n,A,Y]),R=S.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return S.useEffect(()=>ux(i,n.future),[i,n.future]),S.createElement(S.Fragment,null,S.createElement(Io.Provider,{value:ee},S.createElement(Zu.Provider,{value:o},S.createElement(wx.Provider,{value:C.current},S.createElement(dg.Provider,{value:f},S.createElement(fx,{basename:Y,location:o.location,navigationType:o.historyAction,navigator:A,future:R},o.initialized||n.future.v7_partialHydration?S.createElement(jx,{routes:n.routes,future:n.future,state:o}):e))))),null)}const jx=S.memo(Mx);function Mx(t){let{routes:e,future:n,state:i}=t;return Z0(e,void 0,i,n)}const Rx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Px=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ci=S.forwardRef(function(e,n){let{onClick:i,relative:o,reloadDocument:a,replace:c,state:u,target:f,to:h,preventScrollReset:g,viewTransition:v}=e,x=ug(e,gx),{basename:_}=S.useContext(Ar),w,k=!1;if(typeof h=="string"&&Px.test(h)&&(w=h,Rx))try{let B=new URL(window.location.href),A=h.startsWith("//")?new URL(B.protocol+h):new URL(h),Y=Lr(A.pathname,_);A.origin===B.origin&&Y!=null?h=Y+A.search+A.hash:k=!0}catch{}let C=X0(h,{relative:o}),T=Dx(h,{replace:c,state:u,target:f,preventScrollReset:g,relative:o,viewTransition:v});function M(B){i&&i(B),B.defaultPrevented||T(B)}return S.createElement("a",Cs({},x,{href:w||C,onClick:k||a?i:M,ref:n,target:f}))}),ur=S.forwardRef(function(e,n){let{"aria-current":i="page",caseSensitive:o=!1,className:a="",end:c=!1,style:u,to:f,viewTransition:h,children:g}=e,v=ug(e,yx),x=jl(f,{relative:v.relative}),_=Fr(),w=S.useContext(Zu),{navigator:k,basename:C}=S.useContext(Ar),T=w!=null&&Lx(x)&&h===!0,M=k.encodeLocation?k.encodeLocation(x).pathname:x.pathname,B=_.pathname,A=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;o||(B=B.toLowerCase(),A=A?A.toLowerCase():null,M=M.toLowerCase()),A&&C&&(A=Lr(A,C)||A);const Y=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let ee=B===M||!c&&B.startsWith(M)&&B.charAt(Y)==="/",R=A!=null&&(A===M||!c&&A.startsWith(M)&&A.charAt(M.length)==="/"),O={isActive:ee,isPending:R,isTransitioning:T},K=ee?i:void 0,X;typeof a=="function"?X=a(O):X=[a,ee?"active":null,R?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let U=typeof u=="function"?u(O):u;return S.createElement(ci,Cs({},v,{"aria-current":K,className:X,ref:n,style:U,to:f,viewTransition:h}),typeof g=="function"?g(O):g)});var Ou;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Ou||(Ou={}));var Sm;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Sm||(Sm={}));function Tx(t){let e=S.useContext(Io);return e||Ie(!1),e}function Dx(t,e){let{target:n,replace:i,state:o,preventScrollReset:a,relative:c,viewTransition:u}=e===void 0?{}:e,f=Nl(),h=Fr(),g=jl(t,{relative:c});return S.useCallback(v=>{if(px(v,n)){v.preventDefault();let x=i!==void 0?i:Wi(h)===Wi(g);f(t,{replace:x,state:o,preventScrollReset:a,relative:c,viewTransition:u})}},[h,f,g,i,o,n,t,a,c,u])}function Lx(t,e){e===void 0&&(e={});let n=S.useContext(dg);n==null&&Ie(!1);let{basename:i}=Tx(Ou.useViewTransitionState),o=jl(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=Lr(n.currentLocation.pathname,i)||n.currentLocation.pathname,c=Lr(n.nextLocation.pathname,i)||n.nextLocation.pathname;return cl(o.pathname,c)!=null||cl(o.pathname,a)!=null}const vi="",fl="phpgrc_intended_path",hl="phpgrc_session_expired",ed="phpgrc_auth_token";let _s;function td(){if(typeof window>"u")return null;try{return window.localStorage}catch{return null}}function Ax(){const t=td();if(!t)return null;try{const e=t.getItem(ed);return e&&e.length>0?e:null}catch{return null}}function fg(){return _s!==void 0||(_s=Ax()),_s}function Ox(){const t=fg();return typeof t=="string"&&t.length>0}function Fx(t){_s=t;const e=td();if(e)try{e.setItem(ed,t)}catch{}}function hg(){_s=null;const t=td();if(t)try{t.removeItem(ed)}catch{}}function xi(t){const e={Accept:"application/json","X-Requested-With":"XMLHttpRequest"},n=fg();return n&&(e.Authorization=`Bearer ${n}`),{...e,...t}}function mg(t){if(!t)return"";const e=new URLSearchParams;for(const[i,o]of Object.entries(t))o!=null&&e.set(i,typeof o=="boolean"?o?"true":"false":String(o));const n=e.toString();return n?`?${n}`:""}class Ft extends Error{status;body;constructor(e,n,i){super(i??`HTTP ${e}`),this.status=e,this.body=n}}async function js(t){const e=t.headers.get("content-type")||"",n=e.includes("application/json")||e.includes("+json");try{return n?await t.json():await t.text()}catch{return null}}const Fu=new Set;function Ix(t){return Fu.add(t),()=>Fu.delete(t)}function Ms(t){hg(),Fu.forEach(e=>{try{e(t)}catch{}})}async function rr(t,e,n){const i=t.startsWith("/")?t:`/${t}`,o=`${vi}${i}${mg(e)}`,a=await fetch(o,{method:"GET",credentials:"same-origin",headers:xi(),signal:n}),c=await js(a);if(!a.ok){const u=new Ft(a.status,c);throw a.status===401&&Ms(u),u}return c??{}}async function pg(t,e,n){const i=t.startsWith("/")?t:`/${t}`,o=`${vi}${i}`,a=await fetch(o,{method:"PUT",credentials:"same-origin",headers:xi({"Content-Type":"application/json"}),body:e===void 0?"{}":JSON.stringify(e),signal:n}),c=await js(a);if(!a.ok){const u=new Ft(a.status,c);throw a.status===401&&Ms(u),u}return c??{}}async function zx(t,e,n){const i=t.startsWith("/")?t:`/${t}`,o=`${vi}${i}`,a=await fetch(o,{method:"PATCH",credentials:"same-origin",headers:xi({"Content-Type":"application/json"}),body:e===void 0?"{}":JSON.stringify(e),signal:n}),c=await js(a);if(!a.ok){const u=new Ft(a.status,c);throw a.status===401&&Ms(u),u}return c??{}}async function Rs(t,e,n){const i=t.startsWith("/")?t:`/${t}`,o=`${vi}${i}`,a=await fetch(o,{method:"POST",credentials:"same-origin",headers:xi({"Content-Type":"application/json"}),body:e===void 0?"{}":JSON.stringify(e),signal:n}),c=await js(a);if(!a.ok){const u=new Ft(a.status,c);throw a.status===401&&Ms(u),u}return c??{}}async function Ux(t,e,n){const i=t.startsWith("/")?t:`/${t}`,o=`${vi}${i}`,a=await fetch(o,{method:"POST",credentials:"same-origin",headers:xi(),body:e,signal:n}),c=await js(a);if(!a.ok){const u=new Ft(a.status,c);throw a.status===401&&Ms(u),u}return c??{}}async function Ml(t,e){const n=t.startsWith("/")?t:`/${t}`,i=`${vi}${n}`,o=await fetch(i,{method:"DELETE",credentials:"same-origin",headers:xi(),signal:e}),a=await js(o);if(!o.ok){const c=new Ft(o.status,a);throw o.status===401&&Ms(c),c}return a??{}}function km(t){try{t&&t!=="/auth/login"&&sessionStorage.setItem(fl,t)}catch{}}function Bx(){try{const t=sessionStorage.getItem(fl);return t&&sessionStorage.removeItem(fl),t}catch{return null}}function Cm(){try{sessionStorage.setItem(hl,"1")}catch{}}function $x(){try{const t=sessionStorage.getItem(hl);return t&&sessionStorage.removeItem(hl),t==="1"}catch{return!1}}async function Hx(t){const e=await Rs("/api/auth/login",t),n=e?.token,i=e?.user;if(!n||typeof n!="string")throw new Error("Missing auth token in login response");if(!i||typeof i.id>"u")throw new Error("Missing user payload in login response");return Fx(n),i}async function Vx(){try{await Rs("/api/auth/logout",{})}catch{}hg();try{sessionStorage.removeItem(fl),sessionStorage.removeItem(hl)}catch{}}async function Wx(){const e=(await rr("/api/auth/me"))?.user;if(!e||typeof e.id>"u")throw new Error("Missing user payload in auth/me response");return e}const Nr=({isActive:t})=>"nav-link"+(t?" active":"");function Kx({requireAuth:t,authed:e}){const n=!t||e,i=t&&e,o=t&&!e;async function a(){await Vx(),window.location.assign("/auth/login")}return y.jsx("header",{role:"banner",children:y.jsx("nav",{className:"navbar",role:"navigation","aria-label":"Primary",children:y.jsxs("div",{className:"container",style:{display:"flex",alignItems:"center",gap:"1rem"},children:[y.jsx(ur,{to:"/",className:"navbar-brand","aria-label":"phpGRC home",children:"phpGRC"}),y.jsx(ur,{to:"/dashboard",className:Nr,children:"Dashboard"}),y.jsx(ur,{to:"/admin",className:Nr,children:"Admin"}),y.jsx(ur,{to:"/admin/settings",className:Nr,children:"Settings"}),y.jsx(ur,{to:"/admin/roles",className:Nr,children:"Roles"}),n&&y.jsx(ur,{to:"/admin/users",className:Nr,children:"Users"}),y.jsx(ur,{to:"/admin/user-roles",className:Nr,children:"User Roles"}),y.jsx(ur,{to:"/admin/audit",className:Nr,children:"Audit"}),y.jsx(ur,{to:"/admin/evidence",className:Nr,children:"Evidence"}),y.jsx("a",{href:"/api/docs",className:"nav-link",children:"API Docs"}),y.jsx("div",{style:{marginLeft:"auto"},children:i?y.jsx("button",{className:"btn btn-outline-secondary btn-sm",type:"button",onClick:a,children:"Logout"}):o?y.jsx(ur,{to:"/auth/login",className:Nr,children:"Login"}):null})]})})})}function Yx(){const t=Fr(),e=Nl(),[n,i]=S.useState(!0),[o,a]=S.useState(!1),[c,u]=S.useState(!1);if(S.useEffect(()=>{const h=Ix(()=>{if(!t.pathname.startsWith("/auth/")){const v=`${t.pathname}${t.search}${t.hash}`;km(v),Cm(),e("/auth/login",{replace:!0})}});async function g(){i(!0);try{const x=!!(await rr("/api/health/fingerprint"))?.summary?.rbac?.require_auth;if(a(x),x){if(!Ox()){u(!1);return}try{await Wx(),u(!0)}catch{u(!1)}}else u(!0)}finally{i(!1)}}return g(),()=>h()},[t.pathname]),n)return null;if(o&&!c&&!t.pathname.startsWith("/auth/")){const h=`${t.pathname}${t.search}${t.hash}`;return km(h),Cm(),e("/auth/login",{replace:!0}),null}const f=t.pathname.startsWith("/auth/");return y.jsxs(y.Fragment,{children:[!f&&y.jsx(Kx,{requireAuth:o,authed:c}),y.jsx("main",{id:"main",role:"main",children:y.jsx(dx,{})})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function zo(t){return t+.5|0}const di=(t,e,n)=>Math.max(Math.min(t,n),e);function ko(t){return di(zo(t*2.55),0,255)}function mi(t){return di(zo(t*255),0,255)}function Pr(t){return di(zo(t/2.55)/100,0,1)}function Em(t){return di(zo(t*100),0,100)}const $n={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Iu=[..."0123456789ABCDEF"],Xx=t=>Iu[t&15],Qx=t=>Iu[(t&240)>>4]+Iu[t&15],$a=t=>(t&240)>>4===(t&15),qx=t=>$a(t.r)&&$a(t.g)&&$a(t.b)&&$a(t.a);function Gx(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&$n[t[1]]*17,g:255&$n[t[2]]*17,b:255&$n[t[3]]*17,a:e===5?$n[t[4]]*17:255}:(e===7||e===9)&&(n={r:$n[t[1]]<<4|$n[t[2]],g:$n[t[3]]<<4|$n[t[4]],b:$n[t[5]]<<4|$n[t[6]],a:e===9?$n[t[7]]<<4|$n[t[8]]:255})),n}const Zx=(t,e)=>t<255?e(t):"";function Jx(t){var e=qx(t)?Xx:Qx;return t?"#"+e(t.r)+e(t.g)+e(t.b)+Zx(t.a,e):void 0}const eb=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function gg(t,e,n){const i=e*Math.min(n,1-n),o=(a,c=(a+t/30)%12)=>n-i*Math.max(Math.min(c-3,9-c,1),-1);return[o(0),o(8),o(4)]}function tb(t,e,n){const i=(o,a=(o+t/60)%6)=>n-n*e*Math.max(Math.min(a,4-a,1),0);return[i(5),i(3),i(1)]}function nb(t,e,n){const i=gg(t,1,.5);let o;for(e+n>1&&(o=1/(e+n),e*=o,n*=o),o=0;o<3;o++)i[o]*=1-e-n,i[o]+=e;return i}function rb(t,e,n,i,o){return t===o?(e-n)/i+(e<n?6:0):e===o?(n-t)/i+2:(t-e)/i+4}function nd(t){const n=t.r/255,i=t.g/255,o=t.b/255,a=Math.max(n,i,o),c=Math.min(n,i,o),u=(a+c)/2;let f,h,g;return a!==c&&(g=a-c,h=u>.5?g/(2-a-c):g/(a+c),f=rb(n,i,o,g,a),f=f*60+.5),[f|0,h||0,u]}function rd(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(mi)}function id(t,e,n){return rd(gg,t,e,n)}function ib(t,e,n){return rd(nb,t,e,n)}function sb(t,e,n){return rd(tb,t,e,n)}function yg(t){return(t%360+360)%360}function ob(t){const e=eb.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?ko(+e[5]):mi(+e[5]));const o=yg(+e[2]),a=+e[3]/100,c=+e[4]/100;return e[1]==="hwb"?i=ib(o,a,c):e[1]==="hsv"?i=sb(o,a,c):i=id(o,a,c),{r:i[0],g:i[1],b:i[2],a:n}}function ab(t,e){var n=nd(t);n[0]=yg(n[0]+e),n=id(n),t.r=n[0],t.g=n[1],t.b=n[2]}function lb(t){if(!t)return;const e=nd(t),n=e[0],i=Em(e[1]),o=Em(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${o}%, ${Pr(t.a)})`:`hsl(${n}, ${i}%, ${o}%)`}const Nm={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},jm={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function cb(){const t={},e=Object.keys(jm),n=Object.keys(Nm);let i,o,a,c,u;for(i=0;i<e.length;i++){for(c=u=e[i],o=0;o<n.length;o++)a=n[o],u=u.replace(a,Nm[a]);a=parseInt(jm[c],16),t[u]=[a>>16&255,a>>8&255,a&255]}return t}let Ha;function ub(t){Ha||(Ha=cb(),Ha.transparent=[0,0,0,0]);const e=Ha[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const db=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function fb(t){const e=db.exec(t);let n=255,i,o,a;if(e){if(e[7]!==i){const c=+e[7];n=e[8]?ko(c):di(c*255,0,255)}return i=+e[1],o=+e[3],a=+e[5],i=255&(e[2]?ko(i):di(i,0,255)),o=255&(e[4]?ko(o):di(o,0,255)),a=255&(e[6]?ko(a):di(a,0,255)),{r:i,g:o,b:a,a:n}}}function hb(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Pr(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const bu=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,xs=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function mb(t,e,n){const i=xs(Pr(t.r)),o=xs(Pr(t.g)),a=xs(Pr(t.b));return{r:mi(bu(i+n*(xs(Pr(e.r))-i))),g:mi(bu(o+n*(xs(Pr(e.g))-o))),b:mi(bu(a+n*(xs(Pr(e.b))-a))),a:t.a+n*(e.a-t.a)}}function Va(t,e,n){if(t){let i=nd(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=id(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function vg(t,e){return t&&Object.assign(e||{},t)}function Mm(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=mi(t[3]))):(e=vg(t,{r:0,g:0,b:0,a:1}),e.a=mi(e.a)),e}function pb(t){return t.charAt(0)==="r"?fb(t):ob(t)}class Do{constructor(e){if(e instanceof Do)return e;const n=typeof e;let i;n==="object"?i=Mm(e):n==="string"&&(i=Gx(e)||ub(e)||pb(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=vg(this._rgb);return e&&(e.a=Pr(e.a)),e}set rgb(e){this._rgb=Mm(e)}rgbString(){return this._valid?hb(this._rgb):void 0}hexString(){return this._valid?Jx(this._rgb):void 0}hslString(){return this._valid?lb(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,o=e.rgb;let a;const c=n===a?.5:n,u=2*c-1,f=i.a-o.a,h=((u*f===-1?u:(u+f)/(1+u*f))+1)/2;a=1-h,i.r=255&h*i.r+a*o.r+.5,i.g=255&h*i.g+a*o.g+.5,i.b=255&h*i.b+a*o.b+.5,i.a=c*i.a+(1-c)*o.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=mb(this._rgb,e._rgb,n)),this}clone(){return new Do(this.rgb)}alpha(e){return this._rgb.a=mi(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=zo(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Va(this._rgb,2,e),this}darken(e){return Va(this._rgb,2,-e),this}saturate(e){return Va(this._rgb,1,e),this}desaturate(e){return Va(this._rgb,1,-e),this}rotate(e){return ab(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function jr(){}const gb=(()=>{let t=0;return()=>t++})();function ct(t){return t==null}function Vt(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Ge(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Hn(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function dr(t,e){return Hn(t)?t:e}function qe(t,e){return typeof t>"u"?e:t}const yb=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,xg=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function mt(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function at(t,e,n,i){let o,a,c;if(Vt(t))for(a=t.length,o=0;o<a;o++)e.call(n,t[o],o);else if(Ge(t))for(c=Object.keys(t),a=c.length,o=0;o<a;o++)e.call(n,t[c[o]],c[o])}function ml(t,e){let n,i,o,a;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(o=t[n],a=e[n],o.datasetIndex!==a.datasetIndex||o.index!==a.index)return!1;return!0}function pl(t){if(Vt(t))return t.map(pl);if(Ge(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let o=0;for(;o<i;++o)e[n[o]]=pl(t[n[o]]);return e}return t}function bg(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function vb(t,e,n,i){if(!bg(t))return;const o=e[t],a=n[t];Ge(o)&&Ge(a)?Lo(o,a,i):e[t]=pl(a)}function Lo(t,e,n){const i=Vt(e)?e:[e],o=i.length;if(!Ge(t))return t;n=n||{};const a=n.merger||vb;let c;for(let u=0;u<o;++u){if(c=i[u],!Ge(c))continue;const f=Object.keys(c);for(let h=0,g=f.length;h<g;++h)a(f[h],t,c,n)}return t}function No(t,e){return Lo(t,e,{merger:xb})}function xb(t,e,n){if(!bg(t))return;const i=e[t],o=n[t];Ge(i)&&Ge(o)?No(i,o):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=pl(o))}const Rm={"":t=>t,x:t=>t.x,y:t=>t.y};function bb(t){const e=t.split("."),n=[];let i="";for(const o of e)i+=o,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function _b(t){const e=bb(t);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function Ki(t,e){return(Rm[e]||(Rm[e]=_b(e)))(t)}function sd(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Ao=t=>typeof t<"u",gi=t=>typeof t=="function",Pm=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function wb(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const pt=Math.PI,Tt=2*pt,gl=Number.POSITIVE_INFINITY,Sb=pt/180,Ot=pt/2,Ai=pt/4,Tm=pt*2/3,_g=Math.log10,pi=Math.sign;function il(t,e,n){return Math.abs(t-e)<n}function Dm(t){const e=Math.round(t);t=il(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(_g(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function kb(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((o,a)=>o-a).pop(),e}function Cb(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function yl(t){return!Cb(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function Eb(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function Nb(t,e,n){let i,o,a;for(i=0,o=t.length;i<o;i++)a=t[i][n],isNaN(a)||(e.min=Math.min(e.min,a),e.max=Math.max(e.max,a))}function Tr(t){return t*(pt/180)}function jb(t){return t*(180/pt)}function Lm(t){if(!Hn(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function wg(t,e){const n=e.x-t.x,i=e.y-t.y,o=Math.sqrt(n*n+i*i);let a=Math.atan2(i,n);return a<-.5*pt&&(a+=Tt),{angle:a,distance:o}}function Mb(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function mr(t){return(t%Tt+Tt)%Tt}function vl(t,e,n,i){const o=mr(t),a=mr(e),c=mr(n),u=mr(a-o),f=mr(c-o),h=mr(o-a),g=mr(o-c);return o===a||o===c||i&&a===c||u>f&&h<g}function bn(t,e,n){return Math.max(e,Math.min(n,t))}function Rb(t){return bn(t,-32768,32767)}function $i(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function od(t,e,n){n=n||(c=>t[c]<e);let i=t.length-1,o=0,a;for(;i-o>1;)a=o+i>>1,n(a)?o=a:i=a;return{lo:o,hi:i}}const zu=(t,e,n,i)=>od(t,n,i?o=>{const a=t[o][e];return a<n||a===n&&t[o+1][e]===n}:o=>t[o][e]<n),Pb=(t,e,n)=>od(t,n,i=>t[i][e]>=n);function Tb(t,e,n){let i=0,o=t.length;for(;i<o&&t[i]<e;)i++;for(;o>i&&t[o-1]>n;)o--;return i>0||o<t.length?t.slice(i,o):t}const Sg=["push","pop","shift","splice","unshift"];function Db(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Sg.forEach(n=>{const i="_onData"+sd(n),o=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...a){const c=o.apply(this,a);return t._chartjs.listeners.forEach(u=>{typeof u[i]=="function"&&u[i](...a)}),c}})})}function Am(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,o=i.indexOf(e);o!==-1&&i.splice(o,1),!(i.length>0)&&(Sg.forEach(a=>{delete t[a]}),delete t._chartjs)}function kg(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const Cg=(function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame})();function Eg(t,e){let n=[],i=!1;return function(...o){n=o,i||(i=!0,Cg.call(window,()=>{i=!1,t.apply(e,n)}))}}function Lb(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const Ng=t=>t==="start"?"left":t==="end"?"right":"center",Mn=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,Ab=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e,Wa=t=>t===0||t===1,Om=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Tt/n)),Fm=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Tt/n)+1,jo={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Ot)+1,easeOutSine:t=>Math.sin(t*Ot),easeInOutSine:t=>-.5*(Math.cos(pt*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Wa(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Wa(t)?t:Om(t,.075,.3),easeOutElastic:t=>Wa(t)?t:Fm(t,.075,.3),easeInOutElastic(t){return Wa(t)?t:t<.5?.5*Om(t*2,.1125,.45):.5+.5*Fm(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-jo.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?jo.easeInBounce(t*2)*.5:jo.easeOutBounce(t*2-1)*.5+.5};function jg(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Im(t){return jg(t)?t:new Do(t)}function _u(t){return jg(t)?t:new Do(t).saturate(.5).darken(.1).hexString()}const Ob=["x","y","borderWidth","radius","tension"],Fb=["color","borderColor","backgroundColor"];function Ib(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:Fb},numbers:{type:"number",properties:Ob}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function zb(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const zm=new Map;function Ub(t,e){e=e||{};const n=t+JSON.stringify(e);let i=zm.get(n);return i||(i=new Intl.NumberFormat(t,e),zm.set(n,i)),i}function ad(t,e,n){return Ub(e,n).format(t)}const Bb={values(t){return Vt(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let o,a=t;if(n.length>1){const h=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(h<1e-4||h>1e15)&&(o="scientific"),a=$b(t,n)}const c=_g(Math.abs(a)),u=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),f={notation:o,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(f,this.options.ticks.format),ad(t,i,f)}};function $b(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Mg={formatters:Bb};function Hb(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Mg.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Yi=Object.create(null),Uu=Object.create(null);function Mo(t,e){if(!e)return t;const n=e.split(".");for(let i=0,o=n.length;i<o;++i){const a=n[i];t=t[a]||(t[a]=Object.create(null))}return t}function wu(t,e,n){return typeof e=="string"?Lo(Mo(t,e),n):Lo(Mo(t,""),e)}class Vb{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,o)=>_u(o.backgroundColor),this.hoverBorderColor=(i,o)=>_u(o.borderColor),this.hoverColor=(i,o)=>_u(o.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return wu(this,e,n)}get(e){return Mo(this,e)}describe(e,n){return wu(Uu,e,n)}override(e,n){return wu(Yi,e,n)}route(e,n,i,o){const a=Mo(this,e),c=Mo(this,i),u="_"+n;Object.defineProperties(a,{[u]:{value:a[n],writable:!0},[n]:{enumerable:!0,get(){const f=this[u],h=c[o];return Ge(f)?Object.assign({},h,f):qe(f,h)},set(f){this[u]=f}}})}apply(e){e.forEach(n=>n(this))}}var jt=new Vb({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Ib,zb,Hb]);function Wb(t){return!t||ct(t.size)||ct(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Um(t,e,n,i,o){let a=e[o];return a||(a=e[o]=t.measureText(o).width,n.push(o)),a>i&&(i=a),i}function Oi(t,e,n){const i=t.currentDevicePixelRatio,o=n!==0?Math.max(n/2,.5):0;return Math.round((e-o)*i)/i+o}function Bm(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function $m(t,e,n,i){Rg(t,e,n,i,null)}function Rg(t,e,n,i,o){let a,c,u,f,h,g,v,x;const _=e.pointStyle,w=e.rotation,k=e.radius;let C=(w||0)*Sb;if(_&&typeof _=="object"&&(a=_.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(C),t.drawImage(_,-_.width/2,-_.height/2,_.width,_.height),t.restore();return}if(!(isNaN(k)||k<=0)){switch(t.beginPath(),_){default:o?t.ellipse(n,i,o/2,k,0,0,Tt):t.arc(n,i,k,0,Tt),t.closePath();break;case"triangle":g=o?o/2:k,t.moveTo(n+Math.sin(C)*g,i-Math.cos(C)*k),C+=Tm,t.lineTo(n+Math.sin(C)*g,i-Math.cos(C)*k),C+=Tm,t.lineTo(n+Math.sin(C)*g,i-Math.cos(C)*k),t.closePath();break;case"rectRounded":h=k*.516,f=k-h,c=Math.cos(C+Ai)*f,v=Math.cos(C+Ai)*(o?o/2-h:f),u=Math.sin(C+Ai)*f,x=Math.sin(C+Ai)*(o?o/2-h:f),t.arc(n-v,i-u,h,C-pt,C-Ot),t.arc(n+x,i-c,h,C-Ot,C),t.arc(n+v,i+u,h,C,C+Ot),t.arc(n-x,i+c,h,C+Ot,C+pt),t.closePath();break;case"rect":if(!w){f=Math.SQRT1_2*k,g=o?o/2:f,t.rect(n-g,i-f,2*g,2*f);break}C+=Ai;case"rectRot":v=Math.cos(C)*(o?o/2:k),c=Math.cos(C)*k,u=Math.sin(C)*k,x=Math.sin(C)*(o?o/2:k),t.moveTo(n-v,i-u),t.lineTo(n+x,i-c),t.lineTo(n+v,i+u),t.lineTo(n-x,i+c),t.closePath();break;case"crossRot":C+=Ai;case"cross":v=Math.cos(C)*(o?o/2:k),c=Math.cos(C)*k,u=Math.sin(C)*k,x=Math.sin(C)*(o?o/2:k),t.moveTo(n-v,i-u),t.lineTo(n+v,i+u),t.moveTo(n+x,i-c),t.lineTo(n-x,i+c);break;case"star":v=Math.cos(C)*(o?o/2:k),c=Math.cos(C)*k,u=Math.sin(C)*k,x=Math.sin(C)*(o?o/2:k),t.moveTo(n-v,i-u),t.lineTo(n+v,i+u),t.moveTo(n+x,i-c),t.lineTo(n-x,i+c),C+=Ai,v=Math.cos(C)*(o?o/2:k),c=Math.cos(C)*k,u=Math.sin(C)*k,x=Math.sin(C)*(o?o/2:k),t.moveTo(n-v,i-u),t.lineTo(n+v,i+u),t.moveTo(n+x,i-c),t.lineTo(n-x,i+c);break;case"line":c=o?o/2:Math.cos(C)*k,u=Math.sin(C)*k,t.moveTo(n-c,i-u),t.lineTo(n+c,i+u);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(C)*(o?o/2:k),i+Math.sin(C)*k);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Pg(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function ld(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function cd(t){t.restore()}function Kb(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),ct(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function Yb(t,e,n,i,o){if(o.strikethrough||o.underline){const a=t.measureText(i),c=e-a.actualBoundingBoxLeft,u=e+a.actualBoundingBoxRight,f=n-a.actualBoundingBoxAscent,h=n+a.actualBoundingBoxDescent,g=o.strikethrough?(f+h)/2:h;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=o.decorationWidth||2,t.moveTo(c,g),t.lineTo(u,g),t.stroke()}}function Xb(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function xl(t,e,n,i,o,a={}){const c=Vt(e)?e:[e],u=a.strokeWidth>0&&a.strokeColor!=="";let f,h;for(t.save(),t.font=o.string,Kb(t,a),f=0;f<c.length;++f)h=c[f],a.backdrop&&Xb(t,a.backdrop),u&&(a.strokeColor&&(t.strokeStyle=a.strokeColor),ct(a.strokeWidth)||(t.lineWidth=a.strokeWidth),t.strokeText(h,n,i,a.maxWidth)),t.fillText(h,n,i,a.maxWidth),Yb(t,n,i,h,a),i+=Number(o.lineHeight);t.restore()}function bl(t,e){const{x:n,y:i,w:o,h:a,radius:c}=e;t.arc(n+c.topLeft,i+c.topLeft,c.topLeft,1.5*pt,pt,!0),t.lineTo(n,i+a-c.bottomLeft),t.arc(n+c.bottomLeft,i+a-c.bottomLeft,c.bottomLeft,pt,Ot,!0),t.lineTo(n+o-c.bottomRight,i+a),t.arc(n+o-c.bottomRight,i+a-c.bottomRight,c.bottomRight,Ot,0,!0),t.lineTo(n+o,i+c.topRight),t.arc(n+o-c.topRight,i+c.topRight,c.topRight,0,-Ot,!0),t.lineTo(n+c.topLeft,i)}const Qb=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,qb=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Gb(t,e){const n=(""+t).match(Qb);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const Zb=t=>+t||0;function ud(t,e){const n={},i=Ge(e),o=i?Object.keys(e):e,a=Ge(t)?i?c=>qe(t[c],t[e[c]]):c=>t[c]:()=>t;for(const c of o)n[c]=Zb(a(c));return n}function Tg(t){return ud(t,{top:"y",right:"x",bottom:"y",left:"x"})}function ws(t){return ud(t,["topLeft","topRight","bottomLeft","bottomRight"])}function nr(t){const e=Tg(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function _n(t,e){t=t||{},e=e||jt.font;let n=qe(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=qe(t.style,e.style);i&&!(""+i).match(qb)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const o={family:qe(t.family,e.family),lineHeight:Gb(qe(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:qe(t.weight,e.weight),string:""};return o.string=Wb(o),o}function Ka(t,e,n,i){let o,a,c;for(o=0,a=t.length;o<a;++o)if(c=t[o],c!==void 0&&c!==void 0)return c}function Jb(t,e,n){const{min:i,max:o}=t,a=xg(e,(o-i)/2),c=(u,f)=>n&&u===0?0:u+f;return{min:c(i,-Math.abs(a)),max:c(o,a)}}function Ps(t,e){return Object.assign(Object.create(t),e)}function dd(t,e=[""],n,i,o=()=>t[0]){const a=n||t;typeof i>"u"&&(i=Og("_fallback",t));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:a,_fallback:i,_getTarget:o,override:u=>dd([u,...t],e,a,i)};return new Proxy(c,{deleteProperty(u,f){return delete u[f],delete u._keys,delete t[0][f],!0},get(u,f){return Lg(u,f,()=>a_(f,e,t,u))},getOwnPropertyDescriptor(u,f){return Reflect.getOwnPropertyDescriptor(u._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(u,f){return Vm(u).includes(f)},ownKeys(u){return Vm(u)},set(u,f,h){const g=u._storage||(u._storage=o());return u[f]=g[f]=h,delete u._keys,!0}})}function Es(t,e,n,i){const o={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:Dg(t,i),setContext:a=>Es(t,a,n,i),override:a=>Es(t.override(a),e,n,i)};return new Proxy(o,{deleteProperty(a,c){return delete a[c],delete t[c],!0},get(a,c,u){return Lg(a,c,()=>t_(a,c,u))},getOwnPropertyDescriptor(a,c){return a._descriptors.allKeys?Reflect.has(t,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,c)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(a,c){return Reflect.has(t,c)},ownKeys(){return Reflect.ownKeys(t)},set(a,c,u){return t[c]=u,delete a[c],!0}})}function Dg(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:o=e.allKeys}=t;return{allKeys:o,scriptable:n,indexable:i,isScriptable:gi(n)?n:()=>n,isIndexable:gi(i)?i:()=>i}}const e_=(t,e)=>t?t+sd(e):e,fd=(t,e)=>Ge(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Lg(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const i=n();return t[e]=i,i}function t_(t,e,n){const{_proxy:i,_context:o,_subProxy:a,_descriptors:c}=t;let u=i[e];return gi(u)&&c.isScriptable(e)&&(u=n_(e,u,t,n)),Vt(u)&&u.length&&(u=r_(e,u,t,c.isIndexable)),fd(e,u)&&(u=Es(u,o,a&&a[e],c)),u}function n_(t,e,n,i){const{_proxy:o,_context:a,_subProxy:c,_stack:u}=n;if(u.has(t))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+t);u.add(t);let f=e(a,c||i);return u.delete(t),fd(t,f)&&(f=hd(o._scopes,o,t,f)),f}function r_(t,e,n,i){const{_proxy:o,_context:a,_subProxy:c,_descriptors:u}=n;if(typeof a.index<"u"&&i(t))return e[a.index%e.length];if(Ge(e[0])){const f=e,h=o._scopes.filter(g=>g!==f);e=[];for(const g of f){const v=hd(h,o,t,g);e.push(Es(v,a,c&&c[t],u))}}return e}function Ag(t,e,n){return gi(t)?t(e,n):t}const i_=(t,e)=>t===!0?e:typeof t=="string"?Ki(e,t):void 0;function s_(t,e,n,i,o){for(const a of e){const c=i_(n,a);if(c){t.add(c);const u=Ag(c._fallback,n,o);if(typeof u<"u"&&u!==n&&u!==i)return u}else if(c===!1&&typeof i<"u"&&n!==i)return null}return!1}function hd(t,e,n,i){const o=e._rootScopes,a=Ag(e._fallback,n,i),c=[...t,...o],u=new Set;u.add(i);let f=Hm(u,c,n,a||n,i);return f===null||typeof a<"u"&&a!==n&&(f=Hm(u,c,a,f,i),f===null)?!1:dd(Array.from(u),[""],o,a,()=>o_(e,n,i))}function Hm(t,e,n,i,o){for(;n;)n=s_(t,e,n,i,o);return n}function o_(t,e,n){const i=t._getTarget();e in i||(i[e]={});const o=i[e];return Vt(o)&&Ge(n)?n:o||{}}function a_(t,e,n,i){let o;for(const a of e)if(o=Og(e_(a,t),n),typeof o<"u")return fd(t,o)?hd(n,i,t,o):o}function Og(t,e){for(const n of e){if(!n)continue;const i=n[t];if(typeof i<"u")return i}}function Vm(t){let e=t._keys;return e||(e=t._keys=l_(t._scopes)),e}function l_(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(o=>!o.startsWith("_")))e.add(i);return Array.from(e)}function md(){return typeof window<"u"&&typeof document<"u"}function pd(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function _l(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const Rl=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function c_(t,e){return Rl(t).getPropertyValue(e)}const u_=["top","right","bottom","left"];function Vi(t,e,n){const i={};n=n?"-"+n:"";for(let o=0;o<4;o++){const a=u_[o];i[a]=parseFloat(t[e+"-"+a+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const d_=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function f_(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:o,offsetY:a}=i;let c=!1,u,f;if(d_(o,a,t.target))u=o,f=a;else{const h=e.getBoundingClientRect();u=i.clientX-h.left,f=i.clientY-h.top,c=!0}return{x:u,y:f,box:c}}function Ii(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,o=Rl(n),a=o.boxSizing==="border-box",c=Vi(o,"padding"),u=Vi(o,"border","width"),{x:f,y:h,box:g}=f_(t,n),v=c.left+(g&&u.left),x=c.top+(g&&u.top);let{width:_,height:w}=e;return a&&(_-=c.width+u.width,w-=c.height+u.height),{x:Math.round((f-v)/_*n.width/i),y:Math.round((h-x)/w*n.height/i)}}function h_(t,e,n){let i,o;if(e===void 0||n===void 0){const a=t&&pd(t);if(!a)e=t.clientWidth,n=t.clientHeight;else{const c=a.getBoundingClientRect(),u=Rl(a),f=Vi(u,"border","width"),h=Vi(u,"padding");e=c.width-h.width-f.width,n=c.height-h.height-f.height,i=_l(u.maxWidth,a,"clientWidth"),o=_l(u.maxHeight,a,"clientHeight")}}return{width:e,height:n,maxWidth:i||gl,maxHeight:o||gl}}const Ya=t=>Math.round(t*10)/10;function m_(t,e,n,i){const o=Rl(t),a=Vi(o,"margin"),c=_l(o.maxWidth,t,"clientWidth")||gl,u=_l(o.maxHeight,t,"clientHeight")||gl,f=h_(t,e,n);let{width:h,height:g}=f;if(o.boxSizing==="content-box"){const x=Vi(o,"border","width"),_=Vi(o,"padding");h-=_.width+x.width,g-=_.height+x.height}return h=Math.max(0,h-a.width),g=Math.max(0,i?h/i:g-a.height),h=Ya(Math.min(h,c,f.maxWidth)),g=Ya(Math.min(g,u,f.maxHeight)),h&&!g&&(g=Ya(h/2)),(e!==void 0||n!==void 0)&&i&&f.height&&g>f.height&&(g=f.height,h=Ya(Math.floor(g*i))),{width:h,height:g}}function Wm(t,e,n){const i=e||1,o=Math.floor(t.height*i),a=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const c=t.canvas;return c.style&&(n||!c.style.height&&!c.style.width)&&(c.style.height=`${t.height}px`,c.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||c.height!==o||c.width!==a?(t.currentDevicePixelRatio=i,c.height=o,c.width=a,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const p_=(function(){let t=!1;try{const e={get passive(){return t=!0,!1}};md()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t})();function Km(t,e){const n=c_(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}const g_=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},y_=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Ss(t,e,n){return t?g_(e,n):y_()}function Fg(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function Ig(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Xa(t,e,n){return t.options.clip?t[n]:e[n]}function v_(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:Xa(n,e,"left"),right:Xa(n,e,"right"),top:Xa(i,e,"top"),bottom:Xa(i,e,"bottom")}:e}function x_(t,e){const n=e._clip;if(n.disabled)return!1;const i=v_(e,t.chartArea);return{left:n.left===!1?0:i.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:i.right+(n.right===!0?0:n.right),top:n.top===!1?0:i.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:i.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class b_{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,o){const a=n.listeners[o],c=n.duration;a.forEach(u=>u({chart:e,initial:n.initial,numSteps:c,currentStep:Math.min(i-n.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=Cg.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,o)=>{if(!i.running||!i.items.length)return;const a=i.items;let c=a.length-1,u=!1,f;for(;c>=0;--c)f=a[c],f._active?(f._total>i.duration&&(i.duration=f._total),f.tick(e),u=!0):(a[c]=a[a.length-1],a.pop());u&&(o.draw(),this._notify(o,i,e,"progress")),a.length||(i.running=!1,this._notify(o,i,e,"complete"),i.initial=!1),n+=a.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,o)=>Math.max(i,o._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let o=i.length-1;for(;o>=0;--o)i[o].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Mr=new b_;const Ym="transparent",__={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=Im(t||Ym),o=i.valid&&Im(e||Ym);return o&&o.valid?o.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class w_{constructor(e,n,i,o){const a=n[i];o=Ka([e.to,o,a,e.from]);const c=Ka([e.from,a,o]);this._active=!0,this._fn=e.fn||__[e.type||typeof c],this._easing=jo[e.easing]||jo.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=c,this._to=o,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const o=this._target[this._prop],a=i-this._start,c=this._duration-a;this._start=i,this._duration=Math.floor(Math.max(c,e.duration)),this._total+=a,this._loop=!!e.loop,this._to=Ka([e.to,n,o,e.from]),this._from=Ka([e.from,o,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,o=this._prop,a=this._from,c=this._loop,u=this._to;let f;if(this._active=a!==u&&(c||n<i),!this._active){this._target[o]=u,this._notify(!0);return}if(n<0){this._target[o]=a;return}f=n/i%2,f=c&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[o]=this._fn(a,u,f)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let o=0;o<i.length;o++)i[o][n]()}}class zg{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!Ge(e))return;const n=Object.keys(jt.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(o=>{const a=e[o];if(!Ge(a))return;const c={};for(const u of n)c[u]=a[u];(Vt(a.properties)&&a.properties||[o]).forEach(u=>{(u===o||!i.has(u))&&i.set(u,c)})})}_animateOptions(e,n){const i=n.options,o=k_(e,i);if(!o)return[];const a=this._createAnimations(o,i);return i.$shared&&S_(e.options.$animations,i).then(()=>{e.options=i},()=>{}),a}_createAnimations(e,n){const i=this._properties,o=[],a=e.$animations||(e.$animations={}),c=Object.keys(n),u=Date.now();let f;for(f=c.length-1;f>=0;--f){const h=c[f];if(h.charAt(0)==="$")continue;if(h==="options"){o.push(...this._animateOptions(e,n));continue}const g=n[h];let v=a[h];const x=i.get(h);if(v)if(x&&v.active()){v.update(x,g,u);continue}else v.cancel();if(!x||!x.duration){e[h]=g;continue}a[h]=v=new w_(x,e,h,g),o.push(v)}return o}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return Mr.add(this._chart,i),!0}}function S_(t,e){const n=[],i=Object.keys(e);for(let o=0;o<i.length;o++){const a=t[i[o]];a&&a.active()&&n.push(a.wait())}return Promise.all(n)}function k_(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Xm(t,e){const n=t&&t.options||{},i=n.reverse,o=n.min===void 0?e:0,a=n.max===void 0?e:0;return{start:i?a:o,end:i?o:a}}function C_(t,e,n){if(n===!1)return!1;const i=Xm(t,n),o=Xm(e,n);return{top:o.end,right:i.end,bottom:o.start,left:i.start}}function E_(t){let e,n,i,o;return Ge(t)?(e=t.top,n=t.right,i=t.bottom,o=t.left):e=n=i=o=t,{top:e,right:n,bottom:i,left:o,disabled:t===!1}}function Ug(t,e){const n=[],i=t._getSortedDatasetMetas(e);let o,a;for(o=0,a=i.length;o<a;++o)n.push(i[o].index);return n}function Qm(t,e,n,i={}){const o=t.keys,a=i.mode==="single";let c,u,f,h;if(e===null)return;let g=!1;for(c=0,u=o.length;c<u;++c){if(f=+o[c],f===n){if(g=!0,i.all)continue;break}h=t.values[f],Hn(h)&&(a||e===0||pi(e)===pi(h))&&(e+=h)}return!g&&!i.all?0:e}function N_(t,e){const{iScale:n,vScale:i}=e,o=n.axis==="x"?"x":"y",a=i.axis==="x"?"x":"y",c=Object.keys(t),u=new Array(c.length);let f,h,g;for(f=0,h=c.length;f<h;++f)g=c[f],u[f]={[o]:g,[a]:t[g]};return u}function Su(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function j_(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function M_(t){const{min:e,max:n,minDefined:i,maxDefined:o}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:o?n:Number.POSITIVE_INFINITY}}function R_(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function qm(t,e,n,i){for(const o of e.getMatchingVisibleMetas(i).reverse()){const a=t[o.index];if(n&&a>0||!n&&a<0)return o.index}return null}function Gm(t,e){const{chart:n,_cachedMeta:i}=t,o=n._stacks||(n._stacks={}),{iScale:a,vScale:c,index:u}=i,f=a.axis,h=c.axis,g=j_(a,c,i),v=e.length;let x;for(let _=0;_<v;++_){const w=e[_],{[f]:k,[h]:C}=w,T=w._stacks||(w._stacks={});x=T[h]=R_(o,g,k),x[u]=C,x._top=qm(x,c,!0,i.type),x._bottom=qm(x,c,!1,i.type);const M=x._visualValues||(x._visualValues={});M[u]=C}}function ku(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function P_(t,e){return Ps(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function T_(t,e,n){return Ps(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function vo(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const o of e){const a=o._stacks;if(!a||a[i]===void 0||a[i][n]===void 0)return;delete a[i][n],a[i]._visualValues!==void 0&&a[i]._visualValues[n]!==void 0&&delete a[i]._visualValues[n]}}}const Cu=t=>t==="reset"||t==="none",Zm=(t,e)=>e?t:Object.assign({},t),D_=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:Ug(n,!0),values:null};class gd{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Su(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&vo(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),o=(v,x,_,w)=>v==="x"?x:v==="r"?w:_,a=n.xAxisID=qe(i.xAxisID,ku(e,"x")),c=n.yAxisID=qe(i.yAxisID,ku(e,"y")),u=n.rAxisID=qe(i.rAxisID,ku(e,"r")),f=n.indexAxis,h=n.iAxisID=o(f,a,c,u),g=n.vAxisID=o(f,c,a,u);n.xScale=this.getScaleForId(a),n.yScale=this.getScaleForId(c),n.rScale=this.getScaleForId(u),n.iScale=this.getScaleForId(h),n.vScale=this.getScaleForId(g)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Am(this._data,this),e._stacked&&vo(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(Ge(n)){const o=this._cachedMeta;this._data=N_(n,o)}else if(i!==n){if(i){Am(i,this);const o=this._cachedMeta;vo(o),o._parsed=[]}n&&Object.isExtensible(n)&&Db(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let o=!1;this._dataCheck();const a=n._stacked;n._stacked=Su(n.vScale,n),n.stack!==i.stack&&(o=!0,vo(n),n.stack=i.stack),this._resyncElements(e),(o||a!==n._stacked)&&(Gm(this,n._parsed),n._stacked=Su(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:o}=this,{iScale:a,_stacked:c}=i,u=a.axis;let f=e===0&&n===o.length?!0:i._sorted,h=e>0&&i._parsed[e-1],g,v,x;if(this._parsing===!1)i._parsed=o,i._sorted=!0,x=o;else{Vt(o[e])?x=this.parseArrayData(i,o,e,n):Ge(o[e])?x=this.parseObjectData(i,o,e,n):x=this.parsePrimitiveData(i,o,e,n);const _=()=>v[u]===null||h&&v[u]<h[u];for(g=0;g<n;++g)i._parsed[g+e]=v=x[g],f&&(_()&&(f=!1),h=v);i._sorted=f}c&&Gm(this,x)}parsePrimitiveData(e,n,i,o){const{iScale:a,vScale:c}=e,u=a.axis,f=c.axis,h=a.getLabels(),g=a===c,v=new Array(o);let x,_,w;for(x=0,_=o;x<_;++x)w=x+i,v[x]={[u]:g||a.parse(h[w],w),[f]:c.parse(n[w],w)};return v}parseArrayData(e,n,i,o){const{xScale:a,yScale:c}=e,u=new Array(o);let f,h,g,v;for(f=0,h=o;f<h;++f)g=f+i,v=n[g],u[f]={x:a.parse(v[0],g),y:c.parse(v[1],g)};return u}parseObjectData(e,n,i,o){const{xScale:a,yScale:c}=e,{xAxisKey:u="x",yAxisKey:f="y"}=this._parsing,h=new Array(o);let g,v,x,_;for(g=0,v=o;g<v;++g)x=g+i,_=n[x],h[g]={x:a.parse(Ki(_,u),x),y:c.parse(Ki(_,f),x)};return h}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const o=this.chart,a=this._cachedMeta,c=n[e.axis],u={keys:Ug(o,!0),values:n._stacks[e.axis]._visualValues};return Qm(u,c,a.index,{mode:i})}updateRangeFromParsed(e,n,i,o){const a=i[n.axis];let c=a===null?NaN:a;const u=o&&i._stacks[n.axis];o&&u&&(o.values=u,c=Qm(o,a,this._cachedMeta.index)),e.min=Math.min(e.min,c),e.max=Math.max(e.max,c)}getMinMax(e,n){const i=this._cachedMeta,o=i._parsed,a=i._sorted&&e===i.iScale,c=o.length,u=this._getOtherScale(e),f=D_(n,i,this.chart),h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:g,max:v}=M_(u);let x,_;function w(){_=o[x];const k=_[u.axis];return!Hn(_[e.axis])||g>k||v<k}for(x=0;x<c&&!(!w()&&(this.updateRangeFromParsed(h,e,_,f),a));++x);if(a){for(x=c-1;x>=0;--x)if(!w()){this.updateRangeFromParsed(h,e,_,f);break}}return h}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let o,a,c;for(o=0,a=n.length;o<a;++o)c=n[o][e.axis],Hn(c)&&i.push(c);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,o=n.vScale,a=this.getParsed(e);return{label:i?""+i.getLabelForValue(a[i.axis]):"",value:o?""+o.getLabelForValue(a[o.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=E_(qe(this.options.clip,C_(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,o=i.data||[],a=n.chartArea,c=[],u=this._drawStart||0,f=this._drawCount||o.length-u,h=this.options.drawActiveElementsOnTop;let g;for(i.dataset&&i.dataset.draw(e,a,u,f),g=u;g<u+f;++g){const v=o[g];v.hidden||(v.active&&h?c.push(v):v.draw(e,a))}for(g=0;g<c.length;++g)c[g].draw(e,a)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const o=this.getDataset();let a;if(e>=0&&e<this._cachedMeta.data.length){const c=this._cachedMeta.data[e];a=c.$context||(c.$context=T_(this.getContext(),e,c)),a.parsed=this.getParsed(e),a.raw=o.data[e],a.index=a.dataIndex=e}else a=this.$context||(this.$context=P_(this.chart.getContext(),this.index)),a.dataset=o,a.index=a.datasetIndex=this.index;return a.active=!!n,a.mode=i,a}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const o=n==="active",a=this._cachedDataOpts,c=e+"-"+n,u=a[c],f=this.enableOptionSharing&&Ao(i);if(u)return Zm(u,f);const h=this.chart.config,g=h.datasetElementScopeKeys(this._type,e),v=o?[`${e}Hover`,"hover",e,""]:[e,""],x=h.getOptionScopes(this.getDataset(),g),_=Object.keys(jt.elements[e]),w=()=>this.getContext(i,o,n),k=h.resolveNamedOptions(x,_,w,v);return k.$shared&&(k.$shared=f,a[c]=Object.freeze(Zm(k,f))),k}_resolveAnimations(e,n,i){const o=this.chart,a=this._cachedDataOpts,c=`animation-${n}`,u=a[c];if(u)return u;let f;if(o.options.animation!==!1){const g=this.chart.config,v=g.datasetAnimationScopeKeys(this._type,n),x=g.getOptionScopes(this.getDataset(),v);f=g.createResolver(x,this.getContext(e,i,n))}const h=new zg(o,f&&f.animations);return f&&f._cacheable&&(a[c]=Object.freeze(h)),h}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Cu(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),o=this._sharedOptions,a=this.getSharedOptions(i),c=this.includeOptions(n,a)||a!==o;return this.updateSharedOptions(a,n,i),{sharedOptions:a,includeOptions:c}}updateElement(e,n,i,o){Cu(o)?Object.assign(e,i):this._resolveAnimations(n,o).update(e,i)}updateSharedOptions(e,n,i){e&&!Cu(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,o){e.active=o;const a=this.getStyle(n,o);this._resolveAnimations(n,i,o).update(e,{options:!o&&this.getSharedOptions(a)||a})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[u,f,h]of this._syncList)this[u](f,h);this._syncList=[];const o=i.length,a=n.length,c=Math.min(a,o);c&&this.parse(0,c),a>o?this._insertElements(o,a-o,e):a<o&&this._removeElements(a,o-a)}_insertElements(e,n,i=!0){const o=this._cachedMeta,a=o.data,c=e+n;let u;const f=h=>{for(h.length+=n,u=h.length-1;u>=c;u--)h[u]=h[u-n]};for(f(a),u=e;u<c;++u)a[u]=new this.dataElementType;this._parsing&&f(o._parsed),this.parse(e,n),i&&this.updateElements(a,e,n,"reset")}updateElements(e,n,i,o){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const o=i._parsed.splice(e,n);i._stacked&&vo(i,o)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,o]=e;this[n](i,o)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function L_(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let i=[];for(let o=0,a=n.length;o<a;o++)i=i.concat(n[o].controller.getAllParsedValues(t));t._cache.$bar=kg(i.sort((o,a)=>o-a))}return t._cache.$bar}function A_(t){const e=t.iScale,n=L_(e,t.type);let i=e._length,o,a,c,u;const f=()=>{c===32767||c===-32768||(Ao(u)&&(i=Math.min(i,Math.abs(c-u)||i)),u=c)};for(o=0,a=n.length;o<a;++o)c=e.getPixelForValue(n[o]),f();for(u=void 0,o=0,a=e.ticks.length;o<a;++o)c=e.getPixelForTick(o),f();return i}function O_(t,e,n,i){const o=n.barThickness;let a,c;return ct(o)?(a=e.min*n.categoryPercentage,c=n.barPercentage):(a=o*i,c=1),{chunk:a/i,ratio:c,start:e.pixels[t]-a/2}}function F_(t,e,n,i){const o=e.pixels,a=o[t];let c=t>0?o[t-1]:null,u=t<o.length-1?o[t+1]:null;const f=n.categoryPercentage;c===null&&(c=a-(u===null?e.end-e.start:u-a)),u===null&&(u=a+a-c);const h=a-(a-Math.min(c,u))/2*f;return{chunk:Math.abs(u-c)/2*f/i,ratio:n.barPercentage,start:h}}function I_(t,e,n,i){const o=n.parse(t[0],i),a=n.parse(t[1],i),c=Math.min(o,a),u=Math.max(o,a);let f=c,h=u;Math.abs(c)>Math.abs(u)&&(f=u,h=c),e[n.axis]=h,e._custom={barStart:f,barEnd:h,start:o,end:a,min:c,max:u}}function Bg(t,e,n,i){return Vt(t)?I_(t,e,n,i):e[n.axis]=n.parse(t,i),e}function Jm(t,e,n,i){const o=t.iScale,a=t.vScale,c=o.getLabels(),u=o===a,f=[];let h,g,v,x;for(h=n,g=n+i;h<g;++h)x=e[h],v={},v[o.axis]=u||o.parse(c[h],h),f.push(Bg(x,v,a,h));return f}function Eu(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function z_(t,e,n){return t!==0?pi(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function U_(t){let e,n,i,o,a;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(o="end",a="start"):(o="start",a="end"),{start:n,end:i,reverse:e,top:o,bottom:a}}function B_(t,e,n,i){let o=e.borderSkipped;const a={};if(!o){t.borderSkipped=a;return}if(o===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:c,end:u,reverse:f,top:h,bottom:g}=U_(t);o==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?o=h:(n._bottom||0)===i?o=g:(a[ep(g,c,u,f)]=!0,o=h)),a[ep(o,c,u,f)]=!0,t.borderSkipped=a}function ep(t,e,n,i){return i?(t=$_(t,e,n),t=tp(t,n,e)):t=tp(t,e,n),t}function $_(t,e,n){return t===e?n:t===n?e:t}function tp(t,e,n){return t==="start"?e:t==="end"?n:t}function H_(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class V_ extends gd{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,n,i,o){return Jm(e,n,i,o)}parseArrayData(e,n,i,o){return Jm(e,n,i,o)}parseObjectData(e,n,i,o){const{iScale:a,vScale:c}=e,{xAxisKey:u="x",yAxisKey:f="y"}=this._parsing,h=a.axis==="x"?u:f,g=c.axis==="x"?u:f,v=[];let x,_,w,k;for(x=i,_=i+o;x<_;++x)k=n[x],w={},w[a.axis]=a.parse(Ki(k,h),x),v.push(Bg(Ki(k,g),w,c,x));return v}updateRangeFromParsed(e,n,i,o){super.updateRangeFromParsed(e,n,i,o);const a=i._custom;a&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,a.min),e.max=Math.max(e.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:i,vScale:o}=n,a=this.getParsed(e),c=a._custom,u=Eu(c)?"["+c.start+", "+c.end+"]":""+o.getLabelForValue(a[o.axis]);return{label:""+i.getLabelForValue(a[i.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,i,o){const a=o==="reset",{index:c,_cachedMeta:{vScale:u}}=this,f=u.getBasePixel(),h=u.isHorizontal(),g=this._getRuler(),{sharedOptions:v,includeOptions:x}=this._getSharedOptions(n,o);for(let _=n;_<n+i;_++){const w=this.getParsed(_),k=a||ct(w[u.axis])?{base:f,head:f}:this._calculateBarValuePixels(_),C=this._calculateBarIndexPixels(_,g),T=(w._stacks||{})[u.axis],M={horizontal:h,base:k.base,enableBorderRadius:!T||Eu(w._custom)||c===T._top||c===T._bottom,x:h?k.head:C.center,y:h?C.center:k.head,height:h?C.size:Math.abs(k.size),width:h?Math.abs(k.size):C.size};x&&(M.options=v||this.resolveDataElementOptions(_,e[_].active?"active":o));const B=M.options||e[_].options;B_(M,B,T,c),H_(M,B,g.ratio),this.updateElement(e[_],_,M,o)}}_getStacks(e,n){const{iScale:i}=this._cachedMeta,o=i.getMatchingVisibleMetas(this._type).filter(g=>g.controller.options.grouped),a=i.options.stacked,c=[],u=this._cachedMeta.controller.getParsed(n),f=u&&u[i.axis],h=g=>{const v=g._parsed.find(_=>_[i.axis]===f),x=v&&v[g.vScale.axis];if(ct(x)||isNaN(x))return!0};for(const g of o)if(!(n!==void 0&&h(g))&&((a===!1||c.indexOf(g.stack)===-1||a===void 0&&g.stack===void 0)&&c.push(g.stack),g.index===e))break;return c.length||c.push(void 0),c}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(i=>e[i].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)e[qe(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,i){const o=this._getStacks(e,i),a=n!==void 0?o.indexOf(n):-1;return a===-1?o.length-1:a}_getRuler(){const e=this.options,n=this._cachedMeta,i=n.iScale,o=[];let a,c;for(a=0,c=n.data.length;a<c;++a)o.push(i.getPixelForValue(this.getParsed(a)[i.axis],a));const u=e.barThickness;return{min:u||A_(n),pixels:o,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:u?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:i,index:o},options:{base:a,minBarLength:c}}=this,u=a||0,f=this.getParsed(e),h=f._custom,g=Eu(h);let v=f[n.axis],x=0,_=i?this.applyStack(n,f,i):v,w,k;_!==v&&(x=_-v,_=v),g&&(v=h.barStart,_=h.barEnd-h.barStart,v!==0&&pi(v)!==pi(h.barEnd)&&(x=0),x+=v);const C=!ct(a)&&!g?a:x;let T=n.getPixelForValue(C);if(this.chart.getDataVisibility(e)?w=n.getPixelForValue(x+_):w=T,k=w-T,Math.abs(k)<c){k=z_(k,n,u)*c,v===u&&(T-=k/2);const M=n.getPixelForDecimal(0),B=n.getPixelForDecimal(1),A=Math.min(M,B),Y=Math.max(M,B);T=Math.max(Math.min(T,Y),A),w=T+k,i&&!g&&(f._stacks[n.axis]._visualValues[o]=n.getValueForPixel(w)-n.getValueForPixel(T))}if(T===n.getPixelForValue(u)){const M=pi(k)*n.getLineWidthForValue(u)/2;T+=M,k-=M}return{size:k,base:T,head:w,center:w+k/2}}_calculateBarIndexPixels(e,n){const i=n.scale,o=this.options,a=o.skipNull,c=qe(o.maxBarThickness,1/0);let u,f;const h=this._getAxisCount();if(n.grouped){const g=a?this._getStackCount(e):n.stackCount,v=o.barThickness==="flex"?F_(e,n,o,g*h):O_(e,n,o,g*h),x=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,_=this._getAxis().indexOf(qe(x,this.getFirstScaleIdForIndexAxis())),w=this._getStackIndex(this.index,this._cachedMeta.stack,a?e:void 0)+_;u=v.start+v.chunk*w+v.chunk/2,f=Math.min(c,v.chunk*v.ratio)}else u=i.getPixelForValue(this.getParsed(e)[i.axis],e),f=Math.min(c,n.min*n.ratio);return{base:u-f/2,head:u+f/2,center:u,size:f}}draw(){const e=this._cachedMeta,n=e.vScale,i=e.data,o=i.length;let a=0;for(;a<o;++a)this.getParsed(a)[n.axis]!==null&&!i[a].hidden&&i[a].draw(this._ctx)}}function W_(t,e,n){let i=1,o=1,a=0,c=0;if(e<Tt){const u=t,f=u+e,h=Math.cos(u),g=Math.sin(u),v=Math.cos(f),x=Math.sin(f),_=(B,A,Y)=>vl(B,u,f,!0)?1:Math.max(A,A*n,Y,Y*n),w=(B,A,Y)=>vl(B,u,f,!0)?-1:Math.min(A,A*n,Y,Y*n),k=_(0,h,v),C=_(Ot,g,x),T=w(pt,h,v),M=w(pt+Ot,g,x);i=(k-T)/2,o=(C-M)/2,a=-(k+T)/2,c=-(C+M)/2}return{ratioX:i,ratioY:o,offsetX:a,offsetY:c}}class K_ extends gd{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:o}}=e.legend.options;return n.labels.map((a,c)=>{const f=e.getDatasetMeta(0).controller.getStyle(c);return{text:a,fillStyle:f.backgroundColor,strokeStyle:f.borderColor,fontColor:o,lineWidth:f.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(c),index:c}})}return[]}},onClick(e,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}};constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const i=this.getDataset().data,o=this._cachedMeta;if(this._parsing===!1)o._parsed=i;else{let a=f=>+i[f];if(Ge(i[e])){const{key:f="value"}=this._parsing;a=h=>+Ki(i[h],f)}let c,u;for(c=e,u=e+n;c<u;++c)o._parsed[c]=a(c)}}_getRotation(){return Tr(this.options.rotation-90)}_getCircumference(){return Tr(this.options.circumference)}_getRotationExtents(){let e=Tt,n=-Tt;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const o=this.chart.getDatasetMeta(i).controller,a=o._getRotation(),c=o._getCircumference();e=Math.min(e,a),n=Math.max(n,a+c)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:i}=n,o=this._cachedMeta,a=o.data,c=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,u=Math.max((Math.min(i.width,i.height)-c)/2,0),f=Math.min(yb(this.options.cutout,u),1),h=this._getRingWeight(this.index),{circumference:g,rotation:v}=this._getRotationExtents(),{ratioX:x,ratioY:_,offsetX:w,offsetY:k}=W_(v,g,f),C=(i.width-c)/x,T=(i.height-c)/_,M=Math.max(Math.min(C,T)/2,0),B=xg(this.options.radius,M),A=Math.max(B*f,0),Y=(B-A)/this._getVisibleDatasetWeightTotal();this.offsetX=w*B,this.offsetY=k*B,o.total=this.calculateTotal(),this.outerRadius=B-Y*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-Y*h,0),this.updateElements(a,0,a.length,e)}_circumference(e,n){const i=this.options,o=this._cachedMeta,a=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||o._parsed[e]===null||o.data[e].hidden?0:this.calculateCircumference(o._parsed[e]*a/Tt)}updateElements(e,n,i,o){const a=o==="reset",c=this.chart,u=c.chartArea,h=c.options.animation,g=(u.left+u.right)/2,v=(u.top+u.bottom)/2,x=a&&h.animateScale,_=x?0:this.innerRadius,w=x?0:this.outerRadius,{sharedOptions:k,includeOptions:C}=this._getSharedOptions(n,o);let T=this._getRotation(),M;for(M=0;M<n;++M)T+=this._circumference(M,a);for(M=n;M<n+i;++M){const B=this._circumference(M,a),A=e[M],Y={x:g+this.offsetX,y:v+this.offsetY,startAngle:T,endAngle:T+B,circumference:B,outerRadius:w,innerRadius:_};C&&(Y.options=k||this.resolveDataElementOptions(M,A.active?"active":o)),T+=B,this.updateElement(A,M,Y,o)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let i=0,o;for(o=0;o<n.length;o++){const a=e._parsed[o];a!==null&&!isNaN(a)&&this.chart.getDataVisibility(o)&&!n[o].hidden&&(i+=Math.abs(a))}return i}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?Tt*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,o=i.data.labels||[],a=ad(n._parsed[e],i.options.locale);return{label:o[e]||"",value:a}}getMaxBorderWidth(e){let n=0;const i=this.chart;let o,a,c,u,f;if(!e){for(o=0,a=i.data.datasets.length;o<a;++o)if(i.isDatasetVisible(o)){c=i.getDatasetMeta(o),e=c.data,u=c.controller;break}}if(!e)return 0;for(o=0,a=e.length;o<a;++o)f=u.resolveDataElementOptions(o),f.borderAlign!=="inner"&&(n=Math.max(n,f.borderWidth||0,f.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let i=0,o=e.length;i<o;++i){const a=this.resolveDataElementOptions(i);n=Math.max(n,a.offset||0,a.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(e){return Math.max(qe(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class Y_ extends K_{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}function Fi(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class yd{static override(e){Object.assign(yd.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return Fi()}parse(){return Fi()}format(){return Fi()}add(){return Fi()}diff(){return Fi()}startOf(){return Fi()}endOf(){return Fi()}}var X_={_date:yd};function Q_(t,e,n,i){const{controller:o,data:a,_sorted:c}=t,u=o._cachedMeta.iScale,f=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(u&&e===u.axis&&e!=="r"&&c&&a.length){const h=u._reversePixels?Pb:zu;if(i){if(o._sharedOptions){const g=a[0],v=typeof g.getRange=="function"&&g.getRange(e);if(v){const x=h(a,e,n-v),_=h(a,e,n+v);return{lo:x.lo,hi:_.hi}}}}else{const g=h(a,e,n);if(f){const{vScale:v}=o._cachedMeta,{_parsed:x}=t,_=x.slice(0,g.lo+1).reverse().findIndex(k=>!ct(k[v.axis]));g.lo-=Math.max(0,_);const w=x.slice(g.hi).findIndex(k=>!ct(k[v.axis]));g.hi+=Math.max(0,w)}return g}}return{lo:0,hi:a.length-1}}function Pl(t,e,n,i,o){const a=t.getSortedVisibleDatasetMetas(),c=n[e];for(let u=0,f=a.length;u<f;++u){const{index:h,data:g}=a[u],{lo:v,hi:x}=Q_(a[u],e,c,o);for(let _=v;_<=x;++_){const w=g[_];w.skip||i(w,h,_)}}}function q_(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,o){const a=e?Math.abs(i.x-o.x):0,c=n?Math.abs(i.y-o.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(c,2))}}function Nu(t,e,n,i,o){const a=[];return!o&&!t.isPointInArea(e)||Pl(t,n,e,function(u,f,h){!o&&!Pg(u,t.chartArea,0)||u.inRange(e.x,e.y,i)&&a.push({element:u,datasetIndex:f,index:h})},!0),a}function G_(t,e,n,i){let o=[];function a(c,u,f){const{startAngle:h,endAngle:g}=c.getProps(["startAngle","endAngle"],i),{angle:v}=wg(c,{x:e.x,y:e.y});vl(v,h,g)&&o.push({element:c,datasetIndex:u,index:f})}return Pl(t,n,e,a),o}function Z_(t,e,n,i,o,a){let c=[];const u=q_(n);let f=Number.POSITIVE_INFINITY;function h(g,v,x){const _=g.inRange(e.x,e.y,o);if(i&&!_)return;const w=g.getCenterPoint(o);if(!(!!a||t.isPointInArea(w))&&!_)return;const C=u(e,w);C<f?(c=[{element:g,datasetIndex:v,index:x}],f=C):C===f&&c.push({element:g,datasetIndex:v,index:x})}return Pl(t,n,e,h),c}function ju(t,e,n,i,o,a){return!a&&!t.isPointInArea(e)?[]:n==="r"&&!i?G_(t,e,n,o):Z_(t,e,n,i,o,a)}function np(t,e,n,i,o){const a=[],c=n==="x"?"inXRange":"inYRange";let u=!1;return Pl(t,n,e,(f,h,g)=>{f[c]&&f[c](e[n],o)&&(a.push({element:f,datasetIndex:h,index:g}),u=u||f.inRange(e.x,e.y,o))}),i&&!u?[]:a}var J_={modes:{index(t,e,n,i){const o=Ii(e,t),a=n.axis||"x",c=n.includeInvisible||!1,u=n.intersect?Nu(t,o,a,i,c):ju(t,o,a,!1,i,c),f=[];return u.length?(t.getSortedVisibleDatasetMetas().forEach(h=>{const g=u[0].index,v=h.data[g];v&&!v.skip&&f.push({element:v,datasetIndex:h.index,index:g})}),f):[]},dataset(t,e,n,i){const o=Ii(e,t),a=n.axis||"xy",c=n.includeInvisible||!1;let u=n.intersect?Nu(t,o,a,i,c):ju(t,o,a,!1,i,c);if(u.length>0){const f=u[0].datasetIndex,h=t.getDatasetMeta(f).data;u=[];for(let g=0;g<h.length;++g)u.push({element:h[g],datasetIndex:f,index:g})}return u},point(t,e,n,i){const o=Ii(e,t),a=n.axis||"xy",c=n.includeInvisible||!1;return Nu(t,o,a,i,c)},nearest(t,e,n,i){const o=Ii(e,t),a=n.axis||"xy",c=n.includeInvisible||!1;return ju(t,o,a,n.intersect,i,c)},x(t,e,n,i){const o=Ii(e,t);return np(t,o,"x",n.intersect,i)},y(t,e,n,i){const o=Ii(e,t);return np(t,o,"y",n.intersect,i)}}};const $g=["left","top","right","bottom"];function xo(t,e){return t.filter(n=>n.pos===e)}function rp(t,e){return t.filter(n=>$g.indexOf(n.pos)===-1&&n.box.axis===e)}function bo(t,e){return t.sort((n,i)=>{const o=e?i:n,a=e?n:i;return o.weight===a.weight?o.index-a.index:o.weight-a.weight})}function ew(t){const e=[];let n,i,o,a,c,u;for(n=0,i=(t||[]).length;n<i;++n)o=t[n],{position:a,options:{stack:c,stackWeight:u=1}}=o,e.push({index:n,box:o,pos:a,horizontal:o.isHorizontal(),weight:o.weight,stack:c&&a+c,stackWeight:u});return e}function tw(t){const e={};for(const n of t){const{stack:i,pos:o,stackWeight:a}=n;if(!i||!$g.includes(o))continue;const c=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=a}return e}function nw(t,e){const n=tw(t),{vBoxMaxWidth:i,hBoxMaxHeight:o}=e;let a,c,u;for(a=0,c=t.length;a<c;++a){u=t[a];const{fullSize:f}=u.box,h=n[u.stack],g=h&&u.stackWeight/h.weight;u.horizontal?(u.width=g?g*i:f&&e.availableWidth,u.height=o):(u.width=i,u.height=g?g*o:f&&e.availableHeight)}return n}function rw(t){const e=ew(t),n=bo(e.filter(h=>h.box.fullSize),!0),i=bo(xo(e,"left"),!0),o=bo(xo(e,"right")),a=bo(xo(e,"top"),!0),c=bo(xo(e,"bottom")),u=rp(e,"x"),f=rp(e,"y");return{fullSize:n,leftAndTop:i.concat(a),rightAndBottom:o.concat(f).concat(c).concat(u),chartArea:xo(e,"chartArea"),vertical:i.concat(o).concat(f),horizontal:a.concat(c).concat(u)}}function ip(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function Hg(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function iw(t,e,n,i){const{pos:o,box:a}=n,c=t.maxPadding;if(!Ge(o)){n.size&&(t[o]-=n.size);const v=i[n.stack]||{size:0,count:1};v.size=Math.max(v.size,n.horizontal?a.height:a.width),n.size=v.size/v.count,t[o]+=n.size}a.getPadding&&Hg(c,a.getPadding());const u=Math.max(0,e.outerWidth-ip(c,t,"left","right")),f=Math.max(0,e.outerHeight-ip(c,t,"top","bottom")),h=u!==t.w,g=f!==t.h;return t.w=u,t.h=f,n.horizontal?{same:h,other:g}:{same:g,other:h}}function sw(t){const e=t.maxPadding;function n(i){const o=Math.max(e[i]-t[i],0);return t[i]+=o,o}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function ow(t,e){const n=e.maxPadding;function i(o){const a={left:0,top:0,right:0,bottom:0};return o.forEach(c=>{a[c]=Math.max(e[c],n[c])}),a}return i(t?["left","right"]:["top","bottom"])}function Co(t,e,n,i){const o=[];let a,c,u,f,h,g;for(a=0,c=t.length,h=0;a<c;++a){u=t[a],f=u.box,f.update(u.width||e.w,u.height||e.h,ow(u.horizontal,e));const{same:v,other:x}=iw(e,n,u,i);h|=v&&o.length,g=g||x,f.fullSize||o.push(u)}return h&&Co(o,e,n,i)||g}function Qa(t,e,n,i,o){t.top=n,t.left=e,t.right=e+i,t.bottom=n+o,t.width=i,t.height=o}function sp(t,e,n,i){const o=n.padding;let{x:a,y:c}=e;for(const u of t){const f=u.box,h=i[u.stack]||{placed:0,weight:1},g=u.stackWeight/h.weight||1;if(u.horizontal){const v=e.w*g,x=h.size||f.height;Ao(h.start)&&(c=h.start),f.fullSize?Qa(f,o.left,c,n.outerWidth-o.right-o.left,x):Qa(f,e.left+h.placed,c,v,x),h.start=c,h.placed+=v,c=f.bottom}else{const v=e.h*g,x=h.size||f.width;Ao(h.start)&&(a=h.start),f.fullSize?Qa(f,a,o.top,x,n.outerHeight-o.bottom-o.top):Qa(f,a,e.top+h.placed,x,v),h.start=a,h.placed+=v,a=f.right}}e.x=a,e.y=c}var fi={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const o=nr(t.options.layout.padding),a=Math.max(e-o.width,0),c=Math.max(n-o.height,0),u=rw(t.boxes),f=u.vertical,h=u.horizontal;at(t.boxes,k=>{typeof k.beforeLayout=="function"&&k.beforeLayout()});const g=f.reduce((k,C)=>C.box.options&&C.box.options.display===!1?k:k+1,0)||1,v=Object.freeze({outerWidth:e,outerHeight:n,padding:o,availableWidth:a,availableHeight:c,vBoxMaxWidth:a/2/g,hBoxMaxHeight:c/2}),x=Object.assign({},o);Hg(x,nr(i));const _=Object.assign({maxPadding:x,w:a,h:c,x:o.left,y:o.top},o),w=nw(f.concat(h),v);Co(u.fullSize,_,v,w),Co(f,_,v,w),Co(h,_,v,w)&&Co(f,_,v,w),sw(_),sp(u.leftAndTop,_,v,w),_.x+=_.w,_.y+=_.h,sp(u.rightAndBottom,_,v,w),t.chartArea={left:_.left,top:_.top,right:_.left+_.w,bottom:_.top+_.h,height:_.h,width:_.w},at(u.chartArea,k=>{const C=k.box;Object.assign(C,t.chartArea),C.update(_.w,_.h,{left:0,top:0,right:0,bottom:0})})}};class Vg{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,o){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,o?Math.floor(n/o):i)}}isAttached(e){return!0}updateConfig(e){}}class aw extends Vg{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const sl="$chartjs",lw={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},op=t=>t===null||t==="";function cw(t,e){const n=t.style,i=t.getAttribute("height"),o=t.getAttribute("width");if(t[sl]={initial:{height:i,width:o,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",op(o)){const a=Km(t,"width");a!==void 0&&(t.width=a)}if(op(i))if(t.style.height==="")t.height=t.width/(e||2);else{const a=Km(t,"height");a!==void 0&&(t.height=a)}return t}const Wg=p_?{passive:!0}:!1;function uw(t,e,n){t&&t.addEventListener(e,n,Wg)}function dw(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,Wg)}function fw(t,e){const n=lw[t.type]||t.type,{x:i,y:o}=Ii(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:o!==void 0?o:null}}function wl(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function hw(t,e,n){const i=t.canvas,o=new MutationObserver(a=>{let c=!1;for(const u of a)c=c||wl(u.addedNodes,i),c=c&&!wl(u.removedNodes,i);c&&n()});return o.observe(document,{childList:!0,subtree:!0}),o}function mw(t,e,n){const i=t.canvas,o=new MutationObserver(a=>{let c=!1;for(const u of a)c=c||wl(u.removedNodes,i),c=c&&!wl(u.addedNodes,i);c&&n()});return o.observe(document,{childList:!0,subtree:!0}),o}const Oo=new Map;let ap=0;function Kg(){const t=window.devicePixelRatio;t!==ap&&(ap=t,Oo.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function pw(t,e){Oo.size||window.addEventListener("resize",Kg),Oo.set(t,e)}function gw(t){Oo.delete(t),Oo.size||window.removeEventListener("resize",Kg)}function yw(t,e,n){const i=t.canvas,o=i&&pd(i);if(!o)return;const a=Eg((u,f)=>{const h=o.clientWidth;n(u,f),h<o.clientWidth&&n()},window),c=new ResizeObserver(u=>{const f=u[0],h=f.contentRect.width,g=f.contentRect.height;h===0&&g===0||a(h,g)});return c.observe(o),pw(t,a),c}function Mu(t,e,n){n&&n.disconnect(),e==="resize"&&gw(t)}function vw(t,e,n){const i=t.canvas,o=Eg(a=>{t.ctx!==null&&n(fw(a,t))},t);return uw(i,e,o),o}class xw extends Vg{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(cw(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[sl])return!1;const i=n[sl].initial;["height","width"].forEach(a=>{const c=i[a];ct(c)?n.removeAttribute(a):n.setAttribute(a,c)});const o=i.style||{};return Object.keys(o).forEach(a=>{n.style[a]=o[a]}),n.width=n.width,delete n[sl],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const o=e.$proxies||(e.$proxies={}),c={attach:hw,detach:mw,resize:yw}[n]||vw;o[n]=c(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),o=i[n];if(!o)return;({attach:Mu,detach:Mu,resize:Mu}[n]||dw)(e,n,o),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,o){return m_(e,n,i,o)}isAttached(e){const n=e&&pd(e);return!!(n&&n.isConnected)}}function bw(t){return!md()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?aw:xw}class Ts{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return yl(this.x)&&yl(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const o={};return e.forEach(a=>{o[a]=i[a]&&i[a].active()?i[a]._to:this[a]}),o}}function _w(t,e){const n=t.options.ticks,i=ww(t),o=Math.min(n.maxTicksLimit||i,i),a=n.major.enabled?kw(e):[],c=a.length,u=a[0],f=a[c-1],h=[];if(c>o)return Cw(e,h,a,c/o),h;const g=Sw(a,e,o);if(c>0){let v,x;const _=c>1?Math.round((f-u)/(c-1)):null;for(qa(e,h,g,ct(_)?0:u-_,u),v=0,x=c-1;v<x;v++)qa(e,h,g,a[v],a[v+1]);return qa(e,h,g,f,ct(_)?e.length:f+_),h}return qa(e,h,g),h}function ww(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),o=t._maxLength/n;return Math.floor(Math.min(i,o))}function Sw(t,e,n){const i=Ew(t),o=e.length/n;if(!i)return Math.max(o,1);const a=kb(i);for(let c=0,u=a.length-1;c<u;c++){const f=a[c];if(f>o)return f}return Math.max(o,1)}function kw(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function Cw(t,e,n,i){let o=0,a=n[0],c;for(i=Math.ceil(i),c=0;c<t.length;c++)c===a&&(e.push(t[c]),o++,a=n[o*i])}function qa(t,e,n,i,o){const a=qe(i,0),c=Math.min(qe(o,t.length),t.length);let u=0,f,h,g;for(n=Math.ceil(n),o&&(f=o-i,n=f/Math.floor(f/n)),g=a;g<0;)u++,g=Math.round(a+u*n);for(h=Math.max(a,0);h<c;h++)h===g&&(e.push(t[h]),u++,g=Math.round(a+u*n))}function Ew(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const Nw=t=>t==="left"?"right":t==="right"?"left":t,lp=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,cp=(t,e)=>Math.min(e||t,t);function up(t,e){const n=[],i=t.length/e,o=t.length;let a=0;for(;a<o;a+=i)n.push(t[Math.floor(a)]);return n}function jw(t,e,n){const i=t.ticks.length,o=Math.min(e,i-1),a=t._startPixel,c=t._endPixel,u=1e-6;let f=t.getPixelForTick(o),h;if(!(n&&(i===1?h=Math.max(f-a,c-f):e===0?h=(t.getPixelForTick(1)-f)/2:h=(f-t.getPixelForTick(o-1))/2,f+=o<e?h:-h,f<a-u||f>c+u)))return f}function Mw(t,e){at(t,n=>{const i=n.gc,o=i.length/2;let a;if(o>e){for(a=0;a<o;++a)delete n.data[i[a]];i.splice(0,o)}})}function _o(t){return t.drawTicks?t.tickLength:0}function dp(t,e){if(!t.display)return 0;const n=_n(t.font,e),i=nr(t.padding);return(Vt(t.text)?t.text.length:1)*n.lineHeight+i.height}function Rw(t,e){return Ps(t,{scale:e,type:"scale"})}function Pw(t,e,n){return Ps(t,{tick:n,index:e,type:"tick"})}function Tw(t,e,n){let i=Ng(t);return(n&&e!=="right"||!n&&e==="right")&&(i=Nw(i)),i}function Dw(t,e,n,i){const{top:o,left:a,bottom:c,right:u,chart:f}=t,{chartArea:h,scales:g}=f;let v=0,x,_,w;const k=c-o,C=u-a;if(t.isHorizontal()){if(_=Mn(i,a,u),Ge(n)){const T=Object.keys(n)[0],M=n[T];w=g[T].getPixelForValue(M)+k-e}else n==="center"?w=(h.bottom+h.top)/2+k-e:w=lp(t,n,e);x=u-a}else{if(Ge(n)){const T=Object.keys(n)[0],M=n[T];_=g[T].getPixelForValue(M)-C+e}else n==="center"?_=(h.left+h.right)/2-C+e:_=lp(t,n,e);w=Mn(i,c,o),v=n==="left"?-Ot:Ot}return{titleX:_,titleY:w,maxWidth:x,rotation:v}}class Ds extends Ts{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:o}=this;return e=dr(e,Number.POSITIVE_INFINITY),n=dr(n,Number.NEGATIVE_INFINITY),i=dr(i,Number.POSITIVE_INFINITY),o=dr(o,Number.NEGATIVE_INFINITY),{min:dr(e,i),max:dr(n,o),minDefined:Hn(e),maxDefined:Hn(n)}}getMinMax(e){let{min:n,max:i,minDefined:o,maxDefined:a}=this.getUserBounds(),c;if(o&&a)return{min:n,max:i};const u=this.getMatchingVisibleMetas();for(let f=0,h=u.length;f<h;++f)c=u[f].controller.getMinMax(this,e),o||(n=Math.min(n,c.min)),a||(i=Math.max(i,c.max));return n=a&&n>i?i:n,i=o&&n>i?n:i,{min:dr(n,dr(i,n)),max:dr(i,dr(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){mt(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:o,grace:a,ticks:c}=this.options,u=c.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Jb(this,a,o),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=u<this.ticks.length;this._convertTicksToLabels(f?up(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=_w(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){mt(this.options.afterUpdate,[this])}beforeSetDimensions(){mt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){mt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),mt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){mt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,o,a;for(i=0,o=e.length;i<o;i++)a=e[i],a.label=mt(n.callback,[a.value,i,e],this)}afterTickToLabelConversion(){mt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){mt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=cp(this.ticks.length,e.ticks.maxTicksLimit),o=n.minRotation||0,a=n.maxRotation;let c=o,u,f,h;if(!this._isVisible()||!n.display||o>=a||i<=1||!this.isHorizontal()){this.labelRotation=o;return}const g=this._getLabelSizes(),v=g.widest.width,x=g.highest.height,_=bn(this.chart.width-v,0,this.maxWidth);u=e.offset?this.maxWidth/i:_/(i-1),v+6>u&&(u=_/(i-(e.offset?.5:1)),f=this.maxHeight-_o(e.grid)-n.padding-dp(e.title,this.chart.options.font),h=Math.sqrt(v*v+x*x),c=jb(Math.min(Math.asin(bn((g.highest.height+6)/u,-1,1)),Math.asin(bn(f/h,-1,1))-Math.asin(bn(x/h,-1,1)))),c=Math.max(o,Math.min(a,c))),this.labelRotation=c}afterCalculateLabelRotation(){mt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){mt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:o,grid:a}}=this,c=this._isVisible(),u=this.isHorizontal();if(c){const f=dp(o,n.options.font);if(u?(e.width=this.maxWidth,e.height=_o(a)+f):(e.height=this.maxHeight,e.width=_o(a)+f),i.display&&this.ticks.length){const{first:h,last:g,widest:v,highest:x}=this._getLabelSizes(),_=i.padding*2,w=Tr(this.labelRotation),k=Math.cos(w),C=Math.sin(w);if(u){const T=i.mirror?0:C*v.width+k*x.height;e.height=Math.min(this.maxHeight,e.height+T+_)}else{const T=i.mirror?0:k*v.width+C*x.height;e.width=Math.min(this.maxWidth,e.width+T+_)}this._calculatePadding(h,g,C,k)}}this._handleMargins(),u?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,o){const{ticks:{align:a,padding:c},position:u}=this.options,f=this.labelRotation!==0,h=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const g=this.getPixelForTick(0)-this.left,v=this.right-this.getPixelForTick(this.ticks.length-1);let x=0,_=0;f?h?(x=o*e.width,_=i*n.height):(x=i*e.height,_=o*n.width):a==="start"?_=n.width:a==="end"?x=e.width:a!=="inner"&&(x=e.width/2,_=n.width/2),this.paddingLeft=Math.max((x-g+c)*this.width/(this.width-g),0),this.paddingRight=Math.max((_-v+c)*this.width/(this.width-v),0)}else{let g=n.height/2,v=e.height/2;a==="start"?(g=0,v=e.height):a==="end"&&(g=n.height,v=0),this.paddingTop=g+c,this.paddingBottom=v+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){mt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)ct(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=up(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){const{ctx:o,_longestTextCache:a}=this,c=[],u=[],f=Math.floor(n/cp(n,i));let h=0,g=0,v,x,_,w,k,C,T,M,B,A,Y;for(v=0;v<n;v+=f){if(w=e[v].label,k=this._resolveTickFontOptions(v),o.font=C=k.string,T=a[C]=a[C]||{data:{},gc:[]},M=k.lineHeight,B=A=0,!ct(w)&&!Vt(w))B=Um(o,T.data,T.gc,B,w),A=M;else if(Vt(w))for(x=0,_=w.length;x<_;++x)Y=w[x],!ct(Y)&&!Vt(Y)&&(B=Um(o,T.data,T.gc,B,Y),A+=M);c.push(B),u.push(A),h=Math.max(B,h),g=Math.max(A,g)}Mw(a,n);const ee=c.indexOf(h),R=u.indexOf(g),O=K=>({width:c[K]||0,height:u[K]||0});return{first:O(0),last:O(n-1),widest:O(ee),highest:O(R),widths:c,heights:u}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return Rb(this._alignToPixels?Oi(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=Pw(this.getContext(),e,i))}return this.$context||(this.$context=Rw(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Tr(this.labelRotation),i=Math.abs(Math.cos(n)),o=Math.abs(Math.sin(n)),a=this._getLabelSizes(),c=e.autoSkipPadding||0,u=a?a.widest.width+c:0,f=a?a.highest.height+c:0;return this.isHorizontal()?f*i>u*o?u/i:f/o:f*o<u*i?f/i:u/o}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,o=this.options,{grid:a,position:c,border:u}=o,f=a.offset,h=this.isHorizontal(),v=this.ticks.length+(f?1:0),x=_o(a),_=[],w=u.setContext(this.getContext()),k=w.display?w.width:0,C=k/2,T=function(me){return Oi(i,me,k)};let M,B,A,Y,ee,R,O,K,X,U,G,oe;if(c==="top")M=T(this.bottom),R=this.bottom-x,K=M-C,U=T(e.top)+C,oe=e.bottom;else if(c==="bottom")M=T(this.top),U=e.top,oe=T(e.bottom)-C,R=M+C,K=this.top+x;else if(c==="left")M=T(this.right),ee=this.right-x,O=M-C,X=T(e.left)+C,G=e.right;else if(c==="right")M=T(this.left),X=e.left,G=T(e.right)-C,ee=M+C,O=this.left+x;else if(n==="x"){if(c==="center")M=T((e.top+e.bottom)/2+.5);else if(Ge(c)){const me=Object.keys(c)[0],J=c[me];M=T(this.chart.scales[me].getPixelForValue(J))}U=e.top,oe=e.bottom,R=M+C,K=R+x}else if(n==="y"){if(c==="center")M=T((e.left+e.right)/2);else if(Ge(c)){const me=Object.keys(c)[0],J=c[me];M=T(this.chart.scales[me].getPixelForValue(J))}ee=M-C,O=ee-x,X=e.left,G=e.right}const de=qe(o.ticks.maxTicksLimit,v),fe=Math.max(1,Math.ceil(v/de));for(B=0;B<v;B+=fe){const me=this.getContext(B),J=a.setContext(me),H=u.setContext(me),Z=J.lineWidth,F=J.color,N=H.dash||[],z=H.dashOffset,se=J.tickWidth,pe=J.tickColor,ye=J.tickBorderDash||[],ue=J.tickBorderDashOffset;A=jw(this,B,f),A!==void 0&&(Y=Oi(i,A,Z),h?ee=O=X=G=Y:R=K=U=oe=Y,_.push({tx1:ee,ty1:R,tx2:O,ty2:K,x1:X,y1:U,x2:G,y2:oe,width:Z,color:F,borderDash:N,borderDashOffset:z,tickWidth:se,tickColor:pe,tickBorderDash:ye,tickBorderDashOffset:ue}))}return this._ticksLength=v,this._borderValue=M,_}_computeLabelItems(e){const n=this.axis,i=this.options,{position:o,ticks:a}=i,c=this.isHorizontal(),u=this.ticks,{align:f,crossAlign:h,padding:g,mirror:v}=a,x=_o(i.grid),_=x+g,w=v?-g:_,k=-Tr(this.labelRotation),C=[];let T,M,B,A,Y,ee,R,O,K,X,U,G,oe="middle";if(o==="top")ee=this.bottom-w,R=this._getXAxisLabelAlignment();else if(o==="bottom")ee=this.top+w,R=this._getXAxisLabelAlignment();else if(o==="left"){const fe=this._getYAxisLabelAlignment(x);R=fe.textAlign,Y=fe.x}else if(o==="right"){const fe=this._getYAxisLabelAlignment(x);R=fe.textAlign,Y=fe.x}else if(n==="x"){if(o==="center")ee=(e.top+e.bottom)/2+_;else if(Ge(o)){const fe=Object.keys(o)[0],me=o[fe];ee=this.chart.scales[fe].getPixelForValue(me)+_}R=this._getXAxisLabelAlignment()}else if(n==="y"){if(o==="center")Y=(e.left+e.right)/2-_;else if(Ge(o)){const fe=Object.keys(o)[0],me=o[fe];Y=this.chart.scales[fe].getPixelForValue(me)}R=this._getYAxisLabelAlignment(x).textAlign}n==="y"&&(f==="start"?oe="top":f==="end"&&(oe="bottom"));const de=this._getLabelSizes();for(T=0,M=u.length;T<M;++T){B=u[T],A=B.label;const fe=a.setContext(this.getContext(T));O=this.getPixelForTick(T)+a.labelOffset,K=this._resolveTickFontOptions(T),X=K.lineHeight,U=Vt(A)?A.length:1;const me=U/2,J=fe.color,H=fe.textStrokeColor,Z=fe.textStrokeWidth;let F=R;c?(Y=O,R==="inner"&&(T===M-1?F=this.options.reverse?"left":"right":T===0?F=this.options.reverse?"right":"left":F="center"),o==="top"?h==="near"||k!==0?G=-U*X+X/2:h==="center"?G=-de.highest.height/2-me*X+X:G=-de.highest.height+X/2:h==="near"||k!==0?G=X/2:h==="center"?G=de.highest.height/2-me*X:G=de.highest.height-U*X,v&&(G*=-1),k!==0&&!fe.showLabelBackdrop&&(Y+=X/2*Math.sin(k))):(ee=O,G=(1-U)*X/2);let N;if(fe.showLabelBackdrop){const z=nr(fe.backdropPadding),se=de.heights[T],pe=de.widths[T];let ye=G-z.top,ue=0-z.left;switch(oe){case"middle":ye-=se/2;break;case"bottom":ye-=se;break}switch(R){case"center":ue-=pe/2;break;case"right":ue-=pe;break;case"inner":T===M-1?ue-=pe:T>0&&(ue-=pe/2);break}N={left:ue,top:ye,width:pe+z.width,height:se+z.height,color:fe.backdropColor}}C.push({label:A,font:K,textOffset:G,options:{rotation:k,color:J,strokeColor:H,strokeWidth:Z,textAlign:F,textBaseline:oe,translation:[Y,ee],backdrop:N}})}return C}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Tr(this.labelRotation))return e==="top"?"left":"right";let o="center";return n.align==="start"?o="left":n.align==="end"?o="right":n.align==="inner"&&(o="inner"),o}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:o,padding:a}}=this.options,c=this._getLabelSizes(),u=e+a,f=c.widest.width;let h,g;return n==="left"?o?(g=this.right+a,i==="near"?h="left":i==="center"?(h="center",g+=f/2):(h="right",g+=f)):(g=this.right-u,i==="near"?h="right":i==="center"?(h="center",g-=f/2):(h="left",g=this.left)):n==="right"?o?(g=this.left+a,i==="near"?h="right":i==="center"?(h="center",g-=f/2):(h="left",g-=f)):(g=this.left+u,i==="near"?h="left":i==="center"?(h="center",g+=f/2):(h="right",g=this.right)):h="right",{textAlign:h,x:g}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:o,width:a,height:c}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,o,a,c),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const o=this.ticks.findIndex(a=>a.value===e);return o>=0?n.setContext(this.getContext(o)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,o=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let a,c;const u=(f,h,g)=>{!g.width||!g.color||(i.save(),i.lineWidth=g.width,i.strokeStyle=g.color,i.setLineDash(g.borderDash||[]),i.lineDashOffset=g.borderDashOffset,i.beginPath(),i.moveTo(f.x,f.y),i.lineTo(h.x,h.y),i.stroke(),i.restore())};if(n.display)for(a=0,c=o.length;a<c;++a){const f=o[a];n.drawOnChartArea&&u({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),n.drawTicks&&u({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:i,grid:o}}=this,a=i.setContext(this.getContext()),c=i.display?a.width:0;if(!c)return;const u=o.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let h,g,v,x;this.isHorizontal()?(h=Oi(e,this.left,c)-c/2,g=Oi(e,this.right,u)+u/2,v=x=f):(v=Oi(e,this.top,c)-c/2,x=Oi(e,this.bottom,u)+u/2,h=g=f),n.save(),n.lineWidth=a.width,n.strokeStyle=a.color,n.beginPath(),n.moveTo(h,v),n.lineTo(g,x),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,o=this._computeLabelArea();o&&ld(i,o);const a=this.getLabelItems(e);for(const c of a){const u=c.options,f=c.font,h=c.label,g=c.textOffset;xl(i,h,0,g,f,u)}o&&cd(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:o}}=this;if(!i.display)return;const a=_n(i.font),c=nr(i.padding),u=i.align;let f=a.lineHeight/2;n==="bottom"||n==="center"||Ge(n)?(f+=c.bottom,Vt(i.text)&&(f+=a.lineHeight*(i.text.length-1))):f+=c.top;const{titleX:h,titleY:g,maxWidth:v,rotation:x}=Dw(this,f,n,u);xl(e,i.text,0,0,a,{color:i.color,maxWidth:v,rotation:x,textAlign:Tw(u,n,o),textBaseline:"middle",translation:[h,g]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=qe(e.grid&&e.grid.z,-1),o=qe(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Ds.prototype.draw?[{z:n,draw:a=>{this.draw(a)}}]:[{z:i,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:o,draw:()=>{this.drawBorder()}},{z:n,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",o=[];let a,c;for(a=0,c=n.length;a<c;++a){const u=n[a];u[i]===this.id&&(!e||u.type===e)&&o.push(u)}return o}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return _n(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Ga{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;Ow(n)&&(i=this.register(n));const o=this.items,a=e.id,c=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+e);return a in o||(o[a]=e,Lw(e,c,i),this.override&&jt.override(e.id,e.overrides)),c}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,o=this.scope;i in n&&delete n[i],o&&i in jt[o]&&(delete jt[o][i],this.override&&delete Yi[i])}}function Lw(t,e,n){const i=Lo(Object.create(null),[n?jt.get(n):{},jt.get(e),t.defaults]);jt.set(e,i),t.defaultRoutes&&Aw(e,t.defaultRoutes),t.descriptors&&jt.describe(e,t.descriptors)}function Aw(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),o=i.pop(),a=[t].concat(i).join("."),c=e[n].split("."),u=c.pop(),f=c.join(".");jt.route(a,o,f,u)})}function Ow(t){return"id"in t&&"defaults"in t}class Fw{constructor(){this.controllers=new Ga(gd,"datasets",!0),this.elements=new Ga(Ts,"elements"),this.plugins=new Ga(Object,"plugins"),this.scales=new Ga(Ds,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(o=>{const a=i||this._getRegistryForType(o);i||a.isForType(o)||a===this.plugins&&o.id?this._exec(e,a,o):at(o,c=>{const u=i||this._getRegistryForType(c);this._exec(e,u,c)})})}_exec(e,n,i){const o=sd(e);mt(i["before"+o],[],i),n[e](i),mt(i["after"+o],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const o=n.get(e);if(o===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return o}}var hr=new Fw;class Iw{constructor(){this._init=[]}notify(e,n,i,o){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const a=o?this._descriptors(e).filter(o):this._descriptors(e),c=this._notify(a,e,n,i);return n==="afterDestroy"&&(this._notify(a,e,"stop"),this._notify(this._init,e,"uninstall")),c}_notify(e,n,i,o){o=o||{};for(const a of e){const c=a.plugin,u=c[i],f=[n,o,a.options];if(mt(u,f,c)===!1&&o.cancelable)return!1}return!0}invalidate(){ct(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,o=qe(i.options&&i.options.plugins,{}),a=zw(i);return o===!1&&!n?[]:Bw(e,a,o,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,o=(a,c)=>a.filter(u=>!c.some(f=>u.plugin.id===f.plugin.id));this._notify(o(n,i),e,"stop"),this._notify(o(i,n),e,"start")}}function zw(t){const e={},n=[],i=Object.keys(hr.plugins.items);for(let a=0;a<i.length;a++)n.push(hr.getPlugin(i[a]));const o=t.plugins||[];for(let a=0;a<o.length;a++){const c=o[a];n.indexOf(c)===-1&&(n.push(c),e[c.id]=!0)}return{plugins:n,localIds:e}}function Uw(t,e){return!e&&t===!1?null:t===!0?{}:t}function Bw(t,{plugins:e,localIds:n},i,o){const a=[],c=t.getContext();for(const u of e){const f=u.id,h=Uw(i[f],o);h!==null&&a.push({plugin:u,options:$w(t.config,{plugin:u,local:n[f]},h,c)})}return a}function $w(t,{plugin:e,local:n},i,o){const a=t.pluginScopeKeys(e),c=t.getOptionScopes(i,a);return n&&e.defaults&&c.push(e.defaults),t.createResolver(c,o,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Bu(t,e){const n=jt.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function Hw(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function Vw(t,e){return t===e?"_index_":"_value_"}function fp(t){if(t==="x"||t==="y"||t==="r")return t}function Ww(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function $u(t,...e){if(fp(t))return t;for(const n of e){const i=n.axis||Ww(n.position)||t.length>1&&fp(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function hp(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function Kw(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return hp(t,"x",n[0])||hp(t,"y",n[0])}return{}}function Yw(t,e){const n=Yi[t.type]||{scales:{}},i=e.scales||{},o=Bu(t.type,e),a=Object.create(null);return Object.keys(i).forEach(c=>{const u=i[c];if(!Ge(u))return console.error(`Invalid scale configuration for scale: ${c}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const f=$u(c,u,Kw(c,t),jt.scales[u.type]),h=Vw(f,o),g=n.scales||{};a[c]=No(Object.create(null),[{axis:f},u,g[f],g[h]])}),t.data.datasets.forEach(c=>{const u=c.type||t.type,f=c.indexAxis||Bu(u,e),g=(Yi[u]||{}).scales||{};Object.keys(g).forEach(v=>{const x=Hw(v,f),_=c[x+"AxisID"]||x;a[_]=a[_]||Object.create(null),No(a[_],[{axis:x},i[_],g[v]])})}),Object.keys(a).forEach(c=>{const u=a[c];No(u,[jt.scales[u.type],jt.scale])}),a}function Yg(t){const e=t.options||(t.options={});e.plugins=qe(e.plugins,{}),e.scales=Yw(t,e)}function Xg(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function Xw(t){return t=t||{},t.data=Xg(t.data),Yg(t),t}const mp=new Map,Qg=new Set;function Za(t,e){let n=mp.get(t);return n||(n=e(),mp.set(t,n),Qg.add(n)),n}const wo=(t,e,n)=>{const i=Ki(e,n);i!==void 0&&t.add(i)};class Qw{constructor(e){this._config=Xw(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Xg(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Yg(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Za(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Za(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Za(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return Za(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let o=i.get(e);return(!o||n)&&(o=new Map,i.set(e,o)),o}getOptionScopes(e,n,i){const{options:o,type:a}=this,c=this._cachedScopes(e,i),u=c.get(n);if(u)return u;const f=new Set;n.forEach(g=>{e&&(f.add(e),g.forEach(v=>wo(f,e,v))),g.forEach(v=>wo(f,o,v)),g.forEach(v=>wo(f,Yi[a]||{},v)),g.forEach(v=>wo(f,jt,v)),g.forEach(v=>wo(f,Uu,v))});const h=Array.from(f);return h.length===0&&h.push(Object.create(null)),Qg.has(n)&&c.set(n,h),h}chartOptionScopes(){const{options:e,type:n}=this;return[e,Yi[n]||{},jt.datasets[n]||{},{type:n},jt,Uu]}resolveNamedOptions(e,n,i,o=[""]){const a={$shared:!0},{resolver:c,subPrefixes:u}=pp(this._resolverCache,e,o);let f=c;if(Gw(c,n)){a.$shared=!1,i=gi(i)?i():i;const h=this.createResolver(e,i,u);f=Es(c,i,h)}for(const h of n)a[h]=f[h];return a}createResolver(e,n,i=[""],o){const{resolver:a}=pp(this._resolverCache,e,i);return Ge(n)?Es(a,n,void 0,o):a}}function pp(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const o=n.join();let a=i.get(o);return a||(a={resolver:dd(e,n),subPrefixes:n.filter(u=>!u.toLowerCase().includes("hover"))},i.set(o,a)),a}const qw=t=>Ge(t)&&Object.getOwnPropertyNames(t).some(e=>gi(t[e]));function Gw(t,e){const{isScriptable:n,isIndexable:i}=Dg(t);for(const o of e){const a=n(o),c=i(o),u=(c||a)&&t[o];if(a&&(gi(u)||qw(u))||c&&Vt(u))return!0}return!1}var Zw="4.5.0";const Jw=["top","bottom","left","right","chartArea"];function gp(t,e){return t==="top"||t==="bottom"||Jw.indexOf(t)===-1&&e==="x"}function yp(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function vp(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),mt(n&&n.onComplete,[t],e)}function eS(t){const e=t.chart,n=e.options.animation;mt(n&&n.onProgress,[t],e)}function qg(t){return md()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const ol={},xp=t=>{const e=qg(t);return Object.values(ol).filter(n=>n.canvas===e).pop()};function tS(t,e,n){const i=Object.keys(t);for(const o of i){const a=+o;if(a>=e){const c=t[o];delete t[o],(n>0||a>e)&&(t[a+n]=c)}}}function nS(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}let Tl=class{static defaults=jt;static instances=ol;static overrides=Yi;static registry=hr;static version=Zw;static getChart=xp;static register(...e){hr.add(...e),bp()}static unregister(...e){hr.remove(...e),bp()}constructor(e,n){const i=this.config=new Qw(n),o=qg(e),a=xp(o);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const c=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||bw(o)),this.platform.updateConfig(i);const u=this.platform.acquireContext(o,c.aspectRatio),f=u&&u.canvas,h=f&&f.height,g=f&&f.width;if(this.id=gb(),this.ctx=u,this.canvas=f,this.width=g,this.height=h,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Iw,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Lb(v=>this.update(v),c.resizeDelay||0),this._dataChanges=[],ol[this.id]=this,!u||!f){console.error("Failed to create chart: can't acquire context from the given item");return}Mr.listen(this,"complete",vp),Mr.listen(this,"progress",eS),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:o,_aspectRatio:a}=this;return ct(e)?n&&a?a:o?i/o:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return hr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Wm(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Bm(this.canvas,this.ctx),this}stop(){return Mr.stop(this),this}resize(e,n){Mr.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,o=this.canvas,a=i.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(o,e,n,a),u=i.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,Wm(this,u,!0)&&(this.notifyPlugins("resize",{size:c}),mt(i.onResize,[this,c],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};at(n,(i,o)=>{i.id=o})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,o=Object.keys(i).reduce((c,u)=>(c[u]=!1,c),{});let a=[];n&&(a=a.concat(Object.keys(n).map(c=>{const u=n[c],f=$u(c,u),h=f==="r",g=f==="x";return{options:u,dposition:h?"chartArea":g?"bottom":"left",dtype:h?"radialLinear":g?"category":"linear"}}))),at(a,c=>{const u=c.options,f=u.id,h=$u(f,u),g=qe(u.type,c.dtype);(u.position===void 0||gp(u.position,h)!==gp(c.dposition))&&(u.position=c.dposition),o[f]=!0;let v=null;if(f in i&&i[f].type===g)v=i[f];else{const x=hr.getScale(g);v=new x({id:f,type:g,ctx:this.ctx,chart:this}),i[v.id]=v}v.init(u,e)}),at(o,(c,u)=>{c||delete i[u]}),at(i,c=>{fi.configure(this,c,c.options),fi.addBox(this,c)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((o,a)=>o.index-a.index),i>n){for(let o=n;o<i;++o)this._destroyDatasetMeta(o);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(yp("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,o)=>{n.filter(a=>a===i._dataset).length===0&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,o;for(this._removeUnreferencedMetasets(),i=0,o=n.length;i<o;i++){const a=n[i];let c=this.getDatasetMeta(i);const u=a.type||this.config.type;if(c.type&&c.type!==u&&(this._destroyDatasetMeta(i),c=this.getDatasetMeta(i)),c.type=u,c.indexAxis=a.indexAxis||Bu(u,this.options),c.order=a.order||0,c.index=i,c.label=""+a.label,c.visible=this.isDatasetVisible(i),c.controller)c.controller.updateIndex(i),c.controller.linkScales();else{const f=hr.getController(u),{datasetElementType:h,dataElementType:g}=jt.datasets[u];Object.assign(f,{dataElementType:hr.getElement(g),datasetElementType:h&&hr.getElement(h)}),c.controller=new f(this,i),e.push(c.controller)}}return this._updateMetasets(),e}_resetElements(){at(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let h=0,g=this.data.datasets.length;h<g;h++){const{controller:v}=this.getDatasetMeta(h),x=!o&&a.indexOf(v)===-1;v.buildOrUpdateElements(x),c=Math.max(+v.getMaxOverflow(),c)}c=this._minPadding=i.layout.autoPadding?c:0,this._updateLayout(c),o||at(a,h=>{h.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(yp("z","_idx"));const{_active:u,_lastEvent:f}=this;f?this._eventHandler(f,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){at(this.scales,e=>{fi.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!Pm(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:o,count:a}of n){const c=i==="_removeElements"?-a:a;tS(e,o,c)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=a=>new Set(e.filter(c=>c[0]===a).map((c,u)=>u+","+c.splice(1).join(","))),o=i(0);for(let a=1;a<n;a++)if(!Pm(o,i(a)))return;return Array.from(o).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;fi.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],at(this.boxes,o=>{i&&o.position==="chartArea"||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,a)=>{o._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,gi(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),o={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",o)!==!1&&(i.controller._update(n),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Mr.has(this)?this.attached&&!Mr.running(this)&&Mr.start(this):(this.draw(),vp({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:o}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,o)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let o,a;for(o=0,a=n.length;o<a;++o){const c=n[o];(!e||c.visible)&&i.push(c)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i={meta:e,index:e.index,cancelable:!0},o=x_(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(o&&ld(n,o),e.controller.draw(),o&&cd(n),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return Pg(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,o){const a=J_.modes[n];return typeof a=="function"?a(this,e,i,o):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let o=i.filter(a=>a&&a._dataset===n).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(o)),o}getContext(){return this.$context||(this.$context=Ps(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const o=i?"show":"hide",a=this.getDatasetMeta(e),c=a.controller._resolveAnimations(void 0,o);Ao(n)?(a.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),c.update(a,{visible:i}),this.update(u=>u.datasetIndex===e?o:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Mr.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Bm(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete ol[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(a,c)=>{n.addEventListener(this,a,c),e[a]=c},o=(a,c,u)=>{a.offsetX=c,a.offsetY=u,this._eventHandler(a)};at(this.options.events,a=>i(a,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(f,h)=>{n.addEventListener(this,f,h),e[f]=h},o=(f,h)=>{e[f]&&(n.removeEventListener(this,f,h),delete e[f])},a=(f,h)=>{this.canvas&&this.resize(f,h)};let c;const u=()=>{o("attach",u),this.attached=!0,this.resize(),i("resize",a),i("detach",c)};c=()=>{this.attached=!1,o("resize",a),this._stop(),this._resize(0,0),i("attach",u)},n.isAttached(this.canvas)?u():c()}unbindEvents(){at(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},at(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const o=i?"set":"remove";let a,c,u,f;for(n==="dataset"&&(a=this.getDatasetMeta(e[0].datasetIndex),a.controller["_"+o+"DatasetHoverStyle"]()),u=0,f=e.length;u<f;++u){c=e[u];const h=c&&this.getDatasetMeta(c.datasetIndex).controller;h&&h[o+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:a,index:c})=>{const u=this.getDatasetMeta(a);if(!u)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:u.data[c],index:c}});!ml(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,i){const o=this.options.hover,a=(f,h)=>f.filter(g=>!h.some(v=>g.datasetIndex===v.datasetIndex&&g.index===v.index)),c=a(n,e),u=i?e:a(e,n);c.length&&this.updateHoverStyle(c,o.mode,!1),u.length&&o.mode&&this.updateHoverStyle(u,o.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},o=c=>(c.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,o)===!1)return;const a=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,o),(a||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:o=[],options:a}=this,c=n,u=this._getActiveElements(e,o,i,c),f=wb(e),h=nS(e,this._lastEvent,i,f);i&&(this._lastEvent=null,mt(a.onHover,[e,u,this],this),f&&mt(a.onClick,[e,u,this],this));const g=!ml(u,o);return(g||n)&&(this._active=u,this._updateHoverStyles(u,o,n)),this._lastEvent=h,g}_getActiveElements(e,n,i,o){if(e.type==="mouseout")return[];if(!i)return n;const a=this.options.hover;return this.getElementsAtEventForMode(e,a.mode,a,o)}};function bp(){return at(Tl.instances,t=>t._plugins.invalidate())}function rS(t,e,n){const{startAngle:i,x:o,y:a,outerRadius:c,innerRadius:u,options:f}=e,{borderWidth:h,borderJoinStyle:g}=f,v=Math.min(h/c,mr(i-n));if(t.beginPath(),t.arc(o,a,c-h/2,i+v/2,n-v/2),u>0){const x=Math.min(h/u,mr(i-n));t.arc(o,a,u+h/2,n-x/2,i+x/2,!0)}else{const x=Math.min(h/2,c*mr(i-n));if(g==="round")t.arc(o,a,x,n-pt/2,i+pt/2,!0);else if(g==="bevel"){const _=2*x*x,w=-_*Math.cos(n+pt/2)+o,k=-_*Math.sin(n+pt/2)+a,C=_*Math.cos(i+pt/2)+o,T=_*Math.sin(i+pt/2)+a;t.lineTo(w,k),t.lineTo(C,T)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function iS(t,e,n){const{startAngle:i,pixelMargin:o,x:a,y:c,outerRadius:u,innerRadius:f}=e;let h=o/u;t.beginPath(),t.arc(a,c,u,i-h,n+h),f>o?(h=o/f,t.arc(a,c,f,n+h,i-h,!0)):t.arc(a,c,o,n+Ot,i-Ot),t.closePath(),t.clip()}function sS(t){return ud(t,["outerStart","outerEnd","innerStart","innerEnd"])}function oS(t,e,n,i){const o=sS(t.options.borderRadius),a=(n-e)/2,c=Math.min(a,i*e/2),u=f=>{const h=(n-Math.min(a,f))*i/2;return bn(f,0,Math.min(a,h))};return{outerStart:u(o.outerStart),outerEnd:u(o.outerEnd),innerStart:bn(o.innerStart,0,c),innerEnd:bn(o.innerEnd,0,c)}}function bs(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function Sl(t,e,n,i,o,a){const{x:c,y:u,startAngle:f,pixelMargin:h,innerRadius:g}=e,v=Math.max(e.outerRadius+i+n-h,0),x=g>0?g+i+n+h:0;let _=0;const w=o-f;if(i){const fe=g>0?g-i:0,me=v>0?v-i:0,J=(fe+me)/2,H=J!==0?w*J/(J+i):w;_=(w-H)/2}const k=Math.max(.001,w*v-n/pt)/v,C=(w-k)/2,T=f+C+_,M=o-C-_,{outerStart:B,outerEnd:A,innerStart:Y,innerEnd:ee}=oS(e,x,v,M-T),R=v-B,O=v-A,K=T+B/R,X=M-A/O,U=x+Y,G=x+ee,oe=T+Y/U,de=M-ee/G;if(t.beginPath(),a){const fe=(K+X)/2;if(t.arc(c,u,v,K,fe),t.arc(c,u,v,fe,X),A>0){const Z=bs(O,X,c,u);t.arc(Z.x,Z.y,A,X,M+Ot)}const me=bs(G,M,c,u);if(t.lineTo(me.x,me.y),ee>0){const Z=bs(G,de,c,u);t.arc(Z.x,Z.y,ee,M+Ot,de+Math.PI)}const J=(M-ee/x+(T+Y/x))/2;if(t.arc(c,u,x,M-ee/x,J,!0),t.arc(c,u,x,J,T+Y/x,!0),Y>0){const Z=bs(U,oe,c,u);t.arc(Z.x,Z.y,Y,oe+Math.PI,T-Ot)}const H=bs(R,T,c,u);if(t.lineTo(H.x,H.y),B>0){const Z=bs(R,K,c,u);t.arc(Z.x,Z.y,B,T-Ot,K)}}else{t.moveTo(c,u);const fe=Math.cos(K)*v+c,me=Math.sin(K)*v+u;t.lineTo(fe,me);const J=Math.cos(X)*v+c,H=Math.sin(X)*v+u;t.lineTo(J,H)}t.closePath()}function aS(t,e,n,i,o){const{fullCircles:a,startAngle:c,circumference:u}=e;let f=e.endAngle;if(a){Sl(t,e,n,i,f,o);for(let h=0;h<a;++h)t.fill();isNaN(u)||(f=c+(u%Tt||Tt))}return Sl(t,e,n,i,f,o),t.fill(),f}function lS(t,e,n,i,o){const{fullCircles:a,startAngle:c,circumference:u,options:f}=e,{borderWidth:h,borderJoinStyle:g,borderDash:v,borderDashOffset:x,borderRadius:_}=f,w=f.borderAlign==="inner";if(!h)return;t.setLineDash(v||[]),t.lineDashOffset=x,w?(t.lineWidth=h*2,t.lineJoin=g||"round"):(t.lineWidth=h,t.lineJoin=g||"bevel");let k=e.endAngle;if(a){Sl(t,e,n,i,k,o);for(let C=0;C<a;++C)t.stroke();isNaN(u)||(k=c+(u%Tt||Tt))}w&&iS(t,e,k),f.selfJoin&&k-c>=pt&&_===0&&g!=="miter"&&rS(t,e,k),a||(Sl(t,e,n,i,k,o),t.stroke())}class cS extends Ts{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,i){const o=this.getProps(["x","y"],i),{angle:a,distance:c}=wg(o,{x:e,y:n}),{startAngle:u,endAngle:f,innerRadius:h,outerRadius:g,circumference:v}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),x=(this.options.spacing+this.options.borderWidth)/2,_=qe(v,f-u),w=vl(a,u,f)&&u!==f,k=_>=Tt||w,C=$i(c,h+x,g+x);return k&&C}getCenterPoint(e){const{x:n,y:i,startAngle:o,endAngle:a,innerRadius:c,outerRadius:u}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:f,spacing:h}=this.options,g=(o+a)/2,v=(c+u+h+f)/2;return{x:n+Math.cos(g)*v,y:i+Math.sin(g)*v}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:n,circumference:i}=this,o=(n.offset||0)/4,a=(n.spacing||0)/2,c=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=i>Tt?Math.floor(i/Tt):0,i===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const u=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(u)*o,Math.sin(u)*o);const f=1-Math.sin(Math.min(pt,i||0)),h=o*f;e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,aS(e,this,h,a,c),lS(e,this,h,a,c),e.restore()}}function Gg(t,e){const{x:n,y:i,base:o,width:a,height:c}=t.getProps(["x","y","base","width","height"],e);let u,f,h,g,v;return t.horizontal?(v=c/2,u=Math.min(n,o),f=Math.max(n,o),h=i-v,g=i+v):(v=a/2,u=n-v,f=n+v,h=Math.min(i,o),g=Math.max(i,o)),{left:u,top:h,right:f,bottom:g}}function hi(t,e,n,i){return t?0:bn(e,n,i)}function uS(t,e,n){const i=t.options.borderWidth,o=t.borderSkipped,a=Tg(i);return{t:hi(o.top,a.top,0,n),r:hi(o.right,a.right,0,e),b:hi(o.bottom,a.bottom,0,n),l:hi(o.left,a.left,0,e)}}function dS(t,e,n){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),o=t.options.borderRadius,a=ws(o),c=Math.min(e,n),u=t.borderSkipped,f=i||Ge(o);return{topLeft:hi(!f||u.top||u.left,a.topLeft,0,c),topRight:hi(!f||u.top||u.right,a.topRight,0,c),bottomLeft:hi(!f||u.bottom||u.left,a.bottomLeft,0,c),bottomRight:hi(!f||u.bottom||u.right,a.bottomRight,0,c)}}function fS(t){const e=Gg(t),n=e.right-e.left,i=e.bottom-e.top,o=uS(t,n/2,i/2),a=dS(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:a},inner:{x:e.left+o.l,y:e.top+o.t,w:n-o.l-o.r,h:i-o.t-o.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(o.t,o.l)),topRight:Math.max(0,a.topRight-Math.max(o.t,o.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(o.b,o.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(o.b,o.r))}}}}function Ru(t,e,n,i){const o=e===null,a=n===null,u=t&&!(o&&a)&&Gg(t,i);return u&&(o||$i(e,u.left,u.right))&&(a||$i(n,u.top,u.bottom))}function hS(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function mS(t,e){t.rect(e.x,e.y,e.w,e.h)}function Pu(t,e,n={}){const i=t.x!==n.x?-e:0,o=t.y!==n.y?-e:0,a=(t.x+t.w!==n.x+n.w?e:0)-i,c=(t.y+t.h!==n.y+n.h?e:0)-o;return{x:t.x+i,y:t.y+o,w:t.w+a,h:t.h+c,radius:t.radius}}class pS extends Ts{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:i,backgroundColor:o}}=this,{inner:a,outer:c}=fS(this),u=hS(c.radius)?bl:mS;e.save(),(c.w!==a.w||c.h!==a.h)&&(e.beginPath(),u(e,Pu(c,n,a)),e.clip(),u(e,Pu(a,-n,c)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),u(e,Pu(a,n)),e.fillStyle=o,e.fill(),e.restore()}inRange(e,n,i){return Ru(this,e,n,i)}inXRange(e,n){return Ru(this,e,null,n)}inYRange(e,n){return Ru(this,null,e,n)}getCenterPoint(e){const{x:n,y:i,base:o,horizontal:a}=this.getProps(["x","y","base","horizontal"],e);return{x:a?(n+o)/2:n,y:a?i:(i+o)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}const _p=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},gS=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class wp extends Ts{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=mt(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,o)=>e.sort(i,o,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,o=_n(i.font),a=o.size,c=this._computeTitleHeight(),{boxWidth:u,itemHeight:f}=_p(i,a);let h,g;n.font=o.string,this.isHorizontal()?(h=this.maxWidth,g=this._fitRows(c,a,u,f)+10):(g=this.maxHeight,h=this._fitCols(c,o,u,f)+10),this.width=Math.min(h,e.maxWidth||this.maxWidth),this.height=Math.min(g,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,o){const{ctx:a,maxWidth:c,options:{labels:{padding:u}}}=this,f=this.legendHitBoxes=[],h=this.lineWidths=[0],g=o+u;let v=e;a.textAlign="left",a.textBaseline="middle";let x=-1,_=-g;return this.legendItems.forEach((w,k)=>{const C=i+n/2+a.measureText(w.text).width;(k===0||h[h.length-1]+C+2*u>c)&&(v+=g,h[h.length-(k>0?0:1)]=0,_+=g,x++),f[k]={left:0,top:_,row:x,width:C,height:o},h[h.length-1]+=C+u}),v}_fitCols(e,n,i,o){const{ctx:a,maxHeight:c,options:{labels:{padding:u}}}=this,f=this.legendHitBoxes=[],h=this.columnSizes=[],g=c-e;let v=u,x=0,_=0,w=0,k=0;return this.legendItems.forEach((C,T)=>{const{itemWidth:M,itemHeight:B}=yS(i,n,a,C,o);T>0&&_+B+2*u>g&&(v+=x+u,h.push({width:x,height:_}),w+=x+u,k++,x=_=0),f[T]={left:w,top:_,col:k,width:M,height:B},x=Math.max(x,M),_+=B+u}),v+=x,h.push({width:x,height:_}),v}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:o},rtl:a}}=this,c=Ss(a,this.left,this.width);if(this.isHorizontal()){let u=0,f=Mn(i,this.left+o,this.right-this.lineWidths[u]);for(const h of n)u!==h.row&&(u=h.row,f=Mn(i,this.left+o,this.right-this.lineWidths[u])),h.top+=this.top+e+o,h.left=c.leftForLtr(c.x(f),h.width),f+=h.width+o}else{let u=0,f=Mn(i,this.top+e+o,this.bottom-this.columnSizes[u].height);for(const h of n)h.col!==u&&(u=h.col,f=Mn(i,this.top+e+o,this.bottom-this.columnSizes[u].height)),h.top=f,h.left+=this.left+o,h.left=c.leftForLtr(c.x(h.left),h.width),f+=h.height+o}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;ld(e,this),this._draw(),cd(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:o}=this,{align:a,labels:c}=e,u=jt.color,f=Ss(e.rtl,this.left,this.width),h=_n(c.font),{padding:g}=c,v=h.size,x=v/2;let _;this.drawTitle(),o.textAlign=f.textAlign("left"),o.textBaseline="middle",o.lineWidth=.5,o.font=h.string;const{boxWidth:w,boxHeight:k,itemHeight:C}=_p(c,v),T=function(ee,R,O){if(isNaN(w)||w<=0||isNaN(k)||k<0)return;o.save();const K=qe(O.lineWidth,1);if(o.fillStyle=qe(O.fillStyle,u),o.lineCap=qe(O.lineCap,"butt"),o.lineDashOffset=qe(O.lineDashOffset,0),o.lineJoin=qe(O.lineJoin,"miter"),o.lineWidth=K,o.strokeStyle=qe(O.strokeStyle,u),o.setLineDash(qe(O.lineDash,[])),c.usePointStyle){const X={radius:k*Math.SQRT2/2,pointStyle:O.pointStyle,rotation:O.rotation,borderWidth:K},U=f.xPlus(ee,w/2),G=R+x;Rg(o,X,U,G,c.pointStyleWidth&&w)}else{const X=R+Math.max((v-k)/2,0),U=f.leftForLtr(ee,w),G=ws(O.borderRadius);o.beginPath(),Object.values(G).some(oe=>oe!==0)?bl(o,{x:U,y:X,w,h:k,radius:G}):o.rect(U,X,w,k),o.fill(),K!==0&&o.stroke()}o.restore()},M=function(ee,R,O){xl(o,O.text,ee,R+C/2,h,{strikethrough:O.hidden,textAlign:f.textAlign(O.textAlign)})},B=this.isHorizontal(),A=this._computeTitleHeight();B?_={x:Mn(a,this.left+g,this.right-i[0]),y:this.top+g+A,line:0}:_={x:this.left+g,y:Mn(a,this.top+A+g,this.bottom-n[0].height),line:0},Fg(this.ctx,e.textDirection);const Y=C+g;this.legendItems.forEach((ee,R)=>{o.strokeStyle=ee.fontColor,o.fillStyle=ee.fontColor;const O=o.measureText(ee.text).width,K=f.textAlign(ee.textAlign||(ee.textAlign=c.textAlign)),X=w+x+O;let U=_.x,G=_.y;f.setWidth(this.width),B?R>0&&U+X+g>this.right&&(G=_.y+=Y,_.line++,U=_.x=Mn(a,this.left+g,this.right-i[_.line])):R>0&&G+Y>this.bottom&&(U=_.x=U+n[_.line].width+g,_.line++,G=_.y=Mn(a,this.top+A+g,this.bottom-n[_.line].height));const oe=f.x(U);if(T(oe,G,ee),U=Ab(K,U+w+x,B?U+X:this.right,e.rtl),M(f.x(U),G,ee),B)_.x+=X+g;else if(typeof ee.text!="string"){const de=h.lineHeight;_.y+=Zg(ee,de)+g}else _.y+=Y}),Ig(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=_n(n.font),o=nr(n.padding);if(!n.display)return;const a=Ss(e.rtl,this.left,this.width),c=this.ctx,u=n.position,f=i.size/2,h=o.top+f;let g,v=this.left,x=this.width;if(this.isHorizontal())x=Math.max(...this.lineWidths),g=this.top+h,v=Mn(e.align,v,this.right-x);else{const w=this.columnSizes.reduce((k,C)=>Math.max(k,C.height),0);g=h+Mn(e.align,this.top,this.bottom-w-e.labels.padding-this._computeTitleHeight())}const _=Mn(u,v,v+x);c.textAlign=a.textAlign(Ng(u)),c.textBaseline="middle",c.strokeStyle=n.color,c.fillStyle=n.color,c.font=i.string,xl(c,n.text,_,g,i)}_computeTitleHeight(){const e=this.options.title,n=_n(e.font),i=nr(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,o,a;if($i(e,this.left,this.right)&&$i(n,this.top,this.bottom)){for(a=this.legendHitBoxes,i=0;i<a.length;++i)if(o=a[i],$i(e,o.left,o.left+o.width)&&$i(n,o.top,o.top+o.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!bS(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const o=this._hoveredItem,a=gS(o,i);o&&!a&&mt(n.onLeave,[e,o,this],this),this._hoveredItem=i,i&&!a&&mt(n.onHover,[e,i,this],this)}else i&&mt(n.onClick,[e,i,this],this)}}function yS(t,e,n,i,o){const a=vS(i,t,e,n),c=xS(o,i,e.lineHeight);return{itemWidth:a,itemHeight:c}}function vS(t,e,n,i){let o=t.text;return o&&typeof o!="string"&&(o=o.reduce((a,c)=>a.length>c.length?a:c)),e+n.size/2+i.measureText(o).width}function xS(t,e,n){let i=t;return typeof e.text!="string"&&(i=Zg(e,n)),i}function Zg(t,e){const n=t.text?t.text.length:0;return e*n}function bS(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var _S={id:"legend",_element:wp,start(t,e,n){const i=t.legend=new wp({ctx:t.ctx,options:n,chart:t});fi.configure(t,i,n),fi.addBox(t,i)},stop(t){fi.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;fi.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,o=n.chart;o.isDatasetVisible(i)?(o.hide(i),e.hidden=!0):(o.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:o,color:a,useBorderRadius:c,borderRadius:u}}=t.legend.options;return t._getSortedDatasetMetas().map(f=>{const h=f.controller.getStyle(n?0:void 0),g=nr(h.borderWidth);return{text:e[f.index].label,fillStyle:h.backgroundColor,fontColor:a,hidden:!f.visible,lineCap:h.borderCapStyle,lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:(g.width+g.height)/4,strokeStyle:h.borderColor,pointStyle:i||h.pointStyle,rotation:h.rotation,textAlign:o||h.textAlign,borderRadius:c&&(u||h.borderRadius),datasetIndex:f.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};const Eo={average(t){if(!t.length)return!1;let e,n,i=new Set,o=0,a=0;for(e=0,n=t.length;e<n;++e){const u=t[e].element;if(u&&u.hasValue()){const f=u.tooltipPosition();i.add(f.x),o+=f.y,++a}}return a===0||i.size===0?!1:{x:[...i].reduce((u,f)=>u+f)/i.size,y:o/a}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,o=Number.POSITIVE_INFINITY,a,c,u;for(a=0,c=t.length;a<c;++a){const f=t[a].element;if(f&&f.hasValue()){const h=f.getCenterPoint(),g=Mb(e,h);g<o&&(o=g,u=f)}}if(u){const f=u.tooltipPosition();n=f.x,i=f.y}return{x:n,y:i}}};function fr(t,e){return e&&(Vt(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Rr(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function wS(t,e){const{element:n,datasetIndex:i,index:o}=e,a=t.getDatasetMeta(i).controller,{label:c,value:u}=a.getLabelAndValue(o);return{chart:t,label:c,parsed:a.getParsed(o),raw:t.data.datasets[i].data[o],formattedValue:u,dataset:a.getDataset(),dataIndex:o,datasetIndex:i,element:n}}function Sp(t,e){const n=t.chart.ctx,{body:i,footer:o,title:a}=t,{boxWidth:c,boxHeight:u}=e,f=_n(e.bodyFont),h=_n(e.titleFont),g=_n(e.footerFont),v=a.length,x=o.length,_=i.length,w=nr(e.padding);let k=w.height,C=0,T=i.reduce((A,Y)=>A+Y.before.length+Y.lines.length+Y.after.length,0);if(T+=t.beforeBody.length+t.afterBody.length,v&&(k+=v*h.lineHeight+(v-1)*e.titleSpacing+e.titleMarginBottom),T){const A=e.displayColors?Math.max(u,f.lineHeight):f.lineHeight;k+=_*A+(T-_)*f.lineHeight+(T-1)*e.bodySpacing}x&&(k+=e.footerMarginTop+x*g.lineHeight+(x-1)*e.footerSpacing);let M=0;const B=function(A){C=Math.max(C,n.measureText(A).width+M)};return n.save(),n.font=h.string,at(t.title,B),n.font=f.string,at(t.beforeBody.concat(t.afterBody),B),M=e.displayColors?c+2+e.boxPadding:0,at(i,A=>{at(A.before,B),at(A.lines,B),at(A.after,B)}),M=0,n.font=g.string,at(t.footer,B),n.restore(),C+=w.width,{width:C,height:k}}function SS(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function kS(t,e,n,i){const{x:o,width:a}=i,c=n.caretSize+n.caretPadding;if(t==="left"&&o+a+c>e.width||t==="right"&&o-a-c<0)return!0}function CS(t,e,n,i){const{x:o,width:a}=n,{width:c,chartArea:{left:u,right:f}}=t;let h="center";return i==="center"?h=o<=(u+f)/2?"left":"right":o<=a/2?h="left":o>=c-a/2&&(h="right"),kS(h,t,e,n)&&(h="center"),h}function kp(t,e,n){const i=n.yAlign||e.yAlign||SS(t,n);return{xAlign:n.xAlign||e.xAlign||CS(t,e,n,i),yAlign:i}}function ES(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function NS(t,e,n){let{y:i,height:o}=t;return e==="top"?i+=n:e==="bottom"?i-=o+n:i-=o/2,i}function Cp(t,e,n,i){const{caretSize:o,caretPadding:a,cornerRadius:c}=t,{xAlign:u,yAlign:f}=n,h=o+a,{topLeft:g,topRight:v,bottomLeft:x,bottomRight:_}=ws(c);let w=ES(e,u);const k=NS(e,f,h);return f==="center"?u==="left"?w+=h:u==="right"&&(w-=h):u==="left"?w-=Math.max(g,x)+o:u==="right"&&(w+=Math.max(v,_)+o),{x:bn(w,0,i.width-e.width),y:bn(k,0,i.height-e.height)}}function Ja(t,e,n){const i=nr(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function Ep(t){return fr([],Rr(t))}function jS(t,e,n){return Ps(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function Np(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const Jg={beforeTitle:jr,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:jr,beforeBody:jr,beforeLabel:jr,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return ct(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:jr,afterBody:jr,beforeFooter:jr,footer:jr,afterFooter:jr};function yn(t,e,n,i){const o=t[e].call(n,i);return typeof o>"u"?Jg[e].call(n,i):o}class jp extends Ts{static positioners=Eo;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),o=i.enabled&&n.options.animation&&i.animations,a=new zg(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=jS(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,o=yn(i,"beforeTitle",this,e),a=yn(i,"title",this,e),c=yn(i,"afterTitle",this,e);let u=[];return u=fr(u,Rr(o)),u=fr(u,Rr(a)),u=fr(u,Rr(c)),u}getBeforeBody(e,n){return Ep(yn(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:i}=n,o=[];return at(e,a=>{const c={before:[],lines:[],after:[]},u=Np(i,a);fr(c.before,Rr(yn(u,"beforeLabel",this,a))),fr(c.lines,yn(u,"label",this,a)),fr(c.after,Rr(yn(u,"afterLabel",this,a))),o.push(c)}),o}getAfterBody(e,n){return Ep(yn(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:i}=n,o=yn(i,"beforeFooter",this,e),a=yn(i,"footer",this,e),c=yn(i,"afterFooter",this,e);let u=[];return u=fr(u,Rr(o)),u=fr(u,Rr(a)),u=fr(u,Rr(c)),u}_createItems(e){const n=this._active,i=this.chart.data,o=[],a=[],c=[];let u=[],f,h;for(f=0,h=n.length;f<h;++f)u.push(wS(this.chart,n[f]));return e.filter&&(u=u.filter((g,v,x)=>e.filter(g,v,x,i))),e.itemSort&&(u=u.sort((g,v)=>e.itemSort(g,v,i))),at(u,g=>{const v=Np(e.callbacks,g);o.push(yn(v,"labelColor",this,g)),a.push(yn(v,"labelPointStyle",this,g)),c.push(yn(v,"labelTextColor",this,g))}),this.labelColors=o,this.labelPointStyles=a,this.labelTextColors=c,this.dataPoints=u,u}update(e,n){const i=this.options.setContext(this.getContext()),o=this._active;let a,c=[];if(!o.length)this.opacity!==0&&(a={opacity:0});else{const u=Eo[i.position].call(this,o,this._eventPosition);c=this._createItems(i),this.title=this.getTitle(c,i),this.beforeBody=this.getBeforeBody(c,i),this.body=this.getBody(c,i),this.afterBody=this.getAfterBody(c,i),this.footer=this.getFooter(c,i);const f=this._size=Sp(this,i),h=Object.assign({},u,f),g=kp(this.chart,i,h),v=Cp(i,h,g,this.chart);this.xAlign=g.xAlign,this.yAlign=g.yAlign,a={opacity:1,x:v.x,y:v.y,width:f.width,height:f.height,caretX:u.x,caretY:u.y}}this._tooltipItems=c,this.$context=void 0,a&&this._resolveAnimations().update(this,a),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,o){const a=this.getCaretPosition(e,i,o);n.lineTo(a.x1,a.y1),n.lineTo(a.x2,a.y2),n.lineTo(a.x3,a.y3)}getCaretPosition(e,n,i){const{xAlign:o,yAlign:a}=this,{caretSize:c,cornerRadius:u}=i,{topLeft:f,topRight:h,bottomLeft:g,bottomRight:v}=ws(u),{x,y:_}=e,{width:w,height:k}=n;let C,T,M,B,A,Y;return a==="center"?(A=_+k/2,o==="left"?(C=x,T=C-c,B=A+c,Y=A-c):(C=x+w,T=C+c,B=A-c,Y=A+c),M=C):(o==="left"?T=x+Math.max(f,g)+c:o==="right"?T=x+w-Math.max(h,v)-c:T=this.caretX,a==="top"?(B=_,A=B-c,C=T-c,M=T+c):(B=_+k,A=B+c,C=T+c,M=T-c),Y=B),{x1:C,x2:T,x3:M,y1:B,y2:A,y3:Y}}drawTitle(e,n,i){const o=this.title,a=o.length;let c,u,f;if(a){const h=Ss(i.rtl,this.x,this.width);for(e.x=Ja(this,i.titleAlign,i),n.textAlign=h.textAlign(i.titleAlign),n.textBaseline="middle",c=_n(i.titleFont),u=i.titleSpacing,n.fillStyle=i.titleColor,n.font=c.string,f=0;f<a;++f)n.fillText(o[f],h.x(e.x),e.y+c.lineHeight/2),e.y+=c.lineHeight+u,f+1===a&&(e.y+=i.titleMarginBottom-u)}}_drawColorBox(e,n,i,o,a){const c=this.labelColors[i],u=this.labelPointStyles[i],{boxHeight:f,boxWidth:h}=a,g=_n(a.bodyFont),v=Ja(this,"left",a),x=o.x(v),_=f<g.lineHeight?(g.lineHeight-f)/2:0,w=n.y+_;if(a.usePointStyle){const k={radius:Math.min(h,f)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},C=o.leftForLtr(x,h)+h/2,T=w+f/2;e.strokeStyle=a.multiKeyBackground,e.fillStyle=a.multiKeyBackground,$m(e,k,C,T),e.strokeStyle=c.borderColor,e.fillStyle=c.backgroundColor,$m(e,k,C,T)}else{e.lineWidth=Ge(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,e.strokeStyle=c.borderColor,e.setLineDash(c.borderDash||[]),e.lineDashOffset=c.borderDashOffset||0;const k=o.leftForLtr(x,h),C=o.leftForLtr(o.xPlus(x,1),h-2),T=ws(c.borderRadius);Object.values(T).some(M=>M!==0)?(e.beginPath(),e.fillStyle=a.multiKeyBackground,bl(e,{x:k,y:w,w:h,h:f,radius:T}),e.fill(),e.stroke(),e.fillStyle=c.backgroundColor,e.beginPath(),bl(e,{x:C,y:w+1,w:h-2,h:f-2,radius:T}),e.fill()):(e.fillStyle=a.multiKeyBackground,e.fillRect(k,w,h,f),e.strokeRect(k,w,h,f),e.fillStyle=c.backgroundColor,e.fillRect(C,w+1,h-2,f-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:o}=this,{bodySpacing:a,bodyAlign:c,displayColors:u,boxHeight:f,boxWidth:h,boxPadding:g}=i,v=_n(i.bodyFont);let x=v.lineHeight,_=0;const w=Ss(i.rtl,this.x,this.width),k=function(O){n.fillText(O,w.x(e.x+_),e.y+x/2),e.y+=x+a},C=w.textAlign(c);let T,M,B,A,Y,ee,R;for(n.textAlign=c,n.textBaseline="middle",n.font=v.string,e.x=Ja(this,C,i),n.fillStyle=i.bodyColor,at(this.beforeBody,k),_=u&&C!=="right"?c==="center"?h/2+g:h+2+g:0,A=0,ee=o.length;A<ee;++A){for(T=o[A],M=this.labelTextColors[A],n.fillStyle=M,at(T.before,k),B=T.lines,u&&B.length&&(this._drawColorBox(n,e,A,w,i),x=Math.max(v.lineHeight,f)),Y=0,R=B.length;Y<R;++Y)k(B[Y]),x=v.lineHeight;at(T.after,k)}_=0,x=v.lineHeight,at(this.afterBody,k),e.y-=a}drawFooter(e,n,i){const o=this.footer,a=o.length;let c,u;if(a){const f=Ss(i.rtl,this.x,this.width);for(e.x=Ja(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=f.textAlign(i.footerAlign),n.textBaseline="middle",c=_n(i.footerFont),n.fillStyle=i.footerColor,n.font=c.string,u=0;u<a;++u)n.fillText(o[u],f.x(e.x),e.y+c.lineHeight/2),e.y+=c.lineHeight+i.footerSpacing}}drawBackground(e,n,i,o){const{xAlign:a,yAlign:c}=this,{x:u,y:f}=e,{width:h,height:g}=i,{topLeft:v,topRight:x,bottomLeft:_,bottomRight:w}=ws(o.cornerRadius);n.fillStyle=o.backgroundColor,n.strokeStyle=o.borderColor,n.lineWidth=o.borderWidth,n.beginPath(),n.moveTo(u+v,f),c==="top"&&this.drawCaret(e,n,i,o),n.lineTo(u+h-x,f),n.quadraticCurveTo(u+h,f,u+h,f+x),c==="center"&&a==="right"&&this.drawCaret(e,n,i,o),n.lineTo(u+h,f+g-w),n.quadraticCurveTo(u+h,f+g,u+h-w,f+g),c==="bottom"&&this.drawCaret(e,n,i,o),n.lineTo(u+_,f+g),n.quadraticCurveTo(u,f+g,u,f+g-_),c==="center"&&a==="left"&&this.drawCaret(e,n,i,o),n.lineTo(u,f+v),n.quadraticCurveTo(u,f,u+v,f),n.closePath(),n.fill(),o.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,o=i&&i.x,a=i&&i.y;if(o||a){const c=Eo[e.position].call(this,this._active,this._eventPosition);if(!c)return;const u=this._size=Sp(this,e),f=Object.assign({},c,this._size),h=kp(n,e,f),g=Cp(e,f,h,n);(o._to!==g.x||a._to!==g.y)&&(this.xAlign=h.xAlign,this.yAlign=h.yAlign,this.width=u.width,this.height=u.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,g))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const o={width:this.width,height:this.height},a={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const c=nr(n.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&u&&(e.save(),e.globalAlpha=i,this.drawBackground(a,e,o,n),Fg(e,n.textDirection),a.y+=c.top,this.drawTitle(a,e,n),this.drawBody(a,e,n),this.drawFooter(a,e,n),Ig(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,o=e.map(({datasetIndex:u,index:f})=>{const h=this.chart.getDatasetMeta(u);if(!h)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:h.data[f],index:f}}),a=!ml(i,o),c=this._positionChanged(o,n);(a||c)&&(this._active=o,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const o=this.options,a=this._active||[],c=this._getActiveElements(e,a,n,i),u=this._positionChanged(c,e),f=n||!ml(c,a)||u;return f&&(this._active=c,(o.enabled||o.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),f}_getActiveElements(e,n,i,o){const a=this.options;if(e.type==="mouseout")return[];if(!o)return n.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const c=this.chart.getElementsAtEventForMode(e,a.mode,a,i);return a.reverse&&c.reverse(),c}_positionChanged(e,n){const{caretX:i,caretY:o,options:a}=this,c=Eo[a.position].call(this,e,n);return c!==!1&&(i!==c.x||o!==c.y)}}var MS={id:"tooltip",_element:jp,positioners:Eo,afterInit(t,e,n){n&&(t.tooltip=new jp({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Jg},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const RS=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function PS(t,e,n,i){const o=t.indexOf(e);if(o===-1)return RS(t,e,n,i);const a=t.lastIndexOf(e);return o!==a?n:o}const TS=(t,e)=>t===null?null:bn(Math.round(t),0,e);function Mp(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class DS extends Ds{static id="category";static defaults={ticks:{callback:Mp}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:o,label:a}of n)i[o]===a&&i.splice(o,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(ct(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:PS(i,e,qe(n,e),this._addedLabels),TS(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:o}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(o=this.getLabels().length-1)),this.min=i,this.max=o}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,o=[];let a=this.getLabels();a=e===0&&n===a.length-1?a:a.slice(e,n+1),this._valueRange=Math.max(a.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let c=e;c<=n;c++)o.push({value:c});return o}getLabelForValue(e){return Mp.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function LS(t,e){const n=[],{bounds:o,step:a,min:c,max:u,precision:f,count:h,maxTicks:g,maxDigits:v,includeBounds:x}=t,_=a||1,w=g-1,{min:k,max:C}=e,T=!ct(c),M=!ct(u),B=!ct(h),A=(C-k)/(v+1);let Y=Dm((C-k)/w/_)*_,ee,R,O,K;if(Y<1e-14&&!T&&!M)return[{value:k},{value:C}];K=Math.ceil(C/Y)-Math.floor(k/Y),K>w&&(Y=Dm(K*Y/w/_)*_),ct(f)||(ee=Math.pow(10,f),Y=Math.ceil(Y*ee)/ee),o==="ticks"?(R=Math.floor(k/Y)*Y,O=Math.ceil(C/Y)*Y):(R=k,O=C),T&&M&&a&&Eb((u-c)/a,Y/1e3)?(K=Math.round(Math.min((u-c)/Y,g)),Y=(u-c)/K,R=c,O=u):B?(R=T?c:R,O=M?u:O,K=h-1,Y=(O-R)/K):(K=(O-R)/Y,il(K,Math.round(K),Y/1e3)?K=Math.round(K):K=Math.ceil(K));const X=Math.max(Lm(Y),Lm(R));ee=Math.pow(10,ct(f)?X:f),R=Math.round(R*ee)/ee,O=Math.round(O*ee)/ee;let U=0;for(T&&(x&&R!==c?(n.push({value:c}),R<c&&U++,il(Math.round((R+U*Y)*ee)/ee,c,Rp(c,A,t))&&U++):R<c&&U++);U<K;++U){const G=Math.round((R+U*Y)*ee)/ee;if(M&&G>u)break;n.push({value:G})}return M&&x&&O!==u?n.length&&il(n[n.length-1].value,u,Rp(u,A,t))?n[n.length-1].value=u:n.push({value:u}):(!M||O===u)&&n.push({value:O}),n}function Rp(t,e,{horizontal:n,minRotation:i}){const o=Tr(i),a=(n?Math.sin(o):Math.cos(o))||.001,c=.75*e*(""+t).length;return Math.min(e/a,c)}class AS extends Ds{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return ct(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:o,max:a}=this;const c=f=>o=n?o:f,u=f=>a=i?a:f;if(e){const f=pi(o),h=pi(a);f<0&&h<0?u(0):f>0&&h>0&&c(0)}if(o===a){let f=a===0?1:Math.abs(a*.05);u(a+f),e||c(o-f)}this.min=o,this.max=a}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,o;return i?(o=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,o>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${o} ticks. Limiting to 1000.`),o=1e3)):(o=this.computeTickLimit(),n=n||11),n&&(o=Math.min(n,o)),o}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const o={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},a=this._range||this,c=LS(o,a);return e.bounds==="ticks"&&Nb(c,this,"value"),e.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const o=(i-n)/Math.max(e.length-1,1)/2;n-=o,i+=o}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return ad(e,this.chart.options.locale,this.options.ticks.format)}}class OS extends AS{static id="linear";static defaults={ticks:{callback:Mg.formatters.numeric}};determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Hn(e)?e:0,this.max=Hn(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=Tr(this.options.ticks.minRotation),o=(e?Math.sin(i):Math.cos(i))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,a.lineHeight/o))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const Dl={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},xn=Object.keys(Dl);function Pp(t,e){return t-e}function Tp(t,e){if(ct(e))return null;const n=t._adapter,{parser:i,round:o,isoWeekday:a}=t._parseOpts;let c=e;return typeof i=="function"&&(c=i(c)),Hn(c)||(c=typeof i=="string"?n.parse(c,i):n.parse(c)),c===null?null:(o&&(c=o==="week"&&(yl(a)||a===!0)?n.startOf(c,"isoWeek",a):n.startOf(c,o)),+c)}function Dp(t,e,n,i){const o=xn.length;for(let a=xn.indexOf(t);a<o-1;++a){const c=Dl[xn[a]],u=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((n-e)/(u*c.size))<=i)return xn[a]}return xn[o-1]}function FS(t,e,n,i,o){for(let a=xn.length-1;a>=xn.indexOf(n);a--){const c=xn[a];if(Dl[c].common&&t._adapter.diff(o,i,c)>=e-1)return c}return xn[n?xn.indexOf(n):0]}function IS(t){for(let e=xn.indexOf(t)+1,n=xn.length;e<n;++e)if(Dl[xn[e]].common)return xn[e]}function Lp(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:o}=od(n,e),a=n[i]>=e?n[i]:n[o];t[a]=!0}}function zS(t,e,n,i){const o=t._adapter,a=+o.startOf(e[0].value,i),c=e[e.length-1].value;let u,f;for(u=a;u<=c;u=+o.add(u,1,i))f=n[u],f>=0&&(e[f].major=!0);return e}function Ap(t,e,n){const i=[],o={},a=e.length;let c,u;for(c=0;c<a;++c)u=e[c],o[u]=c,i.push({value:u,major:!1});return a===0||!n?i:zS(t,i,o,n)}class Op extends Ds{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const i=e.time||(e.time={}),o=this._adapter=new X_._date(e.adapters.date);o.init(n),No(i.displayFormats,o.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:Tp(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:o,max:a,minDefined:c,maxDefined:u}=this.getUserBounds();function f(h){!c&&!isNaN(h.min)&&(o=Math.min(o,h.min)),!u&&!isNaN(h.max)&&(a=Math.max(a,h.max))}(!c||!u)&&(f(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&f(this.getMinMax(!1))),o=Hn(o)&&!isNaN(o)?o:+n.startOf(Date.now(),i),a=Hn(a)&&!isNaN(a)?a:+n.endOf(Date.now(),i)+1,this.min=Math.min(o,a-1),this.max=Math.max(o+1,a)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,o=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);const a=this.min,c=this.max,u=Tb(o,a,c);return this._unit=n.unit||(i.autoSkip?Dp(n.minUnit,this.min,this.max,this._getLabelCapacity(a)):FS(this,u.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:IS(this._unit),this.initOffsets(o),e.reverse&&u.reverse(),Ap(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,i=0,o,a;this.options.offset&&e.length&&(o=this.getDecimalForValue(e[0]),e.length===1?n=1-o:n=(this.getDecimalForValue(e[1])-o)/2,a=this.getDecimalForValue(e[e.length-1]),e.length===1?i=a:i=(a-this.getDecimalForValue(e[e.length-2]))/2);const c=e.length<3?.5:.25;n=bn(n,0,c),i=bn(i,0,c),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,o=this.options,a=o.time,c=a.unit||Dp(a.minUnit,n,i,this._getLabelCapacity(n)),u=qe(o.ticks.stepSize,1),f=c==="week"?a.isoWeekday:!1,h=yl(f)||f===!0,g={};let v=n,x,_;if(h&&(v=+e.startOf(v,"isoWeek",f)),v=+e.startOf(v,h?"day":c),e.diff(i,n,c)>1e5*u)throw new Error(n+" and "+i+" are too far apart with stepSize of "+u+" "+c);const w=o.ticks.source==="data"&&this.getDataTimestamps();for(x=v,_=0;x<i;x=+e.add(x,u,c),_++)Lp(g,x,w);return(x===i||o.bounds==="ticks"||_===1)&&Lp(g,x,w),Object.keys(g).sort(Pp).map(k=>+k)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}format(e,n){const o=this.options.time.displayFormats,a=this._unit,c=n||o[a];return this._adapter.format(e,c)}_tickFormatFunction(e,n,i,o){const a=this.options,c=a.ticks.callback;if(c)return mt(c,[e,n,i],this);const u=a.time.displayFormats,f=this._unit,h=this._majorUnit,g=f&&u[f],v=h&&u[h],x=i[n],_=h&&v&&x&&x.major;return this._adapter.format(e,o||(_?v:g))}generateTickLabels(e){let n,i,o;for(n=0,i=e.length;n<i;++n)o=e[n],o.label=this._tickFormatFunction(o.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,o=Tr(this.isHorizontal()?n.maxRotation:n.minRotation),a=Math.cos(o),c=Math.sin(o),u=this._resolveTickFontOptions(0).size;return{w:i*a+u*c,h:i*c+u*a}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,o=i[n.unit]||i.millisecond,a=this._tickFormatFunction(e,0,Ap(this,[e],this._majorUnit),o),c=this._getLabelSize(a),u=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return u>0?u:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(n=0,i=o.length;n<i;++n)e=e.concat(o[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const o=this.getLabels();for(n=0,i=o.length;n<i;++n)e.push(Tp(this,o[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return kg(e.sort(Pp))}}function el(t,e,n){let i=0,o=t.length-1,a,c,u,f;n?(e>=t[i].pos&&e<=t[o].pos&&({lo:i,hi:o}=zu(t,"pos",e)),{pos:a,time:u}=t[i],{pos:c,time:f}=t[o]):(e>=t[i].time&&e<=t[o].time&&({lo:i,hi:o}=zu(t,"time",e)),{time:a,pos:u}=t[i],{time:c,pos:f}=t[o]);const h=c-a;return h?u+(f-u)*(e-a)/h:u}class nk extends Op{static id="timeseries";static defaults=Op.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=el(n,this.min),this._tableRange=el(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,o=[],a=[];let c,u,f,h,g;for(c=0,u=e.length;c<u;++c)h=e[c],h>=n&&h<=i&&o.push(h);if(o.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(c=0,u=o.length;c<u;++c)g=o[c+1],f=o[c-1],h=o[c],Math.round((g+f)/2)!==h&&a.push({time:h,pos:c/(u-1)});return a}_generate(){const e=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((o,a)=>o-a)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(el(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return el(this._table,i*this._tableRange+this._minPos,!0)}}const ey="label";function Fp(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function US(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function ty(t,e){t.labels=e}function ny(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ey;const i=[];t.datasets=e.map(o=>{const a=t.datasets.find(c=>c[n]===o[n]);return!a||!o.data||i.includes(a)?{...o}:(i.push(a),Object.assign(a,o),a)})}function BS(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ey;const n={labels:[],datasets:[]};return ty(n,t.labels),ny(n,t.datasets,e),n}function $S(t,e){const{height:n=150,width:i=300,redraw:o=!1,datasetIdKey:a,type:c,data:u,options:f,plugins:h=[],fallbackContent:g,updateMode:v,...x}=t,_=S.useRef(null),w=S.useRef(null),k=()=>{_.current&&(w.current=new Tl(_.current,{type:c,data:BS(u,a),options:f&&{...f},plugins:h}),Fp(e,w.current))},C=()=>{Fp(e,null),w.current&&(w.current.destroy(),w.current=null)};return S.useEffect(()=>{!o&&w.current&&f&&US(w.current,f)},[o,f]),S.useEffect(()=>{!o&&w.current&&ty(w.current.config.data,u.labels)},[o,u.labels]),S.useEffect(()=>{!o&&w.current&&u.datasets&&ny(w.current.config.data,u.datasets,a)},[o,u.datasets]),S.useEffect(()=>{w.current&&(o?(C(),setTimeout(k)):w.current.update(v))},[o,f,u.labels,u.datasets,v]),S.useEffect(()=>{w.current&&(C(),setTimeout(k))},[c]),S.useEffect(()=>(k(),()=>C()),[]),kl.createElement("canvas",{ref:_,role:"img",height:n,width:i,...x},g)}const HS=S.forwardRef($S);function ry(t,e){return Tl.register(e),S.forwardRef((n,i)=>kl.createElement(HS,{...n,ref:i,type:t}))}const VS=ry("bar",V_),WS=ry("pie",Y_);function KS(t){const e=typeof t=="number"&&Number.isFinite(t)?t:0,n=e<=1?e*100:e;return Math.max(0,Math.min(100,n))}function YS(t){const e=t&&typeof t=="object"?t:{},n=e.auth_activity??{},i={window_days:Number.isFinite(n.window_days)?Number(n.window_days):7,from:typeof n.from=="string"?n.from:"",to:typeof n.to=="string"?n.to:"",daily:Array.isArray(n.daily)?n.daily.map(f=>({date:typeof f.date=="string"?f.date:"",success:Number.isFinite(f.success)?Number(f.success):0,failed:Number.isFinite(f.failed)?Number(f.failed):0,total:Number.isFinite(f.total)?Number(f.total):0})):[],totals:{success:Number.isFinite(n.totals?.success)?Number(n.totals?.success):0,failed:Number.isFinite(n.totals?.failed)?Number(n.totals?.failed):0,total:Number.isFinite(n.totals?.total)?Number(n.totals?.total):0},max_daily_total:Number.isFinite(n.max_daily_total)?Number(n.max_daily_total):0},o=e.evidence_mime??{},a={total:Number.isFinite(o.total)?Number(o.total):0,by_mime:Array.isArray(o.by_mime)?o.by_mime.map(f=>{const h=typeof f.mime=="string"&&f.mime.length>0?f.mime:"Unknown",g=typeof f.mime_label=="string"&&f.mime_label.length>0?f.mime_label:h;return{mime:h,mime_label:g,count:Number.isFinite(f.count)?Number(f.count):0,percent:KS(f.percent??0)}}):[]},c=e.admin_activity??{},u={admins:Array.isArray(c.admins)?c.admins.map(f=>({id:Number.isFinite(f.id)?Number(f.id):0,name:typeof f.name=="string"?f.name:"",email:typeof f.email=="string"?f.email:"",last_login_at:typeof f.last_login_at=="string"&&f.last_login_at.length>0?f.last_login_at:null})):[]};return{auth_activity:i,evidence_mime:a,admin_activity:u}}async function XS(t,e){const i=await rr("/api/dashboard/kpis",void 0,t),o=i&&typeof i=="object"&&"data"in i?i.data:i;return YS(o)}function QS(t){if(!t)return null;const e=/filename\*=(?:UTF-8'')?([^;]+)/i.exec(t);if(e?.[1])try{return decodeURIComponent(e[1].replace(/(^"|"$)/g,""))}catch{return e[1].replace(/(^"|"$)/g,"")}const n=/filename="([^"]+)"/i.exec(t);if(n?.[1])return n[1];const i=/filename=([^;]+)/i.exec(t);return i?.[1]?i[1].trim().replace(/(^"|"$)/g,""):null}function Hu(){return`${vi}/api/reports/admin-activity?format=csv`}async function qS(){const t=Hu(),e=await fetch(t,{method:"GET",credentials:"same-origin",headers:xi({Accept:"text/csv"})});if(!e.ok){let a=null;try{a=await e.json()}catch{try{a=await e.text()}catch{a=null}}throw new Ft(e.status,a)}const n=await e.blob(),i=QS(e.headers.get("content-disposition"))??"admin-activity-report.csv",o=e.headers.get("content-type")??"text/csv";return{blob:n,filename:i,mime:o}}async function GS(){if(typeof window>"u"||typeof document>"u")return;const t=await qS(),e=t.filename&&t.filename.trim().length>0?t.filename.trim():"admin-activity-report.csv";if(typeof URL<"u"&&typeof URL.createObjectURL=="function"){const n=URL.createObjectURL(t.blob),i=document.createElement("a");i.href=n,i.download=e,i.rel="noopener noreferrer",i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i),window.setTimeout(()=>{typeof URL.revokeObjectURL=="function"&&URL.revokeObjectURL(n)},1e3);return}if(typeof window.open=="function"){window.open(Hu(),"_blank","noopener");return}window.location.assign(Hu())}const ZS=["ISO_8601","LOCAL","RELATIVE"],Ls="LOCAL";function Fo(t){if(typeof t=="string"){const e=t.trim().toUpperCase();if(e&&ZS.includes(e))return e}return Ls}function vd(t,e){if(!t)return"";const n=new Date(t);if(Number.isNaN(n.valueOf()))return t;switch(e){case"ISO_8601":return n.toISOString().replace("T"," ").replace("Z","Z");case"RELATIVE":return JS(n,new Date);case"LOCAL":default:return n.toLocaleString()}}function JS(t,e){const n=t.getTime()-e.getTime(),i=Math.abs(n),o=[{unit:"year",ms:1e3*60*60*24*365},{unit:"month",ms:1e3*60*60*24*30},{unit:"week",ms:1e3*60*60*24*7},{unit:"day",ms:1e3*60*60*24},{unit:"hour",ms:1e3*60*60},{unit:"minute",ms:1e3*60},{unit:"second",ms:1e3}],a=typeof Intl<"u"&&typeof Intl.RelativeTimeFormat<"u"?new Intl.RelativeTimeFormat(void 0,{numeric:"auto"}):null;for(const{unit:c,ms:u}of o)if(i>=u||c==="second"){const f=n/u,h=Math.round(f);if(a)return a.format(h,c);if(h===0)return"just now";const g=Math.abs(h)===1?c:`${c}s`;return h>0?`in ${h} ${g}`:`${Math.abs(h)} ${g} ago`}return t.toLocaleString()}function e1(t){const e=typeof t=="number"&&Number.isFinite(t)?Math.max(t,0):0;if(e===0)return"0 B";const n=["B","KB","MB","GB","TB","PB"];let i=e,o=0;for(;i>=1024&&o<n.length-1;)i/=1024,o+=1;const a=o===0?0:2;return`${new Intl.NumberFormat("en-US",{minimumFractionDigits:a,maximumFractionDigits:a}).format(i)} ${n[o]}`}Tl.register(DS,OS,pS,cS,MS,_S);const t1=300,n1=300;function r1(t){if(!t)return{labels:[],success:[],failed:[]};const e=t.auth_activity.daily;return{labels:e.map(n=>n.date),success:e.map(n=>n.success),failed:e.map(n=>n.failed)}}function i1(){const[t,e]=S.useState(!0),[n,i]=S.useState(null),[o,a]=S.useState(null),[c,u]=S.useState(!1),[f,h]=S.useState(null),g=Nl();S.useEffect(()=>{let K=!1;const X=new AbortController;return(async()=>{try{e(!0),i(null);const G=await XS(X.signal);K||a(G)}catch(G){if(K)return;G instanceof Ft?G.status===401?i("You must log in to view KPIs."):G.status===403?i("You do not have access to KPIs."):i(`Request failed (HTTP ${G.status}).`):G instanceof Error&&G.name==="AbortError"||i("Network error."),a(null)}finally{K||e(!1)}})(),()=>{K=!0,X.abort()}},[]);const v=S.useMemo(()=>r1(o),[o]),x=o?.auth_activity.window_days??7,_=Math.max(0,o?.auth_activity.max_daily_total??0),w=Math.max(1,_+1),k=S.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,onClick:(K,X)=>{if(!o||X.length===0)return;const U=X[0].index,G=o.auth_activity.daily[U];if(!G)return;const oe=new URLSearchParams({category:"AUTH",occurred_from:G.date,occurred_to:G.date});g(`/admin/audit?${oe.toString()}`)},plugins:{legend:{position:"top"},tooltip:{callbacks:{title:K=>K[0]?.label??""}}},scales:{x:{stacked:!0,title:{display:!0,text:"Date"},grid:{display:!1}},y:{stacked:!0,beginAtZero:!0,max:w,ticks:{stepSize:Math.max(1,Math.ceil(w/6))},title:{display:!0,text:"Authentications"}}}}),[o,g,w]),C=S.useMemo(()=>({labels:v.labels.map(K=>new Date(K).toLocaleDateString()),datasets:[{label:"Success",data:v.success,backgroundColor:"#198754",borderColor:"#146c43",borderWidth:1},{label:"Failed",data:v.failed,backgroundColor:"#dc3545",borderColor:"#b02a37",borderWidth:1}]}),[v]),T=S.useMemo(()=>o?.evidence_mime.by_mime??[],[o]),M=S.useMemo(()=>{if(T.length===0)return null;const K=T.map(G=>G.mime_label??G.mime),X=T.map(G=>G.count),U=["#0d6efd","#6f42c1","#20c997","#fd7e14","#6610f2","#ffca2c"];return{labels:K,datasets:[{data:X,backgroundColor:K.map((G,oe)=>U[oe%U.length]),borderColor:"#ffffff",borderWidth:1}]}},[T]),B=S.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"left",align:"start",labels:{usePointStyle:!0,boxWidth:12}}},onClick:(K,X)=>{if(!M||X.length===0)return;const U=X[0].index,G=T[U];if(!G)return;const oe=G.mime_label??G.mime,de=new URLSearchParams({mime_label:oe});g(`/admin/evidence?${de.toString()}`)}}),[M,T,g]),A=S.useMemo(()=>`/admin/audit?${new URLSearchParams({category:"AUTH"}).toString()}`,[]),Y="/admin/evidence",ee=S.useCallback(async()=>{if(!c)try{u(!0),h(null),await GS()}catch(K){K instanceof Ft?K.status===401?h("You must log in to download the report."):K.status===403?h("You do not have access to this report."):h(`Download failed (HTTP ${K.status}).`):h("Network error while downloading report.")}finally{u(!1)}},[c]),R=o?.auth_activity.totals??{success:0,failed:0,total:0},O=o?.admin_activity.admins??[];return y.jsxs("div",{className:"container py-3",children:[y.jsx("h1",{className:"mb-3",children:"Dashboard KPIs"}),t&&y.jsx("p",{children:"Loading"}),!t&&n&&y.jsx("div",{className:"alert alert-warning",role:"alert",children:n}),!t&&!n&&o&&y.jsxs("div",{className:"vstack gap-3",children:[y.jsxs("section",{className:"card",children:[y.jsxs("div",{className:"card-header d-flex flex-column flex-md-row align-items-md-center justify-content-between gap-2",children:[y.jsxs(ci,{to:A,className:"fw-semibold text-decoration-none",children:["Authentications last ",x," days"]}),y.jsxs("div",{className:"text-muted small",children:[y.jsxs("span",{className:"me-3",children:["Success: ",R.success]}),y.jsxs("span",{className:"me-3",children:["Failed: ",R.failed]}),y.jsxs("span",{children:["Total: ",R.total]})]})]}),y.jsx("div",{className:"card-body",style:{height:t1},children:v.labels.length===0?y.jsx("p",{className:"text-muted mb-0",children:"No authentication activity in the selected window."}):y.jsx(VS,{options:k,data:C,"aria-label":"Authentication activity"})})]}),y.jsxs("div",{className:"row row-cols-1 row-cols-md-2 g-3 align-items-stretch",children:[y.jsx("div",{className:"col d-flex",children:y.jsxs("section",{className:"card h-100 flex-fill",children:[y.jsx("div",{className:"card-header",children:y.jsx(ci,{to:Y,className:"fw-semibold text-decoration-none",children:"Evidence File Types"})}),y.jsx("div",{className:"card-body",style:{height:n1},children:M?y.jsx(WS,{data:M,options:B,"aria-label":"Evidence file type distribution"}):y.jsx("p",{className:"text-muted mb-0",children:"No evidence uploads yet."})})]})}),y.jsx("div",{className:"col d-flex",children:y.jsxs("section",{className:"card h-100 flex-fill",children:[y.jsx("div",{className:"card-header",children:y.jsx("span",{className:"fw-semibold",children:"Admin Activity"})}),y.jsxs("div",{className:"card-body d-flex flex-column p-0",children:[f&&y.jsx("div",{className:"alert alert-warning mb-0 rounded-0 py-2 px-3",role:"alert",children:f}),y.jsx("div",{className:"flex-grow-1",children:O.length===0?y.jsx("p",{className:"text-muted px-3 py-3 mb-0",children:"No admin users found."}):y.jsx("div",{className:"table-responsive",children:y.jsxs("table",{className:"table table-sm table-striped mb-0",children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{scope:"col",children:"User"}),y.jsx("th",{scope:"col",children:"Last Login"})]})}),y.jsx("tbody",{children:O.map(K=>{const X=K.last_login_at?vd(K.last_login_at,Ls):"";return y.jsxs("tr",{children:[y.jsxs("td",{children:[y.jsx("div",{className:"fw-semibold",children:K.name||K.email||`User ${K.id}`}),K.email&&y.jsx("div",{className:"text-muted small",children:K.email})]}),y.jsx("td",{children:X})]},`${K.id}-${K.email}`)})})]})})})]}),y.jsx("div",{className:"card-footer text-end bg-transparent border-top",children:y.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:ee,disabled:c,"aria-busy":c,children:c?"Downloading":"Download CSV"})})]})})]})]})]})}function s1(){return y.jsxs("section",{children:[y.jsx("h1",{children:"Admin"}),y.jsxs("ul",{children:[y.jsx("li",{children:y.jsx(ci,{to:"/admin/settings",children:"Settings"})}),y.jsx("li",{children:y.jsx(ci,{to:"/admin/roles",children:"Roles"})}),y.jsx("li",{children:y.jsx(ci,{to:"/admin/users",children:"Users"})}),y.jsx("li",{children:y.jsx(ci,{to:"/admin/user-roles",children:"User Roles"})}),y.jsx("li",{children:y.jsx(ci,{to:"/admin/audit",children:"Audit"})}),y.jsx("li",{children:y.jsx("a",{href:"/api/docs",children:"API Documentation"})})]})]})}const Ip=[{value:"LOCAL",label:"Local date & time",example:"Example: 9/30/2025, 5:23:01 PM"},{value:"ISO_8601",label:"ISO 8601 (UTC)",example:"Example: 2025-09-30 21:23:01Z"},{value:"RELATIVE",label:"Relative time",example:"Example: 5 minutes ago"}];function o1(){const[t,e]=S.useState(!0),[n,i]=S.useState(!1),[o,a]=S.useState(null),[c,u]=S.useState(0),[f,h]=S.useState(7),[g,v]=S.useState(!1),[x,_]=S.useState(50),[w,k]=S.useState(365),[C,T]=S.useState(Ls),[M,B]=S.useState(""),[A,Y]=S.useState(25),ee="/opt/phpgrc/shared/blobs",[R,O]=S.useState(ee),[K,X]=S.useState(!1),U=S.useRef(null);S.useEffect(()=>{(async()=>{e(!0),a(null);try{const H=(await rr("/api/admin/settings"))?.config?.core??{},Z=H.metrics??{},F=H.rbac??{},N=H.audit??{},z=H.evidence??{},se=G(Number(Z.cache_ttl_seconds??0),0,2592e3),pe=G(Number(Z.rbac_denies?.window_days??7),7,365),ye=!!(F.require_auth??!1),ue=G(Number(F.user_search?.default_per_page??50),1,500),Te=G(Number(N.retention_days??365),1,730),De=Fo(H.ui?.time_format),ze=typeof z?.blob_storage_path=="string"?z.blob_storage_path.trim():"",nt=G(Number(z?.max_mb??25),1,4096);u(se),h(pe),v(ye),_(ue),k(Te),T(De),B(ze),O(ee),Y(nt),U.current={cacheTtl:se,rbacDays:pe,rbacRequireAuth:ye,rbacUserSearchPerPage:ue,retentionDays:Te,timeFormat:De,evidenceBlobPath:ze,evidenceMaxMb:nt}}catch{a("Failed to load settings.")}finally{e(!1)}})()},[]);const G=(J,H,Z)=>Math.max(H,Math.min(Z,Math.trunc(J))),oe=()=>({cacheTtl:G(Number(c)||0,0,2592e3),rbacDays:G(Number(f)||7,7,365),rbacRequireAuth:g,rbacUserSearchPerPage:G(Number(x)||50,1,500),retentionDays:G(Number(w)||365,1,730),timeFormat:C,evidenceBlobPath:M.trim(),evidenceMaxMb:G(Number(A)||25,1,4096)}),de=()=>{const J=oe(),H=U.current,Z={apply:!0};if(!H)return Z.rbac={require_auth:J.rbacRequireAuth,user_search:{default_per_page:J.rbacUserSearchPerPage}},Z.audit={retention_days:J.retentionDays},Z.metrics={cache_ttl_seconds:J.cacheTtl,rbac_denies:{window_days:J.rbacDays}},Z.ui={time_format:J.timeFormat},Z.evidence={blob_storage_path:J.evidenceBlobPath,max_mb:J.evidenceMaxMb},Z;const F={};J.rbacRequireAuth!==H.rbacRequireAuth&&(F.require_auth=J.rbacRequireAuth),J.rbacUserSearchPerPage!==H.rbacUserSearchPerPage&&(F.user_search={default_per_page:J.rbacUserSearchPerPage}),Object.keys(F).length>0&&(Z.rbac=F),J.retentionDays!==H.retentionDays&&(Z.audit={retention_days:J.retentionDays});const N={};J.cacheTtl!==H.cacheTtl&&(N.cache_ttl_seconds=J.cacheTtl),J.rbacDays!==H.rbacDays&&(N.rbac_denies={window_days:J.rbacDays}),Object.keys(N).length>0&&(Z.metrics=N),J.timeFormat!==H.timeFormat&&(Z.ui={time_format:J.timeFormat});const z={};return J.evidenceBlobPath!==H.evidenceBlobPath&&(z.blob_storage_path=J.evidenceBlobPath),J.evidenceMaxMb!==H.evidenceMaxMb&&(z.max_mb=J.evidenceMaxMb),Object.keys(z).length>0&&(Z.evidence=z),Z};async function fe(J){J.preventDefault(),i(!0),a(null);try{const H=de();if(!Object.keys(H).some(se=>se!=="apply")){a("No changes to save.");return}const F=await pg("/api/admin/settings",H);let N=null;if(F&&typeof F=="object"){const se=F;typeof se.message=="string"?N=se.message:se.note==="stub-only"&&(N="Validated. Not persisted (stub).")}a(N??"Saved.");const z=oe();U.current=z,B(z.evidenceBlobPath),O(ee),h(z.rbacDays),Y(z.evidenceMaxMb)}catch{a("Save failed.")}finally{i(!1)}}async function me(){if(!K&&window.confirm("Purge all evidence records? This cannot be undone.")){X(!0),a(null);try{const J=await Rs("/api/admin/evidence/purge",{confirm:!0}),H=typeof J?.deleted=="number"?J.deleted:0;H>0?a(`Purged ${H} evidence item${H===1?"":"s"}.`):J?.note==="evidence-table-missing"?a("Evidence table not available."):a("No evidence to purge.")}catch{a("Purge failed.")}finally{X(!1)}}}return y.jsxs("main",{id:"main",className:"container py-3",children:[y.jsx("h1",{className:"mb-3",children:"Admin Settings"}),t?y.jsx("p",{children:"Loading"}):y.jsxs("form",{onSubmit:fe,className:"vstack gap-3","aria-label":"admin-settings",children:[y.jsxs("section",{className:"card",children:[y.jsx("div",{className:"card-header",children:y.jsx("strong",{children:"Authentication"})}),y.jsxs("div",{className:"card-body vstack gap-3",children:[y.jsxs("div",{className:"form-check",children:[y.jsx("input",{id:"rbacRequireAuth",type:"checkbox",className:"form-check-input",checked:g,onChange:J=>v(J.target.checked)}),y.jsx("label",{htmlFor:"rbacRequireAuth",className:"form-check-label",children:"Enforce Authentication"})]}),y.jsx("div",{className:"row g-2 align-items-end",children:y.jsxs("div",{className:"col-sm-4",children:[y.jsx("label",{htmlFor:"rbacUserSearchPerPage",className:"form-label",children:"User search default per-page"}),y.jsx("input",{id:"rbacUserSearchPerPage",type:"number",min:1,max:500,className:"form-control",value:x,onChange:J=>_(G(Number(J.target.value)||50,1,500))})]})})]})]}),y.jsxs("section",{className:"card",children:[y.jsx("div",{className:"card-header",children:y.jsx("strong",{children:"Audit"})}),y.jsxs("div",{className:"card-body",children:[y.jsx("label",{htmlFor:"retentionDays",className:"form-label",children:"Retention days"}),y.jsx("input",{id:"retentionDays",type:"number",min:1,max:730,className:"form-control",value:w,onChange:J=>k(Math.max(1,Math.min(730,Number(J.target.value)||1)))})]})]}),y.jsxs("section",{className:"card",children:[y.jsx("div",{className:"card-header",children:y.jsx("strong",{children:"Interface"})}),y.jsxs("div",{className:"card-body",children:[y.jsx("label",{htmlFor:"timeFormat",className:"form-label",children:"Timestamp display"}),y.jsx("select",{id:"timeFormat",className:"form-select",value:C,onChange:J=>T(Fo(J.target.value)),children:Ip.map(J=>y.jsx("option",{value:J.value,children:J.label},J.value))}),y.jsx("div",{className:"form-text",children:Ip.find(J=>J.value===C)?.example})]})]}),y.jsxs("section",{className:"card",children:[y.jsx("div",{className:"card-header",children:y.jsx("strong",{children:"Evidence"})}),y.jsxs("div",{className:"card-body vstack gap-3",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"evidenceBlobPath",className:"form-label",children:"Blob storage path"}),y.jsx("input",{id:"evidenceBlobPath",type:"text",className:"form-control",value:M,onChange:J=>B(J.target.value),placeholder:R,autoComplete:"off",onFocus:()=>O(""),onBlur:()=>O(ee)}),y.jsx("div",{className:"form-text",children:"Leave blank to keep storing evidence in the database."})]}),y.jsx("div",{className:"row g-2 align-items-end",children:y.jsxs("div",{className:"col-sm-4",children:[y.jsx("label",{htmlFor:"evidenceMaxMb",className:"form-label",children:"Maximum file size (MB)"}),y.jsx("input",{id:"evidenceMaxMb",type:"number",min:1,max:4096,className:"form-control",value:A,onChange:J=>{const H=Math.trunc(Number(J.target.value)||1);Y(G(H,1,4096))}}),y.jsx("div",{className:"form-text",children:"Files larger than this limit will be rejected."})]})}),y.jsxs("div",{className:"d-flex flex-column flex-sm-row align-items-sm-center gap-2",children:[y.jsx("button",{type:"button",className:"btn btn-outline-danger",onClick:()=>void me(),disabled:n||K,children:K?"Purging":"Purge evidence"}),y.jsx("span",{className:"text-muted small",children:"Irreversibly deletes all stored evidence records."})]})]})]}),y.jsxs("section",{className:"card",children:[y.jsx("div",{className:"card-header",children:y.jsx("strong",{children:"Metrics"})}),y.jsx("div",{className:"card-body vstack gap-3",children:y.jsxs("div",{className:"row g-2 align-items-end",children:[y.jsxs("div",{className:"col-sm-4",children:[y.jsx("label",{htmlFor:"cacheTtl",className:"form-label",children:"Cache TTL (seconds)"}),y.jsx("input",{id:"cacheTtl",type:"number",min:0,max:2592e3,className:"form-control",value:c,onChange:J=>u(Math.max(0,Math.min(2592e3,Number(J.target.value)||0)))})]}),y.jsxs("div",{className:"col-sm-4",children:[y.jsx("label",{htmlFor:"rbacDays",className:"form-label",children:"Authentication window (days)"}),y.jsx("input",{id:"rbacDays",type:"number",className:"form-control",value:f,onChange:J=>{const H=Math.trunc(Number(J.target.value));h(Number.isFinite(H)?H:0)}})]})]})})]}),y.jsxs("div",{className:"hstack gap-2",children:[y.jsx("button",{type:"submit",className:"btn btn-primary",disabled:n||K,children:"Save"}),o&&y.jsx("span",{"aria-live":"polite",className:"text-muted",children:o})]})]})]})}function dt(t){return t!==null&&typeof t=="object"}function zp(t,e,n){return!Number.isFinite(t)||t<e?e:t>n?n:t}function iy(t){if(!dt(t))return null;const e=Number(t.id??0),n=String(t.name??""),i=String(t.email??"");return!Number.isFinite(e)||e<=0?null:{id:e,name:n,email:i}}function xd(t){if(t instanceof Ft){const e=t.body,n=dt(e)&&typeof e.code=="string"?e.code:"REQUEST_FAILED",i=dt(e)&&typeof e.message=="string"?e.message:void 0;return{ok:!1,code:n,message:i}}return{ok:!1,code:"NETWORK_ERROR"}}async function bd(){try{const t=await rr("/api/rbac/roles"),e=dt(t)?t:{},n=[];let i=!1;const o=c=>{Array.isArray(c)&&(i=!0,n.push(...c))};if(o(t),o(e.roles),o(e.data),!i)return{ok:!1,roles:[],note:"invalid_response"};const a=typeof e.note=="string"?e.note:void 0;return{ok:!0,roles:n,note:a}}catch{return{ok:!1,roles:[],note:"network_error"}}}async function a1(t){try{const e=await Rs("/api/rbac/roles",{name:t}),n=dt(e)?e:{},i=n.role,o=dt(i)?i:void 0,a=o&&o.id!==void 0?String(o.id):void 0,c=o&&o.name!==void 0?String(o.name):void 0;if(n.ok===!0&&a&&c)return{kind:"created",status:201,roleId:a,roleName:c,raw:e};if((typeof n.note=="string"?n.note:void 0)==="stub-only"){const g=n.accepted;let v=t;if(dt(g)){const x=g.name;typeof x=="string"&&(v=x)}return{kind:"stub",status:202,acceptedName:v,raw:e}}return{kind:"error",status:400,code:typeof n.code=="string"?n.code:void 0,raw:e}}catch(e){if(e instanceof Ft){const n=e.body,i=dt(n)&&typeof n.code=="string"?n.code:void 0,o=dt(n)&&typeof n.message=="string"?n.message:void 0;let a;if(dt(n?.errors)){const c=n.errors;for(const u of Object.values(c))if(Array.isArray(u)){const f=u.find(h=>typeof h=="string"&&h.trim()!=="");if(f){a=f;break}}}return{kind:"error",status:e.status,code:i,message:a??o,raw:n}}return{kind:"error",status:0,code:"NETWORK_ERROR"}}}async function l1(t,e){try{const n=await zx(`/api/rbac/roles/${encodeURIComponent(t)}`,{name:e}),i=dt(n)?n:{};if(i.ok===!0&&dt(i.role)){const u=i.role,f=typeof u.id=="string"?u.id:void 0,h=typeof u.name=="string"?u.name:void 0;if(f&&h)return{kind:"updated",status:200,roleId:f,roleName:h,raw:n}}if((typeof i.note=="string"?i.note:void 0)==="stub-only"){const u=dt(i.accepted)?i.accepted:void 0;return{kind:"stub",status:202,acceptedName:u&&typeof u.name=="string"?u.name:void 0,raw:n}}const a=typeof i.code=="string"?i.code:void 0,c=typeof i.message=="string"?i.message:void 0;return{kind:"error",status:typeof(i.status??400)=="number"?i.status:400,code:a,message:c,raw:n}}catch(n){if(n instanceof Ft){const i=n.body,o=dt(i)&&typeof i.code=="string"?i.code:void 0,a=dt(i)&&typeof i.message=="string"?i.message:void 0;return{kind:"error",status:n.status,code:o,message:a,raw:i??n}}return{kind:"error",status:0,code:"NETWORK_ERROR"}}}async function c1(t){try{const e=await Ml(`/api/rbac/roles/${encodeURIComponent(t)}`),n=dt(e)?e:{};if(n.ok===!0)return{kind:"deleted",status:200,raw:e};if((typeof n.note=="string"?n.note:void 0)==="stub-only")return{kind:"stub",status:202,raw:e};const o=typeof n.code=="string"?n.code:void 0,a=typeof n.message=="string"?n.message:void 0;return{kind:"error",status:typeof(n.status??400)=="number"?n.status:400,code:o,message:a,raw:e}}catch(e){if(e instanceof Ft){const n=e.body,i=dt(n)&&typeof n.code=="string"?n.code:void 0,o=dt(n)&&typeof n.message=="string"?n.message:void 0;return{kind:"error",status:e.status,code:i,message:o,raw:n??e}}return{kind:"error",status:0,code:"NETWORK_ERROR"}}}async function Vu(t){try{const e=await rr(`/api/rbac/users/${encodeURIComponent(String(t))}/roles`),n=dt(e)?e:{};if(n.ok===!0)return e;const i=iy(n.user),o=Array.isArray(n.roles)?n.roles.filter(u=>typeof u=="string"):null;if(i&&o)return{ok:!0,user:i,roles:o};const a=typeof n.code=="string"?n.code:"REQUEST_FAILED",c=typeof n.message=="string"?n.message:void 0;return{ok:!1,code:a,message:c}}catch(e){return xd(e)}}async function u1(t,e){try{const n=await Rs(`/api/rbac/users/${encodeURIComponent(String(t))}/roles/${encodeURIComponent(e)}`),i=dt(n)?n:{};if(i.ok===!0)return n;const o=typeof i.code=="string"?i.code:"REQUEST_FAILED",a=typeof i.message=="string"?i.message:void 0;return{ok:!1,code:o,message:a}}catch(n){return xd(n)}}async function d1(t,e){try{const n=await Ml(`/api/rbac/users/${encodeURIComponent(String(t))}/roles/${encodeURIComponent(e)}`),i=dt(n)?n:{};if(i.ok===!0)return n;const o=typeof i.code=="string"?i.code:"REQUEST_FAILED",a=typeof i.message=="string"?i.message:void 0;return{ok:!1,code:o,message:a}}catch(n){return xd(n)}}async function _d(t,e=1,n=50){try{const i=zp(Number(e)||1,1,Number.MAX_SAFE_INTEGER),o=zp(Number(n)||50,1,500),a=await rr("/api/rbac/users/search",{q:t,page:i,per_page:o}),c=dt(a)?a:{},f=(Array.isArray(c.data)?c.data:[]).map(iy).filter(w=>!!w),h=dt(c.meta)?c.meta:{},g={page:Number(h.page??i)||i,per_page:Number(h.per_page??o)||o,total:Number(h.total??f.length)||0,total_pages:Number(h.total_pages??1)||1};if(c.ok===!0||Array.isArray(c.data)&&dt(c.meta))return{ok:!0,data:f,meta:g};const x=typeof c.code=="string"?c.code:"REQUEST_FAILED",_=typeof c.message=="string"?c.message:void 0;return{ok:!1,status:400,code:x,message:_,raw:a}}catch(i){if(i instanceof Ft){const o=i.body,a=dt(o)&&typeof o.code=="string"?o.code:"REQUEST_FAILED",c=dt(o)&&typeof o.message=="string"?o.message:void 0;return{ok:!1,status:i.status,code:a,message:c,raw:o}}return{ok:!1,status:0,code:"NETWORK_ERROR"}}}function f1(t){return t.normalize("NFKD").replace(/[\u0300-\u036f]/g,"")}function al(t){if(typeof t=="string"){const e=t.trim();return e===""?null:e}return typeof t=="number"&&Number.isFinite(t)?String(t):null}function wd(t){const e=f1(t.trim());return e===""?"":e.replace(/[\s-]+/g,"_").replace(/[^a-zA-Z0-9_]+/g,"").replace(/_+/g,"_").replace(/^_+|_+$/g,"").toLowerCase()}function pr(t){const e=t.trim().replace(/[_-]+/g," ");return e===""?"":e.split(/\s+/).map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join(" ")}function Sd(t){if(!Array.isArray(t))return[];const e=new Set,n=[];for(const i of t){let o=null,a=null;if(typeof i=="string"||typeof i=="number"){const h=al(i);if(!h)continue;o=h,a=h}else if(i&&typeof i=="object"){const h=al(i.id),g=al(i.name);o=h??g,a=g??h}if(o===null)continue;const c=wd(o);if(c===""||e.has(c))continue;e.add(c);const u=a??o,f=pr(u)||pr(c)||u;n.push({id:c,name:f})}return n.sort((i,o)=>i.name.localeCompare(o.name,void 0,{sensitivity:"base"}))}function Hi(t){if(!Array.isArray(t))return[];const e=new Set,n=[];for(const i of t){const o=al(i);if(!o)continue;const a=wd(o);a===""||e.has(a)||(e.add(a),n.push(a))}return n}function h1(){const[t,e]=S.useState(!0),[n,i]=S.useState([]),[o,a]=S.useState(null),[c,u]=S.useState(null),[f,h]=S.useState(""),[g,v]=S.useState(!1);async function x(C){e(!0),u(null);try{const T=await bd();if(C?.aborted)return;T.ok?(i(Sd(T.roles??[])),a(T.note??null)):u("Failed to load roles.")}catch{C?.aborted||u("Failed to load roles.")}finally{C?.aborted||e(!1)}}S.useEffect(()=>{const C=new AbortController;return x(C.signal),()=>C.abort()},[]);const _=async C=>{C.preventDefault(),u(null);const T=f.trim();if(!(T.length<2)){v(!0);try{const M=await a1(T);if(M.kind==="created"){const B=wd(M.roleName),A=pr(B||M.roleName)||M.roleName;u(`Created role ${A} (${M.roleId}).`),h(""),B&&i(Y=>Y.some(R=>R.id===B)?Y:[...Y,{id:B,name:A}].sort((R,O)=>R.name.localeCompare(O.name,void 0,{sensitivity:"base"}))),await x()}else if(M.kind==="stub"){const B=M.acceptedName??T,A=pr(B)??B;u(`Accepted: "${A}". Persistence not implemented.`),h("")}else M.kind==="error"&&(M.code==="FORBIDDEN"?u("Forbidden. Admin required."):M.code==="VALIDATION_FAILED"?u(M.message??"Validation error."):M.message?u(M.message):M.code==="NETWORK_ERROR"?u("Network error. Please retry."):u("Request failed."))}finally{v(!1)}}};async function w(C){const T=prompt("Rename role",C.name);if(T===null)return;const M=T.trim();if(M.length<2){u("Role name must be at least 2 characters.");return}v(!0),u(null);try{const B=await l1(C.id,M);if(B.kind==="updated"){const A=pr(B.roleName)??B.roleName;u(`Renamed to ${A}.`),await x()}else if(B.kind==="stub"){const A=B.acceptedName??M,Y=pr(A)??A;u(`Accepted: "${Y}". Persistence not implemented.`)}else u(B.message??B.code??"Rename failed.")}catch{u("Rename failed.")}finally{v(!1)}}async function k(C){const T=C.name;if(confirm(`Delete ${T}?`)){v(!0),u(null);try{const M=await c1(C.id);M.kind==="deleted"?(u(`${T} deleted.`),await x()):M.kind==="stub"?u("Accepted. Persistence not implemented."):u(M.message??M.code??"Delete failed.")}catch{u("Delete failed.")}finally{v(!1)}}}return t?y.jsxs("div",{className:"container py-5",role:"status","aria-live":"polite","aria-busy":"true",children:[y.jsx("div",{className:"spinner-border","aria-hidden":"true"}),y.jsx("span",{className:"visually-hidden",children:"Loading"})]}):y.jsxs("main",{id:"main",className:"container py-3",role:"main","aria-busy":g,children:[y.jsx("h1",{className:"mb-3",children:"Roles Management"}),y.jsxs("div",{"aria-live":"polite",role:"status",children:[o&&y.jsx("div",{className:"alert alert-secondary",role:"note",children:o}),c&&y.jsx("div",{className:"alert alert-info",role:"alert",children:c})]}),n.length===0?y.jsx("p",{className:"text-muted",children:"No roles defined."}):y.jsx("div",{className:"table-responsive",children:y.jsxs("table",{className:"table table-sm align-middle",children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{scope:"col",children:"Role"}),y.jsx("th",{scope:"col",style:{width:"14rem"},children:"Actions"})]})}),y.jsx("tbody",{children:n.map(C=>y.jsxs("tr",{children:[y.jsx("td",{children:C.name}),y.jsxs("td",{className:"d-flex gap-2",children:[y.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>void w(C),disabled:g,children:"Rename"}),y.jsx("button",{type:"button",className:"btn btn-outline-danger btn-sm",onClick:()=>void k(C),disabled:g,children:"Delete"})]})]},C.id))})]})}),y.jsxs("form",{className:"card p-3",onSubmit:_,noValidate:!0,"aria-busy":g,children:[y.jsxs("div",{className:"mb-2",children:[y.jsx("label",{htmlFor:"roleName",className:"form-label",children:"Create role"}),y.jsx("input",{id:"roleName",type:"text",name:"name",className:"form-control",value:f,minLength:2,maxLength:64,onChange:C=>h(C.target.value),placeholder:"e.g., Compliance Lead",required:!0,autoComplete:"off","aria-describedby":"roleHelp"}),y.jsx("div",{id:"roleHelp",className:"form-text",children:"264 characters. Letters, numbers, spaces, and dashes recommended."})]}),y.jsx("button",{type:"submit",className:"btn btn-primary",disabled:f.trim().length<2||g,children:g?"Submitting":"Submit"})]})]})}function m1(){const[t,e]=S.useState([]),[n,i]=S.useState(!1),[o,a]=S.useState(""),[c,u]=S.useState(!1),[f,h]=S.useState(null),[g,v]=S.useState([]),[x,_]=S.useState(""),[w,k]=S.useState(""),[C,T]=S.useState(1),[M,B]=S.useState(50),[A,Y]=S.useState(!1),[ee,R]=S.useState([]),[O,K]=S.useState(null),[X,U]=S.useState(null),G=S.useRef(null);S.useEffect(()=>{const F=new AbortController;return(async()=>{i(!0);try{const N=await bd();if(F.signal.aborted)return;N.ok?e(Sd(N.roles??[])):(e([]),U("Failed to load roles."))}catch{F.signal.aborted||(e([]),U("Failed to load roles."))}finally{F.signal.aborted||i(!1)}})(),()=>F.abort()},[]);async function oe(){U(null),h(null),v([]);const F=Number(o);if(!Number.isInteger(F)||F<=0){U("Enter a valid User ID.");return}u(!0);try{const N=await Vu(F);if(N.ok){const z=N;h(z.user);const se=Hi(z.roles??[]);v(se),_(""),U(null),queueMicrotask(()=>G.current?.focus())}else U(`Error: ${N.code}${N.message?" - "+N.message:""}`)}catch{U("Network error.")}finally{u(!1)}}const de=S.useMemo(()=>t.filter(F=>!g.includes(F.id)),[t,g]);S.useEffect(()=>{if(de.length===0){x!==""&&_("");return}de.some(F=>F.id===x)||_(de[0].id)},[de,x]);async function fe(){if(f&&x){U(null);try{const F=await u1(f.id,x);if(F.ok){const z=Hi(F.roles??[]);v(z);const se=pr(x);_(""),U(se?`${se} attached.`:"Role attached.")}else U(`Attach failed: ${F.code}${F.message?" - "+F.message:""}`)}catch{U("Attach failed.")}}}async function me(F){if(f){U(null);try{const N=await d1(f.id,F);if(N.ok){const se=Hi(N.roles??[]);v(se);const pe=pr(F);U(pe?`${pe} detached.`:"Role detached.")}else U(`Detach failed: ${N.code}${N.message?" - "+N.message:""}`)}catch{U("Detach failed.")}}}async function J(F){Y(!0),U(null);try{const z=await _d(w,typeof F=="number"?F:C,M);if(z.ok){const se=z;R(se.data),K(se.meta),T(se.meta.page)}else R([]),K(null),U(`Search failed: ${z.code}${z.message?" - "+z.message:""}`)}catch{R([]),K(null),U("Search failed.")}finally{Y(!1)}}function H(F){a(String(F.id)),R([]),K(null),Z(F.id)}async function Z(F){U(null),h(null),v([]),u(!0);try{const N=await Vu(F);if(N.ok){const z=N;h(z.user);const se=Hi(z.roles??[]);v(se),_(""),queueMicrotask(()=>G.current?.focus())}else U(`Error: ${N.code}${N.message?" - "+N.message:""}`)}catch{U("Network error.")}finally{u(!1)}}return y.jsxs("main",{className:"container py-3",children:[y.jsx("h1",{className:"mb-3",children:"User Roles"}),y.jsxs("section",{"aria-labelledby":"search",children:[y.jsx("h2",{id:"search",className:"h5",children:"Search users"}),y.jsxs("div",{className:"row g-2 align-items-end",children:[y.jsxs("div",{className:"col-12 col-md-5",children:[y.jsx("label",{htmlFor:"q",className:"form-label",children:"Query"}),y.jsx("input",{id:"q",type:"text",className:"form-control",value:w,onChange:F=>k(F.currentTarget.value),placeholder:"Search name, email, or role"})]}),y.jsxs("div",{className:"col-6 col-md-2",children:[y.jsx("label",{htmlFor:"per_page",className:"form-label",children:"Per page"}),y.jsx("input",{id:"per_page",type:"number",inputMode:"numeric",className:"form-control",value:M,min:1,max:500,onChange:F=>{const N=Number(F.currentTarget.value)||50;B(Math.max(1,Math.min(500,N)))}})]}),y.jsx("div",{className:"col-auto",children:y.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>{T(1),J(1)},disabled:A,children:A?"Searching":"Search"})})]}),y.jsxs("div",{className:"mt-3",children:[ee.length===0&&!A&&y.jsx("div",{className:"text-muted",children:"No matches"}),ee.length>0&&y.jsx("div",{className:"table-responsive",children:y.jsxs("table",{className:"table table-sm align-middle",children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{style:{width:"6rem"},children:"ID"}),y.jsx("th",{children:"Name"}),y.jsx("th",{children:"Email"}),y.jsx("th",{style:{width:"8rem"},children:"Action"})]})}),y.jsx("tbody",{children:ee.map(F=>y.jsxs("tr",{children:[y.jsx("td",{children:F.id}),y.jsx("td",{children:F.name}),y.jsx("td",{children:F.email}),y.jsx("td",{children:y.jsx("button",{type:"button",className:"btn btn-outline-primary btn-sm",onClick:()=>H(F),children:"Select"})})]},F.id))})]})}),O&&y.jsxs("nav",{"aria-label":"Pagination",className:"d-flex align-items-center gap-2",children:[y.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>{O.page>1&&J(O.page-1)},disabled:A||O.page<=1,children:"Prev"}),y.jsxs("span",{children:["Page ",O.page," of ",O.total_pages,"  ",O.total," total"]}),y.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>{O.page<O.total_pages&&J(O.page+1)},disabled:A||O.page>=O.total_pages,children:"Next"})]})]})]}),y.jsx("hr",{className:"my-4"}),y.jsxs("section",{"aria-labelledby":"lookup",children:[y.jsx("h2",{id:"lookup",className:"h5",children:"Lookup by ID"}),y.jsxs("div",{className:"row g-2 align-items-end",children:[y.jsxs("div",{className:"col-auto",children:[y.jsx("label",{htmlFor:"user_id",className:"form-label",children:"User ID"}),y.jsx("input",{id:"user_id",type:"number",inputMode:"numeric",className:"form-control",value:o,onChange:F=>a(F.currentTarget.value),"aria-describedby":"user_id_help"}),y.jsx("div",{id:"user_id_help",className:"form-text",children:"Enter a numeric user id."})]}),y.jsx("div",{className:"col-auto",children:y.jsx("button",{type:"button",className:"btn btn-primary",disabled:c,onClick:oe,children:c?"Loading":"Load"})})]})]}),y.jsx("div",{"aria-live":"polite",role:"status",className:"mt-3",children:X&&y.jsx("div",{className:"alert alert-info py-2 mb-2",children:X})}),f&&y.jsxs("section",{className:"mt-4","aria-labelledby":"user_section",children:[y.jsx("h2",{id:"user_section",className:"h5",children:"User"}),y.jsx("div",{className:"card mb-3",children:y.jsxs("div",{className:"card-body",children:[y.jsxs("p",{className:"mb-1",children:[y.jsx("strong",{children:"ID:"})," ",f.id]}),y.jsxs("p",{className:"mb-1",children:[y.jsx("strong",{children:"Name:"})," ",f.name]}),y.jsxs("p",{className:"mb-3",children:[y.jsx("strong",{children:"Email:"})," ",f.email]}),y.jsxs("div",{className:"mb-3",children:[y.jsx("label",{htmlFor:"attach_role",className:"form-label",children:"Attach role"}),y.jsxs("div",{className:"d-flex gap-2",children:[y.jsx("select",{id:"attach_role",className:"form-select",value:x,onChange:F=>_(F.currentTarget.value),disabled:n||de.length===0,"aria-disabled":n||de.length===0,children:de.map(F=>y.jsx("option",{value:F.id,children:F.name},F.id))}),y.jsx("button",{ref:G,type:"button",className:"btn btn-success",onClick:fe,disabled:!x,children:"Add"})]}),n&&y.jsx("div",{className:"form-text",children:"Loading roles"})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("h3",{className:"h6",children:"Current roles"}),y.jsxs("ul",{className:"list-unstyled",role:"list",children:[g.length===0&&y.jsx("li",{className:"text-muted",children:"None"}),g.map(F=>{const N=pr(F)||F;return y.jsxs("li",{className:"d-flex align-items-center justify-content-between border rounded p-2 mb-2",children:[y.jsx("span",{children:N}),y.jsx("button",{type:"button",className:"btn btn-outline-danger btn-sm",onClick:()=>me(F),"aria-label":`Remove ${N}`,children:"Remove"})]},F)})]})]})]})})]})]})}async function p1(t){function e(i){return Array.isArray(i)&&i.every(o=>typeof o=="string")}function n(i,o){if(i&&typeof i=="object"){const a=i[o];if(e(a))return a}return null}try{const i=await rr("/api/audit/categories",void 0,t);return((Array.isArray(i)?i:null)??n(i,"_categories")??n(i,"categories")??[]).filter(a=>typeof a=="string")}catch{return[]}}const g1={"auth.login":{label:"Login",category:"AUTH",variant:"success"},"auth.login.success":{label:"Login success",category:"AUTH",variant:"success"},"auth.login.failed":{label:"Login failed",category:"AUTH",variant:"warning"},"auth.login.redirected":{label:"Login redirected",category:"AUTH",variant:"neutral"},"auth.logout":{label:"Logout",category:"AUTH",variant:"neutral"},"auth.mfa.totp.enrolled":{label:"TOTP enrolled",category:"AUTH",variant:"success"},"auth.mfa.totp.verified":{label:"TOTP verified",category:"AUTH",variant:"success"},"auth.bruteforce.locked":{label:"Brute force locked",category:"AUTH",variant:"danger"},"rbac.deny.unauthenticated":{label:"Denied: unauthenticated",category:"RBAC",variant:"danger"},"rbac.deny.role_mismatch":{label:"Denied: missing required role",category:"RBAC",variant:"danger"},"rbac.deny.policy":{label:"Denied: policy",category:"RBAC",variant:"danger"},"rbac.deny.capability":{label:"Denied: capability",category:"RBAC",variant:"danger"},"rbac.deny.unknown_policy":{label:"Denied: unknown policy",category:"RBAC",variant:"danger"},"rbac.user_role.attached":{label:"Role attached",category:"RBAC",variant:"success"},"rbac.user_role.detached":{label:"Role detached",category:"RBAC",variant:"warning"},"rbac.user_role.replaced":{label:"Roles replaced",category:"RBAC",variant:"neutral"},"rbac.role.created":{label:"Role created",category:"RBAC",variant:"success"},"rbac.role.updated":{label:"Role updated",category:"RBAC",variant:"neutral"},"rbac.role.deleted":{label:"Role deleted",category:"RBAC",variant:"warning"},"rbac.user.created":{label:"User created",category:"RBAC",variant:"success"},"rbac.user.deleted":{label:"User deleted",category:"RBAC",variant:"warning"},"evidence.uploaded":{label:"Evidence uploaded",category:"EVIDENCE",variant:"success"},"evidence.downloaded":{label:"Evidence downloaded",category:"EVIDENCE",variant:"neutral"},"evidence.deleted":{label:"Evidence deleted",category:"EVIDENCE",variant:"warning"},"evidence.purged":{label:"Evidence purged",category:"EVIDENCE",variant:"warning"},"export.job.created":{label:"Export started",category:"EXPORTS",variant:"neutral"},"export.job.completed":{label:"Export completed",category:"EXPORTS",variant:"success"},"export.job.failed":{label:"Export failed",category:"EXPORTS",variant:"danger"},"settings.updated":{label:"Settings updated",category:"SETTINGS",variant:"neutral"},"setting.modified":{label:"Setting modified",category:"SETTINGS",variant:"neutral"},"audit.retention.purged":{label:"Audit purged",category:"AUDIT",variant:"warning"},"avatar.uploaded":{label:"Avatar uploaded",category:"AVATARS",variant:"success"},"setup.finished":{label:"Setup finished",category:"SETUP",variant:"success"}},y1={AUTH:"neutral",RBAC:"neutral",EVIDENCE:"neutral",EXPORTS:"neutral",SETTINGS:"neutral",AUDIT:"neutral",AVATARS:"neutral",SETUP:"neutral"};function v1(t,e){const n=g1[t];if(n)return n;if(t.startsWith("rbac.deny."))return{label:"Denied: RBAC",category:"RBAC",variant:"danger"};if(t.startsWith("rbac.user_role."))return{label:"User role changed",category:"RBAC",variant:"neutral"};if(t.startsWith("export."))return{label:"Export event",category:"EXPORTS",variant:"neutral"};if(t.startsWith("evidence."))return{label:"Evidence event",category:"EVIDENCE",variant:"neutral"};if(t.startsWith("auth."))return{label:"Auth event",category:"AUTH",variant:"neutral"};if(t.startsWith("settings."))return{label:"Settings event",category:"SETTINGS",variant:"neutral"};if(t.startsWith("setting."))return{label:"Setting event",category:"SETTINGS",variant:"neutral"};if(t.startsWith("audit."))return{label:"Audit event",category:"AUDIT",variant:"neutral"};if(t.startsWith("avatar."))return{label:"Avatar event",category:"AVATARS",variant:"neutral"};if(t.startsWith("setup."))return{label:"Setup event",category:"SETUP",variant:"neutral"};const i=(e||"OTHER").toUpperCase();return{label:x1(t),category:i,variant:y1[i]??"neutral"}}function x1(t){return t.replace(/\./g," ").replace(/_/g," ").replace(/\s+/g," ").trim().replace(/^\w/,e=>e.toUpperCase())}function sy({headers:t}){return y.jsx("tr",{children:t.map(({key:e,label:n,onToggle:i,isActive:o,filterContent:a,summaryContent:c,className:u})=>y.jsxs("th",{scope:"col",className:u,children:[i?y.jsx("button",{type:"button",className:`btn btn-link p-0 fw-semibold text-start ${o?"":"link-underline-opacity-0"}`,onClick:i,children:n}):y.jsx("span",{className:"fw-semibold",children:n}),c,a]},e))})}function oy(){const[t,e]=S.useState(null),n=S.useCallback(a=>{e(c=>c===a?null:a)},[]),i=S.useCallback(a=>t===a,[t]),o=S.useCallback(()=>{e(null)},[]);return{activeKey:t,toggle:n,isActive:i,reset:o}}const Up={SYSTEM:"System",RBAC:"Access Control",AUTH:"Authentication",SETTINGS:"Settings",EXPORTS:"Exports",EVIDENCE:"Evidence",AVATARS:"Avatars",AUDIT:"Audit Trail",SETUP:"Setup",METRICS:"Metrics",OTHER:"Other"};function Wu(t){const e=t.toUpperCase();if(Up[e])return Up[e];const n=e.toLowerCase().split(/[^a-z0-9]+/i).filter(Boolean);return n.length===0?e:n.map(i=>i.charAt(0).toUpperCase()+i.slice(1)).join(" ")}function b1(t){const e=new Set,n=[];for(const i of t){const o=String(i??"").trim().toUpperCase();!o||e.has(o)||(e.add(o),n.push({value:o,label:Wu(o)}))}return n.sort((i,o)=>i.label.localeCompare(o.label))}function _1(t){const e=new URLSearchParams;return Object.entries(t).forEach(([n,i])=>{if(i==null)return;const o=typeof i=="boolean"?i?"true":"false":String(i);o.length>0&&e.set(n,o)}),e.toString()}function w1(t){return(t instanceof DOMException||typeof t=="object"&&t!==null)&&t.name==="AbortError"}function S1(t){if(t instanceof Error)return t.message;const e=t?.message;return typeof e=="string"?e:"Request failed"}function k1(t){if(!t||typeof t!="object")return{};const e=t,n=e.errors??e.error??e._errors;if(!n||typeof n!="object")return{};const i={};return Object.entries(n).forEach(([o,a])=>{Array.isArray(a)?i[o]=a.filter(c=>typeof c=="string"):typeof a=="string"&&(i[o]=[a])}),i}function C1(t){const e={display:"inline-block",fontSize:"0.85rem",padding:"0.15rem 0.5rem",borderRadius:"999px",border:"1px solid transparent",lineHeight:1.2,whiteSpace:"nowrap"};switch(t){case"success":return{...e,color:"#0f5132",backgroundColor:"#d1e7dd",borderColor:"#badbcc"};case"warning":return{...e,color:"#664d03",backgroundColor:"#fff3cd",borderColor:"#ffecb5"};case"danger":return{...e,color:"#842029",backgroundColor:"#f8d7da",borderColor:"#f5c2c7"};default:return{...e,color:"#0c5460",backgroundColor:"#e2f0f3",borderColor:"#bee5eb"}}}function E1(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}function N1(t){return typeof t.actor_label=="string"&&t.actor_label.trim()!==""?t.actor_label.trim():t.user_id!==null&&t.user_id!==void 0?String(t.user_id):t.actor_id!==null&&t.actor_id!==void 0?String(t.actor_id):"System"}function j1(t,e,n){const i=n||"System",o=E1(t.meta)?t.meta:{},a=typeof t.note=="string"&&t.note.trim()!==""?t.note.trim():"";if(a)return a;const c=typeof o.message=="string"&&o.message.trim()!==""?o.message.trim():"";if(c)return c;const u=v=>{if(v===null)return"null";if(v===void 0)return"n/a";if(typeof v=="string")return v;if(typeof v=="number"||typeof v=="boolean")return String(v);try{return JSON.stringify(v)}catch{return String(v)}},f=t.action??"";if(f==="setting.modified"){const _=[o.setting_label,o.setting_key,o.key,t.entity_id].find(C=>typeof C=="string"&&C.trim()!=="")??"Setting",w=u(o.old_value??o.old),k=u(o.new_value??o.new);return`${_} update by ${i}. Old: ${w} - New: ${k}`}if(f==="settings.update"){const v=Array.isArray(o.changes)?o.changes.length:0;return v>0?`Settings updated by ${i} (${v} ${v===1?"change":"changes"})`:`Settings updated by ${i}`}if(f==="evidence.upload"||f==="evidence.uploaded")return`${typeof o.filename=="string"&&o.filename?o.filename:typeof t.entity_id=="string"&&t.entity_id?t.entity_id:"Evidence"} uploaded to evidence by ${i}`;if(f==="evidence.downloaded")return`${typeof o.filename=="string"&&o.filename?o.filename:typeof t.entity_id=="string"&&t.entity_id?t.entity_id:"Evidence"} downloaded by ${i}`;if(f==="evidence.deleted")return`${typeof o.filename=="string"&&o.filename?o.filename:typeof t.entity_id=="string"&&t.entity_id?t.entity_id:"Evidence"} removed from evidence by ${i}`;if(f==="evidence.read"||f==="evidence.head")return`${typeof o.filename=="string"&&o.filename?o.filename:typeof t.entity_id=="string"&&t.entity_id?t.entity_id:"Evidence"} viewed by ${i}`;if(f==="auth.login")return`${i} logged in`;if(f.startsWith("auth."))return`${e.label} by ${i}`;if(f.startsWith("rbac.user_role.")){const v=typeof o.role=="string"?o.role:"";return v?`${e.label}: ${v} by ${i}`:`${e.label} by ${i}`}const h=typeof t.entity_type=="string"&&t.entity_type?t.entity_type:"",g=typeof t.entity_id=="string"&&t.entity_id?t.entity_id:"";if(h||g){const v=[h,g].filter(Boolean).join(" "),x=` by ${i}`;return v?`${e.label} on ${v}${x}`:`${e.label}${x}`}return`${e.label} by ${i}`}function M1(){const t=Fr(),[e,n]=S.useState(""),[i,o]=S.useState(""),[a,c]=S.useState(""),[u,f]=S.useState(""),[h,g]=S.useState(10),v=S.useRef(h),{activeKey:x,toggle:_,reset:w}=oy(),[k,C]=S.useState([]),[T,M]=S.useState(Ls),[B,A]=S.useState(""),[Y,ee]=S.useState(!1),[R,O]=S.useState([]),[K,X]=S.useState(null),[U,G]=S.useState(null),[oe,de]=S.useState([]),[fe,me]=S.useState("idle"),[J,H]=S.useState(""),[Z,F]=S.useState({}),N=S.useRef(null),z=a?`${a}T00:00:00Z`:void 0,se=u?`${u}T23:59:59Z`:void 0,pe=S.useMemo(()=>_1({category:e||void 0,action:i||void 0,occurred_from:z,occurred_to:se,limit:h,actor_id:U?U.id:void 0}),[e,i,z,se,h,U]),ye=S.useMemo(()=>!a||!u?!0:a<=u,[a,u]);async function ue(q=!1,Se){try{me("loading"),H(""),F({}),N.current?.abort(),N.current=new AbortController;const tt={category:e||void 0,action:i||void 0,occurred_from:z,occurred_to:se,limit:v.current,actor_id:U?U.id:void 0,...Se},rt=q?{...tt,cursor:null}:tt,Ct=await rr("/api/audit",rt,N.current.signal);let zt=[],Ut=null;if(Array.isArray(Ct))zt=Ct;else if(Ct&&typeof Ct=="object"){const yt=Ct;Array.isArray(yt.items)?zt=yt.items:Array.isArray(yt.data)&&(zt=yt.data),typeof yt.time_format=="string"&&(Ut=Fo(yt.time_format))}M(yt=>Ut??yt),de(zt),me("ok")}catch(tt){if(w1(tt))return;if(tt&&typeof tt=="object"&&tt.status===422){const rt=tt.body,Ct=k1(rt);F(Ct),me("error"),H("Validation error");return}me("error"),H(S1(tt))}}S.useEffect(()=>{(async()=>{const q=new AbortController;try{const Se=await p1(q.signal);C(b1(Se))}finally{}return await ue(),()=>q.abort()})()},[]),S.useEffect(()=>{const q=new URLSearchParams(t.search),Se=q.get("category")??"",tt=q.get("action")??"",rt=q.get("occurred_from")??"",Ct=q.get("occurred_to")??"",zt=rt?rt.slice(0,10):"",Ut=Ct?Ct.slice(0,10):"";(Se!==e||tt!==i||zt!==a||Ut!==u)&&(n(Se),o(tt),c(zt),f(Ut),ue(!0,{category:Se||void 0,action:tt||void 0,occurred_from:rt||void 0,occurred_to:Ct||void 0}))},[t.search]);const Te=S.useMemo(()=>`/api/audit/export.csv?${pe}`,[pe]);async function De(q){ee(!0);try{const tt=await _d(B,typeof q=="number"?q:1,10);if(tt.ok){const rt=tt;O(rt.data),X({page:rt.meta.page,total_pages:rt.meta.total_pages})}else O([]),X(null)}finally{ee(!1)}}function ze(q){G(q),O([]),X(null),A(""),w()}function nt(){G(null),O([]),X(null),A("")}const Xt=()=>{if(!ye){Mt();return}U?ue(!0,{actor_id:U.id,limit:v.current}):De()},gt=k.length>0,kt=()=>{F(q=>{if(!q.occurred_from&&!q.occurred_to)return q;const Se={...q};return delete Se.occurred_from,delete Se.occurred_to,Se})},Mt=()=>{F(q=>({...q,occurred_from:["From must be on or before To"],occurred_to:["To must be on or after From"]}))},Pn=q=>{if(!ye){Mt();return}ue(!0,{category:q||void 0})},Qt=q=>Math.min(100,Math.max(1,q)),on=q=>{const Se=Qt(q);if(v.current=Se,g(Se),!ye){Mt();return}ue(!0,{limit:Se})};S.useEffect(()=>{v.current=h},[h]);const le=q=>{!(x!==q)&&q==="user"&&(O([]),X(null),A("")),_(q)},we=()=>{n(""),o(""),c(""),f(""),v.current=10,g(10),G(null),O([]),X(null),A(""),w(),F({}),H(""),ue(!0,{category:void 0,action:void 0,occurred_from:void 0,occurred_to:void 0,actor_id:void 0,limit:10})},$e=a||u?y.jsxs("div",{className:"small text-muted mt-1",children:[a||"Any","  ",u||"Any"]}):null,Ze=x==="timestamp"?y.jsxs("div",{className:"mt-2",children:[y.jsxs("div",{className:"d-flex flex-wrap gap-2",children:[y.jsx("label",{htmlFor:"audit-date-from",className:"form-label visually-hidden",children:"From"}),y.jsx("input",{id:"audit-date-from",type:"date",className:"form-control form-control-sm",value:a,onChange:q=>{const Se=q.target.value;if(c(Se),Se&&u&&Se>u){Mt();return}kt(),ue(!0,{occurred_from:Se?`${Se}T00:00:00Z`:void 0,occurred_to:u?`${u}T23:59:59Z`:void 0})},onKeyDown:q=>{q.key==="Enter"?(q.preventDefault(),ye?ue(!0):Mt()):q.key==="Escape"&&(q.preventDefault(),w())},"aria-invalid":!ye||!!Z.occurred_from?.length}),y.jsx("label",{htmlFor:"audit-date-to",className:"form-label visually-hidden",children:"To"}),y.jsx("input",{id:"audit-date-to",type:"date",className:"form-control form-control-sm",value:u,onChange:q=>{const Se=q.target.value;if(f(Se),a&&Se&&a>Se){Mt();return}kt(),ue(!0,{occurred_from:a?`${a}T00:00:00Z`:void 0,occurred_to:Se?`${Se}T23:59:59Z`:void 0})},onKeyDown:q=>{q.key==="Enter"?(q.preventDefault(),ye?ue(!0):Mt()):q.key==="Escape"&&(q.preventDefault(),w())},"aria-invalid":!ye||!!Z.occurred_to?.length})]}),ye?null:y.jsx("p",{role:"alert",className:"text-danger small mb-0 mt-2",children:"From must be  To"}),Z.occurred_from?.length?y.jsx("ul",{role:"alert",className:"text-danger small mb-0 ps-3 mt-2",children:Z.occurred_from.map((q,Se)=>y.jsx("li",{children:q},Se))}):null,Z.occurred_to?.length?y.jsx("ul",{role:"alert",className:"text-danger small mb-0 ps-3 mt-2",children:Z.occurred_to.map((q,Se)=>y.jsx("li",{children:q},Se))}):null,y.jsx("div",{className:"d-flex flex-wrap gap-2 mt-2",children:y.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>{c(""),f(""),kt(),ue(!0,{occurred_from:void 0,occurred_to:void 0})},disabled:!a&&!u,children:"Clear dates"})})]}):null,an=U?y.jsxs("div",{className:"small text-muted mt-1",children:[U.name||U.email||`id ${U.id}`," (id ",U.id,")"]}):null,Tn=x==="user"?y.jsx("div",{className:"mt-2",children:U?y.jsxs("div",{className:"d-flex flex-column gap-2",children:[y.jsxs("div",{className:"small",children:[y.jsx("span",{className:"fw-semibold",children:U.name||U.email||`id ${U.id}`}),y.jsxs("span",{className:"text-muted ms-2",children:["id ",U.id]})]}),y.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:nt,children:"Clear actor"})]}):y.jsxs(y.Fragment,{children:[y.jsx("label",{htmlFor:"audit-actor",className:"form-label visually-hidden",children:"Actor search"}),y.jsx("input",{id:"audit-actor",className:"form-control form-control-sm",value:B,onChange:q=>A(q.target.value),onKeyDown:q=>{q.key==="Enter"?(q.preventDefault(),Xt()):q.key==="Escape"&&(q.preventDefault(),w())},placeholder:"Search name or email"}),y.jsxs("div",{className:"d-flex flex-wrap gap-2 mt-2",children:[y.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>void De(),"aria-busy":Y,disabled:Y||B.trim()==="",children:Y?"Searching":"Find actor"}),y.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>{O([]),X(null),A("")},disabled:Y&&R.length===0,children:"Clear results"})]}),R.length>0&&y.jsxs("div",{className:"border rounded p-2 mt-2",style:{maxHeight:"220px",overflowY:"auto"},children:[y.jsx("ul",{className:"list-unstyled mb-0",children:R.map(q=>y.jsxs("li",{className:"d-flex justify-content-between gap-2 mb-2",children:[y.jsxs("div",{children:[y.jsx("div",{className:"small fw-semibold",children:q.name?.trim()||q.email||`id ${q.id}`}),q.email&&y.jsx("div",{className:"small text-muted",children:q.email})]}),y.jsx("button",{type:"button",className:"btn btn-outline-primary btn-sm",onClick:()=>ze(q),children:"Select"})]},q.id))}),K&&y.jsxs("div",{className:"d-flex align-items-center justify-content-between gap-2 mt-2",children:[y.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>K.page>1&&void De(K.page-1),disabled:Y||K.page<=1,children:"Prev"}),y.jsxs("span",{className:"small text-muted",children:["Page ",K.page," of ",K.total_pages]}),y.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>K.page<K.total_pages&&void De(K.page+1),disabled:Y||K.page>=K.total_pages,children:"Next"})]})]})]})}):null,en=e?Wu(e):"",ln=e?y.jsx("div",{className:"small text-muted mt-1",children:en}):null,Dn=x==="category"?y.jsxs("div",{className:"mt-2",children:[y.jsx("label",{htmlFor:"audit-category",className:"form-label visually-hidden",children:"Category"}),gt?y.jsxs("select",{id:"audit-category",className:"form-select form-select-sm",value:e,onChange:q=>{const Se=q.target.value;n(Se),Pn(Se)},"aria-invalid":!!Z.category?.length,children:[y.jsx("option",{value:"",children:"(any)"}),k.map(q=>y.jsx("option",{value:q.value,children:q.label},q.value))]}):y.jsx("input",{id:"audit-category",className:"form-control form-control-sm",value:e,onChange:q=>n(q.target.value),onBlur:q=>Pn(q.target.value),onKeyDown:q=>{q.key==="Enter"?(q.preventDefault(),Pn(q.currentTarget.value)):q.key==="Escape"&&(q.preventDefault(),w())},placeholder:"e.g. RBAC","aria-invalid":!!Z.category?.length}),Z.category?.length?y.jsx("ul",{role:"alert",className:"text-danger small mb-0 ps-3 mt-2",children:Z.category.map((q,Se)=>y.jsx("li",{children:q},Se))}):null]}):null,Ln=i?y.jsx("div",{className:"small text-muted mt-1",children:i}):null,It=x==="action"?y.jsxs("div",{className:"mt-2",children:[y.jsx("label",{htmlFor:"audit-action",className:"form-label visually-hidden",children:"Action"}),y.jsx("input",{id:"audit-action",className:"form-control form-control-sm",value:i,onChange:q=>o(q.target.value),onKeyDown:q=>{q.key==="Enter"?(q.preventDefault(),ye?ue(!0):Mt()):q.key==="Escape"&&(q.preventDefault(),w())},placeholder:"e.g. Role attached","aria-invalid":!!Z.action?.length}),y.jsx("div",{className:"form-text",children:'Matches action labels, e.g. "Role attached".'}),Z.action?.length?y.jsx("ul",{role:"alert",className:"text-danger small mb-0 ps-3 mt-2",children:Z.action.map((q,Se)=>y.jsx("li",{children:q},Se))}):null]}):null,Wt=[{key:"timestamp",label:"Timestamp",onToggle:()=>le("timestamp"),isActive:x==="timestamp",summaryContent:$e,filterContent:Ze},{key:"user",label:"User",onToggle:()=>le("user"),isActive:x==="user",summaryContent:an,filterContent:Tn},{key:"ip",label:"IP"},{key:"category",label:"Category",onToggle:()=>le("category"),isActive:x==="category",summaryContent:ln,filterContent:Dn},{key:"action",label:"Action",onToggle:()=>le("action"),isActive:x==="action",summaryContent:Ln,filterContent:It},{key:"message",label:"Message"},{key:"id",label:"Event ID"}];return y.jsxs("section",{"aria-busy":fe==="loading",children:[y.jsx("h1",{children:"Audit"}),fe==="loading"&&y.jsx("p",{children:"Loading."}),fe==="error"&&y.jsxs("p",{role:"alert",children:["Error: ",J]}),y.jsxs("section",{className:"d-flex flex-wrap align-items-center gap-3 mb-3",children:[y.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:we,disabled:fe==="loading",children:"Reset filters"}),y.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>{if(!ye){Mt();return}ue(!0,{limit:v.current})},disabled:fe==="loading",children:fe==="loading"?"Refreshing":"Refresh"}),y.jsxs("div",{className:"d-flex flex-column",children:[y.jsxs("div",{className:"d-flex align-items-center gap-2",children:[y.jsx("label",{htmlFor:"audit-limit",className:"form-label mb-0",children:"Limit"}),y.jsx("input",{id:"audit-limit",type:"number",min:1,max:100,step:1,className:"form-control form-control-sm",style:{width:"5rem"},value:h,onChange:q=>{const Se=q.target.value;if(Se===""){v.current=10,g(10);return}const tt=Number(Se);if(Number.isNaN(tt)||tt<1){v.current=1,g(1);return}on(tt)},onKeyDown:q=>{q.key==="Enter"?(q.preventDefault(),on(v.current||10)):q.key==="Escape"&&(q.preventDefault(),v.current=h)},"aria-invalid":!!Z.limit?.length})]}),Z.limit?.length?y.jsx("ul",{role:"alert",className:"text-danger small mb-0 ps-3 mt-1",children:Z.limit.map((q,Se)=>y.jsx("li",{children:q},Se))}):null]})]}),y.jsx("div",{className:"table-responsive",children:y.jsxs("table",{"aria-label":"Audit events",className:"table",children:[y.jsx("thead",{children:y.jsx(sy,{headers:Wt})}),y.jsx("tbody",{children:oe.length===0&&fe==="ok"?y.jsx("tr",{children:y.jsx("td",{colSpan:7,children:"No results"})}):oe.map((q,Se)=>{const tt=q.id||q.ulid||String(Se),rt=typeof q.occurred_at=="string"&&q.occurred_at||typeof q.created_at=="string"&&q.created_at||typeof q.ts=="string"&&q.ts||"",Ct=vd(rt,T),zt=N1(q),Ut=String(q.category??""),yt=v1(String(q.action??""),Ut),Vn=Wu(yt.category||Ut),wn=j1(q,yt,zt);return y.jsxs("tr",{children:[y.jsx("td",{title:rt,children:Ct}),y.jsx("td",{children:zt}),y.jsx("td",{children:String(q.ip??"")}),y.jsx("td",{children:Vn}),y.jsx("td",{children:y.jsx("span",{style:C1(yt.variant),"aria-label":`${yt.label} (${q.action??""})`,title:String(q.action??""),children:yt.label})}),y.jsx("td",{children:wn}),y.jsx("td",{style:{fontFamily:"monospace"},children:tt})]},tt)})})]})}),y.jsx("div",{style:{marginTop:"0.75rem"},children:y.jsx("a",{href:Te,className:"btn btn-outline-secondary btn-sm","aria-disabled":fe==="loading",onClick:q=>{fe==="loading"&&q.preventDefault()},children:"Download CSV"})})]})}function Ro(t){return t!==null&&typeof t=="object"}function R1(t){if(!t)return null;const e=/filename\*=(?:UTF-8'')?([^;]+)/i.exec(t);if(e?.[1])try{return decodeURIComponent(e[1].replace(/(^"|"$)/g,""))}catch{return e[1].replace(/(^"|"$)/g,"")}const n=/filename="([^"]+)"/i.exec(t);if(n?.[1])return n[1];const i=/filename=([^;]+)/i.exec(t);return i?.[1]?i[1].trim().replace(/(^"|"$)/g,""):null}function Ku(t,e){const n=encodeURIComponent(t),i=mg(e?{sha256:e}:void 0);return`${vi}/api/evidence/${n}${i}`}async function P1(t,e){const n=Ku(t,e),i=await fetch(n,{method:"GET",credentials:"same-origin",headers:xi({Accept:"application/octet-stream"})}),o=i.headers.get("content-type")??"";if(!i.ok){let f=null;const h=o.toLowerCase();try{h.includes("application/json")||h.includes("+json")?f=await i.json():f=await i.text()}catch{f=null}throw new Ft(i.status,f)}const a=await i.blob(),c=R1(i.headers.get("content-disposition"))??t;return{blob:a,filename:c,mime:o!==""?o:"application/octet-stream"}}async function T1(t){if(typeof window>"u"||typeof document>"u")return;const e=t.filename?.trim()!==""?t.filename.trim():t.id,{blob:n,filename:i}=await P1(t.id,t.sha256);if(typeof URL.createObjectURL=="function"){const o=URL.createObjectURL(n),a=document.createElement("a");a.href=o,a.download=i?.trim()!==""?i:e,a.rel="noopener noreferrer",a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a),window.setTimeout(()=>{typeof URL.revokeObjectURL=="function"&&URL.revokeObjectURL(o)},1e3)}else typeof window.open=="function"?window.open(Ku(t.id,t.sha256),"_blank","noopener"):window.location.assign(Ku(t.id,t.sha256))}async function D1(t={}){try{const e=await rr("/api/evidence",t),n=Ro(e)?e:{};if(n.ok===!0&&Array.isArray(n.data)){const a=n.data.map(f=>Ro(f)?f:null).filter(f=>!!f).map(f=>({id:String(f.id??""),owner_id:Number(f.owner_id??0),filename:String(f.filename??""),mime:String(f.mime??""),mime_label:typeof f.mime_label=="string"&&f.mime_label.trim()!==""?f.mime_label:String(f.mime??""),size:Number(f.size??0),sha256:String(f.sha256??""),version:Number(f.version??0),created_at:String(f.created_at??"")})).filter(f=>f.id&&Number.isFinite(f.owner_id)),c=typeof n.next_cursor=="string"?n.next_cursor:(n.next_cursor===null,null),u=typeof n.time_format=="string"?Fo(n.time_format):void 0;return{ok:!0,data:a,next_cursor:c,filters:Ro(n.filters)?n.filters:void 0,time_format:u}}const i=typeof n.code=="string"?n.code:"REQUEST_FAILED",o=typeof n.message=="string"?n.message:void 0;return{ok:!1,status:400,code:i,message:o,raw:e}}catch{return{ok:!1,status:0,code:"NETWORK_ERROR"}}}async function L1(t,e){const n=new FormData;n.append("file",t);const i=await Ux("/api/evidence",n,e);if(!Ro(i)||i.ok!==!0)throw new Error("Invalid response from upload endpoint");const o=typeof i.id=="string"?i.id:"";if(!o)throw new Error("Missing id in upload response");const a=i.version,c=i.size??i.size_bytes,u=typeof i.sha256=="string"?i.sha256:"",f=typeof i.mime=="string"?i.mime:"",h=typeof i.name=="string"?i.name:"",g=Number(a??0),v=Number(c??0);return{ok:!0,id:o,version:Number.isNaN(g)?0:g,sha256:u,size:Number.isNaN(v)?0:v,mime:f,name:h}}async function A1(t,e){const n=await Ml(`/api/evidence/${encodeURIComponent(t)}`,e);if(!Ro(n)||n.ok!==!0)throw new Error("Invalid response from delete endpoint");const i=typeof n.id=="string"&&n.id?n.id:t,o=n.deleted;return{ok:!0,id:i,deleted:o===void 0?!0:!!o}}function O1(t){return e1(t)}function F1(t,e=Ls){return vd(t,e)}const Xi=new Map,tl=new Map;function kd(t){return Number.isInteger(t)&&t>0}async function I1(t){try{const e=await Vu(t);return e.ok?(Xi.set(t,e.user),e.user):(Xi.set(t,null),null)}catch{}return null}async function z1(t){if(!kd(t))return null;if(Xi.has(t))return Xi.get(t)??null;if(tl.has(t))return tl.get(t);const e=I1(t).finally(()=>{tl.delete(t)});return tl.set(t,e),e}function Bp(t){for(const e of t)kd(e.id)&&Xi.set(e.id,e)}function $p(t){return Xi.get(t)}async function U1(t){const e=new Set;for(const i of t){const o=Number(i);kd(o)&&e.add(o)}await Promise.all(Array.from(e).map(i=>z1(i)));const n=new Map;for(const i of e)n.set(i,Xi.get(i)??null);return n}function B1(t){const e=new Set;for(const n of t){const i=Number(n.owner_id);Number.isFinite(i)&&i>0&&e.add(i)}return Array.from(e).sort((n,i)=>n-i)}function $1(t,e){let n=!1;const i=new Map(t);for(const[o,a]of e.entries())i.get(o)!==a&&(i.set(o,a),n=!0);return n?i:t}function H1(t,e){if(!e)return;const n=[];return e.name?.trim()&&n.push(e.name.trim()),e.email?.trim()&&n.push(`<${e.email.trim()}>`),n.push(`id ${t}`),n.join(" ")}function V1(t,e){if(!e)return String(t);const n=e.name?.trim();if(n)return n;const i=e.email?.trim();return i||String(t)}function W1({headers:t,items:e,fetchState:n,timeFormat:i,onDownload:o,downloadingId:a,onDelete:c,deletingId:u}){const f=S.useMemo(()=>B1(e),[e]),h=S.useMemo(()=>f.join(","),[f]),[g,v]=S.useState(()=>{const x=new Map;for(const _ of f){const w=$p(_);w!==void 0&&x.set(_,w)}return x});return S.useEffect(()=>{v(x=>{let _=!1;const w=new Map(x);for(const k of f)if(!w.has(k)){const C=$p(k);C!==void 0&&(w.set(k,C),_=!0)}return _?w:x})},[f]),S.useEffect(()=>{if(f.length===0){v(new Map);return}let x=!1;return U1(f).then(_=>{x||v(w=>$1(w,_))}),()=>{x=!0}},[h,f]),e.length===0&&n==="ok"?y.jsx("div",{className:"alert alert-light border",role:"status",children:"No evidence to display."}):y.jsx("div",{className:"table-responsive",children:y.jsxs("table",{className:"table","aria-label":"Evidence results",children:[y.jsx("thead",{children:y.jsx(sy,{headers:t})}),y.jsx("tbody",{children:e.map(x=>{const _=g.get(x.owner_id),w=F1(x.created_at,i),k=O1(x.size),C=x.mime_label?.trim()?x.mime_label:x.mime,T=x.sha256?`${x.sha256.slice(0,12)}`:"";return y.jsxs("tr",{children:[y.jsx("td",{title:x.created_at,children:w}),y.jsx("td",{title:H1(x.owner_id,_),children:_===void 0?y.jsx("span",{className:"text-muted",children:"Loading..."}):V1(x.owner_id,_)}),y.jsx("td",{children:x.filename}),y.jsx("td",{title:Number.isFinite(x.size)?`${x.size.toLocaleString()} bytes`:void 0,children:k}),y.jsx("td",{title:x.mime,children:C}),y.jsx("td",{style:{fontFamily:"monospace"},children:T}),y.jsx("td",{style:{fontFamily:"monospace"},children:x.id}),y.jsx("td",{children:x.version}),y.jsx("td",{children:y.jsx("button",{type:"button",className:"btn btn-outline-primary btn-sm",onClick:()=>o(x),disabled:a===x.id,"aria-label":`Download ${x.filename||x.id}`,children:a===x.id?"Downloading":"Download"})}),y.jsx("td",{children:y.jsx("button",{type:"button",className:"btn btn-outline-danger btn-sm",onClick:()=>c(x),disabled:u===x.id,"aria-label":`Delete ${x.filename||x.id}`,children:u===x.id?"Deleting":"Delete"})})]},x.id)})})]})})}function Hp(){return{display:"inline-block",fontSize:"0.85rem",padding:"0.15rem 0.5rem",borderRadius:"999px",border:"1px solid #bee5eb",lineHeight:1.2,whiteSpace:"nowrap",color:"#0c5460",backgroundColor:"#e2f0f3"}}const K1=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function Vp(t){const e=t.getUTCFullYear(),n=String(t.getUTCMonth()+1).padStart(2,"0"),i=String(t.getUTCDate()).padStart(2,"0");return`${e}-${n}-${i}`}function Wp(t){if(!/^\d{4}-\d{2}-\d{2}$/.test(t))return null;const[e,n,i]=t.split("-"),o=Number(e),a=Number(n),c=Number(i);if(!Number.isFinite(o)||!Number.isFinite(a)||!Number.isFinite(c))return null;const u=new Date(Date.UTC(o,a-1,c));return u.getUTCFullYear()!==o||u.getUTCMonth()!==a-1||u.getUTCDate()!==c?null:u}function Y1(t,e,n){return!t||!e?!1:n>t&&n<e}function X1({start:t,end:e,onChange:n,onComplete:i,onClear:o}){const a=Vp(new Date),u=Wp(t||e||a)??new Date,[f,h]=S.useState(()=>u.getUTCFullYear()),[g,v]=S.useState(()=>u.getUTCMonth()),[x,_]=S.useState(t),[w,k]=S.useState(e),C=S.useMemo(()=>new Intl.DateTimeFormat(void 0,{month:"long",year:"numeric",timeZone:"UTC"}),[]),T=S.useMemo(()=>new Intl.DateTimeFormat(void 0,{weekday:"short",month:"short",day:"numeric",year:"numeric",timeZone:"UTC"}),[]);S.useEffect(()=>{_(t),k(e)},[t,e]);const M=S.useMemo(()=>C.format(new Date(Date.UTC(f,g,1))),[C,f,g]),B=S.useMemo(()=>{const K=new Date(Date.UTC(f,g,1)).getUTCDay(),X=new Date(Date.UTC(f,g+1,0)).getUTCDate(),U=[];for(let oe=0;oe<K;oe+=1)U.push(null);for(let oe=1;oe<=X;oe+=1){const de=Vp(new Date(Date.UTC(f,g,oe)));U.push({iso:de,day:oe})}for(;U.length%7!==0;)U.push(null);const G=[];for(let oe=0;oe<U.length;oe+=7)G.push(U.slice(oe,oe+7));return G},[f,g]),A=O=>{const K=new Date(Date.UTC(f,g+O,1));h(K.getUTCFullYear()),v(K.getUTCMonth())},Y=(O,K)=>{const X=Wp(O);return X?T.format(X):`Day ${K}`},ee=O=>{if(!x||x&&w){_(O),k(""),n(O,"");return}if(x&&!w){if(O<x){_(O),k(""),n(O,"");return}k(O),n(x,O),i(x,O)}},R=()=>{_(""),k(""),n("",""),o()};return y.jsxs("div",{className:"border rounded p-3 d-inline-block",children:[y.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2 gap-2",children:[y.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>A(-1),children:""}),y.jsx("div",{className:"fw-semibold",children:M}),y.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>A(1),children:""})]}),y.jsxs("table",{className:"table table-sm mb-2",style:{width:"100%",minWidth:"16rem"},children:[y.jsx("thead",{children:y.jsx("tr",{children:K1.map(O=>y.jsx("th",{className:"text-center small",children:O},O))})}),y.jsx("tbody",{children:B.map((O,K)=>y.jsx("tr",{children:O.map((X,U)=>{if(!X)return y.jsx("td",{},U);const G=x===X.iso,oe=w===X.iso,de=Y1(x,w,X.iso),fe=X.iso===a,me={width:"2.4rem",height:"2.4rem",borderRadius:"999px",border:"none",backgroundColor:"transparent",color:"#212529"};return de&&(me.backgroundColor="#e0edff"),G||oe?(me.backgroundColor="#0d6efd",me.color="#ffffff",me.fontWeight=600):fe&&(me.border="1px solid #0d6efd"),y.jsx("td",{className:"text-center",children:y.jsx("button",{type:"button",className:"btn btn-sm p-0",style:me,"aria-pressed":G||oe,onClick:()=>ee(X.iso),"aria-label":Y(X.iso,X.day),children:X.day})},X.iso)})},K))})]}),y.jsxs("div",{className:"d-flex flex-column gap-2",children:[y.jsxs("div",{className:"small text-muted",children:[x||"Start not selected",w?`  ${w}`:x?"  ?":""]}),y.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm align-self-start",onClick:R,disabled:!x&&!w,children:"Clear"})]})]})}function Q1(){const[t,e]=S.useState(""),[n,i]=S.useState(null),[o,a]=S.useState(""),[c,u]=S.useState(""),[f,h]=S.useState(""),[g,v]=S.useState(""),[x,_]=S.useState(null),[w,k]=S.useState(""),[C,T]=S.useState("desc"),[M,B]=S.useState(20),{activeKey:A,toggle:Y,reset:ee}=oy(),[R,O]=S.useState(""),[K,X]=S.useState(""),[U,G]=S.useState(""),[oe,de]=S.useState(""),[fe,me]=S.useState(""),[J,H]=S.useState("20"),[Z,F]=S.useState(null),[N,z]=S.useState([]),[se,pe]=S.useState(null),[ye,ue]=S.useState(1),[Te,De]=S.useState(!1),ze=10,[nt,Xt]=S.useState("idle"),[gt,kt]=S.useState(""),[Mt,Pn]=S.useState(Ls),[Qt,on]=S.useState([]),[le,we]=S.useState(null),[$e,Ze]=S.useState([]),[an,Tn]=S.useState(null),[en,ln]=S.useState(null),[Dn,Ln]=S.useState(!1),[It,Wt]=S.useState(null),[q,Se]=S.useState(null),[tt,rt]=S.useState(null),[Ct,zt]=S.useState(null),[Ut,yt]=S.useState(null),Vn=Fr(),wn=S.useRef(null),gr=S.useRef(null),cn=S.useRef(null),un=S.useRef(null),Ir=S.useRef(null);S.useEffect(()=>{A==="owner"?gr.current?.focus():A==="filename"?(cn.current?.focus(),cn.current?.select()):A==="mime"?(un.current?.focus(),un.current?.select()):A==="sha"&&(Ir.current?.focus(),Ir.current?.select())},[A]),S.useEffect(()=>{G(f)},[f]),S.useEffect(()=>{de(g)},[g]),S.useEffect(()=>{O(o)},[o]),S.useEffect(()=>{X(c)},[c]),S.useEffect(()=>{H(String(M))},[M]),S.useEffect(()=>{me(w)},[w]);const zr=o?`${o}T00:00:00Z`:void 0,bi=c?`${c}T23:59:59Z`:void 0,Ur=S.useMemo(()=>{const Q=w.trim().toLowerCase().replace(/[^a-f0-9]/g,"");let ve,Be;Q.length>=64?ve=Q.slice(0,64):Q!==""&&(Be=Q);const Fe=x==="raw"&&g||void 0,Ae=x==="label"&&g||void 0;return{owner_id:n?n.id:void 0,filename:f||void 0,mime:Fe,mime_label:Ae,created_from:zr,created_to:bi,order:C,limit:M,cursor:le,sha256:ve||void 0,sha256_prefix:Be||void 0}},[n,f,g,x,zr,bi,C,M,le,w]),yr=S.useMemo(()=>!o||!c?!0:o<=c,[o,c]);async function Sn(Q,ve){const Be=t.trim();if(!Be){z([]),pe(null),ue(1);return}De(!0);try{const Ae=await _d(Be,typeof Q=="number"?Q:ye,ze);if(Ae.ok){const He=Ae;z(He.data),pe(He.meta),ue(He.meta.page),Bp(He.data),ve?.autoApply&&He.data.length===1&&_i(He.data[0])}else z([]),pe(null)}finally{De(!1)}}function _i(Q){Bp([Q]),i(Q),z([]),pe(null),e(""),ue(1),we(null),Ze([]),ee(),j(!0,{owner_id:Q.id})}function ir(Q=!0){i(null),z([]),pe(null),e(""),ue(1),Q&&(we(null),Ze([]),ee(),j(!0,{owner_id:void 0}))}async function j(Q=!1,ve){if(!yr){F("From must be on or before To"),kt("From must be on or before To"),Xt("error");return}F(null),Xt("loading"),kt(""),ln(null);try{const Be=Q?{...Ur,...ve,cursor:null}:{...Ur,...ve},Fe=await D1(Be);if(Fe.ok){const Ae=Fe;Pn(He=>Ae.time_format?Fo(Ae.time_format):He),on(Ae.data),Q&&Ze([]),we(Ae.next_cursor),Xt("ok")}else on([]),Xt("error"),kt(`${Fe.code}${Fe.message?" - "+Fe.message:""}`)}catch{on([]),Xt("error"),kt("Request failed")}}async function L(Q){ln(null),Tn(Q.id);try{await T1(Q)}catch(ve){let Be="Download failed. Please try again.";if(ve instanceof Ft){const Fe=ve.body??null,Ae=Fe?.message,He=Fe?.code,vt=typeof Ae=="string"?Ae:null,tn=typeof He=="string"?He:null;vt?Be=`Download failed: ${vt}`:tn?Be=`Download failed: ${tn}`:Be=`Download failed (HTTP ${ve.status}).`}ln(Be)}finally{Tn(null)}}function W(Q){if(Q&&typeof Q=="object"){const ve=Q.message;if(typeof ve=="string"&&ve.trim()!=="")return ve.trim()}return typeof Q=="string"&&Q.trim()!==""?Q.trim():null}function te(Q){if(!Q||typeof Q!="object")return null;for(const ve of Object.values(Q))if(Array.isArray(ve)){const Be=ve.find(Fe=>typeof Fe=="string"&&Fe.trim()!=="");if(typeof Be=="string")return Be.trim()}else if(typeof ve=="string"&&ve.trim()!=="")return ve.trim();return null}function ce(Q){if(!Q)return null;const ve=te(Q.errors??null);if(ve)return`Upload validation failed: ${ve}`;const Be=Q.message;return typeof Be=="string"&&Be.trim()!==""?Be.trim():null}async function Ne(Q){if(Dn)return;const ve=Q.currentTarget,Be=ve.files;if(!Be||Be.length===0)return;const Fe=Array.from(Be);Ln(!0),Wt(null),Se(null);const Ae=[];try{for(const He of Fe){const vt=await L1(He),tn=vt.name?.trim()!==""?vt.name.trim():vt.id;Ae.push(tn)}Ae.length===1?Se(`${Ae[0]} uploaded successfully.`):Ae.length>1&&Se(`${Ae.length} files uploaded successfully.`),ve.value="",await j(!0)}catch(He){ve.value="",Ae.length===1?Se(`${Ae[0]} uploaded successfully.`):Ae.length>1&&Se(`${Ae.length} files uploaded successfully.`);let vt="Upload failed. Please try again.";if(He instanceof Ft){const tn=He.body??null,$r=tn&&typeof tn=="object"?tn:null;if(He.status===422)vt=ce($r)??"Upload validation failed. Please check the selected file.";else if(He.status===413)vt=W(tn)??"Upload greater than the configured limit.";else{const vr=W(tn);if(vr)vt=`Upload failed: ${vr}`;else if($r){const Qi=$r.code;typeof Qi=="string"&&Qi.trim()!==""?vt=`Upload failed: ${Qi.trim()}`:typeof He.message=="string"&&He.message.trim()!==""&&(vt=He.message)}else typeof He.message=="string"&&He.message.trim()!==""?vt=He.message:vt=`Upload failed (HTTP ${He.status}).`}}else He instanceof Error&&He.message&&(vt=He.message);Wt(vt),await j(!0)}finally{Ln(!1)}}async function Me(Q){if(tt)return;const ve=Q.filename?.trim()!==""?Q.filename.trim():Q.id;if(window.confirm(`Delete ${ve}? This cannot be undone.`)){zt(null),yt(null),rt(Q.id);try{await A1(Q.id),yt(`${ve} deleted.`),await j(!0)}catch(Fe){let Ae="Delete failed. Please try again.";if(Fe instanceof Ft){const He=Fe.body??null,vt=He?.message,tn=He?.code,$r=typeof vt=="string"?vt:null,vr=typeof tn=="string"?tn:null;$r?Ae=`Delete failed: ${$r}`:vr?Ae=`Delete failed: ${vr}`:Ae=`Delete failed (HTTP ${Fe.status}).`}else Fe instanceof Error&&Fe.message&&(Ae=Fe.message);zt(Ae)}finally{rt(null)}}}S.useEffect(()=>{j(!0)},[]),S.useEffect(()=>{const Q=new URLSearchParams(Vn.search),ve=Q.get("mime_label")??"",Be=Q.get("mime")??"";let Fe=null,Ae="";if(ve.trim()!==""?(Fe="label",Ae=ve):Be.trim()!==""&&(Fe="raw",Ae=Be),Fe===x&&Ae===g)return;v(Ae),_(Fe),we(null),Ze([]),j(!0,Fe==="label"?{mime_label:Ae||void 0,mime:void 0}:Fe==="raw"?{mime:Ae||void 0,mime_label:void 0}:{mime:void 0,mime_label:void 0})},[Vn.search]);function be(){le&&(Ze(Q=>[...Q,le]),j(!1))}function ke(){if($e.length===0)return;const Q=$e[$e.length-1];Ze(ve=>ve.slice(0,-1)),we(Q),j(!1)}const xe=n!==null||f.trim()!==""||x!==null&&g.trim()!==""||w.trim()!==""||o.trim()!==""||c.trim()!==""||C!=="desc"||M!==20,he=S.useCallback(Q=>{A!==Q?Q==="created"?(O(o),X(c),F(null)):Q==="filename"?G(f):Q==="mime"?de(g):Q==="sha"&&me(w):Q==="owner"&&(z([]),pe(null)),Y(Q)},[A,o,c,f,g,w,Y]);function Le(Q){const ve=Q.trim();h(ve),G(ve),we(null),Ze([]),j(!0,{filename:ve||void 0}),ee()}function Ue(Q){const ve=Q.trim();v(ve),de(ve),_(ve===""?null:"label"),we(null),Ze([]),j(!0,{mime_label:ve||void 0,mime:void 0}),ee()}function _t(Q){const ve=Q.trim().toLowerCase().replace(/[^a-f0-9]/g,"");k(ve),me(ve),we(null),Ze([]),j(!0,{sha256:ve.length>=64?ve.slice(0,64):void 0,sha256_prefix:ve!==""&&ve.length<64?ve:void 0}),ee()}function Je(Q,ve,Be=!0){const Fe=Q.trim(),Ae=ve.trim();if(Fe&&Ae&&Fe>Ae){F("From must be on or before To");return}F(null),a(Fe),u(Ae),O(Fe),X(Ae),we(null),Ze([]),j(!0,{created_from:Fe?`${Fe}T00:00:00Z`:void 0,created_to:Ae?`${Ae}T23:59:59Z`:void 0}),Be&&ee()}function Ke(){const Q=C==="asc"?"desc":"asc";T(Q),we(null),Ze([]),j(!0,{order:Q})}function lt(){const Q=J.trim();if(Q===""){H(String(M));return}const ve=Number(Q);if(Number.isNaN(ve)||!Number.isFinite(ve)){H(String(M));return}const Be=Math.max(1,Math.min(100,Math.trunc(ve)));if(Be===M){H(String(Be));return}B(Be),H(String(Be)),we(null),Ze([]),j(!0,{limit:Be})}function Wn(){ee(),F(null),ir(!1),h(""),G(""),v(""),de(""),_(null),k(""),me(""),a(""),u(""),O(""),X(""),T("desc"),B(20),H("20"),we(null),Ze([]),j(!0,{owner_id:void 0,filename:void 0,mime:void 0,mime_label:void 0,sha256:void 0,sha256_prefix:void 0,created_from:void 0,created_to:void 0,order:"desc",limit:20})}const sr=n?[n.name?.trim()||null,n.email?.trim()?`<${n.email.trim()}>`:null,`id ${n.id}`].filter(Q=>!!Q).join(" "):"",kn=n?y.jsx("div",{className:"mt-1",children:y.jsx("span",{style:Hp(),children:sr})}):null,Ye=A==="owner"?y.jsxs("div",{className:"mt-2",children:[n&&y.jsxs("div",{className:"d-flex align-items-center gap-2 mb-2",children:[y.jsx("span",{style:Hp(),children:sr}),y.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>ir(),children:"Clear"})]}),y.jsx("label",{htmlFor:"filter-owner",className:"visually-hidden",children:"Filter by owner"}),y.jsx("input",{ref:gr,id:"filter-owner",className:"form-control form-control-sm",value:t,onChange:Q=>e(Q.currentTarget.value),onKeyDown:Q=>{Q.key==="Enter"?(Q.preventDefault(),ue(1),Sn(1,{autoApply:!0})):Q.key==="Escape"&&(Q.preventDefault(),ee())},placeholder:"Name or email",autoComplete:"off"}),y.jsx("div",{className:"form-text",children:"Supports * wildcards."}),y.jsxs("div",{className:"d-flex gap-2 mt-2",children:[y.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>{ue(1),Sn(1,{autoApply:!0})},disabled:Te||t.trim()==="",children:Te?"Searching":"Search"}),!n&&y.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>{e(""),z([]),pe(null),ue(1)},children:"Reset"})]}),!Te&&t.trim()!==""&&N.length===0&&y.jsx("div",{className:"small text-muted mt-2",children:"No matches."}),N.length>0&&y.jsx("ul",{className:"list-unstyled mt-3 mb-0",children:N.map(Q=>y.jsxs("li",{className:"d-flex align-items-center justify-content-between gap-2 mb-2",children:[y.jsxs("div",{children:[y.jsx("div",{className:"small fw-semibold",children:Q.name?.trim()||Q.email||`id ${Q.id}`}),y.jsx("div",{className:"small text-muted",children:Q.email?.trim()?`${Q.email}  id ${Q.id}`:`id ${Q.id}`})]}),y.jsx("button",{type:"button",className:"btn btn-outline-primary btn-sm",onClick:()=>_i(Q),children:"Select"})]},Q.id))}),se&&N.length>0&&y.jsxs("div",{className:"d-flex align-items-center gap-2 mt-2",children:[y.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>{se.page>1&&Sn(se.page-1)},disabled:Te||se.page<=1,children:"Prev"}),y.jsxs("span",{className:"small text-muted",children:["Page ",se.page," of ",se.total_pages,"  ",se.total," total"]}),y.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>{se.page<se.total_pages&&Sn(se.page+1)},disabled:Te||se.page>=se.total_pages,children:"Next"})]})]}):null,wi=f?y.jsx("div",{className:"small text-muted mt-1",children:f}):null,Kn=A==="filename"?y.jsxs("div",{className:"mt-2",children:[y.jsx("label",{htmlFor:"filter-filename",className:"visually-hidden",children:"Filter by filename"}),y.jsx("input",{ref:cn,id:"filter-filename",className:"form-control form-control-sm",value:U,onChange:Q=>G(Q.currentTarget.value),onKeyDown:Q=>{Q.key==="Enter"?(Q.preventDefault(),Le(Q.currentTarget.value)):Q.key==="Escape"&&(Q.preventDefault(),ee())},placeholder:"e.g. report*.pdf",autoComplete:"off"}),y.jsx("div",{className:"form-text",children:"Supports * wildcards."}),y.jsxs("div",{className:"d-flex gap-2 mt-2",children:[y.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:()=>Le(U),children:"Apply"}),y.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>{G(""),Le("")},children:"Clear"})]})]}):null,An=g?y.jsx("div",{className:"small text-muted mt-1",children:g}):null,Yn=A==="mime"?y.jsxs("div",{className:"mt-2",children:[y.jsx("label",{htmlFor:"filter-mime",className:"visually-hidden",children:"Filter by MIME"}),y.jsx("input",{ref:un,id:"filter-mime",className:"form-control form-control-sm",value:oe,onChange:Q=>de(Q.currentTarget.value),onKeyDown:Q=>{Q.key==="Enter"?(Q.preventDefault(),Ue(Q.currentTarget.value)):Q.key==="Escape"&&(Q.preventDefault(),ee())},placeholder:"e.g. image/*",autoComplete:"off"}),y.jsx("div",{className:"form-text",children:"Supports family wildcards like image/*."}),y.jsxs("div",{className:"d-flex gap-2 mt-2",children:[y.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:()=>Ue(oe),children:"Apply"}),y.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>{de(""),Ue("")},children:"Clear"})]})]}):null,Xn=w.trim().toLowerCase().replace(/[^a-f0-9]/g,""),We=Xn?y.jsx("div",{className:"small text-muted mt-1",children:Xn.length>12?`${Xn.slice(0,12)}`:Xn}):null,it=A==="sha"?y.jsxs("div",{className:"mt-2",children:[y.jsx("label",{htmlFor:"filter-sha",className:"visually-hidden",children:"Filter by SHA-256"}),y.jsx("input",{ref:Ir,id:"filter-sha",className:"form-control form-control-sm",value:fe,onChange:Q=>me(Q.currentTarget.value),onKeyDown:Q=>{Q.key==="Enter"?(Q.preventDefault(),_t(Q.currentTarget.value)):Q.key==="Escape"&&(Q.preventDefault(),ee())},placeholder:"e.g. 7f9c2b",autoComplete:"off"}),y.jsx("div",{className:"form-text",children:"Partial hashes match by prefix."}),y.jsxs("div",{className:"d-flex gap-2 mt-2",children:[y.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:()=>_t(fe),children:"Apply"}),y.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>{me(""),_t("")},children:"Clear"})]})]}):null,Dt=o||c?y.jsxs("div",{className:"small text-muted mt-1",children:[o||"Any",c?`  ${c}`:o?"  ":""]}):null,Xe=[{key:"created",label:`Created ${C==="asc"?"":""}`,onToggle:()=>he("created"),isActive:A==="created",summaryContent:Dt,filterContent:A==="created"?y.jsxs("div",{className:"mt-2 d-flex flex-column gap-3",children:[y.jsx(X1,{start:R,end:K,onChange:(Q,ve)=>{O(Q),X(ve),F(null)},onComplete:(Q,ve)=>{F(null),Je(Q,ve)},onClear:()=>{F(null),O(""),X(""),Je("","",!1)}}),Z&&y.jsx("div",{className:"text-danger small",children:Z}),y.jsx("div",{className:"d-flex flex-wrap align-items-center gap-2",children:y.jsxs("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:Ke,children:["Sort ",C==="asc"?"":""]})})]}):null},{key:"owner",label:"Owner",onToggle:()=>he("owner"),isActive:A==="owner",summaryContent:kn,filterContent:Ye},{key:"filename",label:"Filename",onToggle:()=>he("filename"),isActive:A==="filename",summaryContent:wi,filterContent:Kn},{key:"size",label:"Size"},{key:"mime",label:"MIME",onToggle:()=>he("mime"),isActive:A==="mime",summaryContent:An,filterContent:Yn},{key:"sha256",label:"SHA-256",onToggle:()=>he("sha"),isActive:A==="sha",summaryContent:We,filterContent:it,className:"text-nowrap"},{key:"id",label:"ID"},{key:"version",label:"Version"},{key:"download",label:"Download",className:"text-nowrap"},{key:"delete",label:"Delete",className:"text-nowrap"}];return y.jsxs("main",{className:"container py-3",children:[y.jsx("h1",{className:"mb-3",children:"Evidence"}),y.jsxs("section",{className:"mb-4",children:[y.jsx("h2",{className:"h5",children:"Upload Evidence"}),y.jsxs("div",{className:"d-flex flex-column flex-sm-row align-items-sm-center gap-2","aria-label":"Upload evidence",children:[y.jsx("input",{ref:wn,type:"file",id:"evidence-file",style:{display:"none"},multiple:!0,disabled:Dn,onChange:Ne}),y.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>wn.current?.click(),disabled:Dn,"aria-label":"Select evidence files to upload",children:Dn?"Uploading":"Upload Evidence"})]}),It&&y.jsx("div",{className:"alert alert-danger mt-2",role:"alert",children:It}),q&&y.jsx("div",{className:"alert alert-success mt-2",role:"status",children:q})]}),y.jsxs("section",{className:"d-flex flex-wrap align-items-center gap-3 mb-3",children:[y.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:Wn,disabled:!xe||nt==="loading",children:"Clear filters"}),y.jsxs("div",{className:"d-flex align-items-center gap-2",children:[y.jsx("label",{htmlFor:"evidence-limit",className:"form-label mb-0",children:"Limit"}),y.jsx("input",{id:"evidence-limit",type:"number",inputMode:"numeric",min:1,max:100,className:"form-control form-control-sm",style:{width:"5rem"},value:J,onChange:Q=>H(Q.currentTarget.value),onBlur:lt,onKeyDown:Q=>{Q.key==="Enter"?(Q.preventDefault(),lt()):Q.key==="Escape"&&(Q.preventDefault(),H(String(M)))}})]})]}),y.jsx("hr",{className:"my-4"}),nt==="loading"&&y.jsx("p",{children:"Loading"}),nt==="error"&&y.jsxs("p",{role:"alert",className:"text-danger",children:["Error: ",gt]}),en&&y.jsx("div",{className:"alert alert-danger mt-3",role:"alert",children:en}),Ct&&y.jsx("div",{className:"alert alert-danger mt-3",role:"alert",children:Ct}),Ut&&y.jsx("div",{className:"alert alert-success mt-3",role:"status",children:Ut}),y.jsx(W1,{headers:Xe,items:Qt,fetchState:nt,timeFormat:Mt,onDownload:L,downloadingId:an,onDelete:Me,deletingId:tt}),y.jsxs("nav",{"aria-label":"Evidence pagination",className:"d-flex align-items-center gap-2",children:[y.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:ke,disabled:nt!=="ok"||$e.length===0,children:"Prev"}),y.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:be,disabled:nt!=="ok"||!le,children:"Next"})]})]})}const Kp={name:"",email:"",password:"",roles:[]};function q1(t){if(!t||typeof t!="object")return!1;const e=t,n=e.meta;return e.ok===!0&&Array.isArray(e.data)&&!!n&&typeof n.page=="number"&&typeof n.total_pages=="number"}function G1(t,e){if(t.length!==e.length)return!1;const n=[...t].sort(),i=[...e].sort();for(let o=0;o<n.length;o++)if(n[o]!==i[o])return!1;return!0}function nl(t,e){if(t instanceof Ft){const n=t.body;if(n&&typeof n=="object"){const i=n.message;if(typeof i=="string"&&i.trim()!=="")return i}return typeof t.message=="string"&&t.message.trim()!==""?t.message:e}return t instanceof Error&&typeof t.message=="string"&&t.message.trim()!==""?t.message:e}function Z1(){const[t,e]=S.useState(""),[n,i]=S.useState(""),[o,a]=S.useState(1),[c]=S.useState(25),[u,f]=S.useState([]),[h,g]=S.useState({page:1,per_page:25,total:0,total_pages:0}),[v,x]=S.useState(!1),[_,w]=S.useState(null),[k,C]=S.useState([]),[T,M]=S.useState(!1),[B,A]=S.useState(null),[Y,ee]=S.useState([]),[R,O]=S.useState(!1),[K,X]=S.useState(null),[U,G]=S.useState(null),[oe,de]=S.useState(Kp),[fe,me]=S.useState(!1),[J,H]=S.useState(null),[Z,F]=S.useState(null),[N,z]=S.useState(!1),se=h.page>1,pe=h.page<h.total_pages,ye=Math.max(4,Math.min(8,k.length||4));S.useEffect(()=>{let le=!0;return M(!0),A(null),bd().then(we=>{le&&(we.ok?C(Sd(we.roles??[])):(C([]),A("Failed to load roles.")))}).catch(()=>{le&&(C([]),A("Failed to load roles."))}).finally(()=>{le&&M(!1)}),()=>{le=!1}},[]),S.useEffect(()=>{const le=new Set(k.map(we=>we.id));ee(we=>we.filter($e=>le.has($e))),de(we=>{if(!U)return we;const $e=we.roles.filter(Ze=>le.has(Ze));return $e.length===we.roles.length?we:{...we,roles:$e}})},[k,U]),S.useEffect(()=>{if(!U){de({...Kp}),H(null);return}de({name:U.name,email:U.email,password:"",roles:Hi(U.roles)}),H(null)},[U]);const ue=S.useMemo(()=>U?Hi(U.roles):[],[U]),Te=S.useMemo(()=>{if(!U)return[];const le=ue.map(we=>pr(we));return le.length>0?le:U.roles},[U,ue]),De=S.useMemo(()=>{if(!U)return!1;const le=oe.password.trim()!=="",we=!G1(oe.roles,ue);return U.name!==oe.name||U.email!==oe.email||le||we},[oe,U,ue]),ze=S.useCallback(async()=>{x(!0);try{const le={q:n.trim()===""?void 0:n,page:o,per_page:c},we=await rr("/api/users",le);q1(we)?(f(we.data),g(we.meta)):(f([]),g({page:1,per_page:c,total:0,total_pages:0}),w({kind:"error",text:"Users API shape invalid or not implemented."}))}catch(le){f([]);const we=nl(le,"Failed to load users.");w({kind:"error",text:we})}finally{x(!1)}},[n,o,c]);S.useEffect(()=>{ze()},[ze]);const nt=S.useCallback(le=>{le.preventDefault();const we=t.trim();if(we===n){o!==1?a(1):ze();return}i(we),o!==1&&a(1)},[n,ze,o,t]);async function Xt(le){if(le.preventDefault(),R)return;const we=le.currentTarget,$e=new FormData(we),Ze={name:String($e.get("name")??""),email:String($e.get("email")??""),password:String($e.get("password")??""),roles:Y};O(!0),X(null),w(null);try{await Rs("/api/users",Ze),we.reset(),ee([]),w({kind:"success",text:"User created."}),o!==1?a(1):await ze()}catch(an){const Tn=nl(an,"Create failed.");X(Tn),w({kind:"error",text:Tn})}finally{O(!1)}}function gt(le){G(le),F(null)}function kt(){U&&(de({name:U.name,email:U.email,password:"",roles:Hi(U.roles)}),H(null))}async function Mt(le){if(le.preventDefault(),!U||fe)return;const we={name:oe.name.trim(),email:oe.email.trim(),roles:oe.roles},$e=oe.password.trim();$e!==""&&(we.password=$e),me(!0),H(null),w(null);try{const Ze=await pg(`/api/users/${U.id}`,we);G(Ze.user),w({kind:"success",text:"User updated."}),await ze()}catch(Ze){const an=nl(Ze,"Update failed.");H(an),w({kind:"error",text:an})}finally{me(!1)}}function Pn(le){F(le)}async function Qt(){if(!(!Z||N)){z(!0),w(null);try{await Ml(`/api/users/${Z.id}`),U&&U.id===Z.id&&G(null),F(null),w({kind:"success",text:"User deleted."}),await ze()}catch(le){const we=nl(le,"Delete failed.");w({kind:"error",text:we}),F(null)}finally{z(!1)}}}const on=()=>{N||F(null)};return y.jsxs("main",{className:"container py-4",children:[y.jsx("header",{className:"d-flex align-items-center justify-content-between mb-3",children:y.jsx("h1",{className:"h3 mb-0",children:"Users"})}),y.jsx("section",{"aria-live":"polite",className:"mb-3",children:_&&y.jsx("div",{className:`alert ${_.kind==="success"?"alert-success":"alert-danger"}`,role:"alert",children:_.text})}),y.jsxs("section",{"aria-labelledby":"users-search",className:"mb-4",children:[y.jsx("h2",{id:"users-search",className:"h5",children:"Search"}),y.jsxs("form",{className:"row g-2 align-items-end",onSubmit:nt,children:[y.jsxs("div",{className:"col-12 col-md-6",children:[y.jsx("label",{htmlFor:"users_q",className:"form-label",children:"Query"}),y.jsx("input",{id:"users_q",name:"q",value:t,onChange:le=>e(le.currentTarget.value),placeholder:"Search name, email, or role",className:"form-control",autoComplete:"off"})]}),y.jsx("div",{className:"col-auto",children:y.jsx("button",{type:"submit",className:"btn btn-primary",disabled:v,children:v?"Searching...":"Search"})})]})]}),y.jsx("div",{className:"table-responsive",children:y.jsxs("table",{className:"table table-sm align-middle",children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{scope:"col",style:{width:"6rem"},children:"ID"}),y.jsx("th",{scope:"col",children:"Name"}),y.jsx("th",{scope:"col",children:"Email"}),y.jsx("th",{scope:"col",children:"Roles"}),y.jsx("th",{scope:"col",style:{width:"9rem"},className:"text-end",children:"Actions"})]})}),y.jsxs("tbody",{children:[u.map(le=>y.jsxs("tr",{className:U?.id===le.id?"table-active":void 0,children:[y.jsx("td",{children:le.id}),y.jsx("td",{children:le.name}),y.jsx("td",{children:le.email}),y.jsx("td",{children:le.roles.length>0?le.roles.join(", "):y.jsx("span",{className:"text-muted",children:"None"})}),y.jsx("td",{className:"text-end",children:y.jsxs("div",{className:"btn-group btn-group-sm",role:"group","aria-label":`Actions for ${le.email}`,children:[y.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:()=>gt(le),disabled:fe&&U?.id===le.id,children:"Edit"}),y.jsx("button",{type:"button",className:"btn btn-outline-danger",onClick:()=>Pn(le),disabled:N&&Z?.id===le.id,children:"Delete"})]})})]},le.id)),u.length===0&&!v&&y.jsx("tr",{children:y.jsx("td",{colSpan:5,className:"text-center text-muted py-4",children:"No users"})})]})]})}),y.jsxs("nav",{"aria-label":"Pagination",className:"d-flex align-items-center gap-3 mt-2",children:[y.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>a(le=>Math.max(1,le-1)),disabled:!se||v,children:"Prev"}),y.jsxs("span",{className:"text-muted",children:["Page ",h.page," of ",Math.max(1,h.total_pages)]}),y.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>a(le=>le+1),disabled:!pe||v,children:"Next"})]}),Z&&y.jsxs("div",{className:"alert alert-warning d-flex align-items-center justify-content-between mt-4",role:"alert",children:[y.jsxs("div",{children:[y.jsxs("strong",{children:["Delete ",Z.email,"?"]}),y.jsx("div",{className:"small",children:"This action cannot be undone."})]}),y.jsxs("div",{className:"d-flex gap-2",children:[y.jsx("button",{type:"button",className:"btn btn-danger",onClick:Qt,disabled:N,children:N?"Deleting...":"Delete"}),y.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:on,disabled:N,children:"Cancel"})]})]}),y.jsxs("section",{className:"row g-4 mt-4",children:[y.jsx("div",{className:"col-12 col-lg-6",children:y.jsxs("div",{className:"card h-100",children:[y.jsx("div",{className:"card-header",children:"Edit user"}),y.jsx("div",{className:"card-body",children:U?y.jsxs("form",{onSubmit:Mt,className:"row g-3",noValidate:!0,children:[y.jsxs("div",{className:"col-12",children:[y.jsx("div",{className:"fw-semibold",children:"User ID"}),y.jsx("div",{children:U.id})]}),y.jsxs("div",{className:"col-12",children:[y.jsx("div",{className:"fw-semibold",children:"Current roles"}),y.jsx("div",{children:Te.length>0?Te.join(", "):y.jsx("span",{className:"text-muted",children:"None"})})]}),y.jsxs("div",{className:"col-12",children:[y.jsx("label",{htmlFor:"edit_name",className:"form-label",children:"Name"}),y.jsx("input",{id:"edit_name",name:"name",className:"form-control",value:oe.name,onChange:le=>{const we=le.currentTarget.value;de($e=>({...$e,name:we}))},required:!0})]}),y.jsxs("div",{className:"col-12",children:[y.jsx("label",{htmlFor:"edit_email",className:"form-label",children:"Email"}),y.jsx("input",{id:"edit_email",name:"email",className:"form-control",type:"email",value:oe.email,onChange:le=>{const we=le.currentTarget.value;de($e=>({...$e,email:we}))},required:!0})]}),y.jsxs("div",{className:"col-12",children:[y.jsx("label",{htmlFor:"edit_password",className:"form-label",children:"Reset password"}),y.jsx("input",{id:"edit_password",name:"password",className:"form-control",type:"password",placeholder:"Leave blank to keep current password",value:oe.password,onChange:le=>{const we=le.currentTarget.value;de($e=>({...$e,password:we}))}})]}),y.jsxs("div",{className:"col-12",children:[y.jsx("label",{htmlFor:"edit_roles",className:"form-label",children:"Roles"}),y.jsx("select",{id:"edit_roles",name:"roles",multiple:!0,className:"form-select",size:ye,value:oe.roles,onChange:le=>{const we=Array.from(le.currentTarget.selectedOptions).map($e=>$e.value);de($e=>({...$e,roles:we}))},"aria-describedby":"edit_roles_help",children:k.map(le=>y.jsx("option",{value:le.id,children:le.name},le.id))}),y.jsx("div",{id:"edit_roles_help",className:"form-text",children:T?"Loading roles...":B??(k.length===0?"No roles available.":"Use Ctrl/Cmd-click to toggle selections.")})]}),J&&y.jsx("div",{className:"col-12",children:y.jsx("div",{className:"alert alert-danger py-2 mb-0",role:"alert",children:J})}),y.jsxs("div",{className:"col-12 d-flex gap-2",children:[y.jsx("button",{type:"submit",className:"btn btn-primary",disabled:!De||fe,children:fe?"Saving...":"Save"}),y.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:kt,disabled:fe||!De,children:"Reset"})]})]}):y.jsx("p",{className:"text-muted mb-0",children:"No user selected."})})]})}),y.jsx("div",{className:"col-12 col-lg-6",children:y.jsxs("div",{className:"card h-100",children:[y.jsx("div",{className:"card-header",children:"Create user"}),y.jsxs("div",{className:"card-body",children:[K&&y.jsx("div",{className:"alert alert-danger py-2",role:"alert",children:K}),y.jsxs("form",{onSubmit:Xt,className:"row g-3",noValidate:!0,children:[y.jsxs("div",{className:"col-12",children:[y.jsx("label",{htmlFor:"create_name",className:"form-label",children:"Name"}),y.jsx("input",{id:"create_name",name:"name",className:"form-control",required:!0,autoComplete:"off"})]}),y.jsxs("div",{className:"col-12",children:[y.jsx("label",{htmlFor:"create_email",className:"form-label",children:"Email"}),y.jsx("input",{id:"create_email",name:"email",type:"email",className:"form-control",required:!0,autoComplete:"off"})]}),y.jsxs("div",{className:"col-12",children:[y.jsx("label",{htmlFor:"create_password",className:"form-label",children:"Password"}),y.jsx("input",{id:"create_password",name:"password",type:"password",className:"form-control",required:!0,autoComplete:"new-password"})]}),y.jsxs("div",{className:"col-12",children:[y.jsx("label",{htmlFor:"create_roles",className:"form-label",children:"Roles"}),y.jsx("select",{id:"create_roles",name:"roles",multiple:!0,className:"form-select",size:ye,value:Y,onChange:le=>{const we=Array.from(le.currentTarget.selectedOptions).map($e=>$e.value);ee(we)},"aria-describedby":"create_roles_help",children:k.map(le=>y.jsx("option",{value:le.id,children:le.name},le.id))}),y.jsx("div",{id:"create_roles_help",className:"form-text",children:T?"Loading roles...":B??(k.length===0?"No roles available.":"Use Ctrl/Cmd-click to toggle selections.")})]}),y.jsx("div",{className:"col-12",children:y.jsx("button",{type:"submit",className:"btn btn-success",disabled:R,children:R?"Creating...":"Create"})})]})]})]})})]})]})}function J1(){const[t,e]=S.useState(""),[n,i]=S.useState(""),[o,a]=S.useState(null),[c,u]=S.useState(null),[f,h]=S.useState(!1);S.useEffect(()=>{$x()&&u("Session expiredplease sign in again.")},[]);async function g(v){v.preventDefault(),a(null),h(!0);try{await Hx({email:t,password:n});const x=Bx()||"/dashboard";window.location.assign(x)}catch{a("Invalid credentials or server error.")}finally{h(!1)}}return y.jsxs("div",{className:"mx-auto mt-24 max-w-md rounded-2xl border p-6 shadow",children:[y.jsx("h1",{className:"mb-4 text-xl font-semibold",children:"Sign in"}),c&&y.jsx("div",{className:"mb-3 rounded-md bg-yellow-50 p-2 text-sm text-yellow-800",children:c}),y.jsxs("form",{onSubmit:g,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"mb-1 block text-sm font-medium",children:"Email"}),y.jsx("input",{type:"email",className:"w-full rounded-md border px-3 py-2",value:t,onChange:v=>e(v.currentTarget.value),required:!0,autoComplete:"username"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"mb-1 block text-sm font-medium",children:"Password"}),y.jsx("input",{type:"password",className:"w-full rounded-md border px-3 py-2",value:n,onChange:v=>i(v.currentTarget.value),required:!0,autoComplete:"current-password"})]}),o&&y.jsx("div",{className:"rounded-md bg-red-50 p-2 text-sm text-red-700",children:o}),y.jsx("button",{type:"submit",className:"w-full rounded-md bg-black px-4 py-2 text-white disabled:opacity-50",disabled:f,children:f?"Signing in...":"Sign in"})]})]})}const ek=xx(Au(y.jsxs(sn,{path:"/",element:y.jsx(Yx,{}),children:[y.jsx(sn,{index:!0,element:y.jsx(bm,{to:"/dashboard",replace:!0})}),y.jsx(sn,{path:"auth",children:y.jsx(sn,{path:"login",element:y.jsx(J1,{})})}),y.jsx(sn,{path:"dashboard",element:y.jsx(i1,{})}),y.jsxs(sn,{path:"admin",children:[y.jsx(sn,{index:!0,element:y.jsx(s1,{})}),y.jsx(sn,{path:"settings",element:y.jsx(o1,{})}),y.jsx(sn,{path:"roles",element:y.jsx(h1,{})}),y.jsx(sn,{path:"users",element:y.jsx(Z1,{})}),y.jsx(sn,{path:"user-roles",element:y.jsx(m1,{})}),y.jsx(sn,{path:"audit",element:y.jsx(M1,{})}),y.jsx(sn,{path:"evidence",element:y.jsx(Q1,{})})]}),y.jsx(sn,{path:"*",element:y.jsx(bm,{to:"/dashboard",replace:!0})})]})));Qv.createRoot(document.getElementById("root")).render(y.jsx(kl.StrictMode,{children:y.jsx(Nx,{router:ek,future:{v7_startTransition:!0}})}));
